<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20aria-hidden%3D%22true%22%20role%3D%22img%22%20class%3D%22iconify%20iconify--logos%22%20width%3D%2231.88%22%20height%3D%2232%22%20preserveAspectRatio%3D%22xMidYMid%20meet%22%20viewBox%3D%220%200%20256%20257%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22IconifyId1813088fe1fbc01fb466%22%20x1%3D%22-.828%25%22%20x2%3D%2257.636%25%22%20y1%3D%227.652%25%22%20y2%3D%2278.411%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%2341D1FF%22%3E%3C%2Fstop%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23BD34FE%22%3E%3C%2Fstop%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22IconifyId1813088fe1fbc01fb467%22%20x1%3D%2243.376%25%22%20x2%3D%2250.316%25%22%20y1%3D%222.242%25%22%20y2%3D%2289.03%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23FFEA83%22%3E%3C%2Fstop%3E%3Cstop%20offset%3D%228.333%25%22%20stop-color%3D%22%23FFDD35%22%3E%3C%2Fstop%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23FFA800%22%3E%3C%2Fstop%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Cpath%20fill%3D%22url(%23IconifyId1813088fe1fbc01fb466)%22%20d%3D%22M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z%22%3E%3C%2Fpath%3E%3Cpath%20fill%3D%22url(%23IconifyId1813088fe1fbc01fb467)%22%20d%3D%22M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CLI Proxy API Management Center</title>
    <script type="module" crossorigin>var dz=Object.defineProperty;var hz=(n,e,t)=>e in n?dz(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ct=(n,e,t)=>hz(n,typeof e!="symbol"?e+"":e,t);function fz(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function B4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var j1={exports:{}},Pf={};var BO;function mz(){if(BO)return Pf;BO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var r=null;if(a!==void 0&&(r=""+a),s.key!==void 0&&(r=""+s.key),"key"in s){a={};for(var o in s)o!=="key"&&(a[o]=s[o])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:r,ref:s!==void 0?s:null,props:a}}return Pf.Fragment=e,Pf.jsx=t,Pf.jsxs=t,Pf}var IO;function pz(){return IO||(IO=1,j1.exports=mz()),j1.exports}var f=pz(),D1={exports:{}},St={};var zO;function gz(){if(zO)return St;zO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),r=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function C(j,B,X){this.props=j,this.context=B,this.refs=v,this.updater=X||b}C.prototype.isReactComponent={},C.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=C.prototype;function N(j,B,X){this.props=j,this.context=B,this.refs=v,this.updater=X||b}var O=N.prototype=new k;O.constructor=N,x(O,C.prototype),O.isPureReactComponent=!0;var T=Array.isArray;function L(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function R(j,B,X){var te=X.ref;return{$$typeof:n,type:j,key:B,ref:te!==void 0?te:null,props:X}}function D(j,B){return R(j.type,B,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(X){return B[X]})}var H=/\/+/g;function Z(j,B){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):B.toString(36)}function Y(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(L,L):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function I(j,B,X,te,Q){var G=typeof j;(G==="undefined"||G==="boolean")&&(j=null);var ne=!1;if(j===null)ne=!0;else switch(G){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(j.$$typeof){case n:case e:ne=!0;break;case h:return ne=j._init,I(ne(j._payload),B,X,te,Q)}}if(ne)return Q=Q(j),ne=te===""?"."+Z(j,0):te,T(Q)?(X="",ne!=null&&(X=ne.replace(H,"$&/")+"/"),I(Q,B,X,"",function(de){return de})):Q!=null&&(U(Q)&&(Q=D(Q,X+(Q.key==null||j&&j.key===Q.key?"":(""+Q.key).replace(H,"$&/")+"/")+ne)),B.push(Q)),1;ne=0;var J=te===""?".":te+":";if(T(j))for(var re=0;re<j.length;re++)te=j[re],G=J+Z(te,re),ne+=I(te,B,X,G,Q);else if(re=_(j),typeof re=="function")for(j=re.call(j),re=0;!(te=j.next()).done;)te=te.value,G=J+Z(te,re++),ne+=I(te,B,X,G,Q);else if(G==="object"){if(typeof j.then=="function")return I(Y(j),B,X,te,Q);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ne}function K(j,B,X){if(j==null)return j;var te=[],Q=0;return I(j,te,"","",function(G){return B.call(X,G,Q++)}),te}function V(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(X){(j._status===0||j._status===-1)&&(j._status=1,j._result=X)},function(X){(j._status===0||j._status===-1)&&(j._status=2,j._result=X)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var $=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},W={map:K,forEach:function(j,B,X){K(j,function(){B.apply(this,arguments)},X)},count:function(j){var B=0;return K(j,function(){B++}),B},toArray:function(j){return K(j,function(B){return B})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return St.Activity=m,St.Children=W,St.Component=C,St.Fragment=t,St.Profiler=s,St.PureComponent=N,St.StrictMode=i,St.Suspense=l,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,St.__COMPILER_RUNTIME={__proto__:null,c:function(j){return M.H.useMemoCache(j)}},St.cache=function(j){return function(){return j.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(j,B,X){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var te=x({},j.props),Q=j.key;if(B!=null)for(G in B.key!==void 0&&(Q=""+B.key),B)!P.call(B,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&B.ref===void 0||(te[G]=B[G]);var G=arguments.length-2;if(G===1)te.children=X;else if(1<G){for(var ne=Array(G),J=0;J<G;J++)ne[J]=arguments[J+2];te.children=ne}return R(j.type,Q,te)},St.createContext=function(j){return j={$$typeof:r,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},St.createElement=function(j,B,X){var te,Q={},G=null;if(B!=null)for(te in B.key!==void 0&&(G=""+B.key),B)P.call(B,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Q[te]=B[te]);var ne=arguments.length-2;if(ne===1)Q.children=X;else if(1<ne){for(var J=Array(ne),re=0;re<ne;re++)J[re]=arguments[re+2];Q.children=J}if(j&&j.defaultProps)for(te in ne=j.defaultProps,ne)Q[te]===void 0&&(Q[te]=ne[te]);return R(j,G,Q)},St.createRef=function(){return{current:null}},St.forwardRef=function(j){return{$$typeof:o,render:j}},St.isValidElement=U,St.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:V}},St.memo=function(j,B){return{$$typeof:u,type:j,compare:B===void 0?null:B}},St.startTransition=function(j){var B=M.T,X={};M.T=X;try{var te=j(),Q=M.S;Q!==null&&Q(X,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(L,$)}catch(G){$(G)}finally{B!==null&&X.types!==null&&(B.types=X.types),M.T=B}},St.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},St.use=function(j){return M.H.use(j)},St.useActionState=function(j,B,X){return M.H.useActionState(j,B,X)},St.useCallback=function(j,B){return M.H.useCallback(j,B)},St.useContext=function(j){return M.H.useContext(j)},St.useDebugValue=function(){},St.useDeferredValue=function(j,B){return M.H.useDeferredValue(j,B)},St.useEffect=function(j,B){return M.H.useEffect(j,B)},St.useEffectEvent=function(j){return M.H.useEffectEvent(j)},St.useId=function(){return M.H.useId()},St.useImperativeHandle=function(j,B,X){return M.H.useImperativeHandle(j,B,X)},St.useInsertionEffect=function(j,B){return M.H.useInsertionEffect(j,B)},St.useLayoutEffect=function(j,B){return M.H.useLayoutEffect(j,B)},St.useMemo=function(j,B){return M.H.useMemo(j,B)},St.useOptimistic=function(j,B){return M.H.useOptimistic(j,B)},St.useReducer=function(j,B,X){return M.H.useReducer(j,B,X)},St.useRef=function(j){return M.H.useRef(j)},St.useState=function(j){return M.H.useState(j)},St.useSyncExternalStore=function(j,B,X){return M.H.useSyncExternalStore(j,B,X)},St.useTransition=function(){return M.H.useTransition()},St.version="19.2.1",St}var qO;function Ab(){return qO||(qO=1,D1.exports=gz()),D1.exports}var w=Ab();const zo=B4(w),_z=fz({__proto__:null,default:zo},[w]);var F1={exports:{}},Rf={},U1={exports:{}},B1={};var KO;function yz(){return KO||(KO=1,(function(n){function e(I,K){var V=I.length;I.push(K);e:for(;0<V;){var $=V-1>>>1,W=I[$];if(0<s(W,K))I[$]=K,I[V]=W,V=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var K=I[0],V=I.pop();if(V!==K){I[0]=V;e:for(var $=0,W=I.length,j=W>>>1;$<j;){var B=2*($+1)-1,X=I[B],te=B+1,Q=I[te];if(0>s(X,V))te<W&&0>s(Q,X)?(I[$]=Q,I[te]=V,$=te):(I[$]=X,I[B]=V,$=B);else if(te<W&&0>s(Q,V))I[$]=Q,I[te]=V,$=te;else break e}}return K}function s(I,K){var V=I.sortIndex-K.sortIndex;return V!==0?V:I.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();n.unstable_now=function(){return r.now()-o}}var l=[],u=[],h=1,m=null,g=3,_=!1,b=!1,x=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function O(I){for(var K=t(u);K!==null;){if(K.callback===null)i(u);else if(K.startTime<=I)i(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(u)}}function T(I){if(x=!1,O(I),!b)if(t(l)!==null)b=!0,L||(L=!0,F());else{var K=t(u);K!==null&&Y(T,K.startTime-I)}}var L=!1,M=-1,P=5,R=-1;function D(){return v?!0:!(n.unstable_now()-R<P)}function U(){if(v=!1,L){var I=n.unstable_now();R=I;var K=!0;try{e:{b=!1,x&&(x=!1,k(M),M=-1),_=!0;var V=g;try{t:{for(O(I),m=t(l);m!==null&&!(m.expirationTime>I&&D());){var $=m.callback;if(typeof $=="function"){m.callback=null,g=m.priorityLevel;var W=$(m.expirationTime<=I);if(I=n.unstable_now(),typeof W=="function"){m.callback=W,O(I),K=!0;break t}m===t(l)&&i(l),O(I)}else i(l);m=t(l)}if(m!==null)K=!0;else{var j=t(u);j!==null&&Y(T,j.startTime-I),K=!1}}break e}finally{m=null,g=V,_=!1}K=void 0}}finally{K?F():L=!1}}}var F;if(typeof N=="function")F=function(){N(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=U,F=function(){Z.postMessage(null)}}else F=function(){C(U,0)};function Y(I,K){M=C(function(){I(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(I){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var V=g;g=K;try{return I()}finally{g=V}},n.unstable_requestPaint=function(){v=!0},n.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=g;g=I;try{return K()}finally{g=V}},n.unstable_scheduleCallback=function(I,K,V){var $=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,I={id:h++,callback:K,priorityLevel:I,startTime:V,expirationTime:W,sortIndex:-1},V>$?(I.sortIndex=V,e(u,I),t(l)===null&&I===t(u)&&(x?(k(M),M=-1):x=!0,Y(T,V-$))):(I.sortIndex=W,e(l,I),b||_||(b=!0,L||(L=!0,F()))),I},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(I){var K=g;return function(){var V=g;g=K;try{return I.apply(this,arguments)}finally{g=V}}}})(B1)),B1}var HO;function bz(){return HO||(HO=1,U1.exports=yz()),U1.exports}var I1={exports:{}},Wi={};var VO;function xz(){if(VO)return Wi;VO=1;var n=Ab();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(l,u,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:l,containerInfo:u,implementation:h}}var r=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wi.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,h)},Wi.flushSync=function(l){var u=r.T,h=i.p;try{if(r.T=null,i.p=2,l)return l()}finally{r.T=u,i.p=h,i.d.f()}},Wi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Wi.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Wi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,m=o(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,_=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:_}):h==="script"&&i.d.X(l,{crossOrigin:m,integrity:g,fetchPriority:_,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Wi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Wi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,m=o(h,u.crossOrigin);i.d.L(l,h,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Wi.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Wi.requestFormReset=function(l){i.d.r(l)},Wi.unstable_batchedUpdates=function(l,u){return l(u)},Wi.useFormState=function(l,u,h){return r.H.useFormState(l,u,h)},Wi.useFormStatus=function(){return r.H.useHostTransitionStatus()},Wi.version="19.2.1",Wi}var WO;function I4(){if(WO)return I1.exports;WO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I1.exports=xz(),I1.exports}var GO;function vz(){if(GO)return Rf;GO=1;var n=bz(),e=Ab(),t=I4();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function r(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(a(c)!==c)throw Error(i(188))}function u(c){var d=c.alternate;if(!d){if(d=a(c),d===null)throw Error(i(188));return d!==c?null:c}for(var p=c,y=d;;){var S=p.return;if(S===null)break;var A=S.alternate;if(A===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===p)return l(S),c;if(A===y)return l(S),d;A=A.sibling}throw Error(i(188))}if(p.return!==y.return)p=S,y=A;else{for(var E=!1,q=S.child;q;){if(q===p){E=!0,p=S,y=A;break}if(q===y){E=!0,y=S,p=A;break}q=q.sibling}if(!E){for(q=A.child;q;){if(q===p){E=!0,p=A,y=S;break}if(q===y){E=!0,y=A,p=S;break}q=q.sibling}if(!E)throw Error(i(189))}}if(p.alternate!==y)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=U&&c[U]||c["@@iterator"],typeof c=="function"?c:null)}var H=Symbol.for("react.client.reference");function Z(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===H?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case x:return"Fragment";case C:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList";case R:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case N:return c.displayName||"Context";case k:return(c._context.displayName||"Context")+".Consumer";case O:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case M:return d=c.displayName||null,d!==null?d:Z(c.type)||"Memo";case P:d=c._payload,c=c._init;try{return Z(c(d))}catch{}}return null}var Y=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},$=[],W=-1;function j(c){return{current:c}}function B(c){0>W||(c.current=$[W],$[W]=null,W--)}function X(c,d){W++,$[W]=c.current,c.current=d}var te=j(null),Q=j(null),G=j(null),ne=j(null);function J(c,d){switch(X(G,d),X(Q,c),X(te,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?lO(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=lO(d),c=cO(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}B(te),X(te,c)}function re(){B(te),B(Q),B(G)}function de(c){c.memoizedState!==null&&X(ne,c);var d=te.current,p=cO(d,c.type);d!==p&&(X(Q,c),X(te,p))}function Le(c){Q.current===c&&(B(te),B(Q)),ne.current===c&&(B(ne),Nf._currentValue=V)}var ke,nt;function _t(c){if(ke===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);ke=d&&d[1]||"",nt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+c+nt}var Ft=!1;function Ee(c,d){if(!c||Ft)return"";Ft=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(xe){var ye=xe}Reflect.construct(c,[],Me)}else{try{Me.call()}catch(xe){ye=xe}c.call(Me.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Me=c())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=y.DetermineComponentFrameRoot(),E=A[0],q=A[1];if(E&&q){var ie=E.split(`
`),ge=q.split(`
`);for(S=y=0;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;for(;S<ge.length&&!ge[S].includes("DetermineComponentFrameRoot");)S++;if(y===ie.length||S===ge.length)for(y=ie.length-1,S=ge.length-1;1<=y&&0<=S&&ie[y]!==ge[S];)S--;for(;1<=y&&0<=S;y--,S--)if(ie[y]!==ge[S]){if(y!==1||S!==1)do if(y--,S--,0>S||ie[y]!==ge[S]){var we=`
`+ie[y].replace(" at new "," at ");return c.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",c.displayName)),we}while(1<=y&&0<=S);break}}}finally{Ft=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?_t(p):""}function Ye(c,d){switch(c.tag){case 26:case 27:case 5:return _t(c.type);case 16:return _t("Lazy");case 13:return c.child!==d&&d!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return Ee(c.type,!1);case 11:return Ee(c.type.render,!1);case 1:return Ee(c.type,!0);case 31:return _t("Activity");default:return""}}function Lt(c){try{var d="",p=null;do d+=Ye(c,p),p=c,c=c.return;while(c);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var me=Object.prototype.hasOwnProperty,Ie=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,ct=n.unstable_shouldYield,le=n.unstable_requestPaint,_e=n.unstable_now,Pe=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,bt=n.unstable_NormalPriority,pt=n.unstable_LowPriority,hn=n.unstable_IdlePriority,ce=n.log,He=n.unstable_setDisableYieldValue,Nt=null,Ut=null;function Mn(c){if(typeof ce=="function"&&He(c),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Nt,c)}catch{}}var Rn=Math.clz32?Math.clz32:Gs,Vi=Math.log,Ya=Math.LN2;function Gs(c){return c>>>=0,c===0?32:31-(Vi(c)/Ya|0)|0}var Ai=256,ks=262144,os=4194304;function Xs(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Za(c,d,p){var y=c.pendingLanes;if(y===0)return 0;var S=0,A=c.suspendedLanes,E=c.pingedLanes;c=c.warmLanes;var q=y&134217727;return q!==0?(y=q&~A,y!==0?S=Xs(y):(E&=q,E!==0?S=Xs(E):p||(p=q&~c,p!==0&&(S=Xs(p))))):(q=y&~A,q!==0?S=Xs(q):E!==0?S=Xs(E):p||(p=y&~c,p!==0&&(S=Xs(p)))),S===0?0:d!==0&&d!==S&&(d&A)===0&&(A=S&-S,p=d&-d,A>=p||A===32&&(p&4194048)!==0)?d:S}function Ja(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Te(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var c=os;return os<<=1,(os&62914560)===0&&(os=4194304),c}function dt(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function ei(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function en(c,d,p,y,S,A){var E=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var q=c.entanglements,ie=c.expirationTimes,ge=c.hiddenUpdates;for(p=E&~p;0<p;){var we=31-Rn(p),Me=1<<we;q[we]=0,ie[we]=-1;var ye=ge[we];if(ye!==null)for(ge[we]=null,we=0;we<ye.length;we++){var xe=ye[we];xe!==null&&(xe.lane&=-536870913)}p&=~Me}y!==0&&ti(c,y,0),A!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=A&~(E&~d))}function ti(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-Rn(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function ee(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var y=31-Rn(p),S=1<<y;S&d|c[y]&d&&(c[y]|=d),p&=~S}}function ae(c,d){var p=d&-d;return p=(p&42)!==0?1:fe(p),(p&(c.suspendedLanes|d))!==0?0:p}function fe(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Ne(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Re(){var c=K.p;return c!==0?c:(c=window.event,c===void 0?32:PO(c.type))}function Ge(c,d){var p=K.p;try{return K.p=c,d()}finally{K.p=p}}var Fe=Math.random().toString(36).slice(2),je="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,Xe="__reactContainer$"+Fe,tt="__reactEvents$"+Fe,it="__reactListeners$"+Fe,kt="__reactHandles$"+Fe,jt="__reactResources$"+Fe,gn="__reactMarker$"+Fe;function Sn(c){delete c[je],delete c[Ue],delete c[tt],delete c[it],delete c[kt]}function En(c){var d=c[je];if(d)return d;for(var p=c.parentNode;p;){if(d=p[Xe]||p[je]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=gO(c);c!==null;){if(p=c[je])return p;c=gO(c)}return d}c=p,p=c.parentNode}return null}function It(c){if(c=c[je]||c[Xe]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function hi(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function Be(c){var d=c[jt];return d||(d=c[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function ot(c){c[gn]=!0}var Pt=new Set,on={};function ls(c,d){_a(c,d),_a(c+"Capture",d)}function _a(c,d){for(on[c]=d,c=0;c<d.length;c++)Pt.add(d[c])}var so=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},dc={};function Gt(c){return me.call(dc,c)?!0:me.call(uc,c)?!1:so.test(c)?dc[c]=!0:(uc[c]=!0,!1)}function ni(c,d,p){if(Gt(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function er(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function Ei(c,d,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+y)}}function Xt(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function hc(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function xg(c,d,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,A=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(E){p=""+E,A.call(this,E)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Kh(c){if(!c._valueTracker){var d=hc(c)?"checked":"value";c._valueTracker=xg(c,d,""+c[d])}}function tT(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return c&&(y=hc(c)?c.checked?"true":"false":c.value),c=y,c!==p?(d.setValue(c),!0):!1}function vg(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var a7=/[\n"\\]/g;function ya(c){return c.replace(a7,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Mx(c,d,p,y,S,A,E,q){c.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?c.type=E:c.removeAttribute("type"),d!=null?E==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Xt(d)):c.value!==""+Xt(d)&&(c.value=""+Xt(d)):E!=="submit"&&E!=="reset"||c.removeAttribute("value"),d!=null?Ox(c,E,Xt(d)):p!=null?Ox(c,E,Xt(p)):y!=null&&c.removeAttribute("value"),S==null&&A!=null&&(c.defaultChecked=!!A),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?c.name=""+Xt(q):c.removeAttribute("name")}function nT(c,d,p,y,S,A,E,q){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(c.type=A),d!=null||p!=null){if(!(A!=="submit"&&A!=="reset"||d!=null)){Kh(c);return}p=p!=null?""+Xt(p):"",d=d!=null?""+Xt(d):p,q||d===c.value||(c.value=d),c.defaultValue=d}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=q?c.checked:!!y,c.defaultChecked=!!y,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(c.name=E),Kh(c)}function Ox(c,d,p){d==="number"&&vg(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Du(c,d,p,y){if(c=c.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=d.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Xt(p),d=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function iT(c,d,p){if(d!=null&&(d=""+Xt(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+Xt(p):""}function sT(c,d,p,y){if(d==null){if(y!=null){if(p!=null)throw Error(i(92));if(Y(y)){if(1<y.length)throw Error(i(93));y=y[0]}p=y}p==null&&(p=""),d=p}p=Xt(d),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Kh(c)}function Fu(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var r7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aT(c,d,p){var y=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,p):typeof p!="number"||p===0||r7.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function rT(c,d,p){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in d)y=d[S],d.hasOwnProperty(S)&&p[S]!==y&&aT(c,S,y)}else for(var A in d)d.hasOwnProperty(A)&&aT(c,A,d[A])}function Lx(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sg(c){return l7.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function ao(){}var Px=null;function Rx(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Uu=null,Bu=null;function oT(c){var d=It(c);if(d&&(c=d.stateNode)){var p=c[Ue]||null;e:switch(c=d.stateNode,d.type){case"input":if(Mx(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ya(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==c&&y.form===c.form){var S=y[Ue]||null;if(!S)throw Error(i(90));Mx(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<p.length;d++)y=p[d],y.form===c.form&&tT(y)}break e;case"textarea":iT(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Du(c,!!p.multiple,d,!1)}}}var Ex=!1;function lT(c,d,p){if(Ex)return c(d,p);Ex=!0;try{var y=c(d);return y}finally{if(Ex=!1,(Uu!==null||Bu!==null)&&(c_(),Uu&&(d=Uu,c=Bu,Bu=Uu=null,oT(d),c)))for(d=0;d<c.length;d++)oT(c[d])}}function Hh(c,d){var p=c.stateNode;if(p===null)return null;var y=p[Ue]||null;if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(i(231,d,typeof p));return p}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jx=!1;if(ro)try{var Vh={};Object.defineProperty(Vh,"passive",{get:function(){jx=!0}}),window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{jx=!1}var sl=null,Dx=null,wg=null;function cT(){if(wg)return wg;var c,d=Dx,p=d.length,y,S="value"in sl?sl.value:sl.textContent,A=S.length;for(c=0;c<p&&d[c]===S[c];c++);var E=p-c;for(y=1;y<=E&&d[p-y]===S[A-y];y++);return wg=S.slice(c,1<y?1-y:void 0)}function kg(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Cg(){return!0}function uT(){return!1}function Cs(c){function d(p,y,S,A,E){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=A,this.target=E,this.currentTarget=null;for(var q in c)c.hasOwnProperty(q)&&(p=c[q],this[q]=p?p(A):A[q]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Cg:uT,this.isPropagationStopped=uT,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Cg)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Cg)},persist:function(){},isPersistent:Cg}),d}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=Cs(fc),Wh=m({},fc,{view:0,detail:0}),c7=Cs(Wh),Fx,Ux,Gh,Tg=m({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ix,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Gh&&(Gh&&c.type==="mousemove"?(Fx=c.screenX-Gh.screenX,Ux=c.screenY-Gh.screenY):Ux=Fx=0,Gh=c),Fx)},movementY:function(c){return"movementY"in c?c.movementY:Ux}}),dT=Cs(Tg),u7=m({},Tg,{dataTransfer:0}),d7=Cs(u7),h7=m({},Wh,{relatedTarget:0}),Bx=Cs(h7),f7=m({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),m7=Cs(f7),p7=m({},fc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),g7=Cs(p7),_7=m({},fc,{data:0}),hT=Cs(_7),y7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v7(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=x7[c])?!!d[c]:!1}function Ix(){return v7}var S7=m({},Wh,{key:function(c){if(c.key){var d=y7[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=kg(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?b7[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ix,charCode:function(c){return c.type==="keypress"?kg(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?kg(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),w7=Cs(S7),k7=m({},Tg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fT=Cs(k7),C7=m({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ix}),A7=Cs(C7),T7=m({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),N7=Cs(T7),M7=m({},Tg,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),O7=Cs(M7),L7=m({},fc,{newState:0,oldState:0}),P7=Cs(L7),R7=[9,13,27,32],zx=ro&&"CompositionEvent"in window,Xh=null;ro&&"documentMode"in document&&(Xh=document.documentMode);var E7=ro&&"TextEvent"in window&&!Xh,mT=ro&&(!zx||Xh&&8<Xh&&11>=Xh),pT=" ",gT=!1;function _T(c,d){switch(c){case"keyup":return R7.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yT(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Iu=!1;function j7(c,d){switch(c){case"compositionend":return yT(d);case"keypress":return d.which!==32?null:(gT=!0,pT);case"textInput":return c=d.data,c===pT&&gT?null:c;default:return null}}function D7(c,d){if(Iu)return c==="compositionend"||!zx&&_T(c,d)?(c=cT(),wg=Dx=sl=null,Iu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return mT&&d.locale!=="ko"?null:d.data;default:return null}}var F7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!F7[c.type]:d==="textarea"}function xT(c,d,p,y){Uu?Bu?Bu.push(y):Bu=[y]:Uu=y,d=g_(d,"onChange"),0<d.length&&(p=new Ag("onChange","change",null,p,y),c.push({event:p,listeners:d}))}var $h=null,Qh=null;function U7(c){nO(c,0)}function Ng(c){var d=hi(c);if(tT(d))return c}function vT(c,d){if(c==="change")return d}var ST=!1;if(ro){var qx;if(ro){var Kx="oninput"in document;if(!Kx){var wT=document.createElement("div");wT.setAttribute("oninput","return;"),Kx=typeof wT.oninput=="function"}qx=Kx}else qx=!1;ST=qx&&(!document.documentMode||9<document.documentMode)}function kT(){$h&&($h.detachEvent("onpropertychange",CT),Qh=$h=null)}function CT(c){if(c.propertyName==="value"&&Ng(Qh)){var d=[];xT(d,Qh,c,Rx(c)),lT(U7,d)}}function B7(c,d,p){c==="focusin"?(kT(),$h=d,Qh=p,$h.attachEvent("onpropertychange",CT)):c==="focusout"&&kT()}function I7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ng(Qh)}function z7(c,d){if(c==="click")return Ng(d)}function q7(c,d){if(c==="input"||c==="change")return Ng(d)}function K7(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var $s=typeof Object.is=="function"?Object.is:K7;function Yh(c,d){if($s(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!me.call(d,S)||!$s(c[S],d[S]))return!1}return!0}function AT(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function TT(c,d){var p=AT(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=d&&y>=d)return{node:p,offset:d-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=AT(p)}}function NT(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?NT(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function MT(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=vg(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=vg(c.document)}return d}function Hx(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var H7=ro&&"documentMode"in document&&11>=document.documentMode,zu=null,Vx=null,Zh=null,Wx=!1;function OT(c,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Wx||zu==null||zu!==vg(y)||(y=zu,"selectionStart"in y&&Hx(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Zh&&Yh(Zh,y)||(Zh=y,y=g_(Vx,"onSelect"),0<y.length&&(d=new Ag("onSelect","select",null,d,p),c.push({event:d,listeners:y}),d.target=zu)))}function mc(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var qu={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionrun:mc("Transition","TransitionRun"),transitionstart:mc("Transition","TransitionStart"),transitioncancel:mc("Transition","TransitionCancel"),transitionend:mc("Transition","TransitionEnd")},Gx={},LT={};ro&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);function pc(c){if(Gx[c])return Gx[c];if(!qu[c])return c;var d=qu[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in LT)return Gx[c]=d[p];return c}var PT=pc("animationend"),RT=pc("animationiteration"),ET=pc("animationstart"),V7=pc("transitionrun"),W7=pc("transitionstart"),G7=pc("transitioncancel"),jT=pc("transitionend"),DT=new Map,Xx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xx.push("scrollEnd");function tr(c,d){DT.set(c,d),ls(d,[c])}var Mg=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},ba=[],Ku=0,$x=0;function Og(){for(var c=Ku,d=$x=Ku=0;d<c;){var p=ba[d];ba[d++]=null;var y=ba[d];ba[d++]=null;var S=ba[d];ba[d++]=null;var A=ba[d];if(ba[d++]=null,y!==null&&S!==null){var E=y.pending;E===null?S.next=S:(S.next=E.next,E.next=S),y.pending=S}A!==0&&FT(p,S,A)}}function Lg(c,d,p,y){ba[Ku++]=c,ba[Ku++]=d,ba[Ku++]=p,ba[Ku++]=y,$x|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Qx(c,d,p,y){return Lg(c,d,p,y),Pg(c)}function gc(c,d){return Lg(c,null,null,d),Pg(c)}function FT(c,d,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var S=!1,A=c.return;A!==null;)A.childLanes|=p,y=A.alternate,y!==null&&(y.childLanes|=p),A.tag===22&&(c=A.stateNode,c===null||c._visibility&1||(S=!0)),c=A,A=A.return;return c.tag===3?(A=c.stateNode,S&&d!==null&&(S=31-Rn(p),c=A.hiddenUpdates,y=c[S],y===null?c[S]=[d]:y.push(d),d.lane=p|536870912),A):null}function Pg(c){if(50<vf)throw vf=0,a1=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Hu={};function X7(c,d,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(c,d,p,y){return new X7(c,d,p,y)}function Yx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function oo(c,d){var p=c.alternate;return p===null?(p=Qs(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function UT(c,d){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Rg(c,d,p,y,S,A){var E=0;if(y=c,typeof c=="function")Yx(c)&&(E=1);else if(typeof c=="string")E=J9(c,p,te.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case R:return c=Qs(31,p,d,S),c.elementType=R,c.lanes=A,c;case x:return _c(p.children,S,A,d);case v:E=8,S|=24;break;case C:return c=Qs(12,p,d,S|2),c.elementType=C,c.lanes=A,c;case T:return c=Qs(13,p,d,S),c.elementType=T,c.lanes=A,c;case L:return c=Qs(19,p,d,S),c.elementType=L,c.lanes=A,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case N:E=10;break e;case k:E=9;break e;case O:E=11;break e;case M:E=14;break e;case P:E=16,y=null;break e}E=29,p=Error(i(130,c===null?"null":typeof c,"")),y=null}return d=Qs(E,p,d,S),d.elementType=c,d.type=y,d.lanes=A,d}function _c(c,d,p,y){return c=Qs(7,c,y,d),c.lanes=p,c}function Zx(c,d,p){return c=Qs(6,c,null,d),c.lanes=p,c}function BT(c){var d=Qs(18,null,null,0);return d.stateNode=c,d}function Jx(c,d,p){return d=Qs(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var IT=new WeakMap;function xa(c,d){if(typeof c=="object"&&c!==null){var p=IT.get(c);return p!==void 0?p:(d={value:c,source:d,stack:Lt(d)},IT.set(c,d),d)}return{value:c,source:d,stack:Lt(d)}}var Vu=[],Wu=0,Eg=null,Jh=0,va=[],Sa=0,al=null,_r=1,yr="";function lo(c,d){Vu[Wu++]=Jh,Vu[Wu++]=Eg,Eg=c,Jh=d}function zT(c,d,p){va[Sa++]=_r,va[Sa++]=yr,va[Sa++]=al,al=c;var y=_r;c=yr;var S=32-Rn(y)-1;y&=~(1<<S),p+=1;var A=32-Rn(d)+S;if(30<A){var E=S-S%5;A=(y&(1<<E)-1).toString(32),y>>=E,S-=E,_r=1<<32-Rn(d)+S|p<<S|y,yr=A+c}else _r=1<<A|p<<S|y,yr=c}function ev(c){c.return!==null&&(lo(c,1),zT(c,1,0))}function tv(c){for(;c===Eg;)Eg=Vu[--Wu],Vu[Wu]=null,Jh=Vu[--Wu],Vu[Wu]=null;for(;c===al;)al=va[--Sa],va[Sa]=null,yr=va[--Sa],va[Sa]=null,_r=va[--Sa],va[Sa]=null}function qT(c,d){va[Sa++]=_r,va[Sa++]=yr,va[Sa++]=al,_r=d.id,yr=d.overflow,al=c}var ji=null,jn=null,$t=!1,rl=null,wa=!1,nv=Error(i(519));function ol(c){var d=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ef(xa(d,c)),nv}function KT(c){var d=c.stateNode,p=c.type,y=c.memoizedProps;switch(d[je]=c,d[Ue]=y,p){case"dialog":qt("cancel",d),qt("close",d);break;case"iframe":case"object":case"embed":qt("load",d);break;case"video":case"audio":for(p=0;p<wf.length;p++)qt(wf[p],d);break;case"source":qt("error",d);break;case"img":case"image":case"link":qt("error",d),qt("load",d);break;case"details":qt("toggle",d);break;case"input":qt("invalid",d),nT(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":qt("invalid",d);break;case"textarea":qt("invalid",d),sT(d,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||y.suppressHydrationWarning===!0||rO(d.textContent,p)?(y.popover!=null&&(qt("beforetoggle",d),qt("toggle",d)),y.onScroll!=null&&qt("scroll",d),y.onScrollEnd!=null&&qt("scrollend",d),y.onClick!=null&&(d.onclick=ao),d=!0):d=!1,d||ol(c,!0)}function HT(c){for(ji=c.return;ji;)switch(ji.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:ji=ji.return}}function Gu(c){if(c!==ji)return!1;if(!$t)return HT(c),$t=!0,!1;var d=c.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||x1(c.type,c.memoizedProps)),p=!p),p&&jn&&ol(c),HT(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));jn=pO(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));jn=pO(c)}else d===27?(d=jn,vl(c.type)?(c=C1,C1=null,jn=c):jn=d):jn=ji?Ca(c.stateNode.nextSibling):null;return!0}function yc(){jn=ji=null,$t=!1}function iv(){var c=rl;return c!==null&&(Ms===null?Ms=c:Ms.push.apply(Ms,c),rl=null),c}function ef(c){rl===null?rl=[c]:rl.push(c)}var sv=j(null),bc=null,co=null;function ll(c,d,p){X(sv,d._currentValue),d._currentValue=p}function uo(c){c._currentValue=sv.current,B(sv)}function av(c,d,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===p)break;c=c.return}}function rv(c,d,p,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var A=S.dependencies;if(A!==null){var E=S.child;A=A.firstContext;e:for(;A!==null;){var q=A;A=S;for(var ie=0;ie<d.length;ie++)if(q.context===d[ie]){A.lanes|=p,q=A.alternate,q!==null&&(q.lanes|=p),av(A.return,p,c),y||(E=null);break e}A=q.next}}else if(S.tag===18){if(E=S.return,E===null)throw Error(i(341));E.lanes|=p,A=E.alternate,A!==null&&(A.lanes|=p),av(E,p,c),E=null}else E=S.child;if(E!==null)E.return=S;else for(E=S;E!==null;){if(E===c){E=null;break}if(S=E.sibling,S!==null){S.return=E.return,E=S;break}E=E.return}S=E}}function Xu(c,d,p,y){c=null;for(var S=d,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var E=S.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var q=S.type;$s(S.pendingProps.value,E.value)||(c!==null?c.push(q):c=[q])}}else if(S===ne.current){if(E=S.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Nf):c=[Nf])}S=S.return}c!==null&&rv(d,c,p,y),d.flags|=262144}function jg(c){for(c=c.firstContext;c!==null;){if(!$s(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function xc(c){bc=c,co=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Di(c){return VT(bc,c)}function Dg(c,d){return bc===null&&xc(c),VT(c,d)}function VT(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},co===null){if(c===null)throw Error(i(308));co=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else co=co.next=d;return p}var $7=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},Q7=n.unstable_scheduleCallback,Y7=n.unstable_NormalPriority,fi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ov(){return{controller:new $7,data:new Map,refCount:0}}function tf(c){c.refCount--,c.refCount===0&&Q7(Y7,function(){c.controller.abort()})}var nf=null,lv=0,$u=0,Qu=null;function Z7(c,d){if(nf===null){var p=nf=[];lv=0,$u=d1(),Qu={status:"pending",value:void 0,then:function(y){p.push(y)}}}return lv++,d.then(WT,WT),d}function WT(){if(--lv===0&&nf!==null){Qu!==null&&(Qu.status="fulfilled");var c=nf;nf=null,$u=0,Qu=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function J7(c,d){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var S=0;S<p.length;S++)(0,p[S])(d)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var GT=I.S;I.S=function(c,d){OM=_e(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&Z7(c,d),GT!==null&&GT(c,d)};var vc=j(null);function cv(){var c=vc.current;return c!==null?c:wn.pooledCache}function Fg(c,d){d===null?X(vc,vc.current):X(vc,d.pool)}function XT(){var c=cv();return c===null?null:{parent:fi._currentValue,pool:c}}var Yu=Error(i(460)),uv=Error(i(474)),Ug=Error(i(542)),Bg={then:function(){}};function $T(c){return c=c.status,c==="fulfilled"||c==="rejected"}function QT(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(ao,ao),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ZT(c),c;default:if(typeof d.status=="string")d.then(ao,ao);else{if(c=wn,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=y}},function(y){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ZT(c),c}throw wc=d,Yu}}function Sc(c){try{var d=c._init;return d(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(wc=p,Yu):p}}var wc=null;function YT(){if(wc===null)throw Error(i(459));var c=wc;return wc=null,c}function ZT(c){if(c===Yu||c===Ug)throw Error(i(483))}var Zu=null,sf=0;function Ig(c){var d=sf;return sf+=1,Zu===null&&(Zu=[]),QT(Zu,c,d)}function af(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function zg(c,d){throw d.$$typeof===g?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function JT(c){function d(ue,oe){if(c){var pe=ue.deletions;pe===null?(ue.deletions=[oe],ue.flags|=16):pe.push(oe)}}function p(ue,oe){if(!c)return null;for(;oe!==null;)d(ue,oe),oe=oe.sibling;return null}function y(ue){for(var oe=new Map;ue!==null;)ue.key!==null?oe.set(ue.key,ue):oe.set(ue.index,ue),ue=ue.sibling;return oe}function S(ue,oe){return ue=oo(ue,oe),ue.index=0,ue.sibling=null,ue}function A(ue,oe,pe){return ue.index=pe,c?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<oe?(ue.flags|=67108866,oe):pe):(ue.flags|=67108866,oe)):(ue.flags|=1048576,oe)}function E(ue){return c&&ue.alternate===null&&(ue.flags|=67108866),ue}function q(ue,oe,pe,Ce){return oe===null||oe.tag!==6?(oe=Zx(pe,ue.mode,Ce),oe.return=ue,oe):(oe=S(oe,pe),oe.return=ue,oe)}function ie(ue,oe,pe,Ce){var ut=pe.type;return ut===x?we(ue,oe,pe.props.children,Ce,pe.key):oe!==null&&(oe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===P&&Sc(ut)===oe.type)?(oe=S(oe,pe.props),af(oe,pe),oe.return=ue,oe):(oe=Rg(pe.type,pe.key,pe.props,null,ue.mode,Ce),af(oe,pe),oe.return=ue,oe)}function ge(ue,oe,pe,Ce){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=Jx(pe,ue.mode,Ce),oe.return=ue,oe):(oe=S(oe,pe.children||[]),oe.return=ue,oe)}function we(ue,oe,pe,Ce,ut){return oe===null||oe.tag!==7?(oe=_c(pe,ue.mode,Ce,ut),oe.return=ue,oe):(oe=S(oe,pe),oe.return=ue,oe)}function Me(ue,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Zx(""+oe,ue.mode,pe),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return pe=Rg(oe.type,oe.key,oe.props,null,ue.mode,pe),af(pe,oe),pe.return=ue,pe;case b:return oe=Jx(oe,ue.mode,pe),oe.return=ue,oe;case P:return oe=Sc(oe),Me(ue,oe,pe)}if(Y(oe)||F(oe))return oe=_c(oe,ue.mode,pe,null),oe.return=ue,oe;if(typeof oe.then=="function")return Me(ue,Ig(oe),pe);if(oe.$$typeof===N)return Me(ue,Dg(ue,oe),pe);zg(ue,oe)}return null}function ye(ue,oe,pe,Ce){var ut=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ut!==null?null:q(ue,oe,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return pe.key===ut?ie(ue,oe,pe,Ce):null;case b:return pe.key===ut?ge(ue,oe,pe,Ce):null;case P:return pe=Sc(pe),ye(ue,oe,pe,Ce)}if(Y(pe)||F(pe))return ut!==null?null:we(ue,oe,pe,Ce,null);if(typeof pe.then=="function")return ye(ue,oe,Ig(pe),Ce);if(pe.$$typeof===N)return ye(ue,oe,Dg(ue,pe),Ce);zg(ue,pe)}return null}function xe(ue,oe,pe,Ce,ut){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ue=ue.get(pe)||null,q(oe,ue,""+Ce,ut);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return ue=ue.get(Ce.key===null?pe:Ce.key)||null,ie(oe,ue,Ce,ut);case b:return ue=ue.get(Ce.key===null?pe:Ce.key)||null,ge(oe,ue,Ce,ut);case P:return Ce=Sc(Ce),xe(ue,oe,pe,Ce,ut)}if(Y(Ce)||F(Ce))return ue=ue.get(pe)||null,we(oe,ue,Ce,ut,null);if(typeof Ce.then=="function")return xe(ue,oe,pe,Ig(Ce),ut);if(Ce.$$typeof===N)return xe(ue,oe,pe,Dg(oe,Ce),ut);zg(oe,Ce)}return null}function et(ue,oe,pe,Ce){for(var ut=null,an=null,at=oe,Rt=oe=0,Wt=null;at!==null&&Rt<pe.length;Rt++){at.index>Rt?(Wt=at,at=null):Wt=at.sibling;var rn=ye(ue,at,pe[Rt],Ce);if(rn===null){at===null&&(at=Wt);break}c&&at&&rn.alternate===null&&d(ue,at),oe=A(rn,oe,Rt),an===null?ut=rn:an.sibling=rn,an=rn,at=Wt}if(Rt===pe.length)return p(ue,at),$t&&lo(ue,Rt),ut;if(at===null){for(;Rt<pe.length;Rt++)at=Me(ue,pe[Rt],Ce),at!==null&&(oe=A(at,oe,Rt),an===null?ut=at:an.sibling=at,an=at);return $t&&lo(ue,Rt),ut}for(at=y(at);Rt<pe.length;Rt++)Wt=xe(at,ue,Rt,pe[Rt],Ce),Wt!==null&&(c&&Wt.alternate!==null&&at.delete(Wt.key===null?Rt:Wt.key),oe=A(Wt,oe,Rt),an===null?ut=Wt:an.sibling=Wt,an=Wt);return c&&at.forEach(function(Al){return d(ue,Al)}),$t&&lo(ue,Rt),ut}function mt(ue,oe,pe,Ce){if(pe==null)throw Error(i(151));for(var ut=null,an=null,at=oe,Rt=oe=0,Wt=null,rn=pe.next();at!==null&&!rn.done;Rt++,rn=pe.next()){at.index>Rt?(Wt=at,at=null):Wt=at.sibling;var Al=ye(ue,at,rn.value,Ce);if(Al===null){at===null&&(at=Wt);break}c&&at&&Al.alternate===null&&d(ue,at),oe=A(Al,oe,Rt),an===null?ut=Al:an.sibling=Al,an=Al,at=Wt}if(rn.done)return p(ue,at),$t&&lo(ue,Rt),ut;if(at===null){for(;!rn.done;Rt++,rn=pe.next())rn=Me(ue,rn.value,Ce),rn!==null&&(oe=A(rn,oe,Rt),an===null?ut=rn:an.sibling=rn,an=rn);return $t&&lo(ue,Rt),ut}for(at=y(at);!rn.done;Rt++,rn=pe.next())rn=xe(at,ue,Rt,rn.value,Ce),rn!==null&&(c&&rn.alternate!==null&&at.delete(rn.key===null?Rt:rn.key),oe=A(rn,oe,Rt),an===null?ut=rn:an.sibling=rn,an=rn);return c&&at.forEach(function(uz){return d(ue,uz)}),$t&&lo(ue,Rt),ut}function bn(ue,oe,pe,Ce){if(typeof pe=="object"&&pe!==null&&pe.type===x&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:e:{for(var ut=pe.key;oe!==null;){if(oe.key===ut){if(ut=pe.type,ut===x){if(oe.tag===7){p(ue,oe.sibling),Ce=S(oe,pe.props.children),Ce.return=ue,ue=Ce;break e}}else if(oe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===P&&Sc(ut)===oe.type){p(ue,oe.sibling),Ce=S(oe,pe.props),af(Ce,pe),Ce.return=ue,ue=Ce;break e}p(ue,oe);break}else d(ue,oe);oe=oe.sibling}pe.type===x?(Ce=_c(pe.props.children,ue.mode,Ce,pe.key),Ce.return=ue,ue=Ce):(Ce=Rg(pe.type,pe.key,pe.props,null,ue.mode,Ce),af(Ce,pe),Ce.return=ue,ue=Ce)}return E(ue);case b:e:{for(ut=pe.key;oe!==null;){if(oe.key===ut)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){p(ue,oe.sibling),Ce=S(oe,pe.children||[]),Ce.return=ue,ue=Ce;break e}else{p(ue,oe);break}else d(ue,oe);oe=oe.sibling}Ce=Jx(pe,ue.mode,Ce),Ce.return=ue,ue=Ce}return E(ue);case P:return pe=Sc(pe),bn(ue,oe,pe,Ce)}if(Y(pe))return et(ue,oe,pe,Ce);if(F(pe)){if(ut=F(pe),typeof ut!="function")throw Error(i(150));return pe=ut.call(pe),mt(ue,oe,pe,Ce)}if(typeof pe.then=="function")return bn(ue,oe,Ig(pe),Ce);if(pe.$$typeof===N)return bn(ue,oe,Dg(ue,pe),Ce);zg(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,oe!==null&&oe.tag===6?(p(ue,oe.sibling),Ce=S(oe,pe),Ce.return=ue,ue=Ce):(p(ue,oe),Ce=Zx(pe,ue.mode,Ce),Ce.return=ue,ue=Ce),E(ue)):p(ue,oe)}return function(ue,oe,pe,Ce){try{sf=0;var ut=bn(ue,oe,pe,Ce);return Zu=null,ut}catch(at){if(at===Yu||at===Ug)throw at;var an=Qs(29,at,null,ue.mode);return an.lanes=Ce,an.return=ue,an}finally{}}}var kc=JT(!0),eN=JT(!1),cl=!1;function dv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hv(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ul(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function dl(c,d,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(ln&2)!==0){var S=y.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),y.pending=d,d=Pg(c),FT(c,null,p),d}return Lg(c,y,d,p),Pg(c)}function rf(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,ee(c,p)}}function fv(c,d){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var E={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?S=A=E:A=A.next=E,p=p.next}while(p!==null);A===null?S=A=d:A=A.next=d}else S=A=d;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var mv=!1;function of(){if(mv){var c=Qu;if(c!==null)throw c}}function lf(c,d,p,y){mv=!1;var S=c.updateQueue;cl=!1;var A=S.firstBaseUpdate,E=S.lastBaseUpdate,q=S.shared.pending;if(q!==null){S.shared.pending=null;var ie=q,ge=ie.next;ie.next=null,E===null?A=ge:E.next=ge,E=ie;var we=c.alternate;we!==null&&(we=we.updateQueue,q=we.lastBaseUpdate,q!==E&&(q===null?we.firstBaseUpdate=ge:q.next=ge,we.lastBaseUpdate=ie))}if(A!==null){var Me=S.baseState;E=0,we=ge=ie=null,q=A;do{var ye=q.lane&-536870913,xe=ye!==q.lane;if(xe?(Vt&ye)===ye:(y&ye)===ye){ye!==0&&ye===$u&&(mv=!0),we!==null&&(we=we.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var et=c,mt=q;ye=d;var bn=p;switch(mt.tag){case 1:if(et=mt.payload,typeof et=="function"){Me=et.call(bn,Me,ye);break e}Me=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=mt.payload,ye=typeof et=="function"?et.call(bn,Me,ye):et,ye==null)break e;Me=m({},Me,ye);break e;case 2:cl=!0}}ye=q.callback,ye!==null&&(c.flags|=64,xe&&(c.flags|=8192),xe=S.callbacks,xe===null?S.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:q.tag,payload:q.payload,callback:q.callback,next:null},we===null?(ge=we=xe,ie=Me):we=we.next=xe,E|=ye;if(q=q.next,q===null){if(q=S.shared.pending,q===null)break;xe=q,q=xe.next,xe.next=null,S.lastBaseUpdate=xe,S.shared.pending=null}}while(!0);we===null&&(ie=Me),S.baseState=ie,S.firstBaseUpdate=ge,S.lastBaseUpdate=we,A===null&&(S.shared.lanes=0),gl|=E,c.lanes=E,c.memoizedState=Me}}function tN(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function nN(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)tN(p[c],d)}var Ju=j(null),qg=j(0);function iN(c,d){c=xo,X(qg,c),X(Ju,d),xo=c|d.baseLanes}function pv(){X(qg,xo),X(Ju,Ju.current)}function gv(){xo=qg.current,B(Ju),B(qg)}var Ys=j(null),ka=null;function hl(c){var d=c.alternate;X(ii,ii.current&1),X(Ys,c),ka===null&&(d===null||Ju.current!==null||d.memoizedState!==null)&&(ka=c)}function _v(c){X(ii,ii.current),X(Ys,c),ka===null&&(ka=c)}function sN(c){c.tag===22?(X(ii,ii.current),X(Ys,c),ka===null&&(ka=c)):fl()}function fl(){X(ii,ii.current),X(Ys,Ys.current)}function Zs(c){B(Ys),ka===c&&(ka=null),B(ii)}var ii=j(0);function Kg(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||w1(p)||k1(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ho=0,Mt=null,_n=null,mi=null,Hg=!1,ed=!1,Cc=!1,Vg=0,cf=0,td=null,e9=0;function Qn(){throw Error(i(321))}function yv(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!$s(c[p],d[p]))return!1;return!0}function bv(c,d,p,y,S,A){return ho=A,Mt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,I.H=c===null||c.memoizedState===null?zN:Ev,Cc=!1,A=p(y,S),Cc=!1,ed&&(A=rN(d,p,y,S)),aN(c),A}function aN(c){I.H=hf;var d=_n!==null&&_n.next!==null;if(ho=0,mi=_n=Mt=null,Hg=!1,cf=0,td=null,d)throw Error(i(300));c===null||pi||(c=c.dependencies,c!==null&&jg(c)&&(pi=!0))}function rN(c,d,p,y){Mt=c;var S=0;do{if(ed&&(td=null),cf=0,ed=!1,25<=S)throw Error(i(301));if(S+=1,mi=_n=null,c.updateQueue!=null){var A=c.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}I.H=qN,A=d(p,y)}while(ed);return A}function t9(){var c=I.H,d=c.useState()[0];return d=typeof d.then=="function"?uf(d):d,c=c.useState()[0],(_n!==null?_n.memoizedState:null)!==c&&(Mt.flags|=1024),d}function xv(){var c=Vg!==0;return Vg=0,c}function vv(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function Sv(c){if(Hg){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Hg=!1}ho=0,mi=_n=Mt=null,ed=!1,cf=Vg=0,td=null}function cs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Mt.memoizedState=mi=c:mi=mi.next=c,mi}function si(){if(_n===null){var c=Mt.alternate;c=c!==null?c.memoizedState:null}else c=_n.next;var d=mi===null?Mt.memoizedState:mi.next;if(d!==null)mi=d,_n=c;else{if(c===null)throw Mt.alternate===null?Error(i(467)):Error(i(310));_n=c,c={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},mi===null?Mt.memoizedState=mi=c:mi=mi.next=c}return mi}function Wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uf(c){var d=cf;return cf+=1,td===null&&(td=[]),c=QT(td,c,d),d=Mt,(mi===null?d.memoizedState:mi.next)===null&&(d=d.alternate,I.H=d===null||d.memoizedState===null?zN:Ev),c}function Gg(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return uf(c);if(c.$$typeof===N)return Di(c)}throw Error(i(438,String(c)))}function wv(c){var d=null,p=Mt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var y=Mt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=Wg(),Mt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),y=0;y<c;y++)p[y]=D;return d.index++,p}function fo(c,d){return typeof d=="function"?d(c):d}function Xg(c){var d=si();return kv(d,_n,c)}function kv(c,d,p){var y=c.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=p;var S=c.baseQueue,A=y.pending;if(A!==null){if(S!==null){var E=S.next;S.next=A.next,A.next=E}d.baseQueue=S=A,y.pending=null}if(A=c.baseState,S===null)c.memoizedState=A;else{d=S.next;var q=E=null,ie=null,ge=d,we=!1;do{var Me=ge.lane&-536870913;if(Me!==ge.lane?(Vt&Me)===Me:(ho&Me)===Me){var ye=ge.revertLane;if(ye===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Me===$u&&(we=!0);else if((ho&ye)===ye){ge=ge.next,ye===$u&&(we=!0);continue}else Me={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(q=ie=Me,E=A):ie=ie.next=Me,Mt.lanes|=ye,gl|=ye;Me=ge.action,Cc&&p(A,Me),A=ge.hasEagerState?ge.eagerState:p(A,Me)}else ye={lane:Me,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(q=ie=ye,E=A):ie=ie.next=ye,Mt.lanes|=Me,gl|=Me;ge=ge.next}while(ge!==null&&ge!==d);if(ie===null?E=A:ie.next=q,!$s(A,c.memoizedState)&&(pi=!0,we&&(p=Qu,p!==null)))throw p;c.memoizedState=A,c.baseState=E,c.baseQueue=ie,y.lastRenderedState=A}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Cv(c){var d=si(),p=d.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=c;var y=p.dispatch,S=p.pending,A=d.memoizedState;if(S!==null){p.pending=null;var E=S=S.next;do A=c(A,E.action),E=E.next;while(E!==S);$s(A,d.memoizedState)||(pi=!0),d.memoizedState=A,d.baseQueue===null&&(d.baseState=A),p.lastRenderedState=A}return[A,y]}function oN(c,d,p){var y=Mt,S=si(),A=$t;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=d();var E=!$s((_n||S).memoizedState,p);if(E&&(S.memoizedState=p,pi=!0),S=S.queue,Nv(uN.bind(null,y,S,c),[c]),S.getSnapshot!==d||E||mi!==null&&mi.memoizedState.tag&1){if(y.flags|=2048,nd(9,{destroy:void 0},cN.bind(null,y,S,p,d),null),wn===null)throw Error(i(349));A||(ho&127)!==0||lN(y,d,p)}return p}function lN(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=Mt.updateQueue,d===null?(d=Wg(),Mt.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function cN(c,d,p,y){d.value=p,d.getSnapshot=y,dN(d)&&hN(c)}function uN(c,d,p){return p(function(){dN(d)&&hN(c)})}function dN(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!$s(c,p)}catch{return!0}}function hN(c){var d=gc(c,2);d!==null&&Os(d,c,2)}function Av(c){var d=cs();if(typeof c=="function"){var p=c;if(c=p(),Cc){Mn(!0);try{p()}finally{Mn(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:c},d}function fN(c,d,p,y){return c.baseState=p,kv(c,_n,typeof y=="function"?y:fo)}function n9(c,d,p,y,S){if(Yg(c))throw Error(i(485));if(c=d.action,c!==null){var A={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){A.listeners.push(E)}};I.T!==null?p(!0):A.isTransition=!1,y(A),p=d.pending,p===null?(A.next=d.pending=A,mN(d,A)):(A.next=p.next,d.pending=p.next=A)}}function mN(c,d){var p=d.action,y=d.payload,S=c.state;if(d.isTransition){var A=I.T,E={};I.T=E;try{var q=p(S,y),ie=I.S;ie!==null&&ie(E,q),pN(c,d,q)}catch(ge){Tv(c,d,ge)}finally{A!==null&&E.types!==null&&(A.types=E.types),I.T=A}}else try{A=p(S,y),pN(c,d,A)}catch(ge){Tv(c,d,ge)}}function pN(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){gN(c,d,y)},function(y){return Tv(c,d,y)}):gN(c,d,p)}function gN(c,d,p){d.status="fulfilled",d.value=p,_N(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,mN(c,p)))}function Tv(c,d,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=p,_N(d),d=d.next;while(d!==y)}c.action=null}function _N(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function yN(c,d){return d}function bN(c,d){if($t){var p=wn.formState;if(p!==null){e:{var y=Mt;if($t){if(jn){t:{for(var S=jn,A=wa;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ca(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){jn=Ca(S.nextSibling),y=S.data==="F!";break e}}ol(y)}y=!1}y&&(d=p[0])}}return p=cs(),p.memoizedState=p.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yN,lastRenderedState:d},p.queue=y,p=UN.bind(null,Mt,y),y.dispatch=p,y=Av(!1),A=Rv.bind(null,Mt,!1,y.queue),y=cs(),S={state:d,dispatch:null,action:c,pending:null},y.queue=S,p=n9.bind(null,Mt,S,A,p),S.dispatch=p,y.memoizedState=c,[d,p,!1]}function xN(c){var d=si();return vN(d,_n,c)}function vN(c,d,p){if(d=kv(c,d,yN)[0],c=Xg(fo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=uf(d)}catch(E){throw E===Yu?Ug:E}else y=d;d=si();var S=d.queue,A=S.dispatch;return p!==d.memoizedState&&(Mt.flags|=2048,nd(9,{destroy:void 0},i9.bind(null,S,p),null)),[y,A,c]}function i9(c,d){c.action=d}function SN(c){var d=si(),p=_n;if(p!==null)return vN(d,p,c);si(),d=d.memoizedState,p=si();var y=p.queue.dispatch;return p.memoizedState=c,[d,y,!1]}function nd(c,d,p,y){return c={tag:c,create:p,deps:y,inst:d,next:null},d=Mt.updateQueue,d===null&&(d=Wg(),Mt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,d.lastEffect=c),c}function wN(){return si().memoizedState}function $g(c,d,p,y){var S=cs();Mt.flags|=c,S.memoizedState=nd(1|d,{destroy:void 0},p,y===void 0?null:y)}function Qg(c,d,p,y){var S=si();y=y===void 0?null:y;var A=S.memoizedState.inst;_n!==null&&y!==null&&yv(y,_n.memoizedState.deps)?S.memoizedState=nd(d,A,p,y):(Mt.flags|=c,S.memoizedState=nd(1|d,A,p,y))}function kN(c,d){$g(8390656,8,c,d)}function Nv(c,d){Qg(2048,8,c,d)}function s9(c){Mt.flags|=4;var d=Mt.updateQueue;if(d===null)d=Wg(),Mt.updateQueue=d,d.events=[c];else{var p=d.events;p===null?d.events=[c]:p.push(c)}}function CN(c){var d=si().memoizedState;return s9({ref:d,nextImpl:c}),function(){if((ln&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}function AN(c,d){return Qg(4,2,c,d)}function TN(c,d){return Qg(4,4,c,d)}function NN(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function MN(c,d,p){p=p!=null?p.concat([c]):null,Qg(4,4,NN.bind(null,d,c),p)}function Mv(){}function ON(c,d){var p=si();d=d===void 0?null:d;var y=p.memoizedState;return d!==null&&yv(d,y[1])?y[0]:(p.memoizedState=[c,d],c)}function LN(c,d){var p=si();d=d===void 0?null:d;var y=p.memoizedState;if(d!==null&&yv(d,y[1]))return y[0];if(y=c(),Cc){Mn(!0);try{c()}finally{Mn(!1)}}return p.memoizedState=[y,d],y}function Ov(c,d,p){return p===void 0||(ho&1073741824)!==0&&(Vt&261930)===0?c.memoizedState=d:(c.memoizedState=p,c=PM(),Mt.lanes|=c,gl|=c,p)}function PN(c,d,p,y){return $s(p,d)?p:Ju.current!==null?(c=Ov(c,p,y),$s(c,d)||(pi=!0),c):(ho&42)===0||(ho&1073741824)!==0&&(Vt&261930)===0?(pi=!0,c.memoizedState=p):(c=PM(),Mt.lanes|=c,gl|=c,d)}function RN(c,d,p,y,S){var A=K.p;K.p=A!==0&&8>A?A:8;var E=I.T,q={};I.T=q,Rv(c,!1,d,p);try{var ie=S(),ge=I.S;if(ge!==null&&ge(q,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var we=J7(ie,y);df(c,d,we,ta(c))}else df(c,d,y,ta(c))}catch(Me){df(c,d,{then:function(){},status:"rejected",reason:Me},ta())}finally{K.p=A,E!==null&&q.types!==null&&(E.types=q.types),I.T=E}}function a9(){}function Lv(c,d,p,y){if(c.tag!==5)throw Error(i(476));var S=EN(c).queue;RN(c,S,d,V,p===null?a9:function(){return jN(c),p(y)})}function EN(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:V},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function jN(c){var d=EN(c);d.next===null&&(d=c.alternate.memoizedState),df(c,d.next.queue,{},ta())}function Pv(){return Di(Nf)}function DN(){return si().memoizedState}function FN(){return si().memoizedState}function r9(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=ta();c=ul(p);var y=dl(d,c,p);y!==null&&(Os(y,d,p),rf(y,d,p)),d={cache:ov()},c.payload=d;return}d=d.return}}function o9(c,d,p){var y=ta();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Yg(c)?BN(d,p):(p=Qx(c,d,p,y),p!==null&&(Os(p,c,y),IN(p,d,y)))}function UN(c,d,p){var y=ta();df(c,d,p,y)}function df(c,d,p,y){var S={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Yg(c))BN(d,S);else{var A=c.alternate;if(c.lanes===0&&(A===null||A.lanes===0)&&(A=d.lastRenderedReducer,A!==null))try{var E=d.lastRenderedState,q=A(E,p);if(S.hasEagerState=!0,S.eagerState=q,$s(q,E))return Lg(c,d,S,0),wn===null&&Og(),!1}catch{}finally{}if(p=Qx(c,d,S,y),p!==null)return Os(p,c,y),IN(p,d,y),!0}return!1}function Rv(c,d,p,y){if(y={lane:2,revertLane:d1(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Yg(c)){if(d)throw Error(i(479))}else d=Qx(c,p,y,2),d!==null&&Os(d,c,2)}function Yg(c){var d=c.alternate;return c===Mt||d!==null&&d===Mt}function BN(c,d){ed=Hg=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function IN(c,d,p){if((p&4194048)!==0){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,ee(c,p)}}var hf={readContext:Di,use:Gg,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn,useHostTransitionStatus:Qn,useFormState:Qn,useActionState:Qn,useOptimistic:Qn,useMemoCache:Qn,useCacheRefresh:Qn};hf.useEffectEvent=Qn;var zN={readContext:Di,use:Gg,useCallback:function(c,d){return cs().memoizedState=[c,d===void 0?null:d],c},useContext:Di,useEffect:kN,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,$g(4194308,4,NN.bind(null,d,c),p)},useLayoutEffect:function(c,d){return $g(4194308,4,c,d)},useInsertionEffect:function(c,d){$g(4,2,c,d)},useMemo:function(c,d){var p=cs();d=d===void 0?null:d;var y=c();if(Cc){Mn(!0);try{c()}finally{Mn(!1)}}return p.memoizedState=[y,d],y},useReducer:function(c,d,p){var y=cs();if(p!==void 0){var S=p(d);if(Cc){Mn(!0);try{p(d)}finally{Mn(!1)}}}else S=d;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=o9.bind(null,Mt,c),[y.memoizedState,c]},useRef:function(c){var d=cs();return c={current:c},d.memoizedState=c},useState:function(c){c=Av(c);var d=c.queue,p=UN.bind(null,Mt,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:Mv,useDeferredValue:function(c,d){var p=cs();return Ov(p,c,d)},useTransition:function(){var c=Av(!1);return c=RN.bind(null,Mt,c.queue,!0,!1),cs().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var y=Mt,S=cs();if($t){if(p===void 0)throw Error(i(407));p=p()}else{if(p=d(),wn===null)throw Error(i(349));(Vt&127)!==0||lN(y,d,p)}S.memoizedState=p;var A={value:p,getSnapshot:d};return S.queue=A,kN(uN.bind(null,y,A,c),[c]),y.flags|=2048,nd(9,{destroy:void 0},cN.bind(null,y,A,p,d),null),p},useId:function(){var c=cs(),d=wn.identifierPrefix;if($t){var p=yr,y=_r;p=(y&~(1<<32-Rn(y)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Vg++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=e9++,d="_"+d+"r_"+p.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:Pv,useFormState:bN,useActionState:bN,useOptimistic:function(c){var d=cs();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=Rv.bind(null,Mt,!0,p),p.dispatch=d,[c,d]},useMemoCache:wv,useCacheRefresh:function(){return cs().memoizedState=r9.bind(null,Mt)},useEffectEvent:function(c){var d=cs(),p={impl:c};return d.memoizedState=p,function(){if((ln&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},Ev={readContext:Di,use:Gg,useCallback:ON,useContext:Di,useEffect:Nv,useImperativeHandle:MN,useInsertionEffect:AN,useLayoutEffect:TN,useMemo:LN,useReducer:Xg,useRef:wN,useState:function(){return Xg(fo)},useDebugValue:Mv,useDeferredValue:function(c,d){var p=si();return PN(p,_n.memoizedState,c,d)},useTransition:function(){var c=Xg(fo)[0],d=si().memoizedState;return[typeof c=="boolean"?c:uf(c),d]},useSyncExternalStore:oN,useId:DN,useHostTransitionStatus:Pv,useFormState:xN,useActionState:xN,useOptimistic:function(c,d){var p=si();return fN(p,_n,c,d)},useMemoCache:wv,useCacheRefresh:FN};Ev.useEffectEvent=CN;var qN={readContext:Di,use:Gg,useCallback:ON,useContext:Di,useEffect:Nv,useImperativeHandle:MN,useInsertionEffect:AN,useLayoutEffect:TN,useMemo:LN,useReducer:Cv,useRef:wN,useState:function(){return Cv(fo)},useDebugValue:Mv,useDeferredValue:function(c,d){var p=si();return _n===null?Ov(p,c,d):PN(p,_n.memoizedState,c,d)},useTransition:function(){var c=Cv(fo)[0],d=si().memoizedState;return[typeof c=="boolean"?c:uf(c),d]},useSyncExternalStore:oN,useId:DN,useHostTransitionStatus:Pv,useFormState:SN,useActionState:SN,useOptimistic:function(c,d){var p=si();return _n!==null?fN(p,_n,c,d):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:wv,useCacheRefresh:FN};qN.useEffectEvent=CN;function jv(c,d,p,y){d=c.memoizedState,p=p(y,d),p=p==null?d:m({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Dv={enqueueSetState:function(c,d,p){c=c._reactInternals;var y=ta(),S=ul(y);S.payload=d,p!=null&&(S.callback=p),d=dl(c,S,y),d!==null&&(Os(d,c,y),rf(d,c,y))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var y=ta(),S=ul(y);S.tag=1,S.payload=d,p!=null&&(S.callback=p),d=dl(c,S,y),d!==null&&(Os(d,c,y),rf(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=ta(),y=ul(p);y.tag=2,d!=null&&(y.callback=d),d=dl(c,y,p),d!==null&&(Os(d,c,p),rf(d,c,p))}};function KN(c,d,p,y,S,A,E){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,A,E):d.prototype&&d.prototype.isPureReactComponent?!Yh(p,y)||!Yh(S,A):!0}function HN(c,d,p,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==c&&Dv.enqueueReplaceState(d,d.state,null)}function Ac(c,d){var p=d;if("ref"in d){p={};for(var y in d)y!=="ref"&&(p[y]=d[y])}if(c=c.defaultProps){p===d&&(p=m({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}function VN(c){Mg(c)}function WN(c){console.error(c)}function GN(c){Mg(c)}function Zg(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function XN(c,d,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Fv(c,d,p){return p=ul(p),p.tag=3,p.payload={element:null},p.callback=function(){Zg(c,d)},p}function $N(c){return c=ul(c),c.tag=3,c}function QN(c,d,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var A=y.value;c.payload=function(){return S(A)},c.callback=function(){XN(d,p,y)}}var E=p.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){XN(d,p,y),typeof S!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var q=y.stack;this.componentDidCatch(y.value,{componentStack:q!==null?q:""})})}function l9(c,d,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=p.alternate,d!==null&&Xu(d,p,S,!0),p=Ys.current,p!==null){switch(p.tag){case 31:case 13:return ka===null?u_():p.alternate===null&&Yn===0&&(Yn=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===Bg?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([y]):d.add(y),l1(c,y,S)),!1;case 22:return p.flags|=65536,y===Bg?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([y]):p.add(y)),l1(c,y,S)),!1}throw Error(i(435,p.tag))}return l1(c,y,S),u_(),!1}if($t)return d=Ys.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,y!==nv&&(c=Error(i(422),{cause:y}),ef(xa(c,p)))):(y!==nv&&(d=Error(i(423),{cause:y}),ef(xa(d,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=xa(y,p),S=Fv(c.stateNode,y,S),fv(c,S),Yn!==4&&(Yn=2)),!1;var A=Error(i(520),{cause:y});if(A=xa(A,p),xf===null?xf=[A]:xf.push(A),Yn!==4&&(Yn=2),d===null)return!0;y=xa(y,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=Fv(p.stateNode,y,c),fv(p,c),!1;case 1:if(d=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(_l===null||!_l.has(A))))return p.flags|=65536,S&=-S,p.lanes|=S,S=$N(S),QN(S,c,p,y),fv(p,S),!1}p=p.return}while(p!==null);return!1}var Uv=Error(i(461)),pi=!1;function Fi(c,d,p,y){d.child=c===null?eN(d,null,p,y):kc(d,c.child,p,y)}function YN(c,d,p,y,S){p=p.render;var A=d.ref;if("ref"in y){var E={};for(var q in y)q!=="ref"&&(E[q]=y[q])}else E=y;return xc(d),y=bv(c,d,p,E,A,S),q=xv(),c!==null&&!pi?(vv(c,d,S),mo(c,d,S)):($t&&q&&ev(d),d.flags|=1,Fi(c,d,y,S),d.child)}function ZN(c,d,p,y,S){if(c===null){var A=p.type;return typeof A=="function"&&!Yx(A)&&A.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=A,JN(c,d,A,y,S)):(c=Rg(p.type,null,y,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(A=c.child,!Wv(c,S)){var E=A.memoizedProps;if(p=p.compare,p=p!==null?p:Yh,p(E,y)&&c.ref===d.ref)return mo(c,d,S)}return d.flags|=1,c=oo(A,y),c.ref=d.ref,c.return=d,d.child=c}function JN(c,d,p,y,S){if(c!==null){var A=c.memoizedProps;if(Yh(A,y)&&c.ref===d.ref)if(pi=!1,d.pendingProps=y=A,Wv(c,S))(c.flags&131072)!==0&&(pi=!0);else return d.lanes=c.lanes,mo(c,d,S)}return Bv(c,d,p,y,S)}function eM(c,d,p,y){var S=y.children,A=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(A=A!==null?A.baseLanes|p:p,c!==null){for(y=d.child=c.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~A}else y=0,d.child=null;return tM(c,d,A,p,y)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Fg(d,A!==null?A.cachePool:null),A!==null?iN(d,A):pv(),sN(d);else return y=d.lanes=536870912,tM(c,d,A!==null?A.baseLanes|p:p,p,y)}else A!==null?(Fg(d,A.cachePool),iN(d,A),fl(),d.memoizedState=null):(c!==null&&Fg(d,null),pv(),fl());return Fi(c,d,S,p),d.child}function ff(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function tM(c,d,p,y,S){var A=cv();return A=A===null?null:{parent:fi._currentValue,pool:A},d.memoizedState={baseLanes:p,cachePool:A},c!==null&&Fg(d,null),pv(),sN(d),c!==null&&Xu(c,d,y,!0),d.childLanes=S,null}function Jg(c,d){return d=t_({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function nM(c,d,p){return kc(d,c.child,null,p),c=Jg(d,d.pendingProps),c.flags|=2,Zs(d),d.memoizedState=null,c}function c9(c,d,p){var y=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,c===null){if($t){if(y.mode==="hidden")return c=Jg(d,y),d.lanes=536870912,ff(null,c);if(_v(d),(c=jn)?(c=mO(c,wa),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:al!==null?{id:_r,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},p=BT(c),p.return=d,d.child=p,ji=d,jn=null)):c=null,c===null)throw ol(d);return d.lanes=536870912,null}return Jg(d,y)}var A=c.memoizedState;if(A!==null){var E=A.dehydrated;if(_v(d),S)if(d.flags&256)d.flags&=-257,d=nM(c,d,p);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(i(558));else if(pi||Xu(c,d,p,!1),S=(p&c.childLanes)!==0,pi||S){if(y=wn,y!==null&&(E=ae(y,p),E!==0&&E!==A.retryLane))throw A.retryLane=E,gc(c,E),Os(y,c,E),Uv;u_(),d=nM(c,d,p)}else c=A.treeContext,jn=Ca(E.nextSibling),ji=d,$t=!0,rl=null,wa=!1,c!==null&&qT(d,c),d=Jg(d,y),d.flags|=4096;return d}return c=oo(c.child,{mode:y.mode,children:y.children}),c.ref=d.ref,d.child=c,c.return=d,c}function e_(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(c===null||c.ref!==p)&&(d.flags|=4194816)}}function Bv(c,d,p,y,S){return xc(d),p=bv(c,d,p,y,void 0,S),y=xv(),c!==null&&!pi?(vv(c,d,S),mo(c,d,S)):($t&&y&&ev(d),d.flags|=1,Fi(c,d,p,S),d.child)}function iM(c,d,p,y,S,A){return xc(d),d.updateQueue=null,p=rN(d,y,p,S),aN(c),y=xv(),c!==null&&!pi?(vv(c,d,A),mo(c,d,A)):($t&&y&&ev(d),d.flags|=1,Fi(c,d,p,A),d.child)}function sM(c,d,p,y,S){if(xc(d),d.stateNode===null){var A=Hu,E=p.contextType;typeof E=="object"&&E!==null&&(A=Di(E)),A=new p(y,A),d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Dv,d.stateNode=A,A._reactInternals=d,A=d.stateNode,A.props=y,A.state=d.memoizedState,A.refs={},dv(d),E=p.contextType,A.context=typeof E=="object"&&E!==null?Di(E):Hu,A.state=d.memoizedState,E=p.getDerivedStateFromProps,typeof E=="function"&&(jv(d,p,E,y),A.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(E=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),E!==A.state&&Dv.enqueueReplaceState(A,A.state,null),lf(d,y,A,S),of(),A.state=d.memoizedState),typeof A.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){A=d.stateNode;var q=d.memoizedProps,ie=Ac(p,q);A.props=ie;var ge=A.context,we=p.contextType;E=Hu,typeof we=="object"&&we!==null&&(E=Di(we));var Me=p.getDerivedStateFromProps;we=typeof Me=="function"||typeof A.getSnapshotBeforeUpdate=="function",q=d.pendingProps!==q,we||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(q||ge!==E)&&HN(d,A,y,E),cl=!1;var ye=d.memoizedState;A.state=ye,lf(d,y,A,S),of(),ge=d.memoizedState,q||ye!==ge||cl?(typeof Me=="function"&&(jv(d,p,Me,y),ge=d.memoizedState),(ie=cl||KN(d,p,ie,y,ye,ge,E))?(we||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=ge),A.props=y,A.state=ge,A.context=E,y=ie):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{A=d.stateNode,hv(c,d),E=d.memoizedProps,we=Ac(p,E),A.props=we,Me=d.pendingProps,ye=A.context,ge=p.contextType,ie=Hu,typeof ge=="object"&&ge!==null&&(ie=Di(ge)),q=p.getDerivedStateFromProps,(ge=typeof q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(E!==Me||ye!==ie)&&HN(d,A,y,ie),cl=!1,ye=d.memoizedState,A.state=ye,lf(d,y,A,S),of();var xe=d.memoizedState;E!==Me||ye!==xe||cl||c!==null&&c.dependencies!==null&&jg(c.dependencies)?(typeof q=="function"&&(jv(d,p,q,y),xe=d.memoizedState),(we=cl||KN(d,p,we,y,ye,xe,ie)||c!==null&&c.dependencies!==null&&jg(c.dependencies))?(ge||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(y,xe,ie),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(y,xe,ie)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||E===c.memoizedProps&&ye===c.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||E===c.memoizedProps&&ye===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=xe),A.props=y,A.state=xe,A.context=ie,y=we):(typeof A.componentDidUpdate!="function"||E===c.memoizedProps&&ye===c.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||E===c.memoizedProps&&ye===c.memoizedState||(d.flags|=1024),y=!1)}return A=y,e_(c,d),y=(d.flags&128)!==0,A||y?(A=d.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:A.render(),d.flags|=1,c!==null&&y?(d.child=kc(d,c.child,null,S),d.child=kc(d,null,p,S)):Fi(c,d,p,S),d.memoizedState=A.state,c=d.child):c=mo(c,d,S),c}function aM(c,d,p,y){return yc(),d.flags|=256,Fi(c,d,p,y),d.child}var Iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zv(c){return{baseLanes:c,cachePool:XT()}}function qv(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=ea),c}function rM(c,d,p){var y=d.pendingProps,S=!1,A=(d.flags&128)!==0,E;if((E=A)||(E=c!==null&&c.memoizedState===null?!1:(ii.current&2)!==0),E&&(S=!0,d.flags&=-129),E=(d.flags&32)!==0,d.flags&=-33,c===null){if($t){if(S?hl(d):fl(),(c=jn)?(c=mO(c,wa),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:al!==null?{id:_r,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},p=BT(c),p.return=d,d.child=p,ji=d,jn=null)):c=null,c===null)throw ol(d);return k1(c)?d.lanes=32:d.lanes=536870912,null}var q=y.children;return y=y.fallback,S?(fl(),S=d.mode,q=t_({mode:"hidden",children:q},S),y=_c(y,S,p,null),q.return=d,y.return=d,q.sibling=y,d.child=q,y=d.child,y.memoizedState=zv(p),y.childLanes=qv(c,E,p),d.memoizedState=Iv,ff(null,y)):(hl(d),Kv(d,q))}var ie=c.memoizedState;if(ie!==null&&(q=ie.dehydrated,q!==null)){if(A)d.flags&256?(hl(d),d.flags&=-257,d=Hv(c,d,p)):d.memoizedState!==null?(fl(),d.child=c.child,d.flags|=128,d=null):(fl(),q=y.fallback,S=d.mode,y=t_({mode:"visible",children:y.children},S),q=_c(q,S,p,null),q.flags|=2,y.return=d,q.return=d,y.sibling=q,d.child=y,kc(d,c.child,null,p),y=d.child,y.memoizedState=zv(p),y.childLanes=qv(c,E,p),d.memoizedState=Iv,d=ff(null,y));else if(hl(d),k1(q)){if(E=q.nextSibling&&q.nextSibling.dataset,E)var ge=E.dgst;E=ge,y=Error(i(419)),y.stack="",y.digest=E,ef({value:y,source:null,stack:null}),d=Hv(c,d,p)}else if(pi||Xu(c,d,p,!1),E=(p&c.childLanes)!==0,pi||E){if(E=wn,E!==null&&(y=ae(E,p),y!==0&&y!==ie.retryLane))throw ie.retryLane=y,gc(c,y),Os(E,c,y),Uv;w1(q)||u_(),d=Hv(c,d,p)}else w1(q)?(d.flags|=192,d.child=c.child,d=null):(c=ie.treeContext,jn=Ca(q.nextSibling),ji=d,$t=!0,rl=null,wa=!1,c!==null&&qT(d,c),d=Kv(d,y.children),d.flags|=4096);return d}return S?(fl(),q=y.fallback,S=d.mode,ie=c.child,ge=ie.sibling,y=oo(ie,{mode:"hidden",children:y.children}),y.subtreeFlags=ie.subtreeFlags&65011712,ge!==null?q=oo(ge,q):(q=_c(q,S,p,null),q.flags|=2),q.return=d,y.return=d,y.sibling=q,d.child=y,ff(null,y),y=d.child,q=c.child.memoizedState,q===null?q=zv(p):(S=q.cachePool,S!==null?(ie=fi._currentValue,S=S.parent!==ie?{parent:ie,pool:ie}:S):S=XT(),q={baseLanes:q.baseLanes|p,cachePool:S}),y.memoizedState=q,y.childLanes=qv(c,E,p),d.memoizedState=Iv,ff(c.child,y)):(hl(d),p=c.child,c=p.sibling,p=oo(p,{mode:"visible",children:y.children}),p.return=d,p.sibling=null,c!==null&&(E=d.deletions,E===null?(d.deletions=[c],d.flags|=16):E.push(c)),d.child=p,d.memoizedState=null,p)}function Kv(c,d){return d=t_({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function t_(c,d){return c=Qs(22,c,null,d),c.lanes=0,c}function Hv(c,d,p){return kc(d,c.child,null,p),c=Kv(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function oM(c,d,p){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),av(c.return,d,p)}function Vv(c,d,p,y,S,A){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S,treeForkCount:A}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=p,E.tailMode=S,E.treeForkCount=A)}function lM(c,d,p){var y=d.pendingProps,S=y.revealOrder,A=y.tail;y=y.children;var E=ii.current,q=(E&2)!==0;if(q?(E=E&1|2,d.flags|=128):E&=1,X(ii,E),Fi(c,d,y,p),y=$t?Jh:0,!q&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&oM(c,p,d);else if(c.tag===19)oM(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(p=d.child,S=null;p!==null;)c=p.alternate,c!==null&&Kg(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),Vv(d,!1,S,p,A,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Kg(c)===null){d.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}Vv(d,!0,p,null,A,y);break;case"together":Vv(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function mo(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),gl|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(Xu(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,p=oo(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=oo(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function Wv(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&jg(c)))}function u9(c,d,p){switch(d.tag){case 3:J(d,d.stateNode.containerInfo),ll(d,fi,c.memoizedState.cache),yc();break;case 27:case 5:de(d);break;case 4:J(d,d.stateNode.containerInfo);break;case 10:ll(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,_v(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(hl(d),d.flags|=128,null):(p&d.child.childLanes)!==0?rM(c,d,p):(hl(d),c=mo(c,d,p),c!==null?c.sibling:null);hl(d);break;case 19:var S=(c.flags&128)!==0;if(y=(p&d.childLanes)!==0,y||(Xu(c,d,p,!1),y=(p&d.childLanes)!==0),S){if(y)return lM(c,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),X(ii,ii.current),y)break;return null;case 22:return d.lanes=0,eM(c,d,p,d.pendingProps);case 24:ll(d,fi,c.memoizedState.cache)}return mo(c,d,p)}function cM(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)pi=!0;else{if(!Wv(c,p)&&(d.flags&128)===0)return pi=!1,u9(c,d,p);pi=(c.flags&131072)!==0}else pi=!1,$t&&(d.flags&1048576)!==0&&zT(d,Jh,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(c=Sc(d.elementType),d.type=c,typeof c=="function")Yx(c)?(y=Ac(c,y),d.tag=1,d=sM(null,d,c,y,p)):(d.tag=0,d=Bv(null,d,c,y,p));else{if(c!=null){var S=c.$$typeof;if(S===O){d.tag=11,d=YN(null,d,c,y,p);break e}else if(S===M){d.tag=14,d=ZN(null,d,c,y,p);break e}}throw d=Z(c)||c,Error(i(306,d,""))}}return d;case 0:return Bv(c,d,d.type,d.pendingProps,p);case 1:return y=d.type,S=Ac(y,d.pendingProps),sM(c,d,y,S,p);case 3:e:{if(J(d,d.stateNode.containerInfo),c===null)throw Error(i(387));y=d.pendingProps;var A=d.memoizedState;S=A.element,hv(c,d),lf(d,y,null,p);var E=d.memoizedState;if(y=E.cache,ll(d,fi,y),y!==A.cache&&rv(d,[fi],p,!0),of(),y=E.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:E.cache},d.updateQueue.baseState=A,d.memoizedState=A,d.flags&256){d=aM(c,d,y,p);break e}else if(y!==S){S=xa(Error(i(424)),d),ef(S),d=aM(c,d,y,p);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(jn=Ca(c.firstChild),ji=d,$t=!0,rl=null,wa=!0,p=eN(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(yc(),y===S){d=mo(c,d,p);break e}Fi(c,d,y,p)}d=d.child}return d;case 26:return e_(c,d),c===null?(p=xO(d.type,null,d.pendingProps,null))?d.memoizedState=p:$t||(p=d.type,c=d.pendingProps,y=__(G.current).createElement(p),y[je]=d,y[Ue]=c,Ui(y,p,c),ot(y),d.stateNode=y):d.memoizedState=xO(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return de(d),c===null&&$t&&(y=d.stateNode=_O(d.type,d.pendingProps,G.current),ji=d,wa=!0,S=jn,vl(d.type)?(C1=S,jn=Ca(y.firstChild)):jn=S),Fi(c,d,d.pendingProps.children,p),e_(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&$t&&((S=y=jn)&&(y=I9(y,d.type,d.pendingProps,wa),y!==null?(d.stateNode=y,ji=d,jn=Ca(y.firstChild),wa=!1,S=!0):S=!1),S||ol(d)),de(d),S=d.type,A=d.pendingProps,E=c!==null?c.memoizedProps:null,y=A.children,x1(S,A)?y=null:E!==null&&x1(S,E)&&(d.flags|=32),d.memoizedState!==null&&(S=bv(c,d,t9,null,null,p),Nf._currentValue=S),e_(c,d),Fi(c,d,y,p),d.child;case 6:return c===null&&$t&&((c=p=jn)&&(p=z9(p,d.pendingProps,wa),p!==null?(d.stateNode=p,ji=d,jn=null,c=!0):c=!1),c||ol(d)),null;case 13:return rM(c,d,p);case 4:return J(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=kc(d,null,y,p):Fi(c,d,y,p),d.child;case 11:return YN(c,d,d.type,d.pendingProps,p);case 7:return Fi(c,d,d.pendingProps,p),d.child;case 8:return Fi(c,d,d.pendingProps.children,p),d.child;case 12:return Fi(c,d,d.pendingProps.children,p),d.child;case 10:return y=d.pendingProps,ll(d,d.type,y.value),Fi(c,d,y.children,p),d.child;case 9:return S=d.type._context,y=d.pendingProps.children,xc(d),S=Di(S),y=y(S),d.flags|=1,Fi(c,d,y,p),d.child;case 14:return ZN(c,d,d.type,d.pendingProps,p);case 15:return JN(c,d,d.type,d.pendingProps,p);case 19:return lM(c,d,p);case 31:return c9(c,d,p);case 22:return eM(c,d,p,d.pendingProps);case 24:return xc(d),y=Di(fi),c===null?(S=cv(),S===null&&(S=wn,A=ov(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=p),S=A),d.memoizedState={parent:y,cache:S},dv(d),ll(d,fi,S)):((c.lanes&p)!==0&&(hv(c,d),lf(d,null,null,p),of()),S=c.memoizedState,A=d.memoizedState,S.parent!==y?(S={parent:y,cache:y},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),ll(d,fi,y)):(y=A.cache,ll(d,fi,y),y!==S.cache&&rv(d,[fi],p,!0))),Fi(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function po(c){c.flags|=4}function Gv(c,d,p,y,S){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(DM())c.flags|=8192;else throw wc=Bg,uv}else c.flags&=-16777217}function uM(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!CO(d))if(DM())c.flags|=8192;else throw wc=Bg,uv}function n_(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Qe():536870912,c.lanes|=d,rd|=d)}function mf(c,d){if(!$t)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Dn(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(d)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=p,d}function d9(c,d,p){var y=d.pendingProps;switch(tv(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(d),null;case 1:return Dn(d),null;case 3:return p=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),uo(fi),re(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(Gu(d)?po(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,iv())),Dn(d),null;case 26:var S=d.type,A=d.memoizedState;return c===null?(po(d),A!==null?(Dn(d),uM(d,A)):(Dn(d),Gv(d,S,null,y,p))):A?A!==c.memoizedState?(po(d),Dn(d),uM(d,A)):(Dn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==y&&po(d),Dn(d),Gv(d,S,c,y,p)),null;case 27:if(Le(d),p=G.current,S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&po(d);else{if(!y){if(d.stateNode===null)throw Error(i(166));return Dn(d),null}c=te.current,Gu(d)?KT(d):(c=_O(S,y,p),d.stateNode=c,po(d))}return Dn(d),null;case 5:if(Le(d),S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&po(d);else{if(!y){if(d.stateNode===null)throw Error(i(166));return Dn(d),null}if(A=te.current,Gu(d))KT(d);else{var E=__(G.current);switch(A){case 1:A=E.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=E.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=E.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=E.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=E.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof y.is=="string"?E.createElement("select",{is:y.is}):E.createElement("select"),y.multiple?A.multiple=!0:y.size&&(A.size=y.size);break;default:A=typeof y.is=="string"?E.createElement(S,{is:y.is}):E.createElement(S)}}A[je]=d,A[Ue]=y;e:for(E=d.child;E!==null;){if(E.tag===5||E.tag===6)A.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break e;for(;E.sibling===null;){if(E.return===null||E.return===d)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}d.stateNode=A;e:switch(Ui(A,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&po(d)}}return Dn(d),Gv(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,p),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&po(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(i(166));if(c=G.current,Gu(d)){if(c=d.stateNode,p=d.memoizedProps,y=null,S=ji,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[je]=d,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||rO(c.nodeValue,p)),c||ol(d,!0)}else c=__(c).createTextNode(y),c[je]=d,d.stateNode=c}return Dn(d),null;case 31:if(p=d.memoizedState,c===null||c.memoizedState!==null){if(y=Gu(d),p!==null){if(c===null){if(!y)throw Error(i(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(557));c[je]=d}else yc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Dn(d),c=!1}else p=iv(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return d.flags&256?(Zs(d),d):(Zs(d),null);if((d.flags&128)!==0)throw Error(i(558))}return Dn(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=Gu(d),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(i(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[je]=d}else yc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Dn(d),S=!1}else S=iv(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(Zs(d),d):(Zs(d),null)}return Zs(d),(d.flags&128)!==0?(d.lanes=p,d):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=d.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),A=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(A=y.memoizedState.cachePool.pool),A!==S&&(y.flags|=2048)),p!==c&&p&&(d.child.flags|=8192),n_(d,d.updateQueue),Dn(d),null);case 4:return re(),c===null&&p1(d.stateNode.containerInfo),Dn(d),null;case 10:return uo(d.type),Dn(d),null;case 19:if(B(ii),y=d.memoizedState,y===null)return Dn(d),null;if(S=(d.flags&128)!==0,A=y.rendering,A===null)if(S)mf(y,!1);else{if(Yn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(A=Kg(c),A!==null){for(d.flags|=128,mf(y,!1),c=A.updateQueue,d.updateQueue=c,n_(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)UT(p,c),p=p.sibling;return X(ii,ii.current&1|2),$t&&lo(d,y.treeForkCount),d.child}c=c.sibling}y.tail!==null&&_e()>o_&&(d.flags|=128,S=!0,mf(y,!1),d.lanes=4194304)}else{if(!S)if(c=Kg(A),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,n_(d,c),mf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!$t)return Dn(d),null}else 2*_e()-y.renderingStartTime>o_&&p!==536870912&&(d.flags|=128,S=!0,mf(y,!1),d.lanes=4194304);y.isBackwards?(A.sibling=d.child,d.child=A):(c=y.last,c!==null?c.sibling=A:d.child=A,y.last=A)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=_e(),c.sibling=null,p=ii.current,X(ii,S?p&1|2:p&1),$t&&lo(d,y.treeForkCount),c):(Dn(d),null);case 22:case 23:return Zs(d),gv(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(p&536870912)!==0&&(d.flags&128)===0&&(Dn(d),d.subtreeFlags&6&&(d.flags|=8192)):Dn(d),p=d.updateQueue,p!==null&&n_(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048),c!==null&&B(vc),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),uo(fi),Dn(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function h9(c,d){switch(tv(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return uo(fi),re(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Le(d),null;case 31:if(d.memoizedState!==null){if(Zs(d),d.alternate===null)throw Error(i(340));yc()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(Zs(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));yc()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return B(ii),null;case 4:return re(),null;case 10:return uo(d.type),null;case 22:case 23:return Zs(d),gv(),c!==null&&B(vc),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return uo(fi),null;case 25:return null;default:return null}}function dM(c,d){switch(tv(d),d.tag){case 3:uo(fi),re();break;case 26:case 27:case 5:Le(d);break;case 4:re();break;case 31:d.memoizedState!==null&&Zs(d);break;case 13:Zs(d);break;case 19:B(ii);break;case 10:uo(d.type);break;case 22:case 23:Zs(d),gv(),c!==null&&B(vc);break;case 24:uo(fi)}}function pf(c,d){try{var p=d.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&c)===c){y=void 0;var A=p.create,E=p.inst;y=A(),E.destroy=y}p=p.next}while(p!==S)}}catch(q){mn(d,d.return,q)}}function ml(c,d,p){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var A=S.next;y=A;do{if((y.tag&c)===c){var E=y.inst,q=E.destroy;if(q!==void 0){E.destroy=void 0,S=d;var ie=p,ge=q;try{ge()}catch(we){mn(S,ie,we)}}}y=y.next}while(y!==A)}}catch(we){mn(d,d.return,we)}}function hM(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{nN(d,p)}catch(y){mn(c,c.return,y)}}}function fM(c,d,p){p.props=Ac(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){mn(c,d,y)}}function gf(c,d){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(S){mn(c,d,S)}}function br(c,d){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){mn(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){mn(c,d,S)}else p.current=null}function mM(c){var d=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){mn(c,c.return,S)}}function Xv(c,d,p){try{var y=c.stateNode;E9(y,c.type,p,d),y[Ue]=d}catch(S){mn(c,c.return,S)}}function pM(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&vl(c.type)||c.tag===4}function $v(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||pM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&vl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Qv(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(c),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=ao));else if(y!==4&&(y===27&&vl(c.type)&&(p=c.stateNode,d=null),c=c.child,c!==null))for(Qv(c,d,p),c=c.sibling;c!==null;)Qv(c,d,p),c=c.sibling}function i_(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(y!==4&&(y===27&&vl(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(i_(c,d,p),c=c.sibling;c!==null;)i_(c,d,p),c=c.sibling}function gM(c){var d=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Ui(d,y,p),d[je]=c,d[Ue]=p}catch(A){mn(c,c.return,A)}}var go=!1,gi=!1,Yv=!1,_M=typeof WeakSet=="function"?WeakSet:Set,Ti=null;function f9(c,d){if(c=c.containerInfo,y1=k_,c=MT(c),Hx(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var E=0,q=-1,ie=-1,ge=0,we=0,Me=c,ye=null;t:for(;;){for(var xe;Me!==p||S!==0&&Me.nodeType!==3||(q=E+S),Me!==A||y!==0&&Me.nodeType!==3||(ie=E+y),Me.nodeType===3&&(E+=Me.nodeValue.length),(xe=Me.firstChild)!==null;)ye=Me,Me=xe;for(;;){if(Me===c)break t;if(ye===p&&++ge===S&&(q=E),ye===A&&++we===y&&(ie=E),(xe=Me.nextSibling)!==null)break;Me=ye,ye=Me.parentNode}Me=xe}p=q===-1||ie===-1?null:{start:q,end:ie}}else p=null}p=p||{start:0,end:0}}else p=null;for(b1={focusedElem:c,selectionRange:p},k_=!1,Ti=d;Ti!==null;)if(d=Ti,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ti=c;else for(;Ti!==null;){switch(d=Ti,A=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)S=c[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&A!==null){c=void 0,p=d,S=A.memoizedProps,A=A.memoizedState,y=p.stateNode;try{var et=Ac(p.type,S);c=y.getSnapshotBeforeUpdate(et,A),y.__reactInternalSnapshotBeforeUpdate=c}catch(mt){mn(p,p.return,mt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)S1(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":S1(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,Ti=c;break}Ti=d.return}}function yM(c,d,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:yo(c,p),y&4&&pf(5,p);break;case 1:if(yo(c,p),y&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(E){mn(p,p.return,E)}else{var S=Ac(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(E){mn(p,p.return,E)}}y&64&&hM(p),y&512&&gf(p,p.return);break;case 3:if(yo(c,p),y&64&&(c=p.updateQueue,c!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{nN(c,d)}catch(E){mn(p,p.return,E)}}break;case 27:d===null&&y&4&&gM(p);case 26:case 5:yo(c,p),d===null&&y&4&&mM(p),y&512&&gf(p,p.return);break;case 12:yo(c,p);break;case 31:yo(c,p),y&4&&vM(c,p);break;case 13:yo(c,p),y&4&&SM(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=S9.bind(null,p),q9(c,p))));break;case 22:if(y=p.memoizedState!==null||go,!y){d=d!==null&&d.memoizedState!==null||gi,S=go;var A=gi;go=y,(gi=d)&&!A?bo(c,p,(p.subtreeFlags&8772)!==0):yo(c,p),go=S,gi=A}break;case 30:break;default:yo(c,p)}}function bM(c){var d=c.alternate;d!==null&&(c.alternate=null,bM(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Sn(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var In=null,As=!1;function _o(c,d,p){for(p=p.child;p!==null;)xM(c,d,p),p=p.sibling}function xM(c,d,p){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Nt,p)}catch{}switch(p.tag){case 26:gi||br(p,d),_o(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:gi||br(p,d);var y=In,S=As;vl(p.type)&&(In=p.stateNode,As=!1),_o(c,d,p),Cf(p.stateNode),In=y,As=S;break;case 5:gi||br(p,d);case 6:if(y=In,S=As,In=null,_o(c,d,p),In=y,As=S,In!==null)if(As)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(p.stateNode)}catch(A){mn(p,d,A)}else try{In.removeChild(p.stateNode)}catch(A){mn(p,d,A)}break;case 18:In!==null&&(As?(c=In,hO(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),md(c)):hO(In,p.stateNode));break;case 4:y=In,S=As,In=p.stateNode.containerInfo,As=!0,_o(c,d,p),In=y,As=S;break;case 0:case 11:case 14:case 15:ml(2,p,d),gi||ml(4,p,d),_o(c,d,p);break;case 1:gi||(br(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"&&fM(p,d,y)),_o(c,d,p);break;case 21:_o(c,d,p);break;case 22:gi=(y=gi)||p.memoizedState!==null,_o(c,d,p),gi=y;break;default:_o(c,d,p)}}function vM(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{md(c)}catch(p){mn(d,d.return,p)}}}function SM(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{md(c)}catch(p){mn(d,d.return,p)}}function m9(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new _M),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new _M),d;default:throw Error(i(435,c.tag))}}function s_(c,d){var p=m9(c);d.forEach(function(y){if(!p.has(y)){p.add(y);var S=w9.bind(null,c,y);y.then(S,S)}})}function Ts(c,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],A=c,E=d,q=E;e:for(;q!==null;){switch(q.tag){case 27:if(vl(q.type)){In=q.stateNode,As=!1;break e}break;case 5:In=q.stateNode,As=!1;break e;case 3:case 4:In=q.stateNode.containerInfo,As=!0;break e}q=q.return}if(In===null)throw Error(i(160));xM(A,E,S),In=null,As=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)wM(d,c),d=d.sibling}var nr=null;function wM(c,d){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ts(d,c),Ns(c),y&4&&(ml(3,c,c.return),pf(3,c),ml(5,c,c.return));break;case 1:Ts(d,c),Ns(c),y&512&&(gi||p===null||br(p,p.return)),y&64&&go&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=nr;if(Ts(d,c),Ns(c),y&512&&(gi||p===null||br(p,p.return)),y&4){var A=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":A=S.getElementsByTagName("title")[0],(!A||A[gn]||A[je]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(y),S.head.insertBefore(A,S.querySelector("head > title"))),Ui(A,y,p),A[je]=c,ot(A),y=A;break e;case"link":var E=wO("link","href",S).get(y+(p.href||""));if(E){for(var q=0;q<E.length;q++)if(A=E[q],A.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&A.getAttribute("rel")===(p.rel==null?null:p.rel)&&A.getAttribute("title")===(p.title==null?null:p.title)&&A.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){E.splice(q,1);break t}}A=S.createElement(y),Ui(A,y,p),S.head.appendChild(A);break;case"meta":if(E=wO("meta","content",S).get(y+(p.content||""))){for(q=0;q<E.length;q++)if(A=E[q],A.getAttribute("content")===(p.content==null?null:""+p.content)&&A.getAttribute("name")===(p.name==null?null:p.name)&&A.getAttribute("property")===(p.property==null?null:p.property)&&A.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&A.getAttribute("charset")===(p.charSet==null?null:p.charSet)){E.splice(q,1);break t}}A=S.createElement(y),Ui(A,y,p),S.head.appendChild(A);break;default:throw Error(i(468,y))}A[je]=c,ot(A),y=A}c.stateNode=y}else kO(S,c.type,c.stateNode);else c.stateNode=SO(S,y,c.memoizedProps);else A!==y?(A===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):A.count--,y===null?kO(S,c.type,c.stateNode):SO(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Xv(c,c.memoizedProps,p.memoizedProps)}break;case 27:Ts(d,c),Ns(c),y&512&&(gi||p===null||br(p,p.return)),p!==null&&y&4&&Xv(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Ts(d,c),Ns(c),y&512&&(gi||p===null||br(p,p.return)),c.flags&32){S=c.stateNode;try{Fu(S,"")}catch(et){mn(c,c.return,et)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,Xv(c,S,p!==null?p.memoizedProps:S)),y&1024&&(Yv=!0);break;case 6:if(Ts(d,c),Ns(c),y&4){if(c.stateNode===null)throw Error(i(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(et){mn(c,c.return,et)}}break;case 3:if(x_=null,S=nr,nr=y_(d.containerInfo),Ts(d,c),nr=S,Ns(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{md(d.containerInfo)}catch(et){mn(c,c.return,et)}Yv&&(Yv=!1,kM(c));break;case 4:y=nr,nr=y_(c.stateNode.containerInfo),Ts(d,c),Ns(c),nr=y;break;case 12:Ts(d,c),Ns(c);break;case 31:Ts(d,c),Ns(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,s_(c,y)));break;case 13:Ts(d,c),Ns(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(r_=_e()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,s_(c,y)));break;case 22:S=c.memoizedState!==null;var ie=p!==null&&p.memoizedState!==null,ge=go,we=gi;if(go=ge||S,gi=we||ie,Ts(d,c),gi=we,go=ge,Ns(c),y&8192)e:for(d=c.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(p===null||ie||go||gi||Tc(c)),p=null,d=c;;){if(d.tag===5||d.tag===26){if(p===null){ie=p=d;try{if(A=ie.stateNode,S)E=A.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{q=ie.stateNode;var Me=ie.memoizedProps.style,ye=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;q.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(et){mn(ie,ie.return,et)}}}else if(d.tag===6){if(p===null){ie=d;try{ie.stateNode.nodeValue=S?"":ie.memoizedProps}catch(et){mn(ie,ie.return,et)}}}else if(d.tag===18){if(p===null){ie=d;try{var xe=ie.stateNode;S?fO(xe,!0):fO(ie.stateNode,!1)}catch(et){mn(ie,ie.return,et)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,s_(c,p))));break;case 19:Ts(d,c),Ns(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,s_(c,y)));break;case 30:break;case 21:break;default:Ts(d,c),Ns(c)}}function Ns(c){var d=c.flags;if(d&2){try{for(var p,y=c.return;y!==null;){if(pM(y)){p=y;break}y=y.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var S=p.stateNode,A=$v(c);i_(c,A,S);break;case 5:var E=p.stateNode;p.flags&32&&(Fu(E,""),p.flags&=-33);var q=$v(c);i_(c,q,E);break;case 3:case 4:var ie=p.stateNode.containerInfo,ge=$v(c);Qv(c,ge,ie);break;default:throw Error(i(161))}}catch(we){mn(c,c.return,we)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function kM(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;kM(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function yo(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)yM(c,d.alternate,d),d=d.sibling}function Tc(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:ml(4,d,d.return),Tc(d);break;case 1:br(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&fM(d,d.return,p),Tc(d);break;case 27:Cf(d.stateNode);case 26:case 5:br(d,d.return),Tc(d);break;case 22:d.memoizedState===null&&Tc(d);break;case 30:Tc(d);break;default:Tc(d)}c=c.sibling}}function bo(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,S=c,A=d,E=A.flags;switch(A.tag){case 0:case 11:case 15:bo(S,A,p),pf(4,A);break;case 1:if(bo(S,A,p),y=A,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ge){mn(y,y.return,ge)}if(y=A,S=y.updateQueue,S!==null){var q=y.stateNode;try{var ie=S.shared.hiddenCallbacks;if(ie!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ie.length;S++)tN(ie[S],q)}catch(ge){mn(y,y.return,ge)}}p&&E&64&&hM(A),gf(A,A.return);break;case 27:gM(A);case 26:case 5:bo(S,A,p),p&&y===null&&E&4&&mM(A),gf(A,A.return);break;case 12:bo(S,A,p);break;case 31:bo(S,A,p),p&&E&4&&vM(S,A);break;case 13:bo(S,A,p),p&&E&4&&SM(S,A);break;case 22:A.memoizedState===null&&bo(S,A,p),gf(A,A.return);break;case 30:break;default:bo(S,A,p)}d=d.sibling}}function Zv(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&tf(p))}function Jv(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&tf(c))}function ir(c,d,p,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)CM(c,d,p,y),d=d.sibling}function CM(c,d,p,y){var S=d.flags;switch(d.tag){case 0:case 11:case 15:ir(c,d,p,y),S&2048&&pf(9,d);break;case 1:ir(c,d,p,y);break;case 3:ir(c,d,p,y),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&tf(c)));break;case 12:if(S&2048){ir(c,d,p,y),c=d.stateNode;try{var A=d.memoizedProps,E=A.id,q=A.onPostCommit;typeof q=="function"&&q(E,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ie){mn(d,d.return,ie)}}else ir(c,d,p,y);break;case 31:ir(c,d,p,y);break;case 13:ir(c,d,p,y);break;case 23:break;case 22:A=d.stateNode,E=d.alternate,d.memoizedState!==null?A._visibility&2?ir(c,d,p,y):_f(c,d):A._visibility&2?ir(c,d,p,y):(A._visibility|=2,id(c,d,p,y,(d.subtreeFlags&10256)!==0||!1)),S&2048&&Zv(E,d);break;case 24:ir(c,d,p,y),S&2048&&Jv(d.alternate,d);break;default:ir(c,d,p,y)}}function id(c,d,p,y,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var A=c,E=d,q=p,ie=y,ge=E.flags;switch(E.tag){case 0:case 11:case 15:id(A,E,q,ie,S),pf(8,E);break;case 23:break;case 22:var we=E.stateNode;E.memoizedState!==null?we._visibility&2?id(A,E,q,ie,S):_f(A,E):(we._visibility|=2,id(A,E,q,ie,S)),S&&ge&2048&&Zv(E.alternate,E);break;case 24:id(A,E,q,ie,S),S&&ge&2048&&Jv(E.alternate,E);break;default:id(A,E,q,ie,S)}d=d.sibling}}function _f(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,y=d,S=y.flags;switch(y.tag){case 22:_f(p,y),S&2048&&Zv(y.alternate,y);break;case 24:_f(p,y),S&2048&&Jv(y.alternate,y);break;default:_f(p,y)}d=d.sibling}}var yf=8192;function sd(c,d,p){if(c.subtreeFlags&yf)for(c=c.child;c!==null;)AM(c,d,p),c=c.sibling}function AM(c,d,p){switch(c.tag){case 26:sd(c,d,p),c.flags&yf&&c.memoizedState!==null&&ez(p,nr,c.memoizedState,c.memoizedProps);break;case 5:sd(c,d,p);break;case 3:case 4:var y=nr;nr=y_(c.stateNode.containerInfo),sd(c,d,p),nr=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=yf,yf=16777216,sd(c,d,p),yf=y):sd(c,d,p));break;default:sd(c,d,p)}}function TM(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function bf(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Ti=y,MM(y,c)}TM(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)NM(c),c=c.sibling}function NM(c){switch(c.tag){case 0:case 11:case 15:bf(c),c.flags&2048&&ml(9,c,c.return);break;case 3:bf(c);break;case 12:bf(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,a_(c)):bf(c);break;default:bf(c)}}function a_(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Ti=y,MM(y,c)}TM(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:ml(8,d,d.return),a_(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,a_(d));break;default:a_(d)}c=c.sibling}}function MM(c,d){for(;Ti!==null;){var p=Ti;switch(p.tag){case 0:case 11:case 15:ml(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:tf(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ti=y;else e:for(p=c;Ti!==null;){y=Ti;var S=y.sibling,A=y.return;if(bM(y),y===p){Ti=null;break e}if(S!==null){S.return=A,Ti=S;break e}Ti=A}}}var p9={getCacheForType:function(c){var d=Di(fi),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p},cacheSignal:function(){return Di(fi).controller.signal}},g9=typeof WeakMap=="function"?WeakMap:Map,ln=0,wn=null,zt=null,Vt=0,fn=0,Js=null,pl=!1,ad=!1,e1=!1,xo=0,Yn=0,gl=0,Nc=0,t1=0,ea=0,rd=0,xf=null,Ms=null,n1=!1,r_=0,OM=0,o_=1/0,l_=null,_l=null,vi=0,yl=null,od=null,vo=0,i1=0,s1=null,LM=null,vf=0,a1=null;function ta(){return(ln&2)!==0&&Vt!==0?Vt&-Vt:I.T!==null?d1():Re()}function PM(){if(ea===0)if((Vt&536870912)===0||$t){var c=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),ea=c}else ea=536870912;return c=Ys.current,c!==null&&(c.flags|=32),ea}function Os(c,d,p){(c===wn&&(fn===2||fn===9)||c.cancelPendingCommit!==null)&&(ld(c,0),bl(c,Vt,ea,!1)),ei(c,p),((ln&2)===0||c!==wn)&&(c===wn&&((ln&2)===0&&(Nc|=p),Yn===4&&bl(c,Vt,ea,!1)),xr(c))}function RM(c,d,p){if((ln&6)!==0)throw Error(i(327));var y=!p&&(d&127)===0&&(d&c.expiredLanes)===0||Ja(c,d),S=y?b9(c,d):o1(c,d,!0),A=y;do{if(S===0){ad&&!y&&bl(c,d,0,!1);break}else{if(p=c.current.alternate,A&&!_9(p)){S=o1(c,d,!1),A=!1;continue}if(S===2){if(A=d,c.errorRecoveryDisabledLanes&A)var E=0;else E=c.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){d=E;e:{var q=c;S=xf;var ie=q.current.memoizedState.isDehydrated;if(ie&&(ld(q,E).flags|=256),E=o1(q,E,!1),E!==2){if(e1&&!ie){q.errorRecoveryDisabledLanes|=A,Nc|=A,S=4;break e}A=Ms,Ms=S,A!==null&&(Ms===null?Ms=A:Ms.push.apply(Ms,A))}S=E}if(A=!1,S!==2)continue}}if(S===1){ld(c,0),bl(c,d,0,!0);break}e:{switch(y=c,A=S,A){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:bl(y,d,ea,!pl);break e;case 2:Ms=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(S=r_+300-_e(),10<S)){if(bl(y,d,ea,!pl),Za(y,0,!0)!==0)break e;vo=d,y.timeoutHandle=uO(EM.bind(null,y,p,Ms,l_,n1,d,ea,Nc,rd,pl,A,"Throttled",-0,0),S);break e}EM(y,p,Ms,l_,n1,d,ea,Nc,rd,pl,A,null,-0,0)}}break}while(!0);xr(c)}function EM(c,d,p,y,S,A,E,q,ie,ge,we,Me,ye,xe){if(c.timeoutHandle=-1,Me=d.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ao},AM(d,A,Me);var et=(A&62914560)===A?r_-_e():(A&4194048)===A?OM-_e():0;if(et=tz(Me,et),et!==null){vo=A,c.cancelPendingCommit=et(qM.bind(null,c,d,A,p,y,S,E,q,ie,we,Me,null,ye,xe)),bl(c,A,E,!ge);return}}qM(c,d,A,p,y,S,E,q,ie)}function _9(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],A=S.getSnapshot;S=S.value;try{if(!$s(A(),S))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function bl(c,d,p,y){d&=~t1,d&=~Nc,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var S=d;0<S;){var A=31-Rn(S),E=1<<A;y[A]=-1,S&=~E}p!==0&&ti(c,p,d)}function c_(){return(ln&6)===0?(Sf(0),!1):!0}function r1(){if(zt!==null){if(fn===0)var c=zt.return;else c=zt,co=bc=null,Sv(c),Zu=null,sf=0,c=zt;for(;c!==null;)dM(c.alternate,c),c=c.return;zt=null}}function ld(c,d){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,F9(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),vo=0,r1(),wn=c,zt=p=oo(c.current,null),Vt=d,fn=0,Js=null,pl=!1,ad=Ja(c,d),e1=!1,rd=ea=t1=Nc=gl=Yn=0,Ms=xf=null,n1=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var S=31-Rn(y),A=1<<S;d|=c[S],y&=~A}return xo=d,Og(),p}function jM(c,d){Mt=null,I.H=hf,d===Yu||d===Ug?(d=YT(),fn=3):d===uv?(d=YT(),fn=4):fn=d===Uv?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Js=d,zt===null&&(Yn=1,Zg(c,xa(d,c.current)))}function DM(){var c=Ys.current;return c===null?!0:(Vt&4194048)===Vt?ka===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?c===ka:!1}function FM(){var c=I.H;return I.H=hf,c===null?hf:c}function UM(){var c=I.A;return I.A=p9,c}function u_(){Yn=4,pl||(Vt&4194048)!==Vt&&Ys.current!==null||(ad=!0),(gl&134217727)===0&&(Nc&134217727)===0||wn===null||bl(wn,Vt,ea,!1)}function o1(c,d,p){var y=ln;ln|=2;var S=FM(),A=UM();(wn!==c||Vt!==d)&&(l_=null,ld(c,d)),d=!1;var E=Yn;e:do try{if(fn!==0&&zt!==null){var q=zt,ie=Js;switch(fn){case 8:r1(),E=6;break e;case 3:case 2:case 9:case 6:Ys.current===null&&(d=!0);var ge=fn;if(fn=0,Js=null,cd(c,q,ie,ge),p&&ad){E=0;break e}break;default:ge=fn,fn=0,Js=null,cd(c,q,ie,ge)}}y9(),E=Yn;break}catch(we){jM(c,we)}while(!0);return d&&c.shellSuspendCounter++,co=bc=null,ln=y,I.H=S,I.A=A,zt===null&&(wn=null,Vt=0,Og()),E}function y9(){for(;zt!==null;)BM(zt)}function b9(c,d){var p=ln;ln|=2;var y=FM(),S=UM();wn!==c||Vt!==d?(l_=null,o_=_e()+500,ld(c,d)):ad=Ja(c,d);e:do try{if(fn!==0&&zt!==null){d=zt;var A=Js;t:switch(fn){case 1:fn=0,Js=null,cd(c,d,A,1);break;case 2:case 9:if($T(A)){fn=0,Js=null,IM(d);break}d=function(){fn!==2&&fn!==9||wn!==c||(fn=7),xr(c)},A.then(d,d);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:$T(A)?(fn=0,Js=null,IM(d)):(fn=0,Js=null,cd(c,d,A,7));break;case 5:var E=null;switch(zt.tag){case 26:E=zt.memoizedState;case 5:case 27:var q=zt;if(E?CO(E):q.stateNode.complete){fn=0,Js=null;var ie=q.sibling;if(ie!==null)zt=ie;else{var ge=q.return;ge!==null?(zt=ge,d_(ge)):zt=null}break t}}fn=0,Js=null,cd(c,d,A,5);break;case 6:fn=0,Js=null,cd(c,d,A,6);break;case 8:r1(),Yn=6;break e;default:throw Error(i(462))}}x9();break}catch(we){jM(c,we)}while(!0);return co=bc=null,I.H=y,I.A=S,ln=p,zt!==null?0:(wn=null,Vt=0,Og(),Yn)}function x9(){for(;zt!==null&&!ct();)BM(zt)}function BM(c){var d=cM(c.alternate,c,xo);c.memoizedProps=c.pendingProps,d===null?d_(c):zt=d}function IM(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=iM(p,d,d.pendingProps,d.type,void 0,Vt);break;case 11:d=iM(p,d,d.pendingProps,d.type.render,d.ref,Vt);break;case 5:Sv(d);default:dM(p,d),d=zt=UT(d,xo),d=cM(p,d,xo)}c.memoizedProps=c.pendingProps,d===null?d_(c):zt=d}function cd(c,d,p,y){co=bc=null,Sv(d),Zu=null,sf=0;var S=d.return;try{if(l9(c,S,d,p,Vt)){Yn=1,Zg(c,xa(p,c.current)),zt=null;return}}catch(A){if(S!==null)throw zt=S,A;Yn=1,Zg(c,xa(p,c.current)),zt=null;return}d.flags&32768?($t||y===1?c=!0:ad||(Vt&536870912)!==0?c=!1:(pl=c=!0,(y===2||y===9||y===3||y===6)&&(y=Ys.current,y!==null&&y.tag===13&&(y.flags|=16384))),zM(d,c)):d_(d)}function d_(c){var d=c;do{if((d.flags&32768)!==0){zM(d,pl);return}c=d.return;var p=d9(d.alternate,d,xo);if(p!==null){zt=p;return}if(d=d.sibling,d!==null){zt=d;return}zt=d=c}while(d!==null);Yn===0&&(Yn=5)}function zM(c,d){do{var p=h9(c.alternate,c);if(p!==null){p.flags&=32767,zt=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){zt=c;return}zt=c=p}while(c!==null);Yn=6,zt=null}function qM(c,d,p,y,S,A,E,q,ie){c.cancelPendingCommit=null;do h_();while(vi!==0);if((ln&6)!==0)throw Error(i(327));if(d!==null){if(d===c.current)throw Error(i(177));if(A=d.lanes|d.childLanes,A|=$x,en(c,p,A,E,q,ie),c===wn&&(zt=wn=null,Vt=0),od=d,yl=c,vo=p,i1=A,s1=S,LM=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,k9(bt,function(){return GM(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=I.T,I.T=null,S=K.p,K.p=2,E=ln,ln|=4;try{f9(c,d,p)}finally{ln=E,K.p=S,I.T=y}}vi=1,KM(),HM(),VM()}}function KM(){if(vi===1){vi=0;var c=yl,d=od,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=I.T,I.T=null;var y=K.p;K.p=2;var S=ln;ln|=4;try{wM(d,c);var A=b1,E=MT(c.containerInfo),q=A.focusedElem,ie=A.selectionRange;if(E!==q&&q&&q.ownerDocument&&NT(q.ownerDocument.documentElement,q)){if(ie!==null&&Hx(q)){var ge=ie.start,we=ie.end;if(we===void 0&&(we=ge),"selectionStart"in q)q.selectionStart=ge,q.selectionEnd=Math.min(we,q.value.length);else{var Me=q.ownerDocument||document,ye=Me&&Me.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),et=q.textContent.length,mt=Math.min(ie.start,et),bn=ie.end===void 0?mt:Math.min(ie.end,et);!xe.extend&&mt>bn&&(E=bn,bn=mt,mt=E);var ue=TT(q,mt),oe=TT(q,bn);if(ue&&oe&&(xe.rangeCount!==1||xe.anchorNode!==ue.node||xe.anchorOffset!==ue.offset||xe.focusNode!==oe.node||xe.focusOffset!==oe.offset)){var pe=Me.createRange();pe.setStart(ue.node,ue.offset),xe.removeAllRanges(),mt>bn?(xe.addRange(pe),xe.extend(oe.node,oe.offset)):(pe.setEnd(oe.node,oe.offset),xe.addRange(pe))}}}}for(Me=[],xe=q;xe=xe.parentNode;)xe.nodeType===1&&Me.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Me.length;q++){var Ce=Me[q];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}k_=!!y1,b1=y1=null}finally{ln=S,K.p=y,I.T=p}}c.current=d,vi=2}}function HM(){if(vi===2){vi=0;var c=yl,d=od,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=I.T,I.T=null;var y=K.p;K.p=2;var S=ln;ln|=4;try{yM(c,d.alternate,d)}finally{ln=S,K.p=y,I.T=p}}vi=3}}function VM(){if(vi===4||vi===3){vi=0,le();var c=yl,d=od,p=vo,y=LM;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?vi=5:(vi=0,od=yl=null,WM(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(_l=null),Ne(p),d=d.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Nt,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=I.T,S=K.p,K.p=2,I.T=null;try{for(var A=c.onRecoverableError,E=0;E<y.length;E++){var q=y[E];A(q.value,{componentStack:q.stack})}}finally{I.T=d,K.p=S}}(vo&3)!==0&&h_(),xr(c),S=c.pendingLanes,(p&261930)!==0&&(S&42)!==0?c===a1?vf++:(vf=0,a1=c):vf=0,Sf(0)}}function WM(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,tf(d)))}function h_(){return KM(),HM(),VM(),GM()}function GM(){if(vi!==5)return!1;var c=yl,d=i1;i1=0;var p=Ne(vo),y=I.T,S=K.p;try{K.p=32>p?32:p,I.T=null,p=s1,s1=null;var A=yl,E=vo;if(vi=0,od=yl=null,vo=0,(ln&6)!==0)throw Error(i(331));var q=ln;if(ln|=4,NM(A.current),CM(A,A.current,E,p),ln=q,Sf(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Nt,A)}catch{}return!0}finally{K.p=S,I.T=y,WM(c,d)}}function XM(c,d,p){d=xa(p,d),d=Fv(c.stateNode,d,2),c=dl(c,d,2),c!==null&&(ei(c,2),xr(c))}function mn(c,d,p){if(c.tag===3)XM(c,c,p);else for(;d!==null;){if(d.tag===3){XM(d,c,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(_l===null||!_l.has(y))){c=xa(p,c),p=$N(2),y=dl(d,p,2),y!==null&&(QN(p,y,d,c),ei(y,2),xr(y));break}}d=d.return}}function l1(c,d,p){var y=c.pingCache;if(y===null){y=c.pingCache=new g9;var S=new Set;y.set(d,S)}else S=y.get(d),S===void 0&&(S=new Set,y.set(d,S));S.has(p)||(e1=!0,S.add(p),c=v9.bind(null,c,d,p),d.then(c,c))}function v9(c,d,p){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,wn===c&&(Vt&p)===p&&(Yn===4||Yn===3&&(Vt&62914560)===Vt&&300>_e()-r_?(ln&2)===0&&ld(c,0):t1|=p,rd===Vt&&(rd=0)),xr(c)}function $M(c,d){d===0&&(d=Qe()),c=gc(c,d),c!==null&&(ei(c,d),xr(c))}function S9(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),$M(c,p)}function w9(c,d){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(d),$M(c,p)}function k9(c,d){return Ie(c,d)}var f_=null,ud=null,c1=!1,m_=!1,u1=!1,xl=0;function xr(c){c!==ud&&c.next===null&&(ud===null?f_=ud=c:ud=ud.next=c),m_=!0,c1||(c1=!0,A9())}function Sf(c,d){if(!u1&&m_){u1=!0;do for(var p=!1,y=f_;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var A=0;else{var E=y.suspendedLanes,q=y.pingedLanes;A=(1<<31-Rn(42|c)+1)-1,A&=S&~(E&~q),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,JM(y,A))}else A=Vt,A=Za(y,y===wn?A:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(A&3)===0||Ja(y,A)||(p=!0,JM(y,A));y=y.next}while(p);u1=!1}}function C9(){QM()}function QM(){m_=c1=!1;var c=0;xl!==0&&D9()&&(c=xl);for(var d=_e(),p=null,y=f_;y!==null;){var S=y.next,A=YM(y,d);A===0?(y.next=null,p===null?f_=S:p.next=S,S===null&&(ud=p)):(p=y,(c!==0||(A&3)!==0)&&(m_=!0)),y=S}vi!==0&&vi!==5||Sf(c),xl!==0&&(xl=0)}function YM(c,d){for(var p=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,A=c.pendingLanes&-62914561;0<A;){var E=31-Rn(A),q=1<<E,ie=S[E];ie===-1?((q&p)===0||(q&y)!==0)&&(S[E]=Te(q,d)):ie<=d&&(c.expiredLanes|=q),A&=~q}if(d=wn,p=Vt,p=Za(c,c===d?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===d&&(fn===2||fn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&Je(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Ja(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(y!==null&&Je(y),Ne(p)){case 2:case 8:p=yt;break;case 32:p=bt;break;case 268435456:p=hn;break;default:p=bt}return y=ZM.bind(null,c),p=Ie(p,y),c.callbackPriority=d,c.callbackNode=p,d}return y!==null&&y!==null&&Je(y),c.callbackPriority=2,c.callbackNode=null,2}function ZM(c,d){if(vi!==0&&vi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(h_()&&c.callbackNode!==p)return null;var y=Vt;return y=Za(c,c===wn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(RM(c,y,d),YM(c,_e()),c.callbackNode!=null&&c.callbackNode===p?ZM.bind(null,c):null)}function JM(c,d){if(h_())return null;RM(c,d,!0)}function A9(){U9(function(){(ln&6)!==0?Ie($e,C9):QM()})}function d1(){if(xl===0){var c=$u;c===0&&(c=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),xl=c}return xl}function eO(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Sg(""+c)}function tO(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function T9(c,d,p,y,S){if(d==="submit"&&p&&p.stateNode===S){var A=eO((S[Ue]||null).action),E=y.submitter;E&&(d=(d=E[Ue]||null)?eO(d.formAction):E.getAttribute("formAction"),d!==null&&(A=d,E=null));var q=new Ag("action","action",null,y,S);c.push({event:q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(xl!==0){var ie=E?tO(S,E):new FormData(S);Lv(p,{pending:!0,data:ie,method:S.method,action:A},null,ie)}}else typeof A=="function"&&(q.preventDefault(),ie=E?tO(S,E):new FormData(S),Lv(p,{pending:!0,data:ie,method:S.method,action:A},A,ie))},currentTarget:S}]})}}for(var h1=0;h1<Xx.length;h1++){var f1=Xx[h1],N9=f1.toLowerCase(),M9=f1[0].toUpperCase()+f1.slice(1);tr(N9,"on"+M9)}tr(PT,"onAnimationEnd"),tr(RT,"onAnimationIteration"),tr(ET,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(V7,"onTransitionRun"),tr(W7,"onTransitionStart"),tr(G7,"onTransitionCancel"),tr(jT,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wf));function nO(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],S=y.event;y=y.listeners;e:{var A=void 0;if(d)for(var E=y.length-1;0<=E;E--){var q=y[E],ie=q.instance,ge=q.currentTarget;if(q=q.listener,ie!==A&&S.isPropagationStopped())break e;A=q,S.currentTarget=ge;try{A(S)}catch(we){Mg(we)}S.currentTarget=null,A=ie}else for(E=0;E<y.length;E++){if(q=y[E],ie=q.instance,ge=q.currentTarget,q=q.listener,ie!==A&&S.isPropagationStopped())break e;A=q,S.currentTarget=ge;try{A(S)}catch(we){Mg(we)}S.currentTarget=null,A=ie}}}}function qt(c,d){var p=d[tt];p===void 0&&(p=d[tt]=new Set);var y=c+"__bubble";p.has(y)||(iO(d,c,2,!1),p.add(y))}function m1(c,d,p){var y=0;d&&(y|=4),iO(p,c,y,d)}var p_="_reactListening"+Math.random().toString(36).slice(2);function p1(c){if(!c[p_]){c[p_]=!0,Pt.forEach(function(p){p!=="selectionchange"&&(O9.has(p)||m1(p,!1,c),m1(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[p_]||(d[p_]=!0,m1("selectionchange",!1,d))}}function iO(c,d,p,y){switch(PO(d)){case 2:var S=sz;break;case 8:S=az;break;default:S=O1}p=S.bind(null,d,p,c),S=void 0,!jx||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(d,p,{capture:!0,passive:S}):c.addEventListener(d,p,!0):S!==void 0?c.addEventListener(d,p,{passive:S}):c.addEventListener(d,p,!1)}function g1(c,d,p,y,S){var A=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var E=y.tag;if(E===3||E===4){var q=y.stateNode.containerInfo;if(q===S)break;if(E===4)for(E=y.return;E!==null;){var ie=E.tag;if((ie===3||ie===4)&&E.stateNode.containerInfo===S)return;E=E.return}for(;q!==null;){if(E=En(q),E===null)return;if(ie=E.tag,ie===5||ie===6||ie===26||ie===27){y=A=E;continue e}q=q.parentNode}}y=y.return}lT(function(){var ge=A,we=Rx(p),Me=[];e:{var ye=DT.get(c);if(ye!==void 0){var xe=Ag,et=c;switch(c){case"keypress":if(kg(p)===0)break e;case"keydown":case"keyup":xe=w7;break;case"focusin":et="focus",xe=Bx;break;case"focusout":et="blur",xe=Bx;break;case"beforeblur":case"afterblur":xe=Bx;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=dT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=d7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=A7;break;case PT:case RT:case ET:xe=m7;break;case jT:xe=N7;break;case"scroll":case"scrollend":xe=c7;break;case"wheel":xe=O7;break;case"copy":case"cut":case"paste":xe=g7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=fT;break;case"toggle":case"beforetoggle":xe=P7}var mt=(d&4)!==0,bn=!mt&&(c==="scroll"||c==="scrollend"),ue=mt?ye!==null?ye+"Capture":null:ye;mt=[];for(var oe=ge,pe;oe!==null;){var Ce=oe;if(pe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||pe===null||ue===null||(Ce=Hh(oe,ue),Ce!=null&&mt.push(kf(oe,Ce,pe))),bn)break;oe=oe.return}0<mt.length&&(ye=new xe(ye,et,null,p,we),Me.push({event:ye,listeners:mt}))}}if((d&7)===0){e:{if(ye=c==="mouseover"||c==="pointerover",xe=c==="mouseout"||c==="pointerout",ye&&p!==Px&&(et=p.relatedTarget||p.fromElement)&&(En(et)||et[Xe]))break e;if((xe||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(et=p.relatedTarget||p.toElement,xe=ge,et=et?En(et):null,et!==null&&(bn=a(et),mt=et.tag,et!==bn||mt!==5&&mt!==27&&mt!==6)&&(et=null)):(xe=null,et=ge),xe!==et)){if(mt=dT,Ce="onMouseLeave",ue="onMouseEnter",oe="mouse",(c==="pointerout"||c==="pointerover")&&(mt=fT,Ce="onPointerLeave",ue="onPointerEnter",oe="pointer"),bn=xe==null?ye:hi(xe),pe=et==null?ye:hi(et),ye=new mt(Ce,oe+"leave",xe,p,we),ye.target=bn,ye.relatedTarget=pe,Ce=null,En(we)===ge&&(mt=new mt(ue,oe+"enter",et,p,we),mt.target=pe,mt.relatedTarget=bn,Ce=mt),bn=Ce,xe&&et)t:{for(mt=L9,ue=xe,oe=et,pe=0,Ce=ue;Ce;Ce=mt(Ce))pe++;Ce=0;for(var ut=oe;ut;ut=mt(ut))Ce++;for(;0<pe-Ce;)ue=mt(ue),pe--;for(;0<Ce-pe;)oe=mt(oe),Ce--;for(;pe--;){if(ue===oe||oe!==null&&ue===oe.alternate){mt=ue;break t}ue=mt(ue),oe=mt(oe)}mt=null}else mt=null;xe!==null&&sO(Me,ye,xe,mt,!1),et!==null&&bn!==null&&sO(Me,bn,et,mt,!0)}}e:{if(ye=ge?hi(ge):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var an=vT;else if(bT(ye))if(ST)an=q7;else{an=I7;var at=B7}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&Lx(ge.elementType)&&(an=vT):an=z7;if(an&&(an=an(c,ge))){xT(Me,an,p,we);break e}at&&at(c,ye,ge),c==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&Ox(ye,"number",ye.value)}switch(at=ge?hi(ge):window,c){case"focusin":(bT(at)||at.contentEditable==="true")&&(zu=at,Vx=ge,Zh=null);break;case"focusout":Zh=Vx=zu=null;break;case"mousedown":Wx=!0;break;case"contextmenu":case"mouseup":case"dragend":Wx=!1,OT(Me,p,we);break;case"selectionchange":if(H7)break;case"keydown":case"keyup":OT(Me,p,we)}var Rt;if(zx)e:{switch(c){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Iu?_T(c,p)&&(Wt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Wt="onCompositionStart");Wt&&(mT&&p.locale!=="ko"&&(Iu||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Iu&&(Rt=cT()):(sl=we,Dx="value"in sl?sl.value:sl.textContent,Iu=!0)),at=g_(ge,Wt),0<at.length&&(Wt=new hT(Wt,c,null,p,we),Me.push({event:Wt,listeners:at}),Rt?Wt.data=Rt:(Rt=yT(p),Rt!==null&&(Wt.data=Rt)))),(Rt=E7?j7(c,p):D7(c,p))&&(Wt=g_(ge,"onBeforeInput"),0<Wt.length&&(at=new hT("onBeforeInput","beforeinput",null,p,we),Me.push({event:at,listeners:Wt}),at.data=Rt)),T9(Me,c,ge,p,we)}nO(Me,d)})}function kf(c,d,p){return{instance:c,listener:d,currentTarget:p}}function g_(c,d){for(var p=d+"Capture",y=[];c!==null;){var S=c,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=Hh(c,p),S!=null&&y.unshift(kf(c,S,A)),S=Hh(c,d),S!=null&&y.push(kf(c,S,A))),c.tag===3)return y;c=c.return}return[]}function L9(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function sO(c,d,p,y,S){for(var A=d._reactName,E=[];p!==null&&p!==y;){var q=p,ie=q.alternate,ge=q.stateNode;if(q=q.tag,ie!==null&&ie===y)break;q!==5&&q!==26&&q!==27||ge===null||(ie=ge,S?(ge=Hh(p,A),ge!=null&&E.unshift(kf(p,ge,ie))):S||(ge=Hh(p,A),ge!=null&&E.push(kf(p,ge,ie)))),p=p.return}E.length!==0&&c.push({event:d,listeners:E})}var P9=/\r\n?/g,R9=/\u0000|\uFFFD/g;function aO(c){return(typeof c=="string"?c:""+c).replace(P9,`
`).replace(R9,"")}function rO(c,d){return d=aO(d),aO(c)===d}function yn(c,d,p,y,S,A){switch(p){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Fu(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Fu(c,""+y);break;case"className":er(c,"class",y);break;case"tabIndex":er(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":er(c,p,y);break;case"style":rT(c,y,A);break;case"data":if(d!=="object"){er(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Sg(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(p==="formAction"?(d!=="input"&&yn(c,d,"name",S.name,S,null),yn(c,d,"formEncType",S.formEncType,S,null),yn(c,d,"formMethod",S.formMethod,S,null),yn(c,d,"formTarget",S.formTarget,S,null)):(yn(c,d,"encType",S.encType,S,null),yn(c,d,"method",S.method,S,null),yn(c,d,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Sg(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=ao);break;case"onScroll":y!=null&&qt("scroll",c);break;case"onScrollEnd":y!=null&&qt("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(i(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Sg(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":qt("beforetoggle",c),qt("toggle",c),ni(c,"popover",y);break;case"xlinkActuate":Ei(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ei(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ei(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ei(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ei(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ei(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ei(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ei(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ei(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":ni(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=o7.get(p)||p,ni(c,p,y))}}function _1(c,d,p,y,S,A){switch(p){case"style":rT(c,y,A);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(i(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Fu(c,y):(typeof y=="number"||typeof y=="bigint")&&Fu(c,""+y);break;case"onScroll":y!=null&&qt("scroll",c);break;case"onScrollEnd":y!=null&&qt("scrollend",c);break;case"onClick":y!=null&&(c.onclick=ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),d=p.slice(2,S?p.length-7:void 0),A=c[Ue]||null,A=A!=null?A[p]:null,typeof A=="function"&&c.removeEventListener(d,A,S),typeof y=="function")){typeof A!="function"&&A!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,y,S);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):ni(c,p,y)}}}function Ui(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",c),qt("load",c);var y=!1,S=!1,A;for(A in p)if(p.hasOwnProperty(A)){var E=p[A];if(E!=null)switch(A){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:yn(c,d,A,E,p,null)}}S&&yn(c,d,"srcSet",p.srcSet,p,null),y&&yn(c,d,"src",p.src,p,null);return;case"input":qt("invalid",c);var q=A=E=S=null,ie=null,ge=null;for(y in p)if(p.hasOwnProperty(y)){var we=p[y];if(we!=null)switch(y){case"name":S=we;break;case"type":E=we;break;case"checked":ie=we;break;case"defaultChecked":ge=we;break;case"value":A=we;break;case"defaultValue":q=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,d));break;default:yn(c,d,y,we,p,null)}}nT(c,A,q,ie,ge,E,S,!1);return;case"select":qt("invalid",c),y=E=A=null;for(S in p)if(p.hasOwnProperty(S)&&(q=p[S],q!=null))switch(S){case"value":A=q;break;case"defaultValue":E=q;break;case"multiple":y=q;default:yn(c,d,S,q,p,null)}d=A,p=E,c.multiple=!!y,d!=null?Du(c,!!y,d,!1):p!=null&&Du(c,!!y,p,!0);return;case"textarea":qt("invalid",c),A=S=y=null;for(E in p)if(p.hasOwnProperty(E)&&(q=p[E],q!=null))switch(E){case"value":y=q;break;case"defaultValue":S=q;break;case"children":A=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:yn(c,d,E,q,p,null)}sT(c,y,S,A);return;case"option":for(ie in p)if(p.hasOwnProperty(ie)&&(y=p[ie],y!=null))switch(ie){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:yn(c,d,ie,y,p,null)}return;case"dialog":qt("beforetoggle",c),qt("toggle",c),qt("cancel",c),qt("close",c);break;case"iframe":case"object":qt("load",c);break;case"video":case"audio":for(y=0;y<wf.length;y++)qt(wf[y],c);break;case"image":qt("error",c),qt("load",c);break;case"details":qt("toggle",c);break;case"embed":case"source":case"link":qt("error",c),qt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in p)if(p.hasOwnProperty(ge)&&(y=p[ge],y!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:yn(c,d,ge,y,p,null)}return;default:if(Lx(d)){for(we in p)p.hasOwnProperty(we)&&(y=p[we],y!==void 0&&_1(c,d,we,y,p,void 0));return}}for(q in p)p.hasOwnProperty(q)&&(y=p[q],y!=null&&yn(c,d,q,y,p,null))}function E9(c,d,p,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,E=null,q=null,ie=null,ge=null,we=null;for(xe in p){var Me=p[xe];if(p.hasOwnProperty(xe)&&Me!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":ie=Me;default:y.hasOwnProperty(xe)||yn(c,d,xe,null,y,Me)}}for(var ye in y){var xe=y[ye];if(Me=p[ye],y.hasOwnProperty(ye)&&(xe!=null||Me!=null))switch(ye){case"type":A=xe;break;case"name":S=xe;break;case"checked":ge=xe;break;case"defaultChecked":we=xe;break;case"value":E=xe;break;case"defaultValue":q=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,d));break;default:xe!==Me&&yn(c,d,ye,xe,y,Me)}}Mx(c,E,q,ie,ge,we,A,S);return;case"select":xe=E=q=ye=null;for(A in p)if(ie=p[A],p.hasOwnProperty(A)&&ie!=null)switch(A){case"value":break;case"multiple":xe=ie;default:y.hasOwnProperty(A)||yn(c,d,A,null,y,ie)}for(S in y)if(A=y[S],ie=p[S],y.hasOwnProperty(S)&&(A!=null||ie!=null))switch(S){case"value":ye=A;break;case"defaultValue":q=A;break;case"multiple":E=A;default:A!==ie&&yn(c,d,S,A,y,ie)}d=q,p=E,y=xe,ye!=null?Du(c,!!p,ye,!1):!!y!=!!p&&(d!=null?Du(c,!!p,d,!0):Du(c,!!p,p?[]:"",!1));return;case"textarea":xe=ye=null;for(q in p)if(S=p[q],p.hasOwnProperty(q)&&S!=null&&!y.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:yn(c,d,q,null,y,S)}for(E in y)if(S=y[E],A=p[E],y.hasOwnProperty(E)&&(S!=null||A!=null))switch(E){case"value":ye=S;break;case"defaultValue":xe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&yn(c,d,E,S,y,A)}iT(c,ye,xe);return;case"option":for(var et in p)if(ye=p[et],p.hasOwnProperty(et)&&ye!=null&&!y.hasOwnProperty(et))switch(et){case"selected":c.selected=!1;break;default:yn(c,d,et,null,y,ye)}for(ie in y)if(ye=y[ie],xe=p[ie],y.hasOwnProperty(ie)&&ye!==xe&&(ye!=null||xe!=null))switch(ie){case"selected":c.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:yn(c,d,ie,ye,y,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in p)ye=p[mt],p.hasOwnProperty(mt)&&ye!=null&&!y.hasOwnProperty(mt)&&yn(c,d,mt,null,y,ye);for(ge in y)if(ye=y[ge],xe=p[ge],y.hasOwnProperty(ge)&&ye!==xe&&(ye!=null||xe!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,d));break;default:yn(c,d,ge,ye,y,xe)}return;default:if(Lx(d)){for(var bn in p)ye=p[bn],p.hasOwnProperty(bn)&&ye!==void 0&&!y.hasOwnProperty(bn)&&_1(c,d,bn,void 0,y,ye);for(we in y)ye=y[we],xe=p[we],!y.hasOwnProperty(we)||ye===xe||ye===void 0&&xe===void 0||_1(c,d,we,ye,y,xe);return}}for(var ue in p)ye=p[ue],p.hasOwnProperty(ue)&&ye!=null&&!y.hasOwnProperty(ue)&&yn(c,d,ue,null,y,ye);for(Me in y)ye=y[Me],xe=p[Me],!y.hasOwnProperty(Me)||ye===xe||ye==null&&xe==null||yn(c,d,Me,ye,y,xe)}function oO(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j9(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var S=p[y],A=S.transferSize,E=S.initiatorType,q=S.duration;if(A&&q&&oO(E)){for(E=0,q=S.responseEnd,y+=1;y<p.length;y++){var ie=p[y],ge=ie.startTime;if(ge>q)break;var we=ie.transferSize,Me=ie.initiatorType;we&&oO(Me)&&(ie=ie.responseEnd,E+=we*(ie<q?1:(q-ge)/(ie-ge)))}if(--y,d+=8*(A+E)/(S.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var y1=null,b1=null;function __(c){return c.nodeType===9?c:c.ownerDocument}function lO(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cO(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function x1(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var v1=null;function D9(){var c=window.event;return c&&c.type==="popstate"?c===v1?!1:(v1=c,!0):(v1=null,!1)}var uO=typeof setTimeout=="function"?setTimeout:void 0,F9=typeof clearTimeout=="function"?clearTimeout:void 0,dO=typeof Promise=="function"?Promise:void 0,U9=typeof queueMicrotask=="function"?queueMicrotask:typeof dO<"u"?function(c){return dO.resolve(null).then(c).catch(B9)}:uO;function B9(c){setTimeout(function(){throw c})}function vl(c){return c==="head"}function hO(c,d){var p=d,y=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(S),md(d);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Cf(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Cf(p);for(var A=p.firstChild;A;){var E=A.nextSibling,q=A.nodeName;A[gn]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&A.rel.toLowerCase()==="stylesheet"||p.removeChild(A),A=E}}else p==="body"&&Cf(c.ownerDocument.body);p=S}while(p);md(d)}function fO(c,d){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function S1(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":S1(p),Sn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function I9(c,d,p,y){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[gn])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(A=c.getAttribute("rel"),A==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(A!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(A=c.getAttribute("src"),(A!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===A)return c}else return c;if(c=Ca(c.nextSibling),c===null)break}return null}function z9(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=Ca(c.nextSibling),c===null))return null;return c}function mO(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Ca(c.nextSibling),c===null))return null;return c}function w1(c){return c.data==="$?"||c.data==="$~"}function k1(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function q9(c,d){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||p.readyState!=="loading")d();else{var y=function(){d(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function Ca(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var C1=null;function pO(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(d===0)return Ca(c.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}c=c.nextSibling}return null}function gO(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return c;d--}else p!=="/$"&&p!=="/&"||d++}c=c.previousSibling}return null}function _O(c,d,p){switch(d=__(p),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Cf(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);Sn(c)}var Aa=new Map,yO=new Set;function y_(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var So=K.d;K.d={f:K9,r:H9,D:V9,C:W9,L:G9,m:X9,X:Q9,S:$9,M:Y9};function K9(){var c=So.f(),d=c_();return c||d}function H9(c){var d=It(c);d!==null&&d.tag===5&&d.type==="form"?jN(d):So.r(c)}var dd=typeof document>"u"?null:document;function bO(c,d,p){var y=dd;if(y&&typeof d=="string"&&d){var S=ya(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),yO.has(S)||(yO.add(S),c={rel:c,crossOrigin:p,href:d},y.querySelector(S)===null&&(d=y.createElement("link"),Ui(d,"link",c),ot(d),y.head.appendChild(d)))}}function V9(c){So.D(c),bO("dns-prefetch",c,null)}function W9(c,d){So.C(c,d),bO("preconnect",c,d)}function G9(c,d,p){So.L(c,d,p);var y=dd;if(y&&c&&d){var S='link[rel="preload"][as="'+ya(d)+'"]';d==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+ya(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+ya(p.imageSizes)+'"]')):S+='[href="'+ya(c)+'"]';var A=S;switch(d){case"style":A=hd(c);break;case"script":A=fd(c)}Aa.has(A)||(c=m({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),Aa.set(A,c),y.querySelector(S)!==null||d==="style"&&y.querySelector(Af(A))||d==="script"&&y.querySelector(Tf(A))||(d=y.createElement("link"),Ui(d,"link",c),ot(d),y.head.appendChild(d)))}}function X9(c,d){So.m(c,d);var p=dd;if(p&&c){var y=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+ya(y)+'"][href="'+ya(c)+'"]',A=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=fd(c)}if(!Aa.has(A)&&(c=m({rel:"modulepreload",href:c},d),Aa.set(A,c),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Tf(A)))return}y=p.createElement("link"),Ui(y,"link",c),ot(y),p.head.appendChild(y)}}}function $9(c,d,p){So.S(c,d,p);var y=dd;if(y&&c){var S=Be(y).hoistableStyles,A=hd(c);d=d||"default";var E=S.get(A);if(!E){var q={loading:0,preload:null};if(E=y.querySelector(Af(A)))q.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":d},p),(p=Aa.get(A))&&A1(c,p);var ie=E=y.createElement("link");ot(ie),Ui(ie,"link",c),ie._p=new Promise(function(ge,we){ie.onload=ge,ie.onerror=we}),ie.addEventListener("load",function(){q.loading|=1}),ie.addEventListener("error",function(){q.loading|=2}),q.loading|=4,b_(E,d,y)}E={type:"stylesheet",instance:E,count:1,state:q},S.set(A,E)}}}function Q9(c,d){So.X(c,d);var p=dd;if(p&&c){var y=Be(p).hoistableScripts,S=fd(c),A=y.get(S);A||(A=p.querySelector(Tf(S)),A||(c=m({src:c,async:!0},d),(d=Aa.get(S))&&T1(c,d),A=p.createElement("script"),ot(A),Ui(A,"link",c),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(S,A))}}function Y9(c,d){So.M(c,d);var p=dd;if(p&&c){var y=Be(p).hoistableScripts,S=fd(c),A=y.get(S);A||(A=p.querySelector(Tf(S)),A||(c=m({src:c,async:!0,type:"module"},d),(d=Aa.get(S))&&T1(c,d),A=p.createElement("script"),ot(A),Ui(A,"link",c),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(S,A))}}function xO(c,d,p,y){var S=(S=G.current)?y_(S):null;if(!S)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=hd(p.href),p=Be(S).hoistableStyles,y=p.get(d),y||(y={type:"style",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=hd(p.href);var A=Be(S).hoistableStyles,E=A.get(c);if(E||(S=S.ownerDocument||S,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(c,E),(A=S.querySelector(Af(c)))&&!A._p&&(E.instance=A,E.state.loading=5),Aa.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Aa.set(c,p),A||Z9(S,c,p,E.state))),d&&y===null)throw Error(i(528,""));return E}if(d&&y!==null)throw Error(i(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=fd(p),p=Be(S).hoistableScripts,y=p.get(d),y||(y={type:"script",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function hd(c){return'href="'+ya(c)+'"'}function Af(c){return'link[rel="stylesheet"]['+c+"]"}function vO(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function Z9(c,d,p,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),Ui(d,"link",p),ot(d),c.head.appendChild(d))}function fd(c){return'[src="'+ya(c)+'"]'}function Tf(c){return"script[async]"+c}function SO(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+ya(p.href)+'"]');if(y)return d.instance=y,ot(y),y;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),ot(y),Ui(y,"style",S),b_(y,p.precedence,c),d.instance=y;case"stylesheet":S=hd(p.href);var A=c.querySelector(Af(S));if(A)return d.state.loading|=4,d.instance=A,ot(A),A;y=vO(p),(S=Aa.get(S))&&A1(y,S),A=(c.ownerDocument||c).createElement("link"),ot(A);var E=A;return E._p=new Promise(function(q,ie){E.onload=q,E.onerror=ie}),Ui(A,"link",y),d.state.loading|=4,b_(A,p.precedence,c),d.instance=A;case"script":return A=fd(p.src),(S=c.querySelector(Tf(A)))?(d.instance=S,ot(S),S):(y=p,(S=Aa.get(A))&&(y=m({},p),T1(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),ot(S),Ui(S,"link",y),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,b_(y,p.precedence,c));return d.instance}function b_(c,d,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,A=S,E=0;E<y.length;E++){var q=y[E];if(q.dataset.precedence===d)A=q;else if(A!==S)break}A?A.parentNode.insertBefore(c,A.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function A1(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function T1(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var x_=null;function wO(c,d,p){if(x_===null){var y=new Map,S=x_=new Map;S.set(p,y)}else S=x_,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var A=p[S];if(!(A[gn]||A[je]||c==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var E=A.getAttribute(d)||"";E=c+E;var q=y.get(E);q?q.push(A):y.set(E,[A])}}return y}function kO(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function J9(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function CO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function ez(c,d,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=hd(y.href),A=d.querySelector(Af(S));if(A){d=A._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=v_.bind(c),d.then(c,c)),p.state.loading|=4,p.instance=A,ot(A);return}A=d.ownerDocument||d,y=vO(y),(S=Aa.get(S))&&A1(y,S),A=A.createElement("link"),ot(A);var E=A;E._p=new Promise(function(q,ie){E.onload=q,E.onerror=ie}),Ui(A,"link",y),p.instance=A}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=v_.bind(c),d.addEventListener("load",p),d.addEventListener("error",p))}}var N1=0;function tz(c,d){return c.stylesheets&&c.count===0&&w_(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&w_(c,c.stylesheets),c.unsuspend){var A=c.unsuspend;c.unsuspend=null,A()}},6e4+d);0<c.imgBytes&&N1===0&&(N1=62500*j9());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&w_(c,c.stylesheets),c.unsuspend)){var A=c.unsuspend;c.unsuspend=null,A()}},(c.imgBytes>N1?50:800)+d);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function v_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)w_(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var S_=null;function w_(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,S_=new Map,d.forEach(nz,c),S_=null,v_.call(c))}function nz(c,d){if(!(d.state.loading&4)){var p=S_.get(c);if(p)var y=p.get(null);else{p=new Map,S_.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var E=S[A];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(p.set(E.dataset.precedence,E),y=E)}y&&p.set(null,y)}S=d.instance,E=S.getAttribute("data-precedence"),A=p.get(E)||y,A===y&&p.set(null,S),p.set(E,S),this.count++,y=v_.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),A?A.parentNode.insertBefore(S,A.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Nf={$$typeof:N,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function iz(c,d,p,y,S,A,E,q,ie){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function AO(c,d,p,y,S,A,E,q,ie,ge,we,Me){return c=new iz(c,d,p,E,ie,ge,we,Me,q),d=1,A===!0&&(d|=24),A=Qs(3,null,null,d),c.current=A,A.stateNode=c,d=ov(),d.refCount++,c.pooledCache=d,d.refCount++,A.memoizedState={element:y,isDehydrated:p,cache:d},dv(A),c}function TO(c){return c?(c=Hu,c):Hu}function NO(c,d,p,y,S,A){S=TO(S),y.context===null?y.context=S:y.pendingContext=S,y=ul(d),y.payload={element:p},A=A===void 0?null:A,A!==null&&(y.callback=A),p=dl(c,y,d),p!==null&&(Os(p,c,d),rf(p,c,d))}function MO(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function M1(c,d){MO(c,d),(c=c.alternate)&&MO(c,d)}function OO(c){if(c.tag===13||c.tag===31){var d=gc(c,67108864);d!==null&&Os(d,c,67108864),M1(c,67108864)}}function LO(c){if(c.tag===13||c.tag===31){var d=ta();d=fe(d);var p=gc(c,d);p!==null&&Os(p,c,d),M1(c,d)}}var k_=!0;function sz(c,d,p,y){var S=I.T;I.T=null;var A=K.p;try{K.p=2,O1(c,d,p,y)}finally{K.p=A,I.T=S}}function az(c,d,p,y){var S=I.T;I.T=null;var A=K.p;try{K.p=8,O1(c,d,p,y)}finally{K.p=A,I.T=S}}function O1(c,d,p,y){if(k_){var S=L1(y);if(S===null)g1(c,d,y,C_,p),RO(c,y);else if(oz(S,c,d,p,y))y.stopPropagation();else if(RO(c,y),d&4&&-1<rz.indexOf(c)){for(;S!==null;){var A=It(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var E=Xs(A.pendingLanes);if(E!==0){var q=A;for(q.pendingLanes|=2,q.entangledLanes|=2;E;){var ie=1<<31-Rn(E);q.entanglements[1]|=ie,E&=~ie}xr(A),(ln&6)===0&&(o_=_e()+500,Sf(0))}}break;case 31:case 13:q=gc(A,2),q!==null&&Os(q,A,2),c_(),M1(A,2)}if(A=L1(y),A===null&&g1(c,d,y,C_,p),A===S)break;S=A}S!==null&&y.stopPropagation()}else g1(c,d,y,null,p)}}function L1(c){return c=Rx(c),P1(c)}var C_=null;function P1(c){if(C_=null,c=En(c),c!==null){var d=a(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=r(d),c!==null)return c;c=null}else if(p===31){if(c=o(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return C_=c,null}function PO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case $e:return 2;case yt:return 8;case bt:case pt:return 32;case hn:return 268435456;default:return 32}default:return 32}}var R1=!1,Sl=null,wl=null,kl=null,Mf=new Map,Of=new Map,Cl=[],rz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RO(c,d){switch(c){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":Mf.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(d.pointerId)}}function Lf(c,d,p,y,S,A){return c===null||c.nativeEvent!==A?(c={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:A,targetContainers:[S]},d!==null&&(d=It(d),d!==null&&OO(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function oz(c,d,p,y,S){switch(d){case"focusin":return Sl=Lf(Sl,c,d,p,y,S),!0;case"dragenter":return wl=Lf(wl,c,d,p,y,S),!0;case"mouseover":return kl=Lf(kl,c,d,p,y,S),!0;case"pointerover":var A=S.pointerId;return Mf.set(A,Lf(Mf.get(A)||null,c,d,p,y,S)),!0;case"gotpointercapture":return A=S.pointerId,Of.set(A,Lf(Of.get(A)||null,c,d,p,y,S)),!0}return!1}function EO(c){var d=En(c.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=r(p),d!==null){c.blockedOn=d,Ge(c.priority,function(){LO(p)});return}}else if(d===31){if(d=o(p),d!==null){c.blockedOn=d,Ge(c.priority,function(){LO(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function A_(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=L1(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Px=y,p.target.dispatchEvent(y),Px=null}else return d=It(p),d!==null&&OO(d),c.blockedOn=p,!1;d.shift()}return!0}function jO(c,d,p){A_(c)&&p.delete(d)}function lz(){R1=!1,Sl!==null&&A_(Sl)&&(Sl=null),wl!==null&&A_(wl)&&(wl=null),kl!==null&&A_(kl)&&(kl=null),Mf.forEach(jO),Of.forEach(jO)}function T_(c,d){c.blockedOn===d&&(c.blockedOn=null,R1||(R1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lz)))}var N_=null;function DO(c){N_!==c&&(N_=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){N_===c&&(N_=null);for(var d=0;d<c.length;d+=3){var p=c[d],y=c[d+1],S=c[d+2];if(typeof y!="function"){if(P1(y||p)===null)continue;break}var A=It(p);A!==null&&(c.splice(d,3),d-=3,Lv(A,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function md(c){function d(ie){return T_(ie,c)}Sl!==null&&T_(Sl,c),wl!==null&&T_(wl,c),kl!==null&&T_(kl,c),Mf.forEach(d),Of.forEach(d);for(var p=0;p<Cl.length;p++){var y=Cl[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<Cl.length&&(p=Cl[0],p.blockedOn===null);)EO(p),p.blockedOn===null&&Cl.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],A=p[y+1],E=S[Ue]||null;if(typeof A=="function")E||DO(p);else if(E){var q=null;if(A&&A.hasAttribute("formAction")){if(S=A,E=A[Ue]||null)q=E.formAction;else if(P1(S)!==null)continue}else q=E.action;typeof q=="function"?p[y+1]=q:(p.splice(y,3),y-=3),DO(p)}}}function FO(){function c(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(E){return S=E})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function E1(c){this._internalRoot=c}M_.prototype.render=E1.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var p=d.current,y=ta();NO(p,y,c,d,null,null)},M_.prototype.unmount=E1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;NO(c.current,2,null,c,null,null),c_(),d[Xe]=null}};function M_(c){this._internalRoot=c}M_.prototype.unstable_scheduleHydration=function(c){if(c){var d=Re();c={blockedOn:null,target:c,priority:d};for(var p=0;p<Cl.length&&d!==0&&d<Cl[p].priority;p++);Cl.splice(p,0,c),p===0&&EO(c)}};var UO=e.version;if(UO!=="19.2.1")throw Error(i(527,UO,"19.2.1"));K.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=u(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var cz={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O_.isDisabled&&O_.supportsFiber)try{Nt=O_.inject(cz),Ut=O_}catch{}}return Rf.createRoot=function(c,d){if(!s(c))throw Error(i(299));var p=!1,y="",S=VN,A=WN,E=GN;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),d=AO(c,1,!1,null,null,p,y,null,S,A,E,FO),c[Xe]=d.current,p1(c),new E1(d)},Rf.hydrateRoot=function(c,d,p){if(!s(c))throw Error(i(299));var y=!1,S="",A=VN,E=WN,q=GN,ie=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(A=p.onUncaughtError),p.onCaughtError!==void 0&&(E=p.onCaughtError),p.onRecoverableError!==void 0&&(q=p.onRecoverableError),p.formState!==void 0&&(ie=p.formState)),d=AO(c,1,!0,d,p??null,y,S,ie,A,E,q,FO),d.context=TO(null),p=d.current,y=ta(),y=fe(y),S=ul(y),S.callback=null,dl(p,S,y),p=y,d.current.lanes=p,ei(d,p),xr(d),c[Xe]=d.current,p1(c),new M_(d)},Rf.version="19.2.1",Rf}var XO;function Sz(){if(XO)return F1.exports;XO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),F1.exports=vz(),F1.exports}var wz=Sz();const sh="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAKlAzkDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD7TwaULilor+Sas3U0R9NGHKFB6GjNJniroYdvUUpDDSUpNJXt06XKjDmCiiiifYQq9adTV606sGWFFITimlqhRuNOw7NBPFR76TfW8aLJcxWNRGlLU0mtVTsc7dxvrQBmkp/Sly2GmFPHFIBijOKnlLQ4GlyKj3UA1PIUOoUUDmnAYo2JHL0pabnFGTUcppcdRTcmjJqeULjqKbk0ZNLlC46im5NGTS5QuJRRRRYLjxzRSKaWosMcvelpo4p1TYaClU4FJRUWKHUUm6lyKLAFFAOaKiw0woooqbDCiiiosO4UUUVm4juFFFFZcowooopNFhRRRWTQBRRRWdi1oFFFFZtFIKKKK55ItBQehoormaKRGaSnEcU2uSSNkNPWkp+OKZXJKJaYUUUVyyRomFFFFccolhRRRWLiMKKKK53EoKKKKycSwooornaKCiiis+UsKKKKzaHcKKKKyaGFFFFZ2GFFFFUAUUUUAFFFFSUFFFFIAooooAKKKKACiiigAooooAnzSFqaWphav6Po4a7Pip1R5am7qYWpK9qFFQRzc9x+TRk0g5FFDRKlqLk0ZNJRXLKFzoix9GcUzIppfFSqTYnKxIW61Ez9aYZOtRNJXXToGMqhIXpN9QlqFNdippIw57k+6gc0xTUi9DWMolxYAYpaTNITWHKUmPzikzUe6lHNTyWLTHdaUUAU8L6VDKuC06m4xRk1lyiuOooop8pVwooopcoXCiiilyhcKKKKXKFwooorPlLuL0pwOaZSg4qeUaY6lBxTQc0tRyjuOHNLTKAcVPKVcfRSZFGRU8ori0ZNIDmlqeUdxQeOaXIptFTyjTHUU2jOKnlKuOooopcorhRRRWTiNMKKKKycTVMKKKKxcSgoooqeULhRRRUOJSYUUUVzyiWmFFFFc7gVcbSEUtFc8oGiYyjFOxSba5JUy0xm2jBp1Fc0qZomNxRg06iuSVM0TGUUUVzygWmFFFFczgWmFFFFYuJSYUUUVzOJdwooorLlC4UUUVm4lJhRRRWLiUmFFFFZWHcKKKKmwXCiiipsUFFFFSNBRRRSGFFFFABRRRQAUUUUAFFFFACFqZupu6kzX9ZU4WPzfmuOpw5FMU8U4HFOaHcdRRRXPYpaC7qTfSHpUZbrVxpNj9pZDi3FRPJimtJgGoHk613U8Oc0qo9paZvzUJanJzXT7JRRnz3Jl709RTYxUqjiuaehrFijinZFMzSZrlauaXH7qSm5NKORUuNhpi09RTVFPAxWTNEx6in0wdKXPvWfIO4ppKTdTaXKK5KvSim0U+Udx1FNopcoXHUU2ip5QuOoptFLlGmGacDTaKnlLUh1FNBxTsip5SuYKUGkoqOUdx2RRkU2ip5R3H0U3Jpcio5R3FoBxSZFLU8o0xcmlyKbRUco7jsil60yip5R3H0UUVFhjqKKKysWFFFFJodwooorFo0Ciiip5RXCiiio5SkwooorFxLTCiiisHAq4m2jbS0Vk4DTG4NFOoxXNKmWmNpu2n7aSueVM0TGYop2KTFcsqZomN20m2nUVxSpmqkNxRinUVyygUpDKKdtFJtrnlAtSEopcUYrlcCriUUUVlyBcKKKKxcCkwooorBxNEwooorFxLuFFFFRyjCiiio5RrQKKKKixQUUUVFgCiiipKCiiigAooooAKKKKAKYbNPU5qFakQ1/YLikfl0WSdKN1JRmuaSudCaHb6TzaYXwKheTGadOlzMznUsVPE+kt4i0S605NSv9HeddovtLlWO4h90LKy5+qmrJk61C1xjPNRGbrXqU6FjjnWJjL15phbNQhsmnoc12ciSMFK48DNSxrTYxUy965ZnVEegwDS5xSA4FJXFKNzROwu6kzSUqis+QpO44c09RSKMCnqOK5mrmqHKKWgdKKXIaJhSZpe1Mpco7jt1ANNoqeUm4/NGabmjNHKO47NGabmjNLlC47NGabmjNLlC47NGabmlU1PKFySikU8UtZ2LuFFFFRYdwyaUNSUVNirjgc0Dmm0oJFRYaYtFFFRylphSg4pKKixVxwal60yiosMfRSKc5pahodx9FFJWdihLm5hs7d555Y4Il6vI2AKo2fiXS7+WOK3voZXk+4Ff7309a+Hv2gPjTq/in433Gh2Vw0Wg6FKsEcEf3Zbgf6yQ+vzfL+FfTfw912LXfDEFvd4kSRBkEV9nh+G1Okqk52b8jRI9YornfAOsSahpd7a3JaS70+4a3eVvvSJ8rRsf+AsP+Bbq6KvjcRQnh6sqU90MKKMijIrjsUFFFFKwkwooopWKQUUUVk0WgooorBooKKKKhxEmFFKtKR1rBxLTG0hHFLRWDiaJjaKKK5ZRNExu2jbTqK5JQLTGkYpKfSYrllAtMbRRRXNKBSYUUUVyygVcZRRRWLgWncKKKKwlEtMKKKK55RNEFFFFYOJoFFFFYuJS1Ciiis2hhRRRWTQ0FFFFZtDCiiisiwooopAFFFFABRRRQBQFPU1FupQ2K/sdxPypMlzTS/WozJUTy4zUxpNslzsPeSoHl61FJN1qu02c161HD2OOdYkdutR5NN35p6DOa7XBROVvmY+OpkFMRakUda4qj7HTBWJUp6nFRr0pwOa5OVs61Ik3ZoXrTBUi9aynoUh6jrTlFIgqRRXK9TpihQMCim5NGTWfKXcdRTcmjJo5SbjqKbk0ZNLlFcdRTcmjJp8orjqKTdRuqLFC0UAiipsNMKKKKmxQUUUVFh3FBxTgc0yis+UY+gcUgb1pRzU8o0PopgOKUNUcpQ8GlyKZkUZqbALRTKcDmlY0uOXvS02l3Vk0O4tFNyaMms+Uu48HGaXdTFOc0tS4hcfWD468V23g3wlrOtXLAR2FrJcEHuVU4H4nArezgV8l/t1/Eg6V4PsPCVrLi51ubzLgKeRbxtkA/7z7f++TXbgMN9ZxEaXcuLPlrwjczar4gutUuT5lzeXDTyv6szbmNfXXwl8SjyI4S33cACvlTwJp5SNWxyAPzNelfD/xcbDxK9qzEKpFfrs49DpgfYPhW6Gn+OzHnEGrWWB6edD83/jylv+/deidjXj8V49zodvqVr891p7pdxqP4wv3k/wCBKWX/AIFXrVleRahZw3UDb4ZoxIjeoIyK/L+IcM6eI9r0kJjiaN1B6mkr5W2hI4HNLTKcDmosVccvelptKGosFxaKMijIrJxKTCiiis+Uu42ijBpdtRygKtFA4orNxLQUUUVzSiWmFFFFcziUhuKKdSbaxlAsSijFFcsoFpjSKSn03bXNKBSYlFLikrllAtDKKfik2iuaUTVDaKdtFG2uaUS0NopcGjFYOBaYlFFFcziUmFFFFZOJqgooorFxAKKKcoqeUYtFFFYuADKKdijFcjiUNop2KMVnYobRTsUYoWgxtFOxRimVcyd1NL0wvULy9a/tKEOY/I3OxI0uKrSTdeajkm61WeXOea9Slh+pw1KxI8uc1FuzTM5qSNa9BRUUcHM2yWMVYjFRxpU6CuKqztpIkUdafSL0pa4bXOkAcU4c00DNPUVnJWLiPUVIi0iLUgGK45e8dcRyjilBxTQcCjdWPLY2vYM0bqSijlI5hd1G6koo5Q5hd1G6kopcori7qN1JRRYVxd1LuFM3UoOaysXcdSjimdKcDU8o7jgaWm0oOKixVxaKAc0VPKO4UUUVFirhRRRU2HcUHFLuptFRYdx2RS5plFTYq4+imjinCoaKuOBzS0zpTgazcR3FooorPlLTCjNFFKwXK9/crbwO7uEjUZZj2FfmV8UPGMnxi+Kmra4rtJpqt9msQegt0yFP/AuW/wCB19X/ALYfxRPhHwO3h6zmxq2v7rZQDzHB/wAtm/8AZf8AgX+zXyT4K0xYYlO3Axj8K+54fwTpQeKnu9F/mdNONzqdLsU0uyLsMAc15qvjH+zvG15KkpCrIoxXa+OfEsWjaRcys2FiQsfrXzFo2sahca/N/aEUkUtx/pUOfl/dn7tfZU4c92a1Jcuh+nHwT8bpq2nRRM4YFRxntXuPgO7W0F3oxPFs3m2+e8Emdv5NuX8q+Dv2evGhsb2KFn+8QMGvszTtUYQWutW4Ly2QJZF6yQH/AFifX+L/AHhXzub4L63h5RXxLVFvVXPUaKZFOk0ayRuskTgMjqchhTuxr8k5TLmG0UnOaWosTccDmlpnSnilYLhRRRUtFpiqaWm0qmsrFpi0UUVNirhRRRUNFJhRRRXPKJaYUUUVzuJSYUUUVlKJaYUm2lormlEpMbiinUYFc8oFpjaTFO20ba5ZQKTGbaMU6iuaUDVMZRT6btrmlAtMSkxS0VhKBaY0jFJT6TaK5nApMbRT8UYFYSiapjKUDNOxRXM4juIBS0UUlELhRRRUuOg0FFFFcMoGiYUUUVg4jCiiisrDuFFFFSM5lpcA1VlmxmmPNwaqSS5zX94UMNrqfhlXED3mzmmhsmoMkmpolzXreyUUcMajkyeNc1ZjWoolqxGMVwVGdkESoKkHFRpT689q7OuLsiQHFOHNRr0qWMVnJcqNYu45VqRVpUFOrik+Y7IoBxTt1NJpu6s+WxXNYfuoyaZk0oNLkuHOOyaMmkzRmp5RcwuTRk0maM0uUfMLk0ZNJmjNTyhcXJoyaTNGamw7hRRmiosXcUHFOplKDipsO48HFKDmmA0tRYdx9FMzS7qnlHcfmlzTM0tZWNLjqKbQDiosO46ikDetLU2GmFFFFRYdwoooqbFBSg0lFKwD6KKKz5TVDs1Q1rV7XRNNur68nW3tbaNpZZHOAqqCSatZ96+Rf20fi6WVPh9pk376bbNqrIekfWOH/gXDN/s7fWuzB4SWLqKETRK54T8RPHVx8XviPqPiGcv9iJ+y2MTZ/d26khf+BN95vdq07OFNNsckYIGcVj+GNJSNVbbiOMAKKi8a68LC1kEZzIw2Rr71+nxhGnBU47I9KnHlic1JpF38WfiDYeGLcMbBJPtGoyqfuxryR+Vd5+0l8G4p/DNt4g0m38u/0cCMIg+/bD+H/gP3v++q9r/Zo+B3/CJ+DG1jUY86vrH76QsPmSLqq/j1/D3r0LXfDyPC6MgKkYxjg181ic09nil7N6R/HuclSXNI/Pz4d+KGtLmCZG2sCMjPf0r7y+DHj+PVdPiUsG3DoT145H4ivgf4t+CJvhZ4/vLVFZdLnfzrZu20np+GMV6Z8E/iU+lXkUbykRsR36e9fUNxrQVWGzNKcrrlZ+i3gy9+yzT6M75SIefaMe8X8Sf8BP8A46611VeQeGdd/tvS7a9tJFW8tyJ4GJ43D+FvZlyv/Aq9O0bVotYsI7mE4DcMh6o3dW9xX5hnOAdCq6q2ZM/dL9FFFfM2RkmFFFFTYtD6KZRUNGiY+imUVk0O5LkUZptFRYdx1FNBxS7qlopMWigHNFYSiWmFFFFYOJaYUUUVk0WmFFFFc7RSYUUUVg4lphRRRXO4lJhSbaWisJQNExuKKdSba5pQKTG4pNtOxRWEoFpjMUU+iuaUC0xlFO20m2uWUDRMSijFFcrgUmFFFFTylXCiiipaKTCiiiuaUC7hRRRXNKIwooorncR3Ciiio5R3PPzLmoic1GDmpIxmv9CvZqJ/Ork5DkTJq1CmKZElWY1rkqTtodlGBIgwDUg6U0DFOHSvOlqd2xIvepV5qJBUyDrXM9DaGo5VqVBimqOKeveuSbudMVYepp26o80VzpG6dkOJptFFNohsVT2p1Mpc0JCTFzRmmZFGRRyl3H5ozTMilqOUaY7NGabRUcpSY7NFNoqHEdySlFNpVrKxVxaKKKmw0wpRxSUVFihcmjdSUVNhofmgUyis7GiJAcUBvWmqaWpsUmPopoOKdUWGKGpcim0VLQ0OooorPlNAoooo5RhRRVXVNUs9F065v7+5is7K2jMs08zBUjUdSSaXKWjiPjZ8U7T4U+CrrV5Qst6/7ixtyf8AXTtwox/dH3m9FU1+fdtb3fiHVrrVdRne71C7kM088p3MzEknJ+tdb8XfijdfGfx1JqaF00W0Jg06BsjCZ5kI/vN/8Sv8NZ9sgt1wBg/Sv0DLcCsJTu/iZ6FGnpdhqF7HpVkwyEVV5Pp/9etH9nj4YP8AF3x3Dq2oxs2i6cwfkcSc9P8AgR/8dFcha6Ze/ETxVbaHp6s4eQCVlHAXP3fq1foL8LPhzY/D3wpaaVaRqGRQ00gGC796yzPGLDU+VfEy6k+XRG8tisUaogwg6Vj6xpgeNvlyD1FdbsHpVS7tQykYr88uciZ8r/tBfCVPHnha4SKIHUbUGS3YDk/3o/8AgX/oSiviHQr248P6s9pNlJYXxzx3r9Utf0gfOduR3FfDn7UvwefSdVHibTotsEzfvlVcBX53D/db7y/7X+9X2+RY5NPDzfoNPld0eu/s+fFFdkNrPJnAxgnqvpX05oevJpt2l7vH9m3W1Zj2R/urJ+P3W/4Cf4a/Lv4c+OZdGvoZRIQVI5r7r+EHxAj8Q6UkEzLIrrt2E9Ceo/Gvcx2EjiKTpT2Z2aVYn0xTsiuT8L6wYV/s24fOF3Wrn+NB/wAs/wDeX/0H/daumUnNfkeJws8LUdKe6OZxsSUUDkUVy2AfRTcmjJrNodx1FNyaVTmsmguSUUg5FLU8paYUUUVLiWgoyaKKycSkLuo3UlFYuJQ6iiiueUTRMKKKK53EpBRRRWTiWgooorncSgoooqHEtBRRRXNKJSCjFFFYOBaDApNtLRXNKBaG0UUVyygaJhSEUtFczgUhlFKetJWLiWmFFFFYNFphRRRWTiXcKKKK5pIYUUUVg4jQUUUVHKM81XqasRDNQoOatQrX+g1R6H87U0TxLVhKijHFSDivInqepDREi96etRrUqCuZ6Gy1JEFSoMUxBUgGBXJPU6oaDx0opuTRk1z8ptcdRTcmjJpcouYdRTcmjJpcpNx1LmmZNGTS5RXF3UbqSilymlxd1KORTaVTU2GmLRRRUWKuFKvekoqLDuSr0optFZcpdx2aKbRU8pSY+lU0wHFKDmo5S0x9FNBxS7qnlKTFopN1KDmo5RqQo4NLkU2ip5B8w/IoplFQ4jUh9Lk1HTl71HKVzElFIDxRkUrGiYtFJmlpWGmFfF/7V3xvfxTrE3grQrgtpVq4GozxH5biZT/qQe6r/F/tf7telftS/Hg+DtLbwroFxjxHfx/vp0OTZQHgt/10b+H0+9/dz8h6VpyxLnGW7k19LlWXp/7RVXov1/yPQoU7+8y3p0H2eHmqWr6u4kitLXL3Ny/lxheTmjWtVjsLd8tgAdv89a9U/Zf+Cr+KNYPiXXExGq/JE3ZTysX/AAL7zf8AAVr6OtVjRg5y2R1ynyI9k/ZZ+CyeENETWr+LdqN0NyFhyN33pP8AgX8P+z/vV9ExwCNcYAqlp9uQc1pV+ZYmvPEVXOR57nzO5F5dMkiytWKCMiuOw0zm9Vst6txXmfjfwla67pl5p95CJbW4QoykdPp7jrXss8W6uY1vSwwbjINaUpypyU47ou5+Wvxd+Gt78M/Fs3moxs3bcZAOCjH5ZP8A4r/aruvg38SZdE1CNZZTgYHXqK+qfi98LrXx7oM1nKireRgm3mYdD/dP+yehr4Gv9LvfAHiKWxuVeNQ58ot9/wCU/Mrf7S1+mYDGxxtGz+JGlOXKz9MvBfie38TaVGRLh8BldT8ysOjD3Feo6Dqn9o2zJL8t9FhZYh3/ALrL/sn/AOtX5/8AwP8Ais2nXEMEk37skbTnpX2N4b14arbQXdo6/aox8uTw4P3kP+y1eZmmX/Wafu/EtjonG6uj0+nVQ0rU4tVs1niOP4Xjb70bd1I7GrtfmsqcoPlZzDqKKKmxQUUUVjYY+im5pQaiwC0UUVm0UgHFPplOBrJotC0UUVlYocOaKaDinA5rJxNAooorncSkKcUlFFYuJaCiiiudxKCiiis3EsKKKKwcS0FFFFZuJSCiiiueUSxtFFFcsoloKKKK5nEtBRRRWEolJhRRRXM4al3CkIpaKznDQpMZRSkYpK4uUtBRRSgZqXAdxVHWlo6UVnyCuecIlWYlpirU0YxX95zdz8BpqxKvanjmmL2qVBXDI7ojkFTxrUaLU6DFck2dMR6ilptJmublNLi5ozTcmjJpWDmHZozTcmjJpcoXHZozTcmjJpWFcdmjNNyaMmlyhckyKWmUVNjRMfRTQaXIqLDuOB4pabRU2KuOopuTShqiw7jsmikyKTNZ2NExaXpTd1ANTYpMeG9aXrTKUcVHKUmPBxS5FN60VNirjgc0tNXrTqmw7iqaWm0oPrUco72FoooqHEaYUUUVHKPmFBxRupKKOU0UhcmvMPjv8ZrP4U+Ht6MlzrN2pSwsm67v+erf7K/+PfdrY+K3xY0f4UeG59S1OQNOw22toD+8uH7Ko9P7zfw18Faz4p1Tx74lude1m5a4vJznk/Ki/wAKKP4VFepgcCqz557Hbh6PtXd7FWWe917VLrU9Sne7v7uQyzzv1dj/AE9BU15cpp9ueRux1PanT3EVuDWZ4f8AD+ofFDxBFpNp5n2XevnSR/x/7A/2v5CvsFZLTY9nRI2/hD8N734p+KIZWjP9nRPuUsPlO0/PKf8AZX0/ibAr7+8H+GLXw5pVvZ2sWyKJcKD1Pqx9z1rA+FXw3s/AegQ2kUaeeVXz3QcE9kX/AGV7V6FHGEHHWvhsyxzxMuSHwr8TyK1XmloSxjaKmXvUSjrUq968GxkmLRRRUWNUxjrkGqF3AJUYYrSqCROtSO5w2s6XuDYXkV8wftIfBmLxdpM+qWcRW+hG6Xyx8xVRxKP9pf8Ax4fSvsS/tA6k4rjNe0USK7BR7jHWu/CYmWFqKcTRM/LTSNTvPDGqNaXWY5Yz1HRh6j2r6r+B/wAYihitbibjgAk1yX7SXwIMDP4h0iLYmSzoo+WFj3P+w3/jrV4d4N8RS6ZeKrExujYKnqCO1fpFKrDF0lUgdlKfRn6m6HrwAW/tf3jkAXNqv/LVfVfdf4fUfL/u99Z3Ud3AksTh43GVYd6+Qvgn8V4r+3itJ5R5ygBCT19q+jtC1wWI+1wnfaS8zxDt/wBNE/8AZl/i/wB773y2a5X7VOpSXvfn/wAEqcL6o7anVFHKk0aSxussTjcjocginZr4M5Lj6KbRWVirjqKKKnlKuKDinA5plKDis3EaY6ikBpaycS0xQcUbqSis+Uq4+gHFIDmlrNo0THDmimg4p1YOJSYUUUVk4lphRRRXO4lJhRRRWTiaJhRRRWDiUmFFFFZuJaYUUUVg4lXG4oxTqK5pRLTG4oxTqK5ZRKTG4oxTqKxcS0xuKMU6isHAq42il20mMVnOGhaYU3bTqK4nAtMbtp1FFTyjuFFAGaXbU+zFc4EDNPQU1RUqCv7iZ+E2HoKmRaYgqVelcNQ6KY9elPDVGDijdXNa50XsSbvejIqPdS5FPlJUh+RRkUzIoyKysXzD8ijIpmRRkUuULj8ijIpmRRkUrDuPyKMimZFGRS5R3JMmjJpmTS7qzsXcfupcio91KDmpsVcf0pc0wHFGaiw7km6jIpm6gGpsO5JRSbqTdWdguOopu6gNU8pSY4HFOpmc0oOKmxSY8HFKCKaDRU2LTH0Um6jdU2LuLSg4pu6gHNKwXJKKQGjIrOxQtFFFTYsdXLfEn4jaR8MPC9xreryYiT5YoU/1k8h6Ig7k0/4gfEPSfhx4duNa1q4EdrEMLGP9ZPJ2SNe5r4B+JvxO1f4ueKn1PVHMcCEi1slO5IE/9mY/xNXZhsHLESu9jrw9B1XfoVfHHjjWfin4mm1jWJixY4gth9y2i7RqP5t/FVCSeOzj2IAD7VC8iWkW1OXx1rmby7u9a1GPT9PHm3Un/fKL3Zvavq4QjTjyrZH0EYqCstjWtVv/ABhqsel2AJaU/vJwMiJO5+v90V9wfAX4NW3gXRIJ5oQt46cBh80at13f7TdWrkf2bfgRB4SsYdSvoQ9w2HiDjkv/AH2/9lX+GvpK2gxmvnswxntL0obHl4jE/YgWbeIKvSp1FIowMUoOK+ZscCJFHFKOKaDindazcTRMcOaKQHFLWbiO4UhXIpaKzcSlIqyx5BFY9/ZBg3HFdAy5FVJoQwIIoSLUjzDxL4diuYJo5IhJBICroRkYNfEHx++BM/g/UpNW0aJmsnbKhR/5Db/a/ut/F92v0T1CxDBgRmuC8UeF7fUrOe2uYVmtpQVZGGa9rL8bLCT8mbQmfnV4J8azaXcxukjIynkdCDX2p8GPi5DrVpHb3EoL4AIJ/Wvkz48fB3UPh/r0uo6dE09lKdw2jh0/+OL/AOPda53wF8QLjR7qKWKUrg+tfepwr0+eGzO+nU6M/UrRdaj0rkEy6dIcyqOfszf3h/s/3h/D97+9XZbq+Xvg/wDF+DxDaxRSygXAABBP3q9w0HXl09FR3zp54Vz/AMu/sf8AY/8AQf8Ad+78VmuWc169Fa9V+pNSnfVHZ0UDpRXxljjH5pd1JRRyl3HA5opvSlBqHEpMWlBxSUVi4lpjs0tMpc1nylJjqVTSUVi4mlx9KppoOaWsHEpMdRQvSiocS0wooorBxKTCiiisHEu4UUUVi4lJhRRRWTiWmFFFFYOJaYUUUVhKJaYUUUVySiUmFFFFZcpaYUUUVm4FJhRRRWMolJibaTFOoxXFOJaY3FKFpcUVmkVcKKKK05BXODUVNGKaq1IgxX9pNn4bHUevenZxTOlFczVzoWg7OaKaOKdWfLYd7ig4pd1NpN1TYVx+6jdTaKnlDmHbqN1NopcpSY7dRuptFTYdx26jdTaKXKVckyaN1JRWdi+YcDmlplKDipsNMcDilDUlFRYq44EUU2ipsO5LkUm4U3IoyKjlC47dRmm5FGRS5S0x9KDimdKcORUcpSY4HNLTKVT61Fi0SUUgPrS5FZ2LuFFFFKw0xc0bqSlFRYsdXP8Aj7x7pHw58OXGtazcLDbR/KkYP72dz0jjX+Jj6VS+I3xN0b4ZeHrjVtWnEcSjbDAD+8nk7Ko718C/ET4m638WPEb6rqzmOFCVtLJT+6t4/wD2Zv7zV14bCOu9VoduHous7Im+JvxR1r4v+JW1PVGNvZRErZacjZS2T+rnu3+TzymOBagLrCuBgmsa5u57q6jtbWJp7iVtqIv8zX08aapx5Yn0cYKC5US3t1caperp+nqZbmTg46KPU+gr6p/Z0/Z4j0e2j1rVIRczvtlAkUDzmH3Xdf7q9lH+9Vf9nb9ndLCGLW9ahLvPsdVccuf4Sf8AY9v4vvV9T2VokMYRFAAGOBwK8XHYrlTpw3PKxWK+xATTbBLaJY0UKqgAAVrRJsFMgi2ipq+aszy0OooopWNLj6UHFIDmis3Edx4opq96dWTQXHA5opo4p1LkLQUx0yKfRWbjY0joZ9xBvU1g6jYB1Yba6mRM5qhdW4dScVJseM+PvBVpr+mXFldwiWCUenKnsRXwN8X/AIRan8MtbmnhjZrKVjKhUcSD++v+1/eX/gVfp9qmmiWNgRXlvj3wDZeJ9Ln07UYBLA4O1scoezA9jXuZdj5YWXLL4WbQl0Pg74e/EKfSLmKWKUrtIyM9K+3fhH8W7fxFZxwzSr52ACCfvV8V/Fr4O6n8M9ckkjRns2O5JFHysP7y/wC1/eWpPhv4/m0W8iIkKgEcZ6V9naNaPPTZ2wn0Z+nuga+umokMz7tNPCSE/wDHv/sn/Y9/4f8Ad+72NfM3wq+KsGu2kcUsqmTAGCfvV7LoeutpChctPph6KOWt/cf9M/8AZ/hr5HMsq3rUF6oJ076o7eimhs06vjrHFsFFFFZtFIUGlptOHIrFotBRRRWdihQadTKcvSs3E0THLTqZTsisXEpCg4p1NpVPFQ4lpi0UUVi4lBRRRWDiWmFFFFc7iUgooorNxLQUUUVi4lBRT8UYrGUTRMZRT8UYrjlEpDKKfijFZ8paGUU/FGKlxKDFNIp1GK5HEpDKKKK4pxNEwooorKMR3FUZp2KAMUV0JEnEAD1pcim5ozX9iWZ+JJjs0ZpuaM1PKPmHZozTc0Zpco0x2aM03NGaXKO4+imUVPKO4+imUuTU2HcdSg0zNG6o5Rpj91LkVHupd1TyjuPopuaAcVFg5h1KDim7qXIqeUpMfmimUuTUWKTHUU3dS7qnlLuO3UbqSipsVcXdRupKKVh3HinKeKjU04HFRylKQ/NLupgNLUcpSkO3UbqbRS5EPmJQ1O3VEvSng1DiXF3H1wPxa+MGjfCPQ3v9UlEk8gItLBT+9uG9vRf7zfw1R+NPxy0n4S6O5mdbzWrhSLXT1b5j/tSf3V/ytfCPizxZq/j7xBc61rV813dSHgfdVF/hVF/hArrw+E9o+aWx6uFwzravYf47+ImvfE3X5NV1qYs+T5NsDiO3j/uqv9f4qwWuDbqfWmSTpCCF61zGoahLPPHFDF5ssn3I/wC//wDY19DCMacbRPpacYUo8sS9davPc3C21oplnkOFUV9Vfs2/s7rZRxa94ii8yWbDJE4/1n93jsv+z/F3qr+zb+zOukRReIPEsPmajNh4oHHK91JX+7/s/wDfVfW1jp62qrwN2McdB9K8fF4xK9OnueLjMb9imWrSzCqAAFUDGB2q9HEEFEK7Up9fPtXPHTuSr90UtIv3RRmosaJj6KKKzsO4U+ql/qNrpdnNeXtzHaWkK75biZsJGvck14jr/wC0jDqNxLbeGiIrQZU6pcJzJ7wxNz/wJv8Avk1pSoSquyOmlSlVdke26nq9no8Pm3t1DaxngNK+3P0rEPjmHJ+yWlxOP+eko8pf/Hvm/wDHa+eZviN5c5uC73N4etzcSGWX8CeF/wB0Vx3iD44xaeD++82vWp5bH7Z6cMFb4mfWb+M7nkNPpsH+88r/APxNSjxFct01Ow/8Bn/+OV8G3n7S8sBbysD8ay5P2otU/havRjgKKWx1Rw9NI/QlNZ1Aji+06X/tnJH/AOzNVuPV74A+bpwlX1tbhW/Rtpr4C0X9rbUYCBMc475r0jwr+2DZSyBLo7T3OaynllGWyJeGh0Prq11u1nk8rzjDMf8Aljcq0TH/AHd33v8AgNXq8o8K/GPQPF9qqGeGZWHKS4Nd1Z2g2BtEvfIXtYzlntz/ALo+9H/wE7f9lq8erlEo602YvDNbGpcWiyqSBzXP6no6yqwK1s2uvLd3H2C6ibTdSxn7NIeHX1jb7rr/AOPf3lWrE8PmKQfvCvDqUp0pcs1Yws46M8X8a+B7LxBps+n6jbie2kHccqexB7H3r4V+MHwe1H4X6w88CNJp7sSkijgj/wBlb+8v/fNfpjqumiVG45rzPxv4Js9d064sb6BZbWQENuHT3Hoa9fAY6WHdnsaRl0Z8J/D/AOI0+kXMbLKVwRkZ6V9gfCr40QapDFDcTANwMk18g/GD4Pat8N9Ye8s0a60+RsxyqOHHp7Sf7P8AF2rE8F+PpNOlSSGXawPK5619qnGtHngdtKpbRn6l6D4h+xIpiJntD1hHJT3j/wDif++ffurWZLq3jmidZIpF3I6nIIr41+EPxpivYYoLiTI4HJ5FfRPhrxP5YFzaN50EnM1tng+6/wB1v/Qq+QzLK1NurRWv5jrUeb3o7no1FV9Ov4b+382CUSxHv/d/2W/2qsV8a4nCrrcKKKK5Wih1FFFQWgoooqbGiYUu6korNoEx9KDikBzRWDRqmPopAaWsmh3HUUUVi4lBRRRWLiUgoooqHEtBRRRWLiUmFFFFZSiaIcvQ0tIvQ0tcs4lJhRRRXMolofRRRSlEq4yiiiuWUS0Mop+KMVxziaoZRT8UYrBRGFFFFaqJFzg91G6m5FGRX9jWPw647dRupuRRkUrDuO3UbqbkUZFKw7jt1G6m5FGRU8o7j6KMijIpWKuLmjdSZoqeUq44GlplFRyjuPopuaMmp5R3HZpcmmbqUNUcorjg1LkU0HNFTYpMfRk0zpShqjlLTH7qN1NzmlqbFJkm6jdTaKxsXcduo3U2ilYdx4OacpzTF70o4pWGmPoooqbFXF3UbqSilyjuOFeK/Hj9pHT/AIYW82k6SY9R8TyD5I/vRWv+1J7/AOzXE/H/AParTRFufDvgqaK51XlJ9VHKQeqx/wB5v9r7q/71fIs93Nd3Ek88jSyyMWaSQ5Zj7mu2hhOf3p7Hu4TBOXv1NuxqavrF94i1SfU9Vu5L/UZ23SzynJJqnNfLCpUct61Qmv8AyBWfHJd63qEem6XC93qEzBVVVyFz3NepyqKsj6GKUVZDbu9m1C/isLZTdXk/yRw9gP8Aa9q+u/2bv2XovDHleIPEsX2vVpNuyOT+D/P92tX9nX9mK08DW8Wsa3GLvXpQGw4z5f8A9f8A9Br6Tt7evKxGJv7kDwsXjOZ8lNjLGxS1GRhnx97HT2FaCDpXnXxW+N/hr4SWwivZG1HWpk3W+lWfMrjsXP8AyzX/AGmGP7u6vmLxd8Z/E/xIaSLV7wWWkE5XS7BikJH/AE0b70h/3vl9FWvPjh5T1Oahhp19j631n4x+FdJuHtlvzqF0nBg01PtDZ9Cy/Kp/3mFc/J8Z5rh2FrpkFsnaS+ud5/74T/4qvkr/AITtNITZAyxqOyiuZ1n40tAzLGzM/qTXbDBxW+p7lPAUofFqfccPxMun+/qmnx/9c7Rv/ZpK0o/HTSL/AMhy3/8AARf/AIuvzjufjbqrk7WI/GmQfHPV4zjefzrq+opq/Kb/AFWj/Kj9LrHxVPJ9zULCfP8AejKf+zNW1BrkxGZbLzF/v2rpLn8PlNfm7o/7R2qWxXfJ0969K8N/tTyIFEsh+oNYSwMHuiHgqEttC58afizrPxJ8QNaXRbT9CtJcwaUp4Zl6PKf4m9vur/49XF3HiH+z7c4NUNX8VWesa/czQyL5c8pcAnkZHArf034Hat8TxjT7u3tMf8/H3a6KVKNNcsUdkIwoxtFHk/iP4jz3DNHE28k4GDx+f+Fcjb3l5r9wVthNfMf4LZd1egeHv2ZvENx44m0nxt/xJJbd2dNP3/8AH3GP44pfuyL/ALS/d/i219TeBfhNp/h+38nT7SO0i/8AHqdXE06Om7OKpWaZ8i6R8GvF2thTFo5tkb/lpePj9K3If2bfFjn5pdPj+gNfcdh4MiUD93uPqRWmvg2IjmFfyrzJZjK/uo43Xn0Pgm5/Zy8XQZ2W9lcj1WQr/OuX1f4W+JvDpP2vRbuID+OIb1/76H+Nfo2/guHB/cise/8AB4Xdsynt2qI5pJP3kNYia3Pzj03xXqmhXH7i4mgdT91iQRX0F8KP2r9Q0d4rbV2M0IIG8nkV6X43+BWheJkkN3pqxTHpcWw2n/gQ6NXyh8T/AIM6/wDD26eaFDeaYT8k8I+UD0cfwmvVoYulX0W52U8QpaM/SHwx8RdC+JGjxiSVJEIQq6nZJGf4WVl+ZW/2q39L8Rywaimk6s4Mkr7LO/HC3B/55yf3ZP8Ax1v4fm+Wvy9+Fvxd1HwrfxjznEasA0bHkV9x+BPiVpnxE0Nre4kVpCoD5PIP972Nc2NwUa8Xbc1nTVRaHvc8G4EEcisLUtLWZGG38Kzvh94uk1B5dA1Ry2rWUQeKY/8AL3b/APPQH+8v3W/4C38VddLbiQcCvi505UpOEjz9YuzPGPGfga21iyuLa8t1uLWUYaNh/Kvh342/AnU/AOqPqOnI0thIchgPv/7Lf3ZP9r7rfz/TO+05ZVYFa4bxR4Pt9RtJre4gW4t5BteN1yCK9PBY+eGdnrEuMrH5teDPGc2nzoyyFSDg54/A+9fVnwm+MnEccsuegIJ615N8dP2d7rwzdT67ocZexzuZFH+r6/K/+z/00/76/vV5X4c8TT6VcYJaN0OGQ8FTX2UJwxMOeB3U6mlmfqD4Y8UCbbd2Uo3sBvjJ+WYejeje9eiaXq9vqkLPESrpxJE/3oz7/wCNfBfwn+Nr27xwSzccDk19PeFvF0OrRx3NrOI7hRxIPmyv91h/EtfO47LVXTlD4iZwUj2Sisfw/wCJYNWTyXXyLpRlomOfxU91rYr4arSlTk4yRySvHcTIoBptKveuflEpEg5ooXpRU2NbhRRRWTQ0wpymm0Vg0apj6UHFIORRWLQ7jwcUoNJRUuJdxwNFNpQcVi4lJi0UUVDiWmFFFFZOJVwooorJxNExy9DS0i9DS1zTiUmFFFFcnKWmPoooocblXE20baXBornnEpMZRRRXnzRtFhRRRWaiVcdto20tGDW6gZ3PPKKZmjNf2BY/DLj6KZmjNLlHcfRTM0ZqbFXH0UzNGaXKO5Luo3VHmjJqbBck3CjIqPJoyanlHck3e9Lu96i3Uu6o5R3JMmjJqPdQDmp5R3JqKYOaUHFTylpjqXNN3UuRU8pSY4HNLTKXOKixaY6im7qXdU8pVx4OaUHFRg5pwNZ8g+Yfuo3U0GlqeQfMOVutLuplGfeosMlp9Qg1jeMPG2j+AtEl1fW7xLOxi6sT8zHsFXufakos0im9jYvr2DTrOa7u5o7a1hXfLPK21EXuSa+M/jv+1NceMXuPD/hGR7TRBlbm/wA4e89l/ux/+PN/s1xnxo/aH1b4uXslrCz6Z4cRsRWaNgzj+9Mf4v8Ad+6teT/aBzXbSo296R9Ng8Cqfv1dx/SqVzfLECF5NQ3eoZyqHA9a3vh18Hdf+K2qR29pE9vYP8zzOcEJ6n+6P/Qv4a7laKPbnKMI3kzltB0PXPiBry6VoUTTTMcPJ/DGO5J/zivuj4Afs86X8LLKK6liW61mQAtOwztP+z/8VXVfCj4L6J8M9JjstOtlNxgedcsMtIfb+6v+zXptvb+QDXmYivze7HY+ZxWOdT3KeiJ7aCvD/wBoD9pmL4fiXwz4Z8q68V/8t7j70WnKf73rJ/dX/gTf3af+018d4/hH4ZFnprJN4q1NSlkh+cW6dGuHX/Z/hX+Jv91q+GbO4mknluLiaS6uJmaSWeZtzyOxyWY9zWVDD83vSNMDhPa+/PY6SW9uL69uL69upb2+uHMk9zcNukkb1Y9zVDVPE/2VCBIvHYVk6jrIiQxxnnpmt74cfCHxD8TbxDZwGDTw2Hu2HyrXqe7Ban0kpxguZnFXWp3epy7U3fMcDgkn6Ctnw/8ACnxL4mj8y10aeSI/8tZhtQ/p/WvsL4ffs0+HfB6pM1sdQv8Agtc3XzYP+ytepW/g6LH/ANauWWJUfhR5c8cr2R8Paf8Asw+JpwDJNZWq+0e41e/4ZY1vvqtt/wCA9fcEXhGEfwk/hSS+EoucAj8Kwljqi2Ob61Le58D6n+zZ4nstxhawuwPRyh/KvPPEPg3XfCsjLfaddW2OjqDtNfpLe+DdwOAG+orl9b8ERzwvFNAssZ6pIu4GnDHyT95GkcU+rPzptfEd1btgTbgP4ZBXt3wn+OlzoFzCGcqAQDk11nxA/ZcsNVMtxog+wXXXyj9xj7f3f/Hq+fPE/gPX/Al60Op2ksYU/K4HB9wR1/CvShOjXWmjO+niU9z9EfDfxA8M/FnSk0/XoIb8ZDp5hw8b/wB+N1wyN/tLtauv07w/qPh/mGaTxNpX/Af7Ri/9BWf/AMdk/wCulfml4R+It/oE6PHOxVSOQeRX1X8Jf2nVkWKDUJd3Qb88iuevhuZWkdLjCqrM+sdKey1CB7ixuVniQ4faMNGf7rp95W/2WGa0vsvHXP4Vwek+J9K8XhL+2uzaaiVCi/tSBKR/dkHSRf8AZdW/4DW3D4mutET/AIn8SC1PA1SyU+Sf+uq/eh+vzL/tLXzdbBzpu61R5lTDShqtjeNmOap3WmrIDxWpFLHcxLLE4eNhkMpyDQVzXA0crdjjr7ReG+XIrh/Evg+K+glRolkRwQ0bDIYV7HJbBgax7/SVlDYGDVRlyscZH5r/AB8+BE/gW5k1zR42Oms2ZEA/1R9D7f5+mZ8HPiPd6BqMMvmnAIDIT1HpX3/4p8I2+p209tdQLNBKpWSNhwwr89/ip8Orn4R+Prix5/s+ZvNtJSOGQnp9R0r6nBYlV48st0epQq82jPuCx1yXWdJ07XdGlUarYEXFsSeHGDvib2Zdyn/ez/DX0H4f1m18S6FaatZZNndRLKm77wH91v8AaH3f+A18Nfs++OPPsP7Plk5A3Jk/mP8APvX0T8A/E62fiDxB4Pkb92P+JrZg/wB2Rtsyj/dk2tj0krzMzw11zroVXhdcyPYJLYSKTWVeaeJFYYrdKFCfSo5YQykjrXy55tzzTXfDoZZPkDKeqkV8ifHf9nCRXn1rwvAeMtLaxjJT1KL/ABL/ALP8P8P92vvC9s/MU8Vx2taCJA7KvPcetejhMTPDyvHY1hNo/LXT9VutJvPKlDQ3CHp2PuK9w+Fvxon0u4ijlmIwRyTXovx2/Z4g8Uw3Gp6TCINXXLPGowly395f7sn+191v4v71fIV7bX/hu/ktr+KS2mifYxdSpB9GB6GvsqFenio80NzuhUufpT4K+INn4jt4iJRG45jeJsFD/s161oHi77UUttQZVkbiK4XhJPY+h9vyr8zfhj8VrnRLmOOSU7c+vWvrjwF8TrXXrVEeVX3AAhu/1rz8flscRHmS1OiUI1Y2Pp2n1w3hzxebZFjvHM9nwBcE5eD/AK6f3l/2v++v71dvC6zRh423Ke9fBYjDTw8uWaPPlBwdmS0UUVw2IF3UbqSisrGiHA5optKprFxuaJjwcCjIptFZOBVyQNSg5ptFZuJdx9FNBp1YuJSYqmlptOXpUNFphRRRWLiUmFFFFRymiY5ehpaRehpa55xKTCiiiuOUSkx9FFFEY3KuOppFOorCpEtMZijFLRXmyWpsmJijFLRRGI7gozTqBxRXQoEXPNMijIpmRSg5r+veU/CbjsijIptFLlGmOyKMim0UuUq47IoyKbRU8o7j6KKKnlKuGacOaaOTTqnlC4UUUVDiUmFFFFTyjuPozTc4oBqeUq48NS7qaOaKnlKTH0ZplKDio5SlIfuo3U0HNLU2LuOB9KcDmmL3pw4qGh3HUUUVFhpjs8VHnmjNfPvxz/aosPBMc+jeFWTVPEGNstz/AMsLY/8Aszf7P/fX92pVO510KM68uWCO/wDi58btC+EulvLfSi81KRf9G02Bsyuf7zf3V96+D/iP8VfEHxO1eS+1q8eRMsYLJTiGAf3QP/Zutc9rOt3+v6jPqOqXMl3fXDbpJZWyxrLnuMcV1U6aR9jhMFHDq8tyf7Tgc1UuLstlV4FR2ljeaxciC0jMjnv0A+pr6c+Bv7NBdrfV9dVtmAyxuMNJ/u/3V/8AHm/2RzWsmoK7OqtWhQjzSZw3wY/Z51Dxrcx32oI1vp6sMsw3Ivt/tN/s/dX+Kvtzwf4N07wppsdlp1usMSgZIHzMfUmtLR9Fg0+2jghhWGGMBVjQYAFbUcIUcCuCc3M+TxOMdd+QQwrGmMVmeJtfs/C+g6jq+oyiGxsYHuJpD2RQSf5Vr4r5a/br+Iv9keDNL8I2k2Jtbn8+7CnkW8JztP8AvSbf+/bVjClzyRz0I+1qKB8neNfGmofE3x5qXiXUjmS9k/cxZ4ghXiOMewXH/AtzfxVUuJxb25pdKswIt+OvA+lXNH8H3fjjxRp/h60/5eP9d/1z/i/+Jr1opJH3MIqnBQR0vwJ+DF/8WNeW9vEaHQoGBZiMeZ7Cvvfwt4TstA0+KysLdLeCMABUGBVf4dfDy08FaBa6ZZxBFiQAkDqa7u2sFiHSvJr1HJ6Hy2KxjrStHYq21iFHSr8dqqjoKmRAop1chxplcwhegqNoAwPFXdqJHJLI6xxRjc7ucBRXleu/tCaGNSXS/DYTWLluGvnbbZx/RvvSf8B+X/apqDnsdNKnOq+WCO/azU54qhd6WsgIKgiq2mar4jFql09nY+ILYjMkemhobhP92J2ZZP8AvpW/3q2dK1bT/EccpsblZZYjtmtmQxTwMOqyRt8ykehqZUZI3lRq0vjicfqHhlJASq4NcX4j8Fwajbvb3tpHdwHgrIua9pmsuDkVlXmlLJkFcisk3B6Exm1sfCnxK/ZcktfOvvC7FyMsbF/vf8BP8VeA3f8AaPhu+aG5ilsrhDghwRzX6har4bDBtq59q8r+IXwl0bxjbyRapYrI+MLOoxIv49/xr1KGOlHSeqO2niLHyT4J+M+q+HZ0IuHAHcNX1j8Kf2m7XVIo4Lq4HmEAMT/UV8tfED9nXW/CrS3WjE6nYrkmMD51H0/z/wABrzvTdUudIu9yFopYzhkPBBr00qdZXgetSrqWh+qOi3lncAXWgXy6ZM/LWrjfay+vyf8ALNjz80e31ZWrrNM8VRzzrZ6jEdL1KX/VQud8U/vG4+V/935W/wBmvzr+Hnx9vtFkSOSYlOAVY8V9beAfjfo/jTTxaXvk3Ebj57efkH6V5VfAxnfSzHOhCotNGe+4FRSwBwcVwzeM08HWQvjfG98PxcXEc5Mk9pH/AM9EPVkX+JW+bH3W/hrvDKh2lHWRCoYOhyDXzlSjKlK0jyKkJUnZmBqmniRSccivmD9sP4et4h+Hs2qwRbr3SX8/Kjlozwy/+zf8Br60u0yCfUV5x8SNETWPDmrWDrlLm1eEjHXKmtMNUdGopIKdW0j88fg/4rbTdSt3D4KsM819N6B4ifw58TPCHiFWxbG6FncNnA8m4Hl5PsrNG3/Aa+K/CbPYan5LZBjlKkfQ1+gPwB1HSl0qKa7NvN8o/wBZ81fXYinzRsz3o2nGx9SUzHBrmLUabIDJpd1JpTk52wsDGT6mNvlJ/CrL+IbjTVC6nEPs/bUbVSUH/XSPll/3vmX/AHa+KrYCtR1WqPNqYecX5GvImc1m3mniQMQPwrQguUnhWRHSaFvuyxncp/KnOn5V56djms4nB6vookRxtyK8L+L3wM03xzZys0a2+oBSI7pV+U+0i/xL/wCPLX1Hd2ImUkDmuc1HRRIG+XmumjWnSlzwZop21Py18VeA9Z+Hery2t3bSIE529fl/vIf4l/2v++q3/BPxBuNHnjZJjtz619u+Pvhpp3inT3s9Qt96DmOReJIW9VPb6V8Z/FT4Kar4Av3nhQzWbt8k8a/JJ7f7Lf7Pf+GvtcHjoYiNpaM7qVVH0x8MPjJDqEcccsoDcDk17l4Y8XtZbXtG861bl7bPT3T+79Pu/wC73/MPQ/Fd1pM4+do3U/Svon4VfG7cYoLuXDcAMT1oxOFhVi4zV0dvu1FqffOm6tbaxbCe2k3A8MpGGU+hHUGrleIeFvGC3Gy9tJwk2Ah53LKv92Re9eq6B4qg1hPIYfZr1RloCchh6q38S/5avg8bls8M3KOsThqUXHVG1RRRXiWMRV706mr1p1ZtFoVT2pabTlOaz5Sh9FAorNxLCnA5FNpVOM1jylJjqVTSUL1qHEtDqKKKxcSkwoooqbGg5ehpaRehpa55RKQUUUVxziWh9FFFEIlJjqKKKxqR0KQ09TRQeporypR1NkFA60UL1rSER3HUUUV0qJFzy7dQG9aSiv64sfgtx1FNHFKGpWKuLSg4pARRSsO4+imUuTSsO4/dQGpu6jdWdh8w/IozTMilzS5Skx1LTKKixaY+imZozU8pVyWim5ozU2FcdRTc0ZosO46lBxSZFGRWdi0x6ml3VHS5rPlL5iRTTt1RKeKcDWbQcxJVTWtbsPD2mT6jqd3FY2MA3SXEzbVUVxPxX+NGgfCbS2m1Sbzb11JtrCE5lnPr/sr7mvhj4rfGvxF8WdTMuqXJh09G/cadASIYx9P4j7mpjG57OEy+piNXoj0343ftW3/jLz9J8KmTS9G5VrvOLi5H1/5Zr7fe/lXz5PdcsSdzk5JJ/WqryhQec1UeYtmuqMUkfZ4ejDDx5YIsS3Oc85NbXg/wFqPja6CwhhbZ2+YRkt7KO9dn8MPgTqXiu9jluEOzIPln5Qi/3i39K+y/h/8ADHTfB9qi28Mc1yBzPsxj2UdhSb5Uc2Lx1PDabs4f4N/s96b4Wgiu9RhWW74ZYm+cK395v7zf+O17vY6alug4GfpUtnZrEuSOat4NedNuTuz4+tip4iXNNiIgAqUcCmAYFP8A4amxz3IppsAgV+bf7VXjN/FPx21xRJ5lppSppkWDwNo3N/4+zV+jV5KEVj6DNfkTr2qtr3jbX9TZtzXmoTzZPvIxFdWHje572VQUqjZ2ukQ7rVjX0n+xZ4Dju7nWvFdzHlWl+y2+4fwL8ufx+avnKzYW+lSP6ITX3R+yrpI034M6GSMPcJ55993NaTdlY+hzCahRZ7DbwrGMKOKnpF6VjeLfGmieBNJfUte1CKwtRwoY5klP92NOrt7CvNcb7HxcVfY3K88+JXx48N/DZxazSnVNXA40qx+aVP8Aro33Y1/3v+Ahq8C+KP7T2ueK1m07w0snh3SWyrXCNi9nX/eH+p/4D83+0teEicWwP+WdvU1pDDp7nvYbLZv3qh6X8RPjP4h+JEzLqtyLXSw2V0m0LLCvoZP4pD/vfL6Ktcf/AMJj/ZOZa4PUfFYAYRmuXv8AVpbtiWcgV3RpJaI+lpxp0I2ifXXwv/aZW1mjt7uTEYwA4bpX0JYeKPDnxDiiuZH+z6oqgRatZyeXcR/7O4feX/Zbcv8As1+WPnXFvn5pIvZ/vV2XhD4w6r4ZnTFw/lAjoaHSuhucZaNH6XjxJqfh2PGtR/2tpoH/ACGtOjwyD1mgX5l/3o9w77Vrfsry11eyivLKeK7tZhujnhbcjj1Br5M+Gn7Ty3SxpdzbumWzzXtmhS2GsyvqXh7Uf7E1OY+Y7RAS2l23rNF6/wC0u1v9qvMq4aS1R5lfARn71I9AubMODgfhWJfaMkykNHn8Kn03xX9lu4bLxBaf2NfSELDPu82zuj/0zm6bj/ck2t/vV0v2UdDz+FcLg1ueJOEqbtJHlmpeEUkDMqgn3rxn4mfs+aN4vEkhtv7Nv8cXVuvU/wC0vevqy60tJASBtPqK5nVNIDhlZeacJypu8WEKjjqj81fHvwt1/wCG9y3262M9iT+7voATG31PY+xqLwP4wutHvkeOZgoI5Br7q8W+Hh9mmjaJZYZAQyOMg+496/PXRedUn7/v2/8AQjXv4eq68Wpnv4Wt7RWPo3V/ibqk/hm5t2uHMcsDqw3dRivs/wCBepSax8GPBF3KcyPotoT/AN+1r88tTydII9q/QP8AZxH/ABYrwN/2BbX/ANAWvHzKNoxZGPdoxZ30i7k5rmfEVqHgf6V1L/dNc9rnMLj2rxqUbs8iO5+UCW4h8U6h3P26b/0Nq9G/4SDUtAsBJaSsqqABg154zZ8X6rz/AMv83/obV6BcskmkAEZyoNfbSdz6GlojV8M/tLa3ozKsszlQfWvon4cftMWmsJGl3IqM2Mknj8q+DZfBXi630qPXBZjVtKuE87Nt/rUz7d6h0TxNLay5tpmjdTzG3BH4UlTUkXGrrZn6n6XrTCQ6hoMsUbu3mTWMjD7Lc+//AEzk/wBpf+BK1d/4e8Q2niOwkntg8EsOI7i1mwJLd/7rL3z/AHvut95a+Bvgp8cGgaO0vJeOAQxr6Ss/FZS5h1rRZ1a+giwEJ/d3EfeCT1X+638Lc/3g3g43L4zTlHRk1qCnG8dz3kqMGqU8O7PFN8NeIbLxZosGpWJYQyZVon+/C4+8jDsQauuma+WcZQbizx3daM5nU9JEqsQvNcL4k8J2+o2k9tc26XFtKNrxSLlWFesvCCDmsq/0tZVYgc1pGVi4ux8C/Gb9nebSPO1LR0e4shlm4zJD/vf3l/2vvL/tV4ELm60W82PujdTuH90/7Qr9R9X0HcHwg5HKkcGvnb4s/s92Ouxz3OlRJbXvLNb9ElP95T/yzb/x1v4v71fT4LMrL2dbbudtOq46M8o+Ffxkm06WOG4l+XgZJ4NfU3hD4hWutQRZl+YYKsrYZT6g9q+A9e8Mah4Rv5VeN1RGw2V2lD6MvVTXYeAPidc6PNGrynYDjr0r2Z0VKN46o9GMlJH6XeG/HqsqQapIrI2Fjvv4W9pP7rf7X3T/ALPftK+OfAPxYgv4kVpQQwAIJ4Ne2eEPHJs41UMbix4zEDloveP1X/Z/75218Zj8pd3UofcYVKW7ietU+s7TNWttUgE1rMs0bcZU8hv7rDs3tV4c18w6bjoziTH0UUVjYq46iiioaKuFKDikorJoLj+lOBzTRyKVetYyiaRkPDUuRTaKxcS0x1FIppaysaJhTl6U2isXEtD6VetNBzS1g4miHinU2nVnYsbRRRUTjoOIq96WhRxRXlzjqbphRRRThElsVe9OpAMUtd0Y6GZ5PRTMijPvX9Zcp+CXJM0u6owaXdS5R3H5FLmo9wpc+9TyjuSZNG6mZNG6lyjuP3UbqZuo3VPKO4/dSg0zIpanlKTHUU2gHFRylpj80Zpu6jdU2KuSZozTc0ZqOUdx2aM03NGaVguP3UA5pKKzsaJko6UU2szxN4o0zwfo0+q6xew2FjCMtLM2M+gUdz7VNi6alN2ia1fOvxs/azsPCH2jR/CbR6trQyj3eM21of8A2o3/AI7/ACryL41/tT6p43M+l+Hmk0jQySplQ4uLof7TDov+yPxrwA3AwayaufX4DKL/ALyv9xf13X9Q8R6lPqGqXkt7eSnLSysST/gKyXuMZGaZNOWyF4Fbvg34d6l4tvY0jilSJzjdtyW/3fWqirH1Kioqy2MfTtNvNbuRBaxPNIxwFQZJr6Q+DX7Pcl00eoX6DygQfNYct7Rr/wCzV6N8KvgBYeGreOa7gVpeCYTzz/tN/F/u/dr3XTNMjtIlSNAoAA4GKUn2PmcZmqi3To/eZvhnwna6NaJDDEI4x2HVvc11MMQUAAYApIodtWFXFZNNnzDnKb5pMlj6GpMVGvepKysQAGKOxoozU8oXOf8AEDEW04/6Zt/6DX5Cacd99IfWVj+pr9e9aIkjcHuCK/JC/sv7G8TalZY2/ZryaLH+7Iw/pXTh1Zs+nyeVpS+X6np8diZNCl/64Mf/AB2vuj9ny8gsfgv4ZubmaO3torCJ5JZm2ooA5JNfH/wntbDxKYbO/l8uBxsYg9e1J4l1S9ECeHDrFzf6BpZFvZ2kmBEFU8FgMbm/2j61M1d2Po8ZQ+s0+ROx9NfEf9rTTtMM1j4Pt11a5XKnU5g32aM/9M1+9KfyX6181eIfFN94n1STU9b1CfULxxj7RdPuwv8AdUfdVfYcVyd7rENqpBYZ/uiucvvEEtySqHC0RgkRh8HRwy01fc6HV/EscAZICCem7/P/AOquT1DWJbpmLOeepPJqzoWg6t4q1BbPSrKW/um6JGOB9T2r6O+GX7JiJ5V74tlF3Jww0+DiNf8AePeqbjHVjq4uFPdnz54L+GfiP4iXqw6RYP8AZycPezjEa19OfD79mXRPB/l3l+P7b1QYPn3Q+VD/ALK175ofhC00mzjgtbeO2t0GFiiXCityLT1jHQVyzr30ieDWx85u0NEfP3j34T6V4rtJE1GxinYjCzBcSJ/unt+VfKvxG+A+v+DnkutLibWdOBJKoP38Y/3f4vwr9ILzQoJ1Y7Nreq/4VxuueEFcMfLDD1A4pQrSiTRxc4vU/M/R9aks5BNbSEYPK9MGvYvhv8a7/QLiPFwygHlWPBrW+N/gnwl4p1h30PeNbDHzNQsdv2VG/uyt/wAtG/2V/wCBFa46L4dRaWmTdidh32Y/rXZzKaufS4epKcbtH3H8OPjJp3i/STZX/kzxTpslt7hA8ci9wwPUV3Vja3ujL5nhi+S90/r/AGHqcx2qPSCflo/91ty/7tfnlYeLJ/CQ325I2nOB0r0LwN+05cWcirdSuMe+RWMqSktUbzpwqK0kfcmi+MLHWbo2LiXT9VXl9OvV8ufb/eX+GRf9pGZferV1brKDXknhz4n+H/iJp1vDqGycoQ8TltssL/3o5FO5W/2lZa7Szu9Z0iPKPJ4q0vH+ymoQj/x0T/8Ajrf9dK8yrhmtUeHXy+Ufep6lLxdY79PlwORX5k+HbfOqz/8AXdv/AEI1+oGoa3p+uaTez6fdJcpEpDqRtkiPPyyIeUb2NfmZ4cH/ABM5v+u7f+hGu3ANrmTNcvVnL+u56Bfxf8Sl/wDcr9Av2el2/BDwPj/oC2v/AKLWvgHUnA0l/wDrnX31+z7L/wAWR8D/APYFtf8A0Wtc+OXNT+ZtmH8OPqd+5whrnNfbEJroHb5DXNeIG/dGvEpnjo/KHcf+Ev1X/r/m/wDQ2rv5D/xKV/3B/KvPwM+LdUP/AE/zf+htXfy8aSPZB/Kvr5bH1FGOlj334N+Evt3wk8MTeXuLWSfzrk/il+zRZ+Jkm1DTIEsNYPP7viOU+jf3T/tdK+hfgBoKH4KeDsr9/S4W/MZro9S8N9SF/wAa+eeKqUqrszx/aNM/L9Pt/hbWJLO7R7e8t32lWGCcV9E/CD4qZEdvPJ7YJrp/2k/gsninRJdXsIgmtWgydo/18S/1WvlHwxrNxp99tbMc0TYZTxXu06kcTDmjuelh6t1bofevgT4kx+AvGUNxJKf7E1Zxb32fuxv0juMeq/db/Zb/AGa+oOpr88dG1OLXPDwjmIZWX5v9oY/wr6+/Zx8cv4z+HltDeS+Zq2jS/YLpieZNo/dSf8CjK/iGr5vMMPy++jHF07e8j1EpkVFJDuFWQM0Fa8E8sxLqxWQEEVzGr+HVmVvlz6EV3jxBgapz2oYEYyKSk0awnbRnzt8RfhFp/ii3cTxCK9Awl4i84/uuP4l9jXyD8RvhDqfg3UX8u3KdWCJkxzf9cz6f7J+av0o1TSFkVuMivPfF3gm01uyltL23WeB+xHQ+oPY17WDzGdB8stUdcKrifndofi660q4AjkeCRTgxvxzXvvw0+OHMcF3JtbgZJ61h/GH4DT6S0mowK1zZ55vVH7yL3mX+If7Q/wCBV4jIl5oF35U6mNhyrKchh6qe4/lX1kKlPExvE9GFS5+i/hLxysxS4s7kRTEDJ6hx6MO4r2bwz4uttdQQy4g1FR80BOd3vG3df5V+Z3w/+LV1o0saSSlovrX034G+JNrrMEWZQWGCCGwVPqp/hNeFjcsjXTlHRiqUlPVbn1uKK878L/EcpGkOpv59vwFvFHzL7SD/ANmH/AvWvQIpknjSWJ1licZV0OQa+KrYWdCVpo4ZQcNyaigHIoriaJuFFFFZWC45e9LTV606sZI0ixymlplOU1i0api04cim0A4rNxNEx1FFFZNGiYo4p1Mpy9K52jRMeOlPB4pi9KWsrFphQBmlApaznsVFhRRRXnSjqbphSikp4GKqESGwooorsitCLnkO6jcKZuo3V/WfKfgNx4PvSg4qMEUtLlHck3UbhTMml3UuUq48H3oz70wEUZqeUdyXdQGpm6jdWfKO5IDmimZFKDipsUmPBpQc0wNS1Fikx9FNBxRuqeUu46iiiiwxd1G6koqHEdx1PqjqurWeiafNfX9zHaWkQy80zbVX6mvkf41/tiT6glxo3gYvbQE7ZNWfiRx6Rr/B/vZLf7vfGSselg8LPFycIHtXxh/aL8PfCi1ktDKNV19l/dabE2Sp7NI38I/8er4l+IfxY8Q/FDV2vtduzKFOIrWE7YYR/dVe5/2jXGXV1Ne3Elzdzvc3Dks0kjEkmq7XBGcGsT7vCZfSwkdNX3Lks27PNRR7p5BHGu5icDFP0XR73XbjyraMvnqew+tfTnwc/Z92Qx314hQMATK/329lX+Ff9qlY7qteFCPNNnn3w0+A934jnWS+T5QQTG3ypF/10b1/2a+uvA3wz0/wrbKIolknwA0pXH/AV/uiuj0Hw1a6NbR29pCsMSDhUHA/z610VvbADpRY+Ix2aTxL5YaIjtLJUGcVoRRgdKaiH6CpkGKix4yY9VxTqQdKWnY0H0A4oorOxVx2ajLdaCeDUROc0rAY2qfdY+9fl/8AGK1sJ/iv4ln0u4ju7Ge+d0nh+45OWYj/AIFur6c/ar/aH8qe58DeGbn96fk1S+ib/V+tupH8X97/AL5/vV8q4qo6H12VYeUIupLqWfDPiW40Jg0blSpzxUeoeKZp5HYO3PvWbIACa9R+Hn7PXiDxqsVzPH/ZWnSDKzScyOPVVpvue/Oqqa1Z5VBJcancrFDFJNK5wscY3Ma9y+GP7MGreJvKu/ELHTbBsEW68yMPevoX4afALQfBESNbWatc4+a4mG5z9PSvX9N0WKFRgAH1PWoc0tj57E5l9mmch4F+GeleENPS00qyS0iAALAfO/1Nd3aaWkK/dFW4bYR1cRABXNL3tzw3UlN3kyvHb5GMYFSC2Hrms7xV4v0TwRpbajrmp2+n2gbYGlb5nb+6q9Wb2Ar5q+I/7Uuua95tl4QgbQLA5U6hcBWunH+yvKx/+PN/ums1C524fDVcS7QR7d8Svi94Z+GluU1Gfz9QYZi0u1IkuX99v8C/7TbVr5X+IXxl8QfEh5IbuQaRozcDSrRiQ4/6bSf8tPp8q/7Lda8/uZ8TTXE0rT3Mzb5ZpWJkkb+8zHljXO6j4lVQwjNbRgkfU4fL6dDWWrOjudUhtVIBFcrrXigsGVG/AVhy39zqEuyMMxbgBRkmvVPh1+zb4g8XBbq9QabaMMiScZJ+grZJI7ataNKN2eRmG41RwMOxY4VEGWb6CjUfCGsaKiSXFlPa7+VWdSpNfdHg34DaH4TQG0tQ9zjm5uFzIfoO1b2s/Dy21C1MNzaR3kR6pIN/60/bKJ4zzH3tD4G8LePdS8M3a+XK6FTkxscV9KfDD9ps2/lw3UxHQfMayPiP+zSsqy3WhqSRybSQ4Yf7rf8AxVfPureH7/w7dyQzxyRSRHDK6lWU+4qlKM0elRxEKq0ep+i1p4s8NfEAR3Lym11PYETULR9k4H90t/Gv+yylf9mvhfW/Cp8J+NdV08D5YbuQL/u7iQfyrC8PfEPVNBlUxXLgA9M1003jCPxFcG6uH3zt1zQoKOqOrzF1ad5LUxk8bcV+hP7P3/JEvA3/AGBrX/0WtfnbrMmy0mfsqE5/A1+iX7P3/JEvA3/YGtf/AEWteZjdKdjy8wdoRR3rn5a57Xv+PZ66Bulc9r/FrJXjU4+9Y8Wm7n5RQ8+J9SP/AE+Tf+jGrvLpsaW3+5XBQn/ipdRI/wCfyb/0Y1dveyY0xh/sV9dNaH11P4WfoB+z8m74J+Cf+wTb/wDoFdncQZzxXKfs8Ju+CXgj/sE2/wD6DXfTW4xXx1b+Kz5mc/faOB8QaGlzE5C5B6jHT3r89/2kPAJ+H3xEa6totthqWZY8DhWzytfpjd23Xjivlb9szwb/AGl8PG1CNMzadcq+R12nrXdgKvJU5X1OzC1LSsfPvw21qU2v2Z2yMZXP6ivo/wDZR8Vf2T8UbvSZHxBrNmQoJ486E7l/Eq0n5V8l+A77ypwc8Afoa9S+HHib+wfip4Pv921Y9XhVj/syHY3/AI6xr18XS9pTaPXrLmoyP0ojOakzUMZ60+vh+U+duOPSoyAc1J/DUfrWUogmVri1EgOBWDqGlhw3GRXT1BNbCQHHWpN0zzHV/Dyyq/yggjBBGQRXz18UPgFb6nHPcaRAkUjEs9ixwkrf3o/7h/8AHfpX1/dacHByuDXL6z4fWZW+Xnsa7MPip0JXTNoTcWfmT4h8E33ha7nXy5EjjbDxuuHhP+0P/Zh8taHhHx/d6DcphztB6Zr7T8efDGx8SwMl3D5c4H7u6jH7xf8AZ/2l9mr5O+JPwWv/AAtcPP5YWMn93PGP3Mvsf+ebex/CvrsNjKeJVnoz06dVM9o8AfGaK7VEeUA9wTXvXgr4gyWWHs5RLA3L2rn5T7r6GvzatdSu9Iudp3wSoeVbg17B8OvjNJZvHFcynAIGc1dbCxqx5Zq6Ou0aisz9JdA8SWevQbrZ8SAfPA/30/xH+1WvXyb4P+JcN8I5La42SDGJEbBH+f7te1eEfipDeiO31ZltpDwt2Plgf/e/ut/47XxWNyydBuVPVHFUoNK6PSKKKK8CxyWsFFFFZtFXH0UUVlylofRTVNOrFo0TFU0tNozWEkWmOpV70gOaUcVzSRomPWnUwcU+sLGlx1FFFYyLiwooorkcTdMVRTqKK0jEhsKKKK6EiLnje6lBFNor+tbH8/XHUtMBxTqVguLupcim0UrFXH0U0HFLuqbDuOyaN1MyaUHNTyjuPyKUGmUoOKmxSY8NS0wc0tRylpjwcUu6mA0tTYpMdkUZFR5NQX+o22lWM95e3EdraQIZJZpW2qijqSazLTLsbMBwB9e9ee/FP45eGfhVbkajdrd6owzFptu26V/rj7o92rwT4y/thSXKTab4DPlxHKvrMv3j/wBcV/8AZjXyvfaxc6ndzXF5cSXVxMxaW4lbLSH/AGmrmnOx9dl+Rzm+fE6LsekfFr42+IfiteyHUJzDpoP7rTojiCMf+zN7tXmZ4zSifI9akghac4HA9awTufb0qUKUeWCsisxzkV1vgn4a33iW5jMsbLG/3EHVv8+teg/Cr4I3WvOl1NBshByZXHC/T+83+zX1Z4Q+HWn+G4QLSHbIRh7huXf/AOtTSbPHxuZ0sNotWcZ8MPgZp/h62hlu4UaUAEQ4yoP+1/eNe2WVgltGFVQoHan2lksIzjLepq6q8VfIfDYnF1MTLmmyS3UY6VaUYFRxdKmVuKOU5birxTxTKUH1rOw0ySikDUoOak0TH0UDmjsaiw7hXiH7UHxp/wCFP+B5pbPA8Qai7Wun/wCw38U3/AV/XbXteecV+aP7TvxGb4nfFnUZY5DJpOlt9gtFB+U7W/eSD/ebd+AWhRuevluF+s1tdlueaQGWaWS6uXaWeVvMeRzku5OdzGppb/AwKQDg+9eq/ss/ChfiX4xm1i+hZtF004Ct92Z+4NK1j7ydSFCGp6j+zl+zmrRReJfE0QnupPnt7RjlY/8Aab/ar6osNCS3QJFGqAegqzpenR20KRRIERQAABWvDHsFYyd9D4fEYyVaTuQW2nJEMtyasLGFOcYxUgry74n/ALQ3hn4ciazif+3tdUYGnWbgLG3pNKRtj+nzN/s1lY5qUJ1pcsFc9MuLiKztpbieRIIIlLySyEKqr6k9q+ePiV+1xY6d5lj4Ihj1a66HVboEW0f+4v3pPqdq/wC9XgXxI+K3iP4pXJ/t29/0FG3RaZbEpaQ+mFH+sb/abd/wGuDudRFuDVKNz6jB5Vy+9WfyOo1vxZqPiXVJdW1zUZtU1GTrPcHIVf7qL91V/wBlflrKufEUZ+UEye2eB+HSuK1HxEzFgDisQa1IJupraMFY+hgo0lywVj0uc/b7aovh98JdZ+JGq3KWSYtLdj5s7dF5qvod4J7ZT6ivp39jbS45dK8VS4+9exj/AMcrNvlMMXVdKm5I6D4Y/s8aN4ViSR4Be3fGZJF+XPsK9n0/RI7VQCoGBgADpWta2SxLgLiri2/f+lc8pNnw1SvUqu82Zws4sfdFI1lFtPy1rCLA60GHIrEUXY4nUvD4nZiK858cfCrTfElu0eoWSykD5ZlGHX6GvdJLNWzxWVf6YHDAjIoTaOmnUcXdM/P/AOJP7OV/ozyXOjBr23GSUA/er+H8VeP6JO8N5sbIZTtYV+k/iTw9mGRlXPByK/N+yUHW7rj/AJav/wChV30p8yPpsDWlVTTex3NxzYknrsr9EP2fj/xZLwP/ANga1/8ARa1+d0//AB4f8Ar9Df2fT/xZHwN/2BrX/wBFrXHjF7iJzH4Ynfuetc94iOLeQe1dAx4Nc54kbEL/AO7XlJdjwqeh+UNo/wDxP78/9PUn/obV2F/L/oWM/wANcLaSY16/5/5eZP8A0Jq6++k/0L8K+omfYU37rP0i/Z0H/FkvA/8A2Cbf/wBBr0SUcGvPP2dP+SJeB/8AsE2//oNeiSDOa+NrfxJHy8v4kihcxZU14l+0fpv274UeKosZP2J5B/wE7q9ym+6a8c/aJf7N8LfFT/8AUPmH/juKrD/xYmlF2mj84fBk+4qf9muzkuvKv7CXP+ruI3/JhXEeCkxGp/2f6107P52qWMH/AD0uI0/NhX109j6X7B+t0RqQHFQx8cVKpzmvgrHzNyQH5aZ3pw6U0cmspIEOooorGxqmMkiDg8VnXNnkEEVqUjIGBBqbFpnHajoyTqwK5rg/EnhCO6glimhWaFxgqwzXsE9pnPFZV5pyuCCKcJSg7xNYycT4W+LX7PrWyy3mkRG6th8xt1fdPB/1zP8AEv8AstzXzlqWnXOg3RTkFTgNjGfr6V+oWv8AhYSBnjXB9PWvCPil8DNP8YRSugNhqQB2yoPlc/7Y719Pg80XwVT0KdY+X/BnxIutJnRWkZGHUE9f8a+ivAXxZg1KNIppBuIwQ3INfMPjX4ear4M1B7bULVojn5JV+449VP8ASoNB1250uVPnIweDmvelCFWPPB3R1qbP0f8AAvxMudGRI0Y3unHk2rN80Y9Y27f7p+X/AHete0aF4j0/xHamaxnEm3AeMja8Z9GU8ivzn8BfFt4GSOeTpgZzXtXhj4jlZI7yyuTDOv3ZYmwR/st6j/Zr5jF5VCq3KGjFOlGorrc+wKK818C/Gex1x49P1cpY6iWCxzA/uZz/AHc/wt/s16RXyFbDzoS5Zo89wlB2Y6iiiuewx9OFNpy9KwcTRC0UUVzyiWgU06m06uWSNUPFOHSmL0p69KwaKTH0UUVzyRrEKVRmkpy96x5TdC0UUVpGJDCiiitbE3PF80UzNANf1pyn88XH04HNR7qUGlyBckoBxTAaUNS5SuYkBozTAaM1PIO4+im5xS7qnlKuOBxTqj3UoPpU8pSY+nA1GGpQRUWLUiSimA0uTU8pVx1fLf7d/jC90rwloOiWk3lxahcySXCg8sqBdo/76bd/wGvqPIFeG/tKfCw/FfwqbSKXyNRtJBPZyEfKSAdyn/ZNYzi7aHpZbVp08TGVTVH5+W+ofaOKvWVhcalIY7aMyPjoKzPEPhvVPCOrTWGpWr2d5EcFWHDD1B7il0rVpIZVkRjHIvcV50lY/V4TUjrNX+HHi/w/4VvPEVz4dvZtItSFllhAcJnoW2tuVf8Aar2L9n/4Py+ItPtvEmsmBoplElrZ27blCn1PrWZ8IPjxqHhu5RPOGPutFNzG691I9DXuvg7RdOubyTWPhyYbGab97f8Ag+Q4trju0ls3/LNv9n7p/wBms4zjF+8Y42lXqUJLDuzPVPDnh6Gwto4441iijGFRRxXV28KhRxXOeENetPEdvJ9lLxzwNsuLScbZoG7qynkV1MabRiu+PK1dH5VONSlJwqKzRIiin4xSLgUtVYyuPHFOVqbRWdh8xKDmlBxTKcDmocSkx6tSg+tR04GsnE1TJQaXIqPNIXxSsFzgPjn42bwD8L/E+tRvsuLe1KW5z/y2kPlx4/4Ewr8ydNtwa+0f28/ET2fw00zTY22tqOqJuHqkaO3/AKFtr420UbhzUJ2R99kdO1D2n8xLc2U1wYbe1Qvc3TrBEoH8THbX6KfAr4bW3w4+HulaTDGBN5Yed8cs565r47+A3hc+K/jBosBTdDZK1y/pj7o/9CNfonBCqcAVmzLPcQ4ctKI+3h2CnytsFSgYxVW/kEcZYnAAyTUKJ8cmfL37W3x51Dw5qNt4I0W7fT5Lm3W5vryE4kMbMyqiH+H7rZPPavmL+0YcdRXS/tgTn/hecuP+gfb/AKl684sIWuIqTjY/RstoqGHUo9S9eawTuWPmst2lmz5j4H90feb6V0/w/wDh7qXxD1i4sdM2L9mwbiZ/ux5/nX1V8PP2d9H8Iol1JELy/wAc3V0uWU/7I/hoSsb4jF08OrPc+X/CXwK8S+LtktxG2gaa3O+Rc3Eg/wBkf8s/q2GrhvHvge28CeNbvR7PzDFHHG7NK+5mZl5JP4V+lM3h6NId23mvhL9o6xW1+MV+ijj7Pbkn1+Tk1rB2Z5mExcq1ZpmPoXy2ae1fXv7Ew3eHPEuf+f8AT/0WK+RNHTFsB6HFfXf7E3Hh3xL/ANf6f+ixWVW0mejmP+7M+m0UCpAM01e9PQda5LHwPtLjguRRtqRF607bWZqmQ7BUE8IZTVsio2HaosaJ2OI8TrttZ/8Adavy3tH/AOJzcH/ptJ/6E1fqT4q4trj6GvyrtZv+Jxcc/wDLaT/0KurD7M+lyp6y+X6notwP+Jf/AMAr9Cv2e/8AkhngY/8AUGt//QRXwBBAJ9NX3TFfYnw7+MWleEvhB4SsLeGTVdVi0+OJ7WJtkcLAdJZcFUP+yMt/s1OJg5wsj0cbSlVjFRR7tPPHa28k88iwwoMs7nAFeJ/Ef4xW8tu9p4ejjuW6HUbkfuf+2Y/5af8AoP8AtNXl/jX4m6p4suTJqF6WiB+SyQ4tkH+7/E3u36V5j4g8cfZ1bnmuSnQ6snD5co+9VZ5Trfw+fQ9VnmgmEts8jOePmySTVbV7wR2ZGei1b1/xVLfysqEkE9qk8C/DPxB8WfEEOi6JbNPM5BmlxlLePu7n0Feld21PSqzhCLZ+k37Of/JEvBH/AGCLf/0CvRax/BugQeFfC+laPbKEt7C1itYwPRVA/pWxXzFdKU20fIylzSciCZAc183/ALZniKLRvgzq0TNi4vnS0iHrlvm/QGvou9m8qJznnpXwP+2V48i8V/EOw8M2z77PRVMlxg8NcyfdX/gI/wDQq6MDT5qvodOGi6kzwrw9ZLaWe4jAx+ldP8K9FPij4v8AhLTMbkm1SFnH+yrbm/8AHRWMwENqEH0r2/8AYc8JHXvizea66brfRbVmViP+W0vyr/44Hr6GrNRi5HvVpezp3Pv/ABinL0pgOactfGNWPmObUkU8Uq8U1TTqxaLTHZFFNpy9KyaKTCiiis2jVMCMjFVprfINWaCMiosaJmJc2YYEEVy2t+HUnViF5rvZIQwPFULi1yCMVNjWL7Hz9458EWWrWMtpqVlHeWz9UkXI+tfFnxa+F9x8ONbsxoLrqtpqU/lQ6WWLXgY9Qg/ir7a+IvjOS9v7rRPDEMeo6hGf3+o3P/Hnaf7zfxv/ANM1/wDHa8/0vTNJ8G3MuoiVtT12dds+s3YUzyD+5GvSNP8AZX/x6vq8sVWCbk9D0qEJvV7HzQPhN43sP9dp3k+v79dyfX5q6HTtZ1Hw/wD8fXGK7Pxt8SVtlkVH4+vJrw7WvF11fO2XIX0zXvW5zra5T0DxB8WriWwaANtH1xX6P/BnXr3xR8KvCOraiWN9d6VbyzMxyXYr9/8AHrX5y/AT9nXX/jHrVrPdxPY+F45N8964K+av8UcefvN/tD7tfqDpNhBpen29naxiK2gjWGKNeioowo/IV8fnc6TUYR1kjjqzT0L1FFFfJGQ+ikBzS1DQ0KtOpg4p9c8kWhy9KKRehpa45I2iPooHNFc7Roh9KvQ0lKvQ1g0WhaKKKysaJjx0pV601elLVpAKeppKKKqwrniO6jIpmRS1/W9j+cbjwaUNUYOKcG9aLDuPBpc0wUA4qbDuSbqMimbqXIpWHzD8+9GaZS5xS5Skx4alBpgb1pQc1Nikx4NLupgOKUNUcpaY8GlzTKF61NiriuSBWJqsG8E4rac1XmhDipa0NYM8S+Ifwx0nxpavbanZrIoB8uYDEkZ9jXyV8TvgNrPgh5bu1U6hpgPE0S/Mg/2hX6D6hpiyK3Fcnq2hh1dWQOhGCCOv1rknS5j6HAZnUw3uy1ifm3a3TROCCVYHrXofg34m3/h+4idZ3XYQQysQR9DXrXxW/ZxttX87UNAVbS95Zrfokh9vQ18v6vY6joN9LZ38L288ZwyOMGvLqUnHc/QMHjoV43iz7i8GfG7R/GYtzq10dL1yMAQ6zbjDeyyr/EPevb9F8ZOskNjrSx291IMw3cTbre6H95G/pX5eaH4mmsZFw5GPevoL4W/HqXTbddN1ILqWkuRutZj933Q/wn6VhCU6TvHY1xeAoY+Npq0u591KTmng15x4H8WR3dgbvSp31fSwoM1u53XdoPU/89F+ld9pt/b6larcW0qzRN0Za9OnVjUV0fm+YZZXwDvUXu9y5SrSDgUVseRclXpS1GGp4NHKWmPBzSjiowacGrJxNUyQGq8z4zzUm6qtw3WsrFHxt+3/AHu648D2oPAN3MR+CCvmzw8Nymvon9vmH/TfBlx6LdR/+gH+lfPHhX5gR71hUVkj9Nya31WKPo79juy874karMRxFaxqP/Hq+2Ixivjf9kmJrH4janG3/La0iYfrX2QtZxjc+fz/APjr0J81Q1Fvlq3urN1F8CtOU+aPzv8A2vOfjbN/14W383rh9BH+jCu4/a8/5LZN/wBeFv8AzeuI0H/j2Wspn6hlz/cU4+R9DfsY2Hm6z40lx1+zrn/gLV9cQWQiXgc18yfsUWwNz4xOON9v/Jq+rtgxUHyuazccRKJiXibI29K/Pj9qm5CfHDUB/wBO1v8A+gmv0R1GLMb1+c/7V0ZHxxv/APr2t/8A0E1aReUy5qr9DM8NL9oh/wCBV9cfsWQ7fDviX/r/AE/9FivlX4aQR3UyQyPsDN1xmvt74UaDp3hzTvM8KXg+0XADXVhfnMdyw6upJ/dn/wAdrCWh9VjqE6+Gcae57FinrwaytO8SwXshs5VlsL8dbW4+R/8AeT+8v+0talZqx+dTpTpS5ZqzJ1fApQ+ah3UbsVHKNMnzUTdTRvqnq2p2uj2E17fXMdnaRDLzzNhF+pqOU1jqcx4qX/R7j6GvybtmI1e4/wCu0n/oQr78+Kf7QMeoiaw8KqUXlW1W6Xn/ALZxt0+rf9818caz4Ii02YyxTebEP++q1oq1z7HL8PUormkjtvhjqNtHqVs1+oltowGdSM5Fdj4l8fwS308kUYigkcssa/IB9BXhB1D7PwKo3OpSTZwcCt2rnuqVtzufEvxCaUvHC24+g6CuLNxeazeRwgS3E8rBUhiXc7H0Ve9d38LfgN4m+JM8U0MX9n6SeX1G9T76/wDTOPv/AL33a+zfhP8AAPQPh1bD7BbCfUGUCXULgbpX/wCBdFH+ytZSlGmjzMRjoU9Lnz58Jv2S9T8QCG/8UTNpVk2GFjEf9IkH+038P/oX0r7T8C+BdI8DaPFpmjafDp9ogHyRD5nPq7fxGrlhpMdtgkbmrctgMH8K8urWctD5+pipVvJE68Cn0Vz3jvx1pHw88Oz6zrNx5NrH8qovMkrnoqL3JrkUObQwipTfLE4L9oP4u2Xwl8EXeoSsHv5M29jbk/PPMQdv/Af4m/2RX50Wktzf3V3ql9IZby7la4mkb+KRjkn8Oleg/Ffx1q/xa8W3Gt6p+5tYiY7KxHzLBDk9f9pu5968+1K5SzhWFTjj9K9zDUlSj5n1WFw/sY67lTUtSIyinmv0R/ZE+G3/AAgHwksZriLZqmsEX9zkfMAw/dqfouP++mr4/wD2W/hC/wAWPiAt7fRFtA0l1nvSR8s75/dw/wDAv4vZf9qv0ntx5VcWNrW/do48wrX/AHcS3Tgc0wcinLXiM8RMkHIpwOaYvelrJo0TH05elRqcUuRWbRSY+igHiismjVMKDxmiuJ8e/EzT/B8TQjF5qjD93aIfmHu390U4UpVHZG9OMpuyOi1zxFp/hrT5r7UblLa2jGWkc9a8O8Y/Em/8YRyxRPLo2hyAjAO26ul9QR/q1/WuH8W+NbrWb37bq9yLmaM7oYf+WNv/ALq/xH/aNeV+Lvin9nLgzEn68/8A1q9yhgox1Z7lHCqC5pnf614w0/RLAWtq0dtBH92KE7QPevEPGXxKaZpI7dySeN1cTrvjW51OR1VyEPoa6b4SfA3xH8X9URrOJrHS42xJqcw/dr7L/eNexaNGHNLQ6nVjFWOLitNW8ValHaWVvLfXcx+SGIZY19T/AAQ/YviT7PrPjhlupTh49KjP7sf9dG7/AEFe8/CT4DeH/hbpwi0y1FxdsB5uoXIDTSn/ANlX/Zr1e1sACC5y3vXgYvM5SXJS0R5lWvzOyGeHdGt9JsYre3gSCGNQqRRrhVH0raXimxoETApy9a+Ulqc97kgpaQdKWsS0x1OU02ioaLTH05elMByKctc8kapj160tNHFOrlkjVMcvSlpq96dXO4miY+lXoaYvenL1rBxLTHUUUVlYtMcvQ0tNWnVSRVwoooosTc8MopmaXPvX9e2R/Ntx4NKDmmbqUEUrDuPHFKGpgNKGpWHcfmlqPIpc+9Kw7j+lGTTc0bqjlKuPDUtMDUoPpU2KTHg04HNRhqUEVFi0x9Lk0wGjdU2KuOZqbmjNJWdi1Ihli3ZrPnsw27itbHFQyJ1qOU2jNo47VNGDBio/CvKviT8INK8dWjx38AScD93dIPnT/GveZbYODkVmXelq6njIrKVNSWp2YfFzoy5qbPzd+I3wg1v4d3bG4ia508n93fRDKkf7X901zGl3z20n3iMV+jev+FIL+3lgmgSeCQYaOQZBFfMHxV/ZrlsjNqPhlSycs9g3Uf8AXM9/92vPlh2tj7/L85p1koVNGc18PfivqXhO+hntbuSMoRgq3I/z6V9bfDn4xaZ4zEbxXEWk622N4Jxb3J/2h/C3uK/PJZZrCdoplaORTghhjmun8PeM7jS51eKVkKnsa4JU3F80dGfWXhWh7OqrxZ+o2layt8zQSobe8T78D9fqPUe9aWa+RfhX+0FbahbW+m6/ungjwIp0bE0H+6e49q+idM8WCC1inubhb7TnwIdRh5H+7IP4TXRSxGtpHwuZcPypXq4XWPY64PzT1aqqtk1Khr090fFE26nK1MHSlXvWbLTJB0qrcNwas5wMVUueQazsa3Pkr9u3RmufBfh/VEGTZ6l5Ln0SRG/qq18seD3/ANIYGvv79oXwd/wmXwr8Sacqb5xbm5h9fMj+dcfXbt/4FX52+H7w2t4hPy84I9K46q0P0PJKqnQ5V0Pqv4H3v9i/EXQb0thLhTZP7lvmH/oNfao4r4B8EXR1CyRIG23UZWSJs9HU5X+WK+1Ph34uj8X+F7LUAcOyBJV7q44INRhndtMw4hotKnWW2x1LNWVqT8VoO9ZOpNwa7LI+Jufnx+123/F6ZP8Arwt//Zq4rQj/AKOn0rtv2uoz/wALnkP/AE4W/wD7NXD6IuLZPpXHNan6nlz/AHNN+R9YfsQDc3jE/wDTaH/0GvqfHNfLP7Dgz/wmP/XaH/0GvqgjBrOx8dnEv9skUr1f3b/Svzq/a54+OF1/15W//s1foten9030r86P2uT/AMXwu/8Arxt//ZqpG+Tv9815HCabdTWkSywsQwr0LwL8ddR0G5RJpm2KfWvPtJTfDsPQiuc1iWCy1MwF8E0nFPc+6UnBaH6BeB/j7pnim0itdU8u6QYKlz86H1VuqmvU9G1+7aESWFz/AG9aY/1TsoukHsfuyf8Ajrf71fl9pOu3ukSLJFMyqO4PNe4/Db4+3GmyxrczkYx+9B/mK53T7GdajRxMbVUffWka5Z6vHIbWbzHiO2WJlKyRN6Mp5H41fDZ6V4Z4V+L2i+NY4Xu22XSqFjv7V9kqD0z/ABD/AGW+WuQ+Onj7UVnXSm8RfbtPRMNFap5Pmf75X73/AKD/ALNRr1PnJ5G1L3J6Ho3xC/aM0fw2JbTQ9muaoOC8cn+jQn/ak/i+i/pXzV4v+Jus+NLw3Gs373rA5SAfJBH/ALsY4/4Efm/2q43VfFYVWjQhUH8CdPx/+vn8K4bVvFMl0WEbYHtTULnuYXA0sKr21Ov1jxZFBkGTzHHRQeB/QVxOp+IJ9QYgNhewHSsaSaa7uoreKKa7u5ztitrdd8kp9FXvXvfwp/ZZ1LX/AC77xY/2OzOCulW7/vG/66yD/wBBX/vqtVFRRrWxkKSvJ6HkXhDwHrnj/Ufseh2TX8wO2SXkQxf774PP+zy3tX1b8Kf2RNG8OyQaj4gkGv6mpDKrLi2iP+yn8X1b8hXt3hDwTYaBYQ2WnWcVrbRLtWONQqqPwrtYLJIlHG5vXsK5p1Hsj5jE5lKq+WnojJ07QIoK3ra2WJcAU+KAAZxUoGK4ZXZ5adxq9asJx0rzz4gfGnQPAbyWhdtV1lRkabZnLL6eY33Yx7t+VfOXj74wa742Z49SuxFppPGl2DFIP+Bt96Q/72F/2amNJs9TDYGrX12Xc998cftCaZowmsfDyxazeoCr3hY/Y4z/ALwI8xh/dU/8CU18y/EPxHqfjK7a71S8kvJsFVeTgRqf4UT7qr/nLVyur+MvswPIFcRqHjue7nKhvl+tdtOgkfT0MJSw693fuT+J9RSwhcA5A9O5rC8CeA9d+LXiyDRNFiLzStumlP3LeP8AikY9hV3UANQtvm5r7M/YtsdJf4Tiays4re/S9lhvpEHzSspyjMfXawrWpP2ULonFVXSpuSPUvhR8M9K+F/hOy0TSosQQDc8pX5p5D96Rv9r09q9AiXLc9BUVsBzVgcV89O8ndnyfPzaslHtS0ynA5rJokcppabS7qyaGhwOKN1JkUZFQbIkyaVpUt4mkkOFAzzWP4j8Uad4U0x7/AFO5S2gX+Jzivnf4h/F298Xh4C76fpH8FsjbZJh/009B/s1tSw7rOyPRw+GnW16Hd/ED40uwlsPD0iqBlZtRcZVR6R+p968F1/xRFZ+a4lZ5X+aSeVsySH1Y+ntXM+J/H8djEyK4CqMKo4C/h2rxzxH41udQdwrnYe/XNfQUcLGmrI+hpUYUF5nS+L/iM0zSRwPn1avL7q8vNavVhiSS5uJThIoxlmPtXSeAvhz4j+KetLp2hWbTjIM9y/EcK5+8x9K+5/gj+zLoPwtgiupoU1XX2GXv5UyF9o1P3frSq4inh99WYV8TGK0PDfgT+xpPqRh1jxwrW9scPFpSn53HbzG/hH+zX2r4d8LWehWENrZ20dtbxKAkUS7VUfStKy05IQCRlv5VoKmBXzOJxU6zd2ePKrKbGQQhBVyGPuabGmeT0qcEYry2ShQcU6mUqnFYtDQ8HFOplKDismjVDs04HNNoHFZtGyY8HFOplPHIrCSNEx9OHSmL0py9DXNJGqY4cU6mU8c1g4miYq9acKYKfWDiWmOooHSisbFoVetOplPp2KuFFFFKxNzwbcKXNMor+wOQ/mfmJAcUBqYDinA5pcpXMPB9KUNUdKDU8g+Yfupcim0UuUfMOBpQcUyjNLlKuSBqAaaDmipsWmSA4pd1Rg4p1RylJjgaXNMozU2LuSL3paYp4p4NZtDTCkK5paKysaKZEYwaieDINWqCOKixaZg3NkHzxXP6npAdW+Wu2eENmqNxZ7weKlo3p1GmfNnxU+BGl+NI5LiONbLVAPluUXh/Zx3+vWvkzxb4P1XwPqklnqMDRsp+WT+Fh6g96/Sm+0sOG4rg/Gnw/wBN8U6fLZ6laLcQsO4wy+4PauWpRU9VufX5dnM6PuVdUfBOleIZLOUFXKkGvdvhR8er3w5MImlElu/yyQS/Mjj0INcH8VPgNqvgh5r6xD6jpIOTKq/PF7MP615zpt88DgE4IryqlHoz9Bw+KjVjzU3dH6X+BfHVprNgLnQ3NxEBmbSpWzLH7xN/EvtXoWmapb6rbia3fcOjL0Kn0Ir83/h/8Tb3w3eRSQzsu0g8HpX118OfivpvjCON3uU0zXcAfaycQ3P+zMvZv9qlSrSovlnqjyMxyWjjU6tD3Z/gz3MU+sjStaF3IbadDbXiDLQsc5H95T/EK1a9OMlJXR+a4ihVw0/Z1VZjy1QSnKmlL8VGW61djJMxNZ/1Rr8zPjX4Nl+HXxK1fTolK2csv2qzP/TCTJx/wEll/wCA1+m2oxhyQeRXzR+1Z8I5fHPhZNT0+LdrWjh5oIwOZU/5aR/1X6f7Vc1SF0z6HKMX9Xr2ez0Pn74a+KjBLES+CCAea+sPhl4wTw3qP21WxoOqOEvAP+XS46K/+63evgXQr97C5V8lcHDKex9K+ofgn8RIIT9kuwtxZzgR3ED8iRPf6V5bTg+ZH6U40sXRdGpqmfbZY1Tu135zXG6Drv8AwhlvAlxcNf8AhacgWuosctZE9EmP93/artboq6K8bq6OuQy1306qmj8xxeAqYKp7Oep+f/7Xij/hcsn/AF4W/wD7NXA6QQLVPpXd/teS5+Msn/XhB/7NXnukyf6KlZzP0DLv92pvyPrb9hs5Xxj/ANdof/Qa+pZGr5W/YYbMXjE/9N4R/wCO19Tyc1mlc+Lzd/7bIp3jZif6V+dP7XR/4vfd/wDXjb/+zV+il0f3T/Svzq/a6H/F77v/AK8bf/2aix1ZM/37OP0Qf6OPXFdt8IfB0XibWPFazwR3UKxW6mKVMj/lpXE6J/x7j6V79+yTZ/btb8ZsP4Y7X/2pUJ3dj67MJqFBs8+8Wfs7zWJkn8MSeV3OlXhzGf8Arm3Vfx+WvLr3SLrSL97S8t5tKv16wXAxn/aVvusvutfond+FYpVbdEpB9BiuO8XfDLTPEdi1pqFlHdw/wrKOU91bqDTseBhs0cHyyd0fFWjeL9R8PXIaOR1Of4T1re1H4gXmvgiU8+ldH8Q/gDrXhrzrjQ1k1rTxybeYf6ZEP9k/dkH/AI9/vV5HuMLv94OhwyMu2RD6FahxPpqOJhWV4M62z8Pav4jnSGyheUt/drqR8APFlh4p07SfEEdt4V0+9/1Os3DrPBM39yJ1+XzP9mRl/wB1q4jwv41n0e6RvMKgHIINfTPw+/aBTUNLk0vVoYNS0+4Ty5ra7UNFIvoVNZvQ2lFyVj0v4X/s9eHfh1AGsLUzai4Hm6hdjfNP+P8A7Kvy165p+hrEAZOv615z4LuntoQ3hC/S7ssZbw1q02Sg/wCne4b5l9lk3L23LXpHh/xPY67JLbp5lpqNvgT6ddr5c8P4H7y+jLuU1zOd9D4/G4SvTbm9UbNtCsSBVGAP1q0oqleX1tpdjPe3txFaWkC7pJ53CIg9yeK8E+Iv7TMjebaeDrZGQZVtbvYmEQ9fKjOGk/3m2r/vVha5x4fC1cRK0Ee5eK/HGh+CNNa91nUFsosfu487pJj6Iq/Mx/3RXzx8Qv2htY8R+ba6UkvhnSzxmP8A4/5h7t92H/gO5v8AdrxXWfFE11qE19e3suoajKMPe3ThpCP7q/3V/wBlflri9Z8crlo4iWboWNaxpn1eFyynQ96pqzqtV1+CxhdEIjjJLMM5Lt6sTyx9zXDax4zmbcsZ2j1rn73VZrxyWYn610PgX4Q+JviUSdJszHZH72q3albb/gHeX/gPy/7VdMIKJ6dSpGnHXRHHajrjSbnklwCcbmPf0qhp+orcyyp5U8LRthkuI9jDr2r7B8Jfs06H4EMV7Osus6wuD9vvFB2H/pmv3Y/+A/N/tV80/F6D7J8Xtcgz91Ih/wCOVqpRexw08V7SVkX7GQSWg56gV9b/ALB94G0PxhY5yY7yGbHpvjYf+yV8Y6ddMkIGe1fXP/BP1zIvjljz81l/OWuLE/ATj3eiz69gTAqWkXjNLkV4tj5JMeOaKaDinDms2jZDgc0tMHFPHNZ8tykFcP8AET4q6X4HtniDreaqw/dWaNznsX9BXBfFD49ppxuNL8PyLNecrNfdUh9k9W96+cda8VHzprm5naWeQ7nmkbLsfc120cNfWR7+EwDladXbsdh4v8f32vXzXmqXP2if+CMcRxeyj+teSeKviF5e8JIQPaua8VePWlLxwtwfSuNsbTVPF2qRWGn201/fTHEdvAu5m+gr2oUuVHtynCmuWJJrHii41CR8MVT+dex/A39l3WPiO0Oqa6JdJ0EnK5XE1wPRQein+8a9c+A/7INj4a+zaz4sVNR1TAZLHrBAff8AvN+lfVen6ZHBGsaIAqjAVRgCvNxGNULwp79zx6+LT0ic/wCAvh/pHgnR4dO0iwisbSMDEaDlj/edurN7muyhtwnbn1NSQ2yxD1NTKvtXzs5ubbZ5bk5O7BFqXFA6UVg0NDxx0pQ1JRWVjVEimlptKprJo0Q4HFOplKDisWjREmaWmU+sWjRDl6U5e9MXvTl71izWJIvenL3pi96eveudo1iLTl702nL3rFo0QtPplPrCSLQq9KWkXvS1hYtBTxyKZTl6UWHcWm5NO7GmVIjwTNLTM0A1/Y1j+YOYfSg0zdSg1NilIfSg4pgNKGqLFpj8ilzTAaM1PKVcfSg4pu6lzRYdxwOaWmUoao5SlIeppaYDmlBxU2LUh1FIGpQc1FilIfSg+tIOaKjlLTHil3VHnHejd71HKUmSbqTNMDe9KDU8popCkcU0rwafRUcpSkZs9sGJrLu9MDg8V0RQGo3gBBqeRGqqNHnmr6AkyOjoGVhggjIIr5u+LP7NUNz52o+GVW2u+XewPCSf9c/7v+7X1/e2YYHiue1DShKrArXNUpKSsz2MHmNXCyvBn5ryR3Ok3clvdRtBPGcMrDBzXUeGPG0+jzq6SFcH1r6b+LPwR0/xtbyTKi2upqPkulH3vZv8a+RfF/hDV/BOpy2OpwNEw4D4+SVfVTXkVqDifpuX5lTxkUou0ux9f/DL472ur2NvpussZ4o/9VMGxNEfVW/pXv2j+L/s6QpezLcWM3FvqcZ+R/8AZf8AutX5f+H/ABHNpcy/OQAeDX0V8JfjhLpP+iXTLdWM2Flt5eUcf0PvXHCUqTvE7sXgqOYQ5Kq16M+3C3Wkrzbwp4tihsVu9NmbVdCxmSAnNzY//HEr0GxvYNQtUuLWVZ4HGVdDkGvVpVY1FofmGY5XiMvlaorx79BbmESKT3rnNX01bmJ1ZQciuq7VRvLcEEitrHmwkfCf7SnwOk8P6jN4m0OAnTJT5moWiD/j3f8AvqP7rf8Ajv8Au14zoWvT6NcJJE52A9u1fpJrWkiZJVeNXRwVKsMgg9j7V8kfGX9nSXSXuda8LW7SWfLz6aoy0fqYx3X/AGa46lK60PuMpzOOlKu7eZ2Hwh+P72Sra3TLPaSDbJDJyso/uste1aXfiSH7V4I1KJFIzJ4e1KTEJ/64v1j+jfLX53W2oSW+cV2Phn4o6roci+XMWRegJOR9DXlShKLvE+wn7KvHkrxuja/afu766+LbtqWmT6TdizhV7edlbsfmVl4YH19jXI6Wf3Aq78QfEo8c6vFqlyzPcpAsOWbPC5/xqlpf+oFbJt7l0qcKMVCnsj6x/YWP+g+Lz/09xj/x2vqs9DXyx+wtDjSvFxz/AMvkf/oNfU56V1wV0fnOcu2MkULs/I9fnh+14P8Ai911/wBeNv8A+zV+h93916/PD9rz/kt93/142/8A7NQ4nXkmuIfocZofNuPpX01+xZZZu/G7kc7rUZ/CSvmnwTdWy3aC5/1Q+8K+wvAl74LvLGz/ALGl/wCEY1mNAkeo2fzb/wDZuIj8sw/3vm/utXA3yyufZ4rDSxVFwi9T3b7IrL0FUrrSI5QcrXM2HxJn0KSO28X2sNmrnEWt2O5tOn/3m+9Cx/ut+dd3DIlxEskbrJG33XXkGt4zUtj88r4ephp8lRHD6p4ZDK2FyPpXkHxF+BmieMVd7m28i8A+S8g+WVfTJ/iHs1fSctuHB4rGv9HjnVvl5q9wpV50XeDPzk+IHwf13wHM73kJvtP/AIdStVJA/wCug/hP1+X3rlLO8utMcPE5KjuP6jtX6Oal4XWRXBQMDweOteC/Eb9nHT9Wlku9F26PfclkRcwS890/hPuvrUuKZ9RhM2UvdqHlvgP4yXWjyxh5WAU5HzdPoa+k/Cfx40fxXbW9trMa3vlf6qQt5dxAfVJB8y/jXxr4o8F6p4SvzbaravYS/wAE3WGX3Vuh+n3qyrfULu24z0rlnSTPpadWFRXWqPrD4wfEA6vqxt21S71Ows+IReOu1f8AaZF+Ut/tN81eO6z45X5ljO8+vavOpNevJ+JGYj60/TLO81zUIrOzt5ry6lOEgt03u30FTGmkF401aCsi5qWtTX8h3OWJ6AdKm8KeC9c8b6kbHQ9Om1C4A+d0GIYT/wBNJDwo9uW/2a99+GH7IUt+Ir7xjceSpwy6TaPyf+urj/0Ff++q+qfC3gfT/Dmnw2dhaRW0ES7VjjQKoH4Vq2oo8SvmUaTtDU+e/hZ+yDp1gYb7xbMuu3qkMLQKVsoz/u/8tD7tx/sivpHTtAt9MgSGCJURAFVVXCqB0AFbttYLEMkc1Ls7YrjnUb0PnquJqYiV5vTscX4j05VhJwOa/OD4pOdR+LviWfrtnWPP+6oFfo98S9et/DPhPVtVuseVa20knPqAcV+aFm8uoT3F/cfNPdSNM5PqxzW1Ha57eXRcm5D4x5cJNfan/BP/AEv7P4G8T6iRzd6ksQPtGgP/ALPXxVctsjIr9IP2WPBz+DPgf4ZtZU23NzCb+b3aZi4/8dK1livgsdmYTUaVu567uo3UlFeOfKJj6dUe6uY8c/EvRvh7pRvdUlYu52wW8YzJOw6hRStc6qMJVXyxOg1XW7LQdPlvtRuY7S1iGS8hxXzJ8Vvjpe+LBLZaW76do5+UtnE1wP8A2Va4X4h/FHUfG1+13qdzsgU5is1OI4vr6mvJ/EnjQxhhGxx6+v19K76OHtqz67C4GFFc09WbWs+KEtwyRnLegry7XvFk+oyMquQnrVDVNdlvmZVJSL9T9a9m+Bn7Luo/EJ4NX11ZdN0LOVBGJLgew7L/ALVehaNGPNM6q1eNOOp578M/hB4k+LmsfZdMgMdqrf6ReyAhIh6f73+zX3n8HvgL4f8AhXpypY2/nXzgedfTDMsh+vZfau28HeCdL8JaZDp+lWcdpbRjAWNcZ+tdXDAF5xzXi4nFSq+7HY+arYt1dI7EFtbRqOFX/vmtCKMAcfypUAHapVIry2jjTY9ABT1pgOKUNWVjRD6KAc0VDRaYq06mjinVg0axY5elLSL0NLWbRrEdRQOlFYNGiY8dKcOlMXpT16Vi0aocvenL1pi9aeKxaNEPXvTl601etOFc7Rsh1KvekpV61k0aIdSr1pKBxWDRY+nDpTacOlZWKQ5elLSL0pamxSEPSm0ppKzZSZ8/bqXIpmRS1/ZVj+V7jwaUNUYOKUN61NikyQGlzUYpQcVFi0yTdQDmmbqUHNTYq5LkUU2ilYdx4OKUN60wGlBzU2KTH0oOKYDilDVNi0x+RSg4plFRYpMmBwKM1FupQc1Fi0x+aKaKd0qbFphTxyKaBmnVFikxynilpgOKXdU2LuOpKWis7FJlWWINmqM1mGB4rUYdaiZM5qHE2jI5e+0sMG4yK4Dxx8OdN8V6fJaaharcREHBI+ZD6g9q9fktg+eKyr3TgQeKwlBM7qGInSlzQZ+d/wAVPgtqvw8uXuY4nutFdsJcKM7PZvT61xelanLYuCGO3+VfoxrXh+K7t5oJ4Unt5RteN1yrCvlT4wfs7T6K0+r+Go2nsuWlsurx+6+orya+Gcfeifo+V53HEfu67tLuQ/C/4w3nhy7jeOcgA888Ee9fUPgbxlB4gc6hoEsNnq0p3XOlO222vD/eT/nnJ+h9u/56W9xLaSnGVZTgqeK9D8D/ABFudHuI3SZlKkdDXm8rT5o7n17dOtB0qyumfo3oPiK11+KTyw0F1Cds9rMNskTehH9avSjOa+ePBXxVsvGMcMkt+NL8RRgLbauqbt3+xcL/ABx/+PLXr/h3x2mpXjaRrEKaZr0a5MKvujuF/wCekLfxKa9LD4hT92e5+d5rkksI3Woaw/I2rqBZEIxXK6vpWQ/y5B7Yrr25+lVri1EqniuuUbbHy0ZuLPmf4ofATRvGYlu4oRpurEZF5brguf8Apov8X86+cfFnwg8U+EGZ5bI3dop/4+bMeYoHqy9Vr9D7rRVcH5fyrn9Q8LrID8mfw5rnlSjJao+gwecVsO+WWsex+cwHFbOkNujAr3/9qDwFBF4OTWYII4LuyuQJpI0+Z4zxz+OK+dvDM26cqTXnTjys++wWLhi4c8T7E/Ykn2p4us8/vQ9tNj/ZIZf/AGWvqLPFfFf7OviIeD/iZYuz7NP1ZP7PlJPAf70Z/Qj8a+z8100tj4vPqbp4nnf2ivdfdavm/wDaj+CQ+JFtaarpYEfiCwQxrvGxbiH7xiZv4fm+63+0396vpCYbs1i6zZfaLcttywGCPUVo4niYfETw9RVIPVH5bavp1/oGoS2N/azWN3H9+GYYYVreHfHd/okq4lYqD619r/EX4W6T4xsWh1GyWUgfu5lGJYz7N/Svl/x7+z3rPhsy3GmA6zZLzhR/pKD/AGl/i/4D+Vc0qVz77B5vTruz91no3w5/aClSP7PdSLPbuNskMwDK49CD1r2XwnfiMfbPBWpx6cX+aTQNRlZ9PnP/AExf70DH/vnmvgGCWaxl3RkqQcEeld54P+Kd7osq7J2UDqpPBrkdO2x70uSvHkrRUkfoV4b8f2msagukajbTaF4gxk6dejb5nvE/3ZF91JrqZrQg8rzXy/4M+M2leL9Pj03XYY9UtRgpFOcSRt/ejb7yt/tLXrGg+I9W0GFW025k8ZaGo/4852U6rbj/AGW+7cKPT73+9Uqq4u0j5bGZJa88K7rsd1PYgg8VhaloSzhvl59a1fDnjHRvGFs8ukXi3OziS2cFZ4j3EiH5lNXSAa6ou6uj5dxlTfLJWZ5N4k8FWuq2ktrfWkd1buMMkihga+ePF/7LlwDJc+GphGOv2C9dtn0STGV/4FX2rdaalwDgAH0qtHoYU8gCoc0tGd9DGVaHws+KPB37KfijXp1Oqm10Ky674pVmnb/dX7v/AH1+VfU3wz+Cvh/4eaf5WlWY+0OB5t1L880p9Wf/ANl6V6LZ6YsY+7+JrWgt1QdMVjKemhrWzCrWVnsVLDSljUEitNI1QYApyjAormdzi5r7hTMU+vLPjn8arH4S+HZCCl5rl0hSxsg2Mt/ff0UVly3Z04eEqsuWJ4h+2l8S0uxbeA9Pk/eOVutRZT91B/q0/wCBfeP/AAGvmLAhUip7u7ur+8u9S1G5e81C7kM09xIctI56n6egrJubrJPNd8Vyqx91hqKo01E6v4YeDJPiP8SdA8OxglLy6UTsB9yBTukb/vkGv1Sghit4kiiRY4kUKqKMAAdK+T/2F/hY2laHfePNTg23eqp9m05XHKWqnmQf9dGH5L/tV9Xg8V52IlzOy6HgZhWVSpyroS9jUZNLjNfN/wAZv2jyvn6F4SmWRwuy41X+GP8A2Y/U1xqDZxYbCzxEuWJ2fxb+PeneBopNN08rqWusvy26H5YfeRv4fpXyX4i8Z3er6hLqWo3b3l7Ifvufuj0Ufwj6Vzmp6wYnlbzGkkc5eRzlmPqTXFaz4gkkZlRseprvo0EtWfY4bCwwsfM29e8VfeBfJ7KK5FGvddv47a3ikuJpm2xwxDJJqx4O8Ga38SfEMelaLavd3Tn5n/gjH9527D3r73+Av7OulfC62+1yn+0PEEn+uvf7n+zF/dWumdSNJXMcRjY0dN2ed/AL9k+PTxBr3jCIXN4MPDpjfPHD6GT+83+z92vq/T9MSCNURAiKMKqjAAqe0tViQKowBVuNNteFWqSqu7Pma2InWd5EsUCqOlTqopqdKkXtXLYzjsPUClJxSLSnpUtGiFHSigdKKyaNUPpVNJRWTQ0x1OXpTQc0q1g0aJj1606mDin1m0bJir0paRe9LWDRomOXvT171Gvenr3rNo0THDinU2nDpWMkapjxT6jXpTx0rnaNUx4pRxSL0orJo0TH0UUVztFpj6cOlMXpT16VlYtMcvQ0E4pAcUZpWLTEoyKQmkrJodz58opmaXPvX9lWP5TuPBpQc1HupQRU2KTJBxShqjBpQ1TYtMkzRTMilBqbFXJaXJqPd70ob3pWHckDUoqLdSg1Ni0yUGlBFRhvxoDVFikySlyajDUufepsVceGpwNMpQcVnY05iQHNPBzUIb8KcGqbFJkoOKXIqMN70u6osWmPzRupuRRU2KuPoplFRYpMfSEcU2iixomNK1BNFuU1ZxTSvFQ4I1U7GNcWYYEEVgajoocNhcg9q7KSEEGqc1tkHisJQOmnUad1ufKvxh/Z6t/EIm1LRkW11cfM0QGI5/8ABq+XL/T7zQ7+W1u4XtbqI4aNxgiv0y1HSxIGwOa8g+KvwZ03x3aOZIxb6ig/dXSDn6H1FeXWw19Yn3GWZ44WpV9V3Pkbw74sn024VlkMbA9QetfR/gD4p6f4m02HSPEO9lQg215E22e0f+9G3b3HSvmfxl4I1XwRqj2epQMmD8koHyOPUGotC8QS6fKoLkAHhvSvJnCz13P0GjWjUhdO8Wfop4Y8aXWlT2+l+IZUmScYsdZjGIbwejf3X9RXogt6+M/hb8X4Xs/7H1mEahpFzgSWrHnP95T/AAt/tV9HeEvFX9hWdvHcXx1Tw5IQltqbf6y1J+7HP6f73tXRRxVnyVD43Ncj3r4RadV/kd5JBwaoy2uSeK1GbOaiZcg16tj4VHmPxL8Ir4q8NarpLrn7VbvCpPZsHYf+AsFNfnfBHPoeszWlyhint5WikQ9QQcGv1F1CAEk18K/tZ/D4+G/F8Xie0j22WqP5dztHEdwP4v8AgS/+PK1edXp9UfYZDi1Tqeyk9y14IvYtSt/IMnlvwUkHVHByjD6ECvtL4WeNf+Ez8OQ+ccajaYguk7h/730brX5ueBfFcmmaguW6H86+uPh14jm1D7Pqeg4OtWkYR7ReFvoe8f8Avf3TXHCr7N6n1mZ4D+0MO4w+Jao+ncVBKmQao+FvE1p4s0tLy0bnpJE3DRt3UjsRWqVzXqJKS5kflcoTpScJqzRiXOnJNnK9a5zVPDiuGIX9K7prcHNQSWocEEZqXGxtTm47Hzp8QfgZovi1ZJZrb7Ne44vLcbX/AOBf3vxr5f8AH3wh1rwPOzzwmezz8t3CMr/wIdq/Ra90dXBwPwrjPEPhlbiGRTGrqRgowyDWMqaZ9Bg81qUXyyd0fnpYatd6W4IYgDuK9R8FfHDUNIdFkmaRBjq3I/Gur+IvwEt5TNc6IF065OSbZ/8Aj3b6D+H/AID/AN81886raXWgX5tNStn0+67I/wB2QeqN0YVySpdz7PDY6FbWLPtTQ/iLonxAkhurqaXTdbjULFrVgdlwg9JB92RfZq9N074han4biU+KIEvtK4A8S6WpaDHY3EX3o/8Ae5X6V+d2ieJbvTJlkgmZCvoa+hPhP8ebjTpoUmmwRwVY/K3+FcnLKnrE6cRhaGMjaorPufaen3VpqtrHdWVxFc28gykkLhkYexFX0twPQ14f4f8AEPhq+la80fUJ/CmpyfM8mnhWtp29ZbY/Kf8AgO2u10vxb4hjXaV0fxHH2l0+6+yzEepjk+XPsGqvaKXxHylfJMRCX7r3kd+qgVJXGReP70f63wrrWPWKGOUf+OyVYX4gSOPk8M6vn/pssUX/AKFJR7r6nnf2di07cjOuAzTwM15TrXxiv7OKUwW2laayd729+0Of+2cX+NeJ/EH4q3Wuq0WoatcaihP/AB758i3H0jXr9WZvpUNI7qGT4io/edj1b4sftGaZ4UWaz8PtFrGqJlWmLH7HAR/fbPzMP7q/+O9/i/xj4k1DxLqt3q+rXb3l9McyzyH/AMcUfwr7VZ8T+MoQWiiYOw4CJ91a4PUNSe9kLHj2pxikfU4bA0sKrR1fcbd3xkyAcV2X7P3wXu/jV44MUwki8M6e6yapeD5dy9oVP95v/HR8392qnwm+DGu/GXxF9i00Na6TAR9u1aUfu4l/ur/ekP8Ad7d6/RT4c+AtI+Hfhy10PQ7UWthAMZb78rfxSOe5anUlyxOTHYxUlyRep1ulWsGmWVvZ2sSwW0EaxxxIMBFAwFFT6hrFno1hNe39zHaWkK7pJpWwqiue8X+ONJ8CaJcarq95HbWUQ5Ynlj/dX1PtXxR8VPjZq3xWv385WsfDit/o+mE/NKP703/xNefGDlueLhcJPFyu9u56J8Yv2jL3xx5+k+H5JNO8PnKy3AOJbwf7J/hWvBtT1pbVTHGQAKzdR8ReSGRTk+tctd6hJcs3zda7IwSWh9lThDDw5YKxZ1PWmmZlRvqa6r4S/A3Xvi7qINujWejow8++kXjHcL6mu3+Av7Ml78QJIdY11HstByGRGGJbsf7P91f9qvuTw34asfD+nw2Gn2yWttEAFjjGBSnU5FoeRi8wUE4w3OZ+Fnwg0b4d6PHY6TaiJcDzbhhmSU+pNejW1osGcdxipYUCqABgegqYDFeZNubuz5hzcndixrxUqimqRingjFc7Q0yVehp1RhqeGBrOxqmODUtNpQcVJSY4HFOplKDisjVMcDinA5ptA4rFotMeDinU2nDkVg0aJj6cOlMXpT16Gs2jZMUcU6m04c1g0aIVetPXrUdPrJmiY+nL0ptKvesJI1ix696evSo1709e9YNGqY9e9LSL3payaNLjgaWmU8cismjRDl6U9elMXoacvQ1lYpMWiig9DU2LTG5pu6g0lZ2Hc+edwozTaK/svlP5OUh4OKUNTAcUoOamxaY8H0pQ1MpQaixSY/dRkU2ilylXJN1LuqPdShqVirjw3vTt1R0A4qbFJkganA+9Rg5paixSkP3U5TUQOKcrVNi0yZTxS7qjVuKUNWdi0x+6lBptFTYpMeGpwb0qNTS1Fi0yQNSg5qPJpwNS0UmSjmimg8UZNZWNEx1FNyaMmlY1THUUUUguIVqNkzmpaCKho2jIoTW4YHisi+01ZQeOa6NlzVeWAEHisJQ7HTCdjyfxp8P9O8T2EtpqVqs8TAgEjke4NfG3xW+D9/8ADzUGkRWudJkb9zcgfd/2W9DX6FX1kGB4rkfEHhm21Wzntrm3S4gkGHikGQ1cFbDqovM+my3NqmDlZ6xPz20jVZtPlUhyAOhB6V7v8K/jTcaLKIpZFlgkGySOT5kkX0Yd65b4wfBC68HzTaro8bz6OSTIgGWt/wD7H/aryi0vJLWTKk/SvAq0XF2Z+oYXFU8VDnps/Qzwp46g0iwW7sS114ZGPNgBLTaZnv8A7UP/AKDXqdlewajax3NtKk8EgDJIhyGHsa/Pf4b/ABWvPD9zGVmIUcEHkEehHcV9KeCvHqWEZ1TRGNxpkn7y/wBEByYP700H+z6rVUMTKi+Sex8/m2SLFJ1sMrT7d/8Agntt1GrE5rzn4k+CrHxjoeoaVqEIlt7qMqfVT/Cw9GBwa77TNUtde0+K8s5VmhlGVZf5Vn6nabmIIr3FFTjdbM/PISlSnro0fmX428D6j8OfE1xpF6CQp3QzgYEqZ4IrsPhh8R7nw/qEOZmRlIwc9a+rvir8KdP8f6NJa3aBJ1Ba1vVHzQN/8T/eWvi7xr4D1j4f6w1lqluYnzmKZeY5V9VNeRXouD8j9NynM1XgoSfvI+7fAfjKw8YSjVdG1CLS/EhA84Oc296PSRf4W/2u/evT9K8Y28t0NP1aA6Nq3QW9yfll/wBqN+jCvzT8IePr3w/dRuszIVPDKa+jfBX7TEV9ZLpuuQ2+o2TcGO5Xcv1HdT7iuenUnR+HVHoY7LMPmC5paS7n17UeK8Q8OeP9FmQNo/iG90dj/wAut232y2X2Xd8yj6NXZWfjTV3XMcugasnrBetbMf8AgMi/+zV2RxUH8Wh8bX4dxlL+G1I7aVAc1n3lisynjn1rDHjHUTndoaE/9MtWt2/9mrIvviZd2oO6y0q1HrdaqG/9Fq1P29LucqybHr7H4jfEHh5Z0cbM56ivnr4v+HtKt9PmtNVijlEn3Lb70r/7o+9/wKu48YfFm7keRTrkca/889IttgPsZJdzH/gKrXhfiDxTaG4mmjBE7/fnkdnkk/3nb5jWDrKWiPpcDlFWkuarO3kjze38Iz2BmeRpIoHO6KGY5eNfQn1o+0ixBEfUd6t6prLXbsFJ5NVbPTLjUZlihiaWVyFVVGSTWe59MlYltfFuqWzZhd1x6MRXT6X8Zda00BZC7gdmJNeg+EP2aZX0Uy61dSW2oTfMiRAFYV/usP4jVfUv2bNTjJ+yX9rOPSQNGT/6FS5EzgWY4bmcVMwoP2gtS5BD/rSy/Ha/kBwG/Wobr4A+Kbcnbp0c/wD1znU/+hYpifAzxWemht/4ER//ABVT7OPY6VjaT/5eIoXvxc1W6J2sVrl7/wAQ3+pOxmnY57Zr1DTv2bfF12AWj02xH/TWVnP5KtekeF/2RrXKSa3rF1fsMfurKNYEHtu+Zvy21PIYTzHDw3kfLcVlNcXkVvFHJdXMx2x29ujSSSH0VVBLfhXv/wAJ/wBknVfFbQXvi4SaFpRww06Li7nH+0f+WQ/8e+lfTfgf4UeHPA8O3RdFtdPcgBpgu+Z/95zya7+xsREuerHqaWiPCxGbOd1S2M7w14X0zwppNvpmkWMNhY26hY4IECqv+J9zVD4hfEbRvhl4dl1XWJ9uTsgtk5kuH/uqPWqnxT+LGjfCXRTe6i4mvZRiz05D89w39B718PeNfHGr/EDX5Na12fzbjkQ26n91bJ/dQfzPeuRpzd2RgsDUxL9pV2LPxF+JGt/EzWTqesyGO0jP+h6ap/dQDs2P4m/2q4m/1UIpVTUepanvyM8Vhpa3Oq3cdtbRPcTyttSKMZZj7Ct4RSPsIRjRhyRIJ7lrst82B7V9Qfs6/sqfajF4g8Yw/ufvwaU/8f8AtS//ABNdZ+zx+y9D4TSHXvEiJd61w0NqRmO2/wDij719O2FgIRzRKVj5jHZlzN06T+Y7TtOitIVihQRooAAUYAFa0ECoM96bbxDGe1WK4Jau7PnnNt3Y9FFO6U1e9OrE0TFXrTqavenVk0WmOpQcUlFZNGqZIDTqZTlNYtFJjgcUtNpQcVmzWLJM0Uyn1m0bIcvSnL3pi96evesWjRD1705e9NXvTl71kzZDqVe9JSr3rBosWnjpTKcvSs2jVDx0py96avSlXrWEkaoevWnr3pgpw4rFo1Q9etOpo4pwOaxaKQU5elNpy96yaNUxy96evemL3p696ysWLSGlpDSsUmMPemZNOPemVlYs+d6KbmjJr+zOU/kq48HFOzUYalBpWKTH04H1qMGl3VNi0ySimA0uTS5R8w8NSg0zdRkVnYq4+lHFMBpQ1KxSZIDmimA+lKDiosWpDwcUoNM3UZFTYpMlBpwNRg0oOKzsWmSjmlBxUYPpTg1TYtMeDmlHFMzSg1FjRMkHNKppgPpTgamxaY+lBxTN1KDUWLuPpaYDTgamxSY+lFMBxSg1Fi0ySjtTBS5qbFJ2EIzUbLnNSUYrOxqpFOWEMCCKzLuxznitwrULxZBFZONzeFTocFrOhJcRyKY1ZWGGQjIYV8r/ABl/Z+l0xp9c8OQM9rktcWCjJj9WQf3f9mvtS6sgwOBkVzupaVuDELn1GOtcdWiqisz3cBmNTBT5ovQ/Nu3ma2l69K9D8C+P7rQLuKSOVlCkHg9K9G+NPwEF75+ueHYQlwPmuLKIcP6sn+1/s189QyyWsrI4KuhwQa+erUHB2kfrOBx9PFwU4M+0/h/43+zzy6toce9nxJqOhQnas/8AemhXtL/eH8Ve5aPq9h4p0qLUNPlE0Eg/FT3Ujsa/PTwP49uNEu4pEmZChBVgeV/+tX0n4E8fzec2saMolnkAOpaOpwt4O8sX92UdePvfXqsPiJYd8stYnn5vk8MfF16GlRfie23un5DYGR3FcP4y8D6b4o02Sy1GzS8tmz8rfeQ+qnsa9B0XWrLxNpkV9YyiWCQfQqe6sOxHpTLzTxIDgYNe77tSN1qj81UqtCbtpJHw18Qf2edZ8Nma50LfrWnryYcf6TGPp/EP938q8t+xSxStGweCVTgpINrA1+i9/wCHllySMN2YCuP8TfDDTfEMbLqemwXfGBJt2yD6MvzCuCeFT1ifVYDiCUPdrq58T2mr6ppbBop3GPeuk0z4t6zYcO5ce9ezar+zLYvvbTNRntG6iK4USp+Yww/HNc1d/s367Hnyp7C4HuSn8xXG8PJH1tLOcHNayscXJ8ZtTcHr+v8AjWZcfFLU584Yiu6H7O/iMn/U2P8A3+FW4P2bPED/AHmsY/8Atpn/ANlrP2Mux0vMsLa6qI8hufEOpamx3SOQfeqf2KSUkySGvpLS/wBl2U4+2aqiDulrAT/48f8ACvTvCn7PnhrRSkgsPt0o/wCWl6d5/wC+fu1aos8ytneHp7O/ofMXw/8AgxrXjNlaxsWS1J+a7uBtjH0Y/e/4DX1V8Nvgho/ga2WQIL3UiBuuZVyFP+wvb+dek6Z4fitkVQgAUYCgYA/wragtETjAreNLlPlsXnFbEXjHSJgQ6BG45Vn+vAqGfwvC2f3RH0NdeLbil+zGm4nkRqN7nGR+FYx/B+dWYvDUa/8ALMV1i2g54py2oHasnEvnMG10VI/4QK04NPVf4a0EhC1IFArCSsLmbIIrYIOlcB8ZPjXpPwk0BpLgreavMMWmnIfmkbsW/ur/ALVUvjl8ctN+EOiNyt7rt0pFpYqeWb+83otfB+v+KNS8Ya1ca1rd699qszZMrH5Ik/55ov8ACtYPsfR5Zl8q79pP4TS8TeLtT8Ya3PrOuXTXepSnPzH5YV/uIv8ACtYF3qTSZVTgVTvL/qF/E+tWPCXhvVvGuuQ6VpFo93dzHHHCIP7znsPekon3PuUoXeiRFpOiaj4m1WDTtNtnvL24YJHDGMljX3B8Bf2dLP4aW6ahqMSX/iCQAmYjIg/2U/8Aiq2vgj8B9M+F+nJIiLd61Ko+0XxGf+Ar6CvYoYtgx37mnsj43H5m6rdOlpEisrIQr05q/HH7U6KPNS4xXOzwExY/lFSVGvSnr0rJotMeD6U7dUanFOrLlNkx9Kp60wHFOB9KTiUmPHFOBzTAc0tYOJsh1KpxTQ1LWTiWh44pw5pinNKDisXE2RLRSKaWsWjRDl6U9elMXpT16Vk0bIeOlPpi9KeOlYMtMcOlLSL0paysbRHU5elNpy9KzkjZElOpg5FOU8VzNG0WLSjikoqOU0Q+nKc0xehpRxWbQEq9KcveowcU9TWLRoiRehpy96jzSqajlNEPNMJpScCoi1S4gLSUinNLWDiaI+cs0A+9Mor+zLH8jXJA1LkVGDSg5pWKTJAaUNUYOKUNSsWmSAijPvTAc0tKxVyTdRkU3OaKzsNMf0pQ3rTBxSg+tTYpMeDmlzTKUHFRYtMfuozTcil61NirkgNOBxUYOaVTisrFpkoPpShvWoxxTgamxaY8HNKDimUqmosaJkgPpTgajBxThzU2NEyTdS5FNoqbGqkPHFKG9ajBxTutTYpMeDinA5qMHFOqLFpj6MmmA4pQ1RYpMfmjdTQc0tZmg7rTStAOKcDmoaKTK7x9az7q0DAkCtcrwagePrWLidEJ9GcfqOjLLuZRtf19frXzz8a/gZ/b4n1nRoBHqSZaa3UYE3uPf+f8/qqe1DA4rn9U03ILqPmrlqUVUVmezgcdUwdTmi9D82GWSwuWDAoynDKeoNdl4N8a3Gh3UckUrKFIPB6V7T8dvgiviKOfWtFhEeqIN00CjAnA7j/a/nXzAhe2kKONrDqK+frUHTdmfrWX5hHF0+eD1PsPwL8QmtbuTWNIILSgHUdKBwLkf89UXtIvf+9X0FoWtWfiTTIbyylE0Mq7gw/ka/O/wX4vl0u6jxIVKkbWzX0v8NfiSmlySajaHfbtg6hp4P8A5Gj9/wC8P8nPD13QlyS2OPOMojjoPEUF76/E+hWtyeMVG+mKwOV/KrOn31vq1lDeWsglglUMrLVsLgdK99NSV0flU1KEnGW6MJ9HT0qu2gxnPyj8q6Yxg0CFT2FDRUZtHNx6Eg/hH5VPHoyD+H9K6FYFpwhHpXO0a+0Mq30xV/hAq/FaKnarKoAKeq0rFKpcSOPsBU6Rhfc05BhaWoLTHYFOQcmkpV71k0apj1HFKBikUjFLWTGmFeY/G3436Z8I9A3ki71u6G2zsB1J/vN6LVr4yfGPTPhP4caecrc6lMCtnYKfmkPb6LX59+KPFGpeL9cvNZ1m4a5vpyTyeIx/dX0Fc0tT6nKsteJftavwr8SPxD4h1HxTrN1q2rXb3uo3BzJM5yFH91fQVhzT7QQvFSiXIrc8DeANV+IniCHStJhMkrkGSUj5Yk7s3tUcp903ChDskUvA/gfWPiFrkOmaZA0sshG5gPlQd2PtX338FvgtpXwv0VYLeNbjUJQDc3rD5pW/ugdlqf4TfCTSvhnoKWNhGJLhgDcXbL88zd/oPQV6daW4ijGBWb8j4jMMyliG4Q2FigINXYosCo0GKmR8VB4KY9V20tNDZpwrKxohy9DTl601e9LWbRaH0UgOaWsrGooOacDimU4VLLTH0oNNXpS1gzZMfSqaaKUVmy0x44p1Mp9YM2ix9OHNNpV71i0axY9e9OXvTF609etZNGyY9ehp69KYtOWsGi0x606mU4GsrG0WPpy96Yppw4qGjZMevenUynA1g0aJjgfWlptCnFTY0THg4p1Mpy9KyaKuSUq9DTVHFP6Cudo1QU5elMXvTxwKmxpcGbioC1PdutRDk0mhXJEOKfmogcUb6waLTPnKgHFMzS5r+yrH8h3HhvWlqMNSg0rFJkgOKUGmbqXIqbFpj6OlMB96XJpWKuS0A4pgNLmosO48H1paYDSipsUmPBxSg5pgalyKixaY+imjijJqbFcxLTgc1GDilBzUWLTJAcU6owfWlBqbFpjwcU4HNR7qcDUWNUyRTS0wGlBxU2LTJaUHFMBpd1YtGiY8c0oOKYKUN61NikyQc0oOKYDilBqLFpkg5oplKDipsUpDgcU4Go8mnA5qHE1TuPoBxmmUqnrU2NEySmuOtLnikPNZuJomRFeDWfdw7latMDOaryx5BrDlN1M5LUdMEysQPmr50+OXwN/tkT61osOzUly01ugwJx6j/a/9Cr6pmtgc8VharpYlU8c1zVqKqRsz2MuzCpg6inBn5tRs9tKysCrKcEHgg13/AIB8bTaVeIyyEMOCOzCvS/j18ETcef4g0KDFwoLXsCD74/56KPX+9+dfPFtcfZ+lfN1qLi+WR+xYDHQxVNVaT9T7h+FXxCj0YIyOX0eYgXNoOfszf319q9+inS4iR42WSJ1DK68hl9a/OrwH48l0y4TEnXhlPR1/u19VfCX4mRQRxWNxITp0x/0aVmz9mf8A55t7H+Gqwtd0peznseHnmURxcXicOrTW67/8E9upV60lFfQH5dclXpTlqMcU8Gs2ikx4GTT1FMFPWsmjRMkXpRQvSisi02PoopCcCoN0xN3vXF/Ff4raT8KPCs+r6lIGk+5bWoOGnk7KK0vGvjLTfA3h+71fVLgQWkCktk8sewX3r86Pin8T9T+K/ieXVb92S1QkWtrniNexx6muKpLoj6XKsseLl7Sp8K/Eh8ZeP9X8fa/da1rU/nXcx/dpn5YE7IvoK595i2c96rZ961/CPhnUvGuv2uj6Vbm4up2xx0Re7H2FYLU/Q+aFGHZI0PAfgXVPiBr0Ol6XCZHc/PJj5Y17kmvvz4T/AAo0v4aaElnZoJLlgDcXRHzTt/Rf9mq3wZ+D+mfDDw7HZ26LLeOAbq7I+aVv8BXpsCKowBgVdtD4TMs0eIk4Q2FhhAXhQPwq4OlMUcVJU2R8+hw6U5e9NpQcVm0apki9KcDxUYOKcDWTRqmPBzRTacDmsWi0xwOaWmU4NWTRqmSU5elMBpVOKhlJki9DS00cU6sGbJjh0py96YppwOKzZSY8dadTRxTqwZtFj6BxSKaWs2jeLHU8UxelOXpWTRsiQcU8cVGOlPHSsGi0x9FIvSlrKxtFjxxTqbSr3rNo2THqaWmUoOKysUmOBxThzTQc0q1DRomPXpTl701e9OXrWEkaJkq9qU9Kappc1g4miYq96cThaYDikduDU8pdyNm5pV6GoyeacrYFPlI5hXbFRb6JG61FurJxLUj54zS5plGa/six/ISY/dSgimA+tLRylJkgOKN1MBxSg1Ni0x+RSg0yilylXJgaMmmA0oaosO4/dSg+lMBBoqLFpkgb1pQaYDS1Nikx+aMmmUuTUWLuS5pQc1GDinVnYvmJA3rTgfSmA5o6VNi0yQGlBqMH1p1RY0UiQH1pwOKjBzSqamxakTBqN1NB45oBzWVjZMeKcGqMHFOqLFpjwcU4NUYOKdU2LTHijNMzilU1Nih4NL0ptOBzUNG0WOBpaZTlOazsaokooFFZtFgB1pjJkGpF70EVi0VcqPF1qnNbhgeK1GUGoXj61FjSMrHG6xpeQxAz6ivkv48fBo6NcT6/o0H+hud1zbIP9We7Aeh9K+07233Ka5bWdFjuoZI5Iw6MMMrDgiuWtQjVjZn0OWZjUwVVSi9D86YLhrdhzx/KvUfAXjVrWRYpX3I3BB/iH+NQfGv4SS+B9Xe8sIy2i3DZUj/lif7rV5zY3r2koBJGOh9K+bq0nFuMj9nwuIhiaSq09mfoj8H/AIiLrdlHpd3NvuY1/cSsf9anofcV6fX5/wDw58dyW80SmYxyIQyODyp9a+1fh143g8Y6Kkm4LeRALMme/r9DXXg8TZ+ym/Q+A4jyfkf13DrT7S/U64HIpV70wU4cV67R8JFki96cDimDinZFZtGqZKppcmo1PFLvwKycTRMlqtql/BplnNdXUqw20Kl5JGOAAKU3BzXxz+1Z8ef7cvLjwVoU3+gxN/xMbhTxIw/gX+tcdV2R7eWYKWPrcn2VucF+0P8AGqb4teJHgs3ZPD9ixW2QHiZh/wAtG/8AZa8ixxT6kt7aS6lWOJSzscACvOP1elShRgoQVkg0fRb7xBqkGn2ETT3MzBVRRmvvf4B/BO0+F+hB5kWbWrpQbicjlf8AYHoK579nD4FQ+AtOj1rU4Q+v3SggMP8AUIf4R7+te/29vitoQ7nw2bZn7V+xov3V+JNAgCgDoKuRJUUSYqwuAMVpY+WHU+mU+s7G6HUUZFFZtDTFBxSg5ptFZNGqZKDmlpg4p4rFotMcDmim9KcKyaNUx9OU1GOKd0rNxNESKacDimCnDkVg4myH05Tmo1NPBxWTiWh6nNOU4pgp1YuJtEfT6ZTl6Vm0bxHL3p696YvenL3rJo1TJF6U9elRr3p696wZohy96dTRTqysbRH0DikyKMipsbXH0UgPFLkVHKCYo4pw4plPHNQ4mkWPWnUwU+uaUTZDt1Kpph6GiPvWfKNEpOBUDvUkjYFVWfJNCgO4/NBfApFPFRO3WjlJuKWzRTFOafWbiNM+dKOlJuoyK/sKx/JFx4PrS0ygHFKw7j80u6mg5paVikxd1KrU2gcVNh3JRzR0poOKUNUhccGp1MpQcVFi0xwOKdTaVTipsaJi0q96SlHFRYtMkXpS00HFG6s7FIeDS0wHNOBqbFpjwc0tMBpQ1RY0TJAaUHFMyKKmxaZKGpwNR0oPrUWNUyQU4HNRg4pwqGjRMeOKcDmow1OB9KzaNUyRTxS9KYDTg1Z2NEx+aWmUoOKmxaY9TS0wHNOBxUNFqRIOaVTimA0oOazaNEySimA4pd1Ryl3EoxmgDNOAxWTiUmVposg8VlXVtweK3SuQaqzwgg8cVlY2hOzPOPGHhKz8RaXdWN5CJraddrqf518QfEj4e3ngHXpbCcM9sxLW056Onp9RX6HXlr1GOK8w+K/wztfHWhTWkihbpAWtpsco9cGJoe1jdbn2mS5u8HU5Knws+KND1BrWZTkgqa9/+EHxHl0LUYLlJCVGFlTP3o/8RXz1qum3Oh6nPa3KGKeBzG6njkVseH9cexmV1Y7c818tUg0z9cShVg4y1TP000TV4Na0+K6gcOjqGBFaNfM3wA+KC2d1HpFzLmzuf9WWP+rf0/z/ALVfSoNe/hK3tYWluj8cznLv7OxFl8MtiTpS7qaDmlrvWqPBHg4phbg0+uM+KvxCsfhv4Qvtc1B8RQIdkSn5pX7KvvWFRqEW2dWHozxFRUqe7PMP2nPjqPAGjNoOjzbvEWoIwDIebaP+J/rXxBEMZJO525Zj3PrVrxH4l1Hxl4g1DWtUkMl3eyb2yfuL2Qew/nVNDXgzm5u5+w4DBwwVFUqZYr6m/Zb+CQdovF2swfLkHToXHXn/AFjD/wBBryz9n74RyfErxQsl1Gw0WyYSXMnZ+eEHua+/NLsYrSCNI41iijULHGowFA6cVpSp82rPDzrM/YxeHpPV7/5Fq2tBGBVpRg0wVIorp5T4LmvqSKcVIDUY6U4HNS0WmSL1p1MHIpwNZtGqY7dSg5puaOlZNFoeOKdTAc05TWLRoiQcinL0qMHFOqWjVD6UGmg5paxaNB1PplOXpWTRoh46U5e9NXpSrxWLRrEdTl6U2nL0NYNG8R69DS0i9DS1k0aoevWnr3qOnqazaNESL3p696jXrTwcVg0axHDin0ylU1i0bIkXpRTQcU4HNTymiYu6jdSUVmomnMPDelLupg4pwOaTQJjxUi96iXpT1NZG8WSr0p4OajU04VhJHQmOpw4FMBpssmAazUbjuNmk61XzyaRpMmlHStlGxg5Dt+BUTNnNMeSiM5qHC2pKkTJTt1RlsCmb6y5LmqmfPG6lyKj3Uu6v6/sfyNzDwfSnBvWowfSlDUrD5iSlB9aYDilBzSsPmJKKZS5NTYfMP3UuRUe6lBrOxaZIDilBzUYOKcDmosWmSA4pQc0wH1pRU2NEx4OKXdTA1LkVNi0yTJpQ1M3Uo5qLFXHg5pQajpwOamxaY8GnA+tRjinA5qLGiY8HNFNoziosWmSg0oNR08HIqLFqRIDilFMBzSg4qWjRSJA3rSg+lMBzSg4rJo2UiUH0pQ1Rg4p9RY0Uh1KG9aaDS1Nikx4pQfWmA4p1Q0WmPBxTgc0xTxSjis2jRMeDil3U0c0VFi7j1OKfUY4pynFQ0aKQpNRsMinUVi4miZSuIdwNYl9abgwxXSOmQaz7q33A8Vg1Y6ITtoz5c/aQ+FP9rae/iLToc3tquLqNB9+P+9/vD+VfMNpKYpCpr9ItTsFlR8oGBGGUjhhXw98cfhy3gTxTJJbof7NuyZbduw/vJ/wH+VeHjaH24n6tw3mftYfVar1W3oM8Ha89vIE8wowxhgeh7Gvtn4KfEhPGehLaXMg/tO0UK/PLr2Nfnhp960Tgg8ivWPhZ49n8L67aalA5CxEC4TP+siz83/fP3q8ilN0p3R9TmOAhmOHlRktenqffympB0rN0PVbfXdKt7+1kEsMyhgwrQr6mL5o3R+JVKcqU3CW6HSSiKJpD9xfvH0r4D/aS+LknxS8XvZ2UxGgaa5jgUHiVx9+Q/wDste6fta/GD/hDvDA8NabPt1fV0IZkPzRW/IZv+Bfdr4tWvGxtW8uRdD9D4by90qX1mqtZbeg0Lmt3wb4Ov/G3iC00fTk3XM7Y3EcIvdj7Cs+2tw3Jr7Q/Zk+Eg8J+Hm13UItuqaiqlAw5ig/hX6t94/8AAa4qcHUdkfRZhjo5fQ9p9roepfDjwFp/gXw7a6VYRhYIQC8hHzSv3Y12UfemooAwOAKevWvWjBRVkfkkqjqScpbk0fQ1KOKiTpUgOaVhDgc05ajp46Vm0WmPU4p1NFOHIrNo1TCnKc02lHFZtGiY4cU4c02nL0rFo0THqcinKaYvenDioaNkx1KppKKxaNEyVTSrTBxThWTRqmSLTqYKfWTRpFjhyKcvemL3py96waN4sevenU1e9OrJo2THU5elIKcBWLRsh4p1NFOrFo0TFU4p1Mpy9Kysapj1OaWmU4Glyl3HbqN1NzS0uWxNxwOaVetMXrT161jJGsR696evQ01RwaeBgVzM3iOXpS5xTVOKXIrFq5snYUtiq8suc06V8A1VLZNawgZuYqnk05pMDFMzgVC0mTXSoX1MHMcTuNSpwDUUYzTi2Kzkr6EqQrPTaQcmn7KxasapnztupQabRX9a2P5JuP6U4H1qMHFKDmixVyQHFOBqMHFKDU2HckBxRupgNGTSsO4/dShqjyaUN61Ni7kgOKcDmowcU4HNTYtMkB9acDiowc04HFRY0THg5paZSg4qbFpktFNyaN1ZWKTHg0tMBzTgcVNi0x4OaWmA5pQ1Q0aJjw3rTutR5FLU2LTJAc04HFRg5pwNRYpSJBxTgc1GDinCoaNFIf0pwOajDetOB9KyaNoyJFNKDimA04NUWNFIkoBxTd1KDmpsapj6cpqMHFOBzUNGiY8cU4c0xTSg4rNo0THg4pQaaDmlqLFpjqVeKQHNFZWKH0UgNLSsNMQjNQSx7gasUhWocTdMxbu3BLdq8w+K/wAPrfxt4ZutOlQebgy28ndZB92vXZ4gSaxdTtN6sMe4rnnTUk0z1cLiZUZqpB6o/NS+06fSL65tLhDFPbyGN0PUEGtvw/dBeCa9c/ac+Hv9nalF4ltIsQXJEV0FHCv2b8f6V4haS+XnFfIV6TpzcWfumBxkcXQjWj1PsX9mf4ni1nbwvqE37mTc1kzHp/eT8P6+1e8eJPElp4c0a91G9lWC1tYmmlkJ+6oGTX536Zrt1DClxYzGDUrdhLBL6OOn59K7D4v/ALSo+JvgfR9J0tjDc3Q36yn/ADyZWK+X+YLf7pFb4bFOnBwfQ+czTJvrWNhWh8MviPOPiF4zu/iL401PxBdkg3Eo8iM/8soV+6o/z3rEUE0oFaOkaTcavfQWlqhkuJnCIo7k1xzvKVz6yMVTioR2R6z+zh8Kz4/8Vpc3cRbRtOKyzk9JG/hT8cc+1fdVvBiuK+D/AMP4fh74RsdHRR5iqJbl8f6yQ/ervVFe1hqHs4XfU/Jc4x/13EO3wx0Q9BinL1pB0py961seImPXvTwc1GOKcKVjVMlHSnL3qNTinjismi0yRehpQcU0HFOrJo1THUUZorFotMfTl6GmKc05TWLRpFj170tNBxTqho2TH0UgNLWLRomPpV70wHFOHFZWNEyRelOXvTFp68Vk0axY5aevWmU8Vg0bxY9adTV606srGyY9etPXrTBxTgaycTZMeOKdTAc0oOKycS0x1L0pu6jdUcpakPBzS0wHNKD70cpfMOoBxTcmnVnJDix69akUdajXtUq9q5ZI6Yj1FOpoOKC1YOJsnYdmml8CmF+tRtJ1ojATkEj5zUIODQXzTS2BXXGmczmDvwahHJpc5NKBitGuVGVyRTgU0nNJuoUVyyVjSJLGKlqFTin765nFs64vQ+csmnA5ptC9a/rqx/I46iiilYBwb1pRzTKKVikPozTQaXdSsA7dSg5ptKKiwx4OKcOKZTl6VFi0PpwOaYvSnKcVFjRMcDinUwHNKOKmxaY/OKUNTA1KOaixSY4HNOBxUdOU5qLFpjwc04H1qOnA5qbGiY8Gim0ZqLFXJQaUGo6cDkVNikyUHFKKYppQcVm0aJkgNKD6UwHNKprNo2iyQH0pwNRg4pwOaixomS7qWmUdKmxomSA4pw9qjBzSg4qGjRMlBzSg4plKprNo0TJAc0UynKazaNEySlU00HIpaxsbodSg4pByKKLDH0UUVBpcjlTINZ9zFvU1qEZFVZI+tZyRrTlys888d+FbfxNoV9plygaG5jKZI+6ex/A818E6rpc+g6xd6fcqVlt5DE2fYnmv0h1G13K3FfIv7UPgr+ztWh8QW8eIrv8AdXBA6SL90/iv/oNeJj6N4c66H6NwxjeSq8PJ6PY8csbgxSDB71m6vZQ2+oyyW6CPzj5kmO7Hqf5UQXHOehFS3D+fJuNfNpWP07canQV9I/skfD/+09ZuPEl1Fm2sf3duGHDTH+If7o/nXz1pVhJqF9DbxqWeRgoA9TX6JfCjwbH4G8DaZpIUCWKMPMfV25Nd2Fpe0qa7I+Z4gx/1TDckX70tPl1O3g6Zq0g4qrBVpPu175+R3HhaXpSAjFLWDRqmFKvekpVpWNUyRelOU0xacvWsmi0yRelOBxTFp1ZNGsWPpQaaDmlrJo1THCng5qNehpy96xaNESKc04HFRjin1DRsmOpc01ehpaxaNEPpw6U2nL0rJo0Q8U+mDpT6yaNYj6cKYvSnr0rBo3iPFPpi9qfWVjZChqcDimUqmp5TRMkBpd1MHFLurNxKTHbqN1M3e9Ab8ankKTHhqUGmA5py96XKVckpy9KavSnL0rlmjaNyRalXtUS9akU8VzWOqJJTGagmo3brS5Sm7DGfGahZ+tDt1qEtXRCmc8pjt9JuzTM0V0qFjDmuPXrTs4plGeazlG+pohRyakXpTENOLcVyyjc0TsIXxSeZUbN1pm+pVMrnseA5FGRTMilr+rj+Tbj6M0ylB9aB3HZNLupKKkpMXdSg5ptKvekO5IOaKRelLU2KuOXvS0wcU+paKTHL0pQcUxTinVDRaY4HNLTKcG9amxSZJRSBqWszVMFOKdTacpyKixVxVp1Mp4OamxSYDinA5ptFQUmSg5optKDU2NExymnUynBvWoaNEySlB4qMHFODVm0aJknSlDVGD70oaosWmTA05Tiog1OBrOxqmSg4pciowacDUNGiY+lBxUfSnA5qLGyZIKcDUamnA4rNotMkBpwOKi3U5WrI0TJVOKdUStTgag0TJd1GRTA1LmpY0xxNNIyKQmkqTWLKN2mVNeUfGXwiPFPgzVbELmYxmWHj+NeR/UfjXrkwzmsLVrQSRtxmuarTU4NHrYLEvD1o1F0PzS8po5CGGCDgircSZ5rqPih4aPhnxxq9jt2xrMZI/wDdbkfzrnrRNw+lfEVIOMmmf0BRqKpBTjsz2X9mLwGPE3j62vZ491npg+0uSOCw+4P++v5V9yRQ8V4D+yL4Wk07wbfapKuP7Qn2xH1RDg/+Pbq+g4xgYr38DS5Kd31PyLiTF+3x0qa2hp/mOjTbUw6VGvenA4ruaPmUx+aUc02lXvWDRrFki9KVe9NXoacOtZtG6Y6nL0ptOXpWTRqmPXpSikHSnKOKysbxYtOHSm08VmO45elOXoaaOlOXpWbRpFi0+mU+sWbRHDpTl6GmjpTl6VmaoWnr1plPFZM1RIvenL3pi09etYSRrEcKdTacOlYtG8WPHSikXoaWlY2TCnL0NNxSg4qLF8w8GkzTd1N3VagK47dSqaYDmnL3qJRLiyVOhqVKjTvUinFc7djaJIvSlpoOKUHNcclc64tDl608HFR9KUtWPKacySHlqhd+tNaTFQNJ1rohTuc86grt1qLNG7NJXWocqOZyuPFKFpBTs1ky0IelJQTSFuKhq5onYA2M0GSoWemqSTUqnbVi5iXOc0bDT4VzU+yndRGtT5zooor+oLH8pXHA0tMpQakaY9TjNOplAOKB3H0U3dS5qbDuPpQcU0NSjmkUmPHNKDimDilBzU2KTJOtAOKYDinA5qbFpjxzRTaMmosVcloHFNBpQaixSkPBzS9KZSg+tRYtMkBzSjimUoNTY0THg0tMoqbFpkuc0tMpQcVNi0xw4pwOabQvBrNo0THg4pQc02lWs2jRMdSg0lFRYu5IppwOKZSg+tKxSkSA+lOBzUYOKcD6Vm0aKQ8HFOpgNKDismjZSJAc07NRhqXdUWNFIfk0qmo8mlDVlylRkTKaepqENT1ap5TZSJqcvSoQ9ODis7FKRJRimb/egSVNjWLI5lqhdR7kNabfMKqyJkEVm0dUJHjPxO+DGmfEFFnkdrPU4gViuAM8ejDuK5Twj+yPFHqAm1PVxPaf88oI9pP+FfRD2wbqoNXLKFYkwFxXBUwtOcuZrU+jwueY3CUfYUp+6T6TpltpNlDaWkSwW8ShEjQYAAq9UMbYFSg5quW2iPFvfVklAOKQEUVJZItPWowc04HNZNGsSRaeKjU08HNZtGyH04dKYppymsWjRMkFPHSo1PFOBxWdjeLHU5elMyKcpxWNhpki9KVe9NU04cVm0axHU+mU5elYtHREevSnL0NNXpTl6Vm0bIWnCm0+sWjZD1604cU0cU6s+UtMeOaVTTAcUoOanlNFIkBxThzUYOKXIo5SuYfSZpm6lBzS5LApC5pKUDNOAxUPQ0ixFGKeooUU5RXPJnTEevenr0pi9Kco61zNXN0SCnL3qMHFOyKw5QUrClqieTGaR5MZqrJL1rWFK5LqD3l61EWqMvSr3rsjBRRz81yRTkU8UxelOBwKTNIjt1N3UlJXO4ml7C7qY0lIzYzUfWqjT6sjmuOB3ZqWNKZElWFGBUzfRGiHIdop/mVCWpu6s/Z33K5rHz7RTcmjJr+nD+U0x1FJuozQMd0oyaTNFQNDt1AOabR0oKJRyKWmUob1oKHg+tLTaUHFTYpMeDmlplKDiosWh4alyKbRU2KuS5FFNoBxU2BDwcU4c0wHNKOKmxaHg4p1MBzQDiosaJjwcUoNNBzS1Ni0yQHNLTKUHFTYtMeDinVGGpQfeoaLRIpp3Sot1KGrNo0TJQaXNRb6XfUWLuS7qN1RbxSb6ktE4alD1W8yl82s2aItB6UPVXzfejzfesWaot+ZR5lU/OpPO96yNEXhIKUSe9UfP96PP96DSKZfEtOEvvWd9oFL9p96hm6Roial86s37T70fafesmWomn51KJs96y/tPvSrddeazubxiawkz3pN4rPW7x3pPtY9azbNUjSVhUiOBWWt4PWnreD1rJs1VzXWQYpyy+9ZIvQO9OW9HrWLZsos1xLThL71lLeD1pwvMd6zbNVFmqJRT1lrKF3jvT1u+vNZHRGJqrLTxJWWt171It171mzZI0xJT1krNW596kW4681kykjRV6cHqis/vThPms2apF0PTlaqYmp6ze9ZWNEi6rU4NVRZaestZtGkUW1anqaqLLUiy1k0bRLSmnA4quslOElZNGqJw1OVqr+Z705XrLlNEywrU4NjvUCvTg9HKUmTbqUNUIanBqXKUmSg+hpd1RBqcD71Nikx+acpplOWs2zREq96cvemLTulc0jeI+nL0pgOaUHFc7R0RZKOlOXpUStTt3FRY15h26mNJimNJUDy1cKVzCUx0kvWqzNmhnzmm12xpqKOfmuKvepU6GolGKkU4rOSNYktFMDUu73rDlZd7DqazYBppk4qMtk1pCn1Yua4pOafGmaSNc1Mvy0pvoikKBtFG6mF6ZurFU+rL57ElJupm+jdWqjchu54BkUZFNor+jrH8uj6KaDinUhhThzTaVehpDQtFFFKw7j6KQHNLTFcUHFOplOXpUlJjl70tNpw5qCkxQcUoOabRU2LTJQc0tMpynNKxshacOabSqamwxwOKdTKcpqLFIWlBxSUVJSH0ZNN3Ubqk1Q/NG6o80VDNESbqN9R03dWTNETb6N9Q5NGaixZL5lJ5lQ7qQnioNES+b70nm+9QZpu6smapFnzfek873qtupN9YM1SLBmpDP71VL03fWJtFFnz/ek+0VUL0wyVNzrjEu/auOtNN371QMh5qNpTzWbZvGKNI3nvTftvvWUZTUZmPNYtmsYGx9u96T7f71imdqb9oPrWVzojBG7/AGh70n9o+9YRuDTftB9als1VNHQrqHvTxqHvXOrcH1p4uT61m2aqmdANQ96kXUPeueFwfWpEuD61i2bKCOiW/wDepFv/AHrnkuD61Mk59aybNVE6Bb33qRb33rDSY+tTJIaGUkbaXnvUyXfvWLHIamjkNZs0SNpLr3qZLr3rHjkNTpIaxY0jXS596kS496ykkNSpIazZrFGos9SLP71mpJ1qRZKRqkaST1Ks/vWasnvUqSe9ZspI0VmqRZqzlepUesmi0aCzU8Te9UVc1Ij1nYouiTNPWSqisakRqnlHctq9PV6rI1SKadikywrU8NUCmpFqGjREqmnr3qJelPQ1mWiVelPXvTF6GnL3rnaNkSL0p9Rr3qRa52bRY4DFBNLTD3qbXL5rBvppkpjNjNQu/WtI07kuY9petRF81GWNArrUFFHO5XF609RmmqOtPXoahjQtLSUhrLlNlIXd70FuKYTihTmqUAuBJzUka0irUgwBSl2Q1oOU4zTWemlutRk5qFTvuVzDi3vQDmm05BkU3CwriqM0/bTkXAp2KjYtHzyvQ0tNBxSqc1/Rh/LgtFFFKwBTl6U2nL0qQuLRRRQFx1FAOaKk0QU8dKZTx0pFIBT6ZT6ktBRRRQMdTl702lHFQWOpVpKBUlIfSrSUDioLQ6iiioKQuaVe9Npy9KyZshaKKULUWLTEpu2pNtG2psaJkeKSpNtG2psXci20m2p9lJ5dZ2NIsrlaaVqz5dJ5dZtHRFlUqaaVNWzFSeTWLRtGRSKk0hQ4q75PtSeR9ayaN4yRQMRNM8k1qeRSfZxWLRspoyTAaYYDzWubf2pPsvtWTRvGZim3NRm2PpW59l9qabT2rJxOmM0YZtjTfsp9K3fsftQLL2rOxspowvshPam/ZD6V0Isv9mgWP+zUNGsahzoszT1s29K6AWHtTl0/2rLlNVUMBbQ+lSJaHmt9dOHpT10+pcTRVDCS1NTR2praWx5PFPWx9qy5TT2hlJbkdqmjhNai2XHSnrZ+1ZOJamZ8cRqdI6uraU9bbrxWbiaKZWSOpUjNWktsZ4qVLepcS1IrJGalVKspB7U8QVk4mqmQIlSKhqwkFSrDgVPKWpldIzUqR1KsVPWP2qeUOe5GFIp6KcVMsVPWKpsNMjReDUig09Y6eExS5TVMRelSpSBKkRamxdx6d6kWmqtPArMLj171IvWo1HFSL1rJo0TJF6Gnr3qKnoetZWNUyde9OXvTFPWnZx3qGrmqY+nBsVGG/GkLcVnyGikS+ZUZk61EXppatFSJcxXkqPfk0hNNHU1ooWM3Ik60Ui9KWlyj5h9KvembqN4FTyhzEtRs2CaZ59IPnzRGIlIcBvp6ptpittqQPuptGiYo5o2mkUgUGQYpcpfMBOKaWzTCxanIlHKHMKg61OgwKaowKep4rKSNEPFFGRRkVnYs+d6UcUlFf0RY/l8fRSKaWkAUDg0UUrAPopoOKdUgKvelptKvQ0rFi05elNpV70ikOpw6U2lXvU2LQ6iiikUOoooqSkx9FIvelqWUh9FIvQ0tQy0OopFPWlqRhT6atOqLGiYqinAZpF6U5e9TYtMULRRSrUWNEwwaMGnUVNi0xNtG2nAZpQMVnYuLGhKNlPpQMVm0aqQzZR5dSgZpQMVm4lqRD5VL5VTBc0u2s+U1UyDyaPJqyEpdgrPlKUyr5NL5HtVoJTggNZuJtGZT+zj0pfs4q6IwacIxWLidEahQ+ze1Ktt14q+IqcsQrPlNVUKS23HSlFpkVfWIYpdg6VDiaxqFAWmKkW1x2q6sYp6xjms+U1VRlJbbGacLervligIKlxNVNlMWw9KctuPSrgjAp3l+1Zcpqpsqi3GKcIB6VYAFPVaycTZTKy2/tT1txzVlVFPCAVk4mqmV1gqRYKnCgU8Lik4lqZAsNPWGplWnKtZOJqpkaw09YalUcU9RxWbRpGRAIqcsVThQKdsFZs2REsdOCU+lC1Fi0xoWnBaWlWlY0TALinqtKo4pyisWXcFXFPC0KKWs7DTFUU4U1e9OpNGiY6lXvSUVk0apkqtS76i3Uhb3pKJdyXfSF+OtQ7qTdWigRzEhekpgOaXJq7WJUh1AGKB0o7VBomG7Hejd70wmmlvenyk8xJvpN2aizRk0cocxJtpyttqNXNPUZpOJSZKo30Y20wSbBSeZuoUTRMcZKRcnNNC5pw+WjlFzEirgUuai8w09TmlyjTJlbijdTVHFLWDR0ok3UbqSip0ND58ooor+gT+Ygp45ooqWAUUUUgClBxRRQA6gUUVBQ6lHFFFJlIdSg4oopFodRRRSGOoooqShV606iioLFWnUUVBQUoOaKKkseveloopDQ5e9KOKKKktDqKKKhmiClU0UVJZIvSloorItAvWnUUVLNEOXpS0UVmxj6KKKg0Q4HNFFFQaDlNOU0UVDNIjlNOoorFm8R9FFFZmqH0q9DRRUM0QtPoorM2Q+iiismaodT6KKzNohRRRWbNlsSL3qSiismOO4+nUUVLN4jx0pV60UVkzZEg6UUUVizaOw8HFPoorJm8Qp1FFSWgpV60UUFskHSloorFoqI6n0UVCNQp9FFJmiHUUUVkUw7GozRRWkUJsSiiitGgCiiiswQ+gng0UVMUadCI96iJOaKK2MkOXrUgHFFFQaD8Cm5xRRSKGk5p1FFAkPoooqTQKevWiis5DRIOlLRRWctjoiSL3paKK5kbI//9k=";var z4=n=>{throw TypeError(n)},kz=(n,e,t)=>e.has(n)||z4("Cannot "+t),z1=(n,e,t)=>(kz(n,e,"read from private field"),t?t.call(n):e.get(n)),Cz=(n,e,t)=>e.has(n)?z4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$O="popstate";function Az(n={}){function e(s,a){let{pathname:r="/",search:o="",hash:l=""}=Zr(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),ep("",{pathname:r,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let r=s.document.querySelector("base"),o="";if(r&&r.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:Gr(a))}function i(s,a){Hn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Nz(e,t,i,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tz(){return Math.random().toString(36).substring(2,10)}function QO(n,e){return{usr:n.state,key:n.key,idx:e}}function ep(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zr(e):e,state:t,key:e&&e.key||i||Tz()}}function Gr({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Nz(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,o="POP",l=null,u=h();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function h(){return(r.state||{idx:null}).idx}function m(){o="POP";let v=h(),C=v==null?null:v-u;u=v,l&&l({action:o,location:x.location,delta:C})}function g(v,C){o="PUSH";let k=ep(x.location,v,C);t&&t(k,v),u=h()+1;let N=QO(k,u),O=x.createHref(k);try{r.pushState(N,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(O)}a&&l&&l({action:o,location:x.location,delta:1})}function _(v,C){o="REPLACE";let k=ep(x.location,v,C);t&&t(k,v),u=h();let N=QO(k,u),O=x.createHref(k);r.replaceState(N,"",O),a&&l&&l({action:o,location:x.location,delta:0})}function b(v){return q4(v)}let x={get action(){return o},get location(){return n(s,r)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($O,m),l=v,()=>{s.removeEventListener($O,m),l=null}},createHref(v){return e(s,v)},createURL:b,encodeLocation(v){let C=b(v);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:_,go(v){return r.go(v)}};return x}function q4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Gr(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var cm,YO=class{constructor(n){if(Cz(this,cm,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(z1(this,cm).has(n))return z1(this,cm).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){z1(this,cm).set(n,e)}};cm=new WeakMap;var Mz=new Set(["lazy","caseSensitive","path","id","index","children"]);function Oz(n){return Mz.has(n)}var Lz=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Pz(n){return Lz.has(n)}function Rz(n){return n.index===!0}function tp(n,e,t=[],i={},s=!1){return n.map((a,r)=>{let o=[...t,String(r)],l=typeof a.id=="string"?a.id:o.join("-");if(Et(a.index!==!0||!a.children,"Cannot specify children on an index route"),Et(s||!i[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),Rz(a)){let u={...a,id:l};return i[l]=ZO(u,e(u)),u}else{let u={...a,id:l,children:void 0};return i[l]=ZO(u,e(u)),a.children&&(u.children=tp(a.children,e,o,i,s)),u}})}function ZO(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function El(n,e,t="/"){return um(n,e,t,!1)}function um(n,e,t,i){let s=typeof e=="string"?Zr(e):e,a=Hs(s.pathname||"/",t);if(a==null)return null;let r=K4(n);jz(r);let o=null;for(let l=0;o==null&&l<r.length;++l){let u=Wz(a);o=Hz(r[l],u,i)}return o}function Ez(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function K4(n,e=[],t=[],i="",s=!1){let a=(r,o,l=s,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&l)return;Et(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let m=Hr([i,h.relativePath]),g=t.concat(h);r.children&&r.children.length>0&&(Et(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),K4(r.children,e,g,m,l)),!(r.path==null&&!r.index)&&e.push({path:m,score:qz(m,r.index),routesMeta:g})};return n.forEach((r,o)=>{if(r.path===""||!r.path?.includes("?"))a(r,o);else for(let l of H4(r.path))a(r,o,!0,l)}),e}function H4(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=H4(i.join("/")),o=[];return o.push(...r.map(l=>l===""?a:[a,l].join("/"))),s&&o.push(...r),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function jz(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Kz(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Dz=/^:[\w-]+$/,Fz=3,Uz=2,Bz=1,Iz=10,zz=-2,JO=n=>n==="*";function qz(n,e){let t=n.split("/"),i=t.length;return t.some(JO)&&(i+=zz),e&&(i+=Uz),t.filter(s=>!JO(s)).reduce((s,a)=>s+(Dz.test(a)?Fz:a===""?Bz:Iz),i)}function Kz(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function Hz(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",r=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=wy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!m&&u&&t&&!i[i.length-1].route.index&&(m=wy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),r.push({params:s,pathname:Hr([a,m.pathname]),pathnameBase:$z(Hr([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Hr([a,m.pathnameBase]))}return r}function wy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Vz(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=o[g]||"";r=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const _=o[g];return m&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:n}}function Vz(n,e=!1,t=!0){Hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Wz(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Gz({basename:n,pathname:e}){return e==="/"?n:Hr([n,e])}var V4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tb=n=>V4.test(n);function Xz(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Zr(n):n,a;if(t)if(Tb(t))a=t;else{if(t.includes("//")){let r=t;t=t.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${t}`)}t.startsWith("/")?a=eL(t.substring(1),"/"):a=eL(t,e)}else a=e;return{pathname:a,search:Qz(i),hash:Yz(s)}}function eL(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function q1(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Nb(n){let e=W4(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Mb(n,e,t,i=!1){let s;typeof n=="string"?s=Zr(n):(s={...n},Et(!s.pathname||!s.pathname.includes("?"),q1("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),q1("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),q1("#","search","hash",s)));let a=n===""||s.pathname==="",r=a?"/":s.pathname,o;if(r==null)o=t;else{let m=e.length-1;if(!i&&r.startsWith("..")){let g=r.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}o=m>=0?e[m]:"/"}let l=Xz(s,o),u=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Hr=n=>n.join("/").replace(/\/\/+/g,"/"),$z=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Qz=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Yz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Up=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function np(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Bp(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var G4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function X4(n,e){let t=n;if(typeof t!="string"||!V4.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(G4)try{let a=new URL(window.location.href),r=t.startsWith("//")?new URL(a.protocol+t):new URL(t),o=Hs(r.pathname,e);r.origin===a.origin&&o!=null?t=o+r.search+r.hash:s=!0}catch{Hn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}var Fl=Symbol("Uninstrumented");function Zz(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(a){let r=Object.keys(t);for(let o of r)a[o]&&t[o].push(a[o])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=Od(t.lazy,e.lazy,()=>{});s&&(i.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(a=>{let r=s[a],o=t[`lazy.${a}`];if(typeof r=="function"&&o.length>0){let l=Od(o,r,()=>{});l&&(i.lazy=Object.assign(i.lazy||{},{[a]:l}))}})}return["loader","action"].forEach(s=>{let a=e[s];if(typeof a=="function"&&t[s].length>0){let r=a[Fl]??a,o=Od(t[s],r,(...l)=>tL(l[0]));o&&(s==="loader"&&r.hydrate===!0&&(o.hydrate=!0),o[Fl]=r,i[s]=o)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(s=>{let a=s[Fl]??s,r=Od(t.middleware,a,(...o)=>tL(o[0]));return r?(r[Fl]=a,r):s})),i}function Jz(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(s){let a=Object.keys(s);for(let r of a)s[r]&&t[r].push(s[r])}})),t.navigate.length>0){let i=n.navigate[Fl]??n.navigate,s=Od(t.navigate,i,(...a)=>{let[r,o]=a;return{to:typeof r=="number"||typeof r=="string"?r:r?Gr(r):".",...nL(n,o??{})}});s&&(s[Fl]=i,n.navigate=s)}if(t.fetch.length>0){let i=n.fetch[Fl]??n.fetch,s=Od(t.fetch,i,(...a)=>{let[r,,o,l]=a;return{href:o??".",fetcherKey:r,...nL(n,l??{})}});s&&(s[Fl]=i,n.fetch=s)}return n}function Od(n,e,t){return n.length===0?null:async(...i)=>{let s=await $4(n,t(...i),()=>e(...i),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function $4(n,e,t,i){let s=n[i],a;if(s){let r,o=async()=>(r?console.error("You cannot call instrumented handlers more than once"):r=$4(n,e,t,i-1),a=await r,Et(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await s(o,e)}catch(l){console.error("An instrumentation function threw an error:",l)}r||await o(),await r}else try{a={type:"success",value:await t()}}catch(r){a={type:"error",value:r}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function tL(n){let{request:e,context:t,params:i,unstable_pattern:s}=n;return{request:eq(e),params:{...i},unstable_pattern:s,context:tq(t)}}function nL(n,e){return{currentUrl:Gr(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function eq(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function tq(n){if(iq(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var nq=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iq(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===nq}var Q4=["POST","PUT","PATCH","DELETE"],sq=new Set(Q4),aq=["GET",...Q4],rq=new Set(aq),Y4=new Set([301,302,303,307,308]),oq=new Set([307,308]),K1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lq={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cq=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Z4="remix-router-transitions",J4=Symbol("ResetLoaderData");function uq(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Et(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||cq,a=s;if(n.unstable_instrumentations){let ee=n.unstable_instrumentations;a=ae=>({...s(ae),...Zz(ee.map(fe=>fe.route).filter(Boolean),ae)})}let r={},o=tp(n.routes,a,void 0,r),l,u=n.basename||"/";u.startsWith("/")||(u=`/${u}`);let h=n.dataStrategy||pq,m={...n.future},g=null,_=new Set,b=null,x=null,v=null,C=n.hydrationData!=null,k=El(o,n.history.location,u),N=!1,O=null,T;if(k==null&&!n.patchRoutesOnNavigation){let ee=La(404,{pathname:n.history.location.pathname}),{matches:ae,route:fe}=L_(o);T=!0,k=ae,O={[fe.id]:ee}}else if(k&&!n.hydrationData&&Qe(k,o,n.history.location.pathname).active&&(k=null),k)if(k.some(ee=>ee.route.lazy))T=!1;else if(!k.some(ee=>Fk(ee.route)))T=!0;else{let ee=n.hydrationData?n.hydrationData.loaderData:null,ae=n.hydrationData?n.hydrationData.errors:null;if(ae){let fe=k.findIndex(Ne=>ae[Ne.route.id]!==void 0);T=k.slice(0,fe+1).every(Ne=>!RS(Ne.route,ee,ae))}else T=k.every(fe=>!RS(fe.route,ee,ae))}else{T=!1,k=[];let ee=Qe(null,o,n.history.location.pathname);ee.active&&ee.matches&&(N=!0,k=ee.matches)}let L,M={historyAction:n.history.action,location:n.history.location,matches:k,initialized:T,navigation:K1,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||O,fetchers:new Map,blockers:new Map},P="POP",R=null,D=!1,U,F=!1,H=new Map,Z=null,Y=!1,I=!1,K=new Set,V=new Map,$=0,W=-1,j=new Map,B=new Set,X=new Map,te=new Map,Q=new Set,G=new Map,ne,J=null;function re(){if(g=n.history.listen(({action:ee,location:ae,delta:fe})=>{if(ne){ne(),ne=void 0;return}Hn(G.size===0||fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ne=ks({currentLocation:M.location,nextLocation:ae,historyAction:ee});if(Ne&&fe!=null){let Re=new Promise(Ge=>{ne=Ge});n.history.go(fe*-1),Ai(Ne,{state:"blocked",location:ae,proceed(){Ai(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Re.then(()=>n.history.go(fe))},reset(){let Ge=new Map(M.blockers);Ge.set(Ne,Cd),ke({blockers:Ge})}}),R?.resolve(),R=null;return}return Ee(ee,ae)}),t){Rq(e,H);let ee=()=>Eq(e,H);e.addEventListener("pagehide",ee),Z=()=>e.removeEventListener("pagehide",ee)}return M.initialized||Ee("POP",M.location,{initialHydration:!0}),L}function de(){g&&g(),Z&&Z(),_.clear(),U&&U.abort(),M.fetchers.forEach((ee,ae)=>He(ae)),M.blockers.forEach((ee,ae)=>Gs(ae))}function Le(ee){return _.add(ee),()=>_.delete(ee)}function ke(ee,ae={}){ee.matches&&(ee.matches=ee.matches.map(Re=>{let Ge=r[Re.route.id],Fe=Re.route;return Fe.element!==Ge.element||Fe.errorElement!==Ge.errorElement||Fe.hydrateFallbackElement!==Ge.hydrateFallbackElement?{...Re,route:Ge}:Re})),M={...M,...ee};let fe=[],Ne=[];M.fetchers.forEach((Re,Ge)=>{Re.state==="idle"&&(Q.has(Ge)?fe.push(Ge):Ne.push(Ge))}),Q.forEach(Re=>{!M.fetchers.has(Re)&&!V.has(Re)&&fe.push(Re)}),[..._].forEach(Re=>Re(M,{deletedFetchers:fe,newErrors:ee.errors??null,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),fe.forEach(Re=>He(Re)),Ne.forEach(Re=>M.fetchers.delete(Re))}function nt(ee,ae,{flushSync:fe}={}){let Ne=M.actionData!=null&&M.navigation.formMethod!=null&&Xi(M.navigation.formMethod)&&M.navigation.state==="loading"&&ee.state?._isRedirect!==!0,Re;ae.actionData?Object.keys(ae.actionData).length>0?Re=ae.actionData:Re=null:Ne?Re=M.actionData:Re=null;let Ge=ae.loaderData?hL(M.loaderData,ae.loaderData,ae.matches||[],ae.errors):M.loaderData,Fe=M.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((tt,it)=>Fe.set(it,Cd)));let je=Y?!1:Te(ee,ae.matches||M.matches),Ue=D===!0||M.navigation.formMethod!=null&&Xi(M.navigation.formMethod)&&ee.state?._isRedirect!==!0;l&&(o=l,l=void 0),Y||P==="POP"||(P==="PUSH"?n.history.push(ee,ee.state):P==="REPLACE"&&n.history.replace(ee,ee.state));let Xe;if(P==="POP"){let tt=H.get(M.location.pathname);tt&&tt.has(ee.pathname)?Xe={currentLocation:M.location,nextLocation:ee}:H.has(ee.pathname)&&(Xe={currentLocation:ee,nextLocation:M.location})}else if(F){let tt=H.get(M.location.pathname);tt?tt.add(ee.pathname):(tt=new Set([ee.pathname]),H.set(M.location.pathname,tt)),Xe={currentLocation:M.location,nextLocation:ee}}ke({...ae,actionData:Re,loaderData:Ge,historyAction:P,location:ee,initialized:!0,navigation:K1,revalidation:"idle",restoreScrollPosition:je,preventScrollReset:Ue,blockers:Fe},{viewTransitionOpts:Xe,flushSync:fe===!0}),P="POP",D=!1,F=!1,Y=!1,I=!1,R?.resolve(),R=null,J?.resolve(),J=null}async function _t(ee,ae){if(R?.resolve(),R=null,typeof ee=="number"){R||(R=gL());let jt=R.promise;return n.history.go(ee),jt}let fe=PS(M.location,M.matches,u,ee,ae?.fromRouteId,ae?.relative),{path:Ne,submission:Re,error:Ge}=iL(!1,fe,ae),Fe=M.location,je=ep(M.location,Ne,ae&&ae.state);je={...je,...n.history.encodeLocation(je)};let Ue=ae&&ae.replace!=null?ae.replace:void 0,Xe="PUSH";Ue===!0?Xe="REPLACE":Ue===!1||Re!=null&&Xi(Re.formMethod)&&Re.formAction===M.location.pathname+M.location.search&&(Xe="REPLACE");let tt=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,it=(ae&&ae.flushSync)===!0,kt=ks({currentLocation:Fe,nextLocation:je,historyAction:Xe});if(kt){Ai(kt,{state:"blocked",location:je,proceed(){Ai(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),_t(ee,ae)},reset(){let jt=new Map(M.blockers);jt.set(kt,Cd),ke({blockers:jt})}});return}await Ee(Xe,je,{submission:Re,pendingError:Ge,preventScrollReset:tt,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:it,callSiteDefaultShouldRevalidate:ae&&ae.unstable_defaultShouldRevalidate})}function Ft(){J||(J=gL()),yt(),ke({revalidation:"loading"});let ee=J.promise;return M.navigation.state==="submitting"?ee:M.navigation.state==="idle"?(Ee(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),ee):(Ee(P||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:F===!0}),ee)}async function Ee(ee,ae,fe){U&&U.abort(),U=null,P=ee,Y=(fe&&fe.startUninterruptedRevalidation)===!0,Ja(M.location,M.matches),D=(fe&&fe.preventScrollReset)===!0,F=(fe&&fe.enableViewTransition)===!0;let Ne=l||o,Re=fe&&fe.overrideNavigation,Ge=fe?.initialHydration&&M.matches&&M.matches.length>0&&!N?M.matches:El(Ne,ae,u),Fe=(fe&&fe.flushSync)===!0;if(Ge&&M.initialized&&!I&&wq(M.location,ae)&&!(fe&&fe.submission&&Xi(fe.submission.formMethod))){nt(ae,{matches:Ge},{flushSync:Fe});return}let je=Qe(Ge,Ne,ae.pathname);if(je.active&&je.matches&&(Ge=je.matches),!Ge){let{error:Sn,notFoundMatches:En,route:It}=os(ae.pathname);nt(ae,{matches:En,loaderData:{},errors:{[It.id]:Sn}},{flushSync:Fe});return}U=new AbortController;let Ue=Ad(n.history,ae,U.signal,fe&&fe.submission),Xe=n.getContext?await n.getContext():new YO,tt;if(fe&&fe.pendingError)tt=[jl(Ge).route.id,{type:"error",error:fe.pendingError}];else if(fe&&fe.submission&&Xi(fe.submission.formMethod)){let Sn=await Ye(Ue,ae,fe.submission,Ge,Xe,je.active,fe&&fe.initialHydration===!0,{replace:fe.replace,flushSync:Fe});if(Sn.shortCircuited)return;if(Sn.pendingActionResult){let[En,It]=Sn.pendingActionResult;if(aa(It)&&np(It.error)&&It.error.status===404){U=null,nt(ae,{matches:Sn.matches,loaderData:{},errors:{[En]:It.error}});return}}Ge=Sn.matches||Ge,tt=Sn.pendingActionResult,Re=H1(ae,fe.submission),Fe=!1,je.active=!1,Ue=Ad(n.history,Ue.url,Ue.signal)}let{shortCircuited:it,matches:kt,loaderData:jt,errors:gn}=await Lt(Ue,ae,Ge,Xe,je.active,Re,fe&&fe.submission,fe&&fe.fetcherSubmission,fe&&fe.replace,fe&&fe.initialHydration===!0,Fe,tt,fe&&fe.callSiteDefaultShouldRevalidate);it||(U=null,nt(ae,{matches:kt||Ge,...fL(tt),loaderData:jt,errors:gn}))}async function Ye(ee,ae,fe,Ne,Re,Ge,Fe,je={}){yt();let Ue=Lq(ae,fe);if(ke({navigation:Ue},{flushSync:je.flushSync===!0}),Ge){let it=await dt(Ne,ae.pathname,ee.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){if(it.partialMatches.length===0){let{matches:jt,route:gn}=L_(o);return{matches:jt,pendingActionResult:[gn.id,{type:"error",error:it.error}]}}let kt=jl(it.partialMatches).route.id;return{matches:it.partialMatches,pendingActionResult:[kt,{type:"error",error:it.error}]}}else if(it.matches)Ne=it.matches;else{let{notFoundMatches:kt,error:jt,route:gn}=os(ae.pathname);return{matches:kt,pendingActionResult:[gn.id,{type:"error",error:jt}]}}}let Xe,tt=G0(Ne,ae);if(!tt.route.action&&!tt.route.lazy)Xe={type:"error",error:La(405,{method:ee.method,pathname:ae.pathname,routeId:tt.route.id})};else{let it=zd(a,r,ee,Ne,tt,Fe?[]:i,Re),kt=await Pe(ee,it,Re,null);if(Xe=kt[tt.route.id],!Xe){for(let jt of Ne)if(kt[jt.route.id]){Xe=kt[jt.route.id];break}}if(ee.signal.aborted)return{shortCircuited:!0}}if(Xc(Xe)){let it;return je&&je.replace!=null?it=je.replace:it=cL(Xe.response.headers.get("Location"),new URL(ee.url),u,n.history)===M.location.pathname+M.location.search,await _e(ee,Xe,!0,{submission:fe,replace:it}),{shortCircuited:!0}}if(aa(Xe)){let it=jl(Ne,tt.route.id);return(je&&je.replace)!==!0&&(P="PUSH"),{matches:Ne,pendingActionResult:[it.route.id,Xe,tt.route.id]}}return{matches:Ne,pendingActionResult:[tt.route.id,Xe]}}async function Lt(ee,ae,fe,Ne,Re,Ge,Fe,je,Ue,Xe,tt,it,kt){let jt=Ge||H1(ae,Fe),gn=Fe||je||pL(jt),Sn=!Y&&!Xe;if(Re){if(Sn){let ni=me(it);ke({navigation:jt,...ni!==void 0?{actionData:ni}:{}},{flushSync:tt})}let Gt=await dt(fe,ae.pathname,ee.signal);if(Gt.type==="aborted")return{shortCircuited:!0};if(Gt.type==="error"){if(Gt.partialMatches.length===0){let{matches:er,route:Ei}=L_(o);return{matches:er,loaderData:{},errors:{[Ei.id]:Gt.error}}}let ni=jl(Gt.partialMatches).route.id;return{matches:Gt.partialMatches,loaderData:{},errors:{[ni]:Gt.error}}}else if(Gt.matches)fe=Gt.matches;else{let{error:ni,notFoundMatches:er,route:Ei}=os(ae.pathname);return{matches:er,loaderData:{},errors:{[Ei.id]:ni}}}}let En=l||o,{dsMatches:It,revalidatingFetchers:hi}=sL(ee,Ne,a,r,n.history,M,fe,gn,ae,Xe?[]:i,Xe===!0,I,K,Q,X,B,En,u,n.patchRoutesOnNavigation!=null,it,kt);if(W=++$,!n.dataStrategy&&!It.some(Gt=>Gt.shouldLoad)&&!It.some(Gt=>Gt.route.middleware&&Gt.route.middleware.length>0)&&hi.length===0){let Gt=Rn();return nt(ae,{matches:fe,loaderData:{},errors:it&&aa(it[1])?{[it[0]]:it[1].error}:null,...fL(it),...Gt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:tt}),{shortCircuited:!0}}if(Sn){let Gt={};if(!Re){Gt.navigation=jt;let ni=me(it);ni!==void 0&&(Gt.actionData=ni)}hi.length>0&&(Gt.fetchers=Ie(hi)),ke(Gt,{flushSync:tt})}hi.forEach(Gt=>{Ut(Gt.key),Gt.controller&&V.set(Gt.key,Gt.controller)});let Be=()=>hi.forEach(Gt=>Ut(Gt.key));U&&U.signal.addEventListener("abort",Be);let{loaderResults:ot,fetcherResults:Pt}=await $e(It,hi,ee,Ne);if(ee.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Be),hi.forEach(Gt=>V.delete(Gt.key));let on=P_(ot);if(on)return await _e(ee,on.result,!0,{replace:Ue}),{shortCircuited:!0};if(on=P_(Pt),on)return B.add(on.key),await _e(ee,on.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:ls,errors:_a}=dL(M,fe,ot,it,hi,Pt);Xe&&M.errors&&(_a={...M.errors,..._a});let so=Rn(),uc=Vi(W),dc=so||uc||hi.length>0;return{matches:fe,loaderData:ls,errors:_a,...dc?{fetchers:new Map(M.fetchers)}:{}}}function me(ee){if(ee&&!aa(ee[1]))return{[ee[0]]:ee[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Ie(ee){return ee.forEach(ae=>{let fe=M.fetchers.get(ae.key),Ne=Ef(void 0,fe?fe.data:void 0);M.fetchers.set(ae.key,Ne)}),new Map(M.fetchers)}async function Je(ee,ae,fe,Ne){Ut(ee);let Re=(Ne&&Ne.flushSync)===!0,Ge=l||o,Fe=PS(M.location,M.matches,u,fe,ae,Ne?.relative),je=El(Ge,Fe,u),Ue=Qe(je,Ge,Fe);if(Ue.active&&Ue.matches&&(je=Ue.matches),!je){pt(ee,ae,La(404,{pathname:Fe}),{flushSync:Re});return}let{path:Xe,submission:tt,error:it}=iL(!0,Fe,Ne);if(it){pt(ee,ae,it,{flushSync:Re});return}let kt=n.getContext?await n.getContext():new YO,jt=(Ne&&Ne.preventScrollReset)===!0;if(tt&&Xi(tt.formMethod)){await ct(ee,ae,Xe,je,kt,Ue.active,Re,jt,tt,Ne&&Ne.unstable_defaultShouldRevalidate);return}X.set(ee,{routeId:ae,path:Xe}),await le(ee,ae,Xe,je,kt,Ue.active,Re,jt,tt)}async function ct(ee,ae,fe,Ne,Re,Ge,Fe,je,Ue,Xe){yt(),X.delete(ee);let tt=M.fetchers.get(ee);bt(ee,Pq(Ue,tt),{flushSync:Fe});let it=new AbortController,kt=Ad(n.history,fe,it.signal,Ue);if(Ge){let Xt=await dt(Ne,new URL(kt.url).pathname,kt.signal,ee);if(Xt.type==="aborted")return;if(Xt.type==="error"){pt(ee,ae,Xt.error,{flushSync:Fe});return}else if(Xt.matches)Ne=Xt.matches;else{pt(ee,ae,La(404,{pathname:fe}),{flushSync:Fe});return}}let jt=G0(Ne,fe);if(!jt.route.action&&!jt.route.lazy){let Xt=La(405,{method:Ue.formMethod,pathname:fe,routeId:ae});pt(ee,ae,Xt,{flushSync:Fe});return}V.set(ee,it);let gn=$,Sn=zd(a,r,kt,Ne,jt,i,Re),En=await Pe(kt,Sn,Re,ee),It=En[jt.route.id];if(!It){for(let Xt of Sn)if(En[Xt.route.id]){It=En[Xt.route.id];break}}if(kt.signal.aborted){V.get(ee)===it&&V.delete(ee);return}if(Q.has(ee)){if(Xc(It)||aa(It)){bt(ee,Oo(void 0));return}}else{if(Xc(It))if(V.delete(ee),W>gn){bt(ee,Oo(void 0));return}else return B.add(ee),bt(ee,Ef(Ue)),_e(kt,It,!1,{fetcherSubmission:Ue,preventScrollReset:je});if(aa(It)){pt(ee,ae,It.error);return}}let hi=M.navigation.location||M.location,Be=Ad(n.history,hi,it.signal),ot=l||o,Pt=M.navigation.state!=="idle"?El(ot,M.navigation.location,u):M.matches;Et(Pt,"Didn't find any matches after fetcher action");let on=++$;j.set(ee,on);let ls=Ef(Ue,It.data);M.fetchers.set(ee,ls);let{dsMatches:_a,revalidatingFetchers:so}=sL(Be,Re,a,r,n.history,M,Pt,Ue,hi,i,!1,I,K,Q,X,B,ot,u,n.patchRoutesOnNavigation!=null,[jt.route.id,It],Xe);so.filter(Xt=>Xt.key!==ee).forEach(Xt=>{let hc=Xt.key,xg=M.fetchers.get(hc),Kh=Ef(void 0,xg?xg.data:void 0);M.fetchers.set(hc,Kh),Ut(hc),Xt.controller&&V.set(hc,Xt.controller)}),ke({fetchers:new Map(M.fetchers)});let uc=()=>so.forEach(Xt=>Ut(Xt.key));it.signal.addEventListener("abort",uc);let{loaderResults:dc,fetcherResults:Gt}=await $e(_a,so,Be,Re);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",uc),j.delete(ee),V.delete(ee),so.forEach(Xt=>V.delete(Xt.key)),M.fetchers.has(ee)){let Xt=Oo(It.data);M.fetchers.set(ee,Xt)}let ni=P_(dc);if(ni)return _e(Be,ni.result,!1,{preventScrollReset:je});if(ni=P_(Gt),ni)return B.add(ni.key),_e(Be,ni.result,!1,{preventScrollReset:je});let{loaderData:er,errors:Ei}=dL(M,Pt,dc,void 0,so,Gt);Vi(on),M.navigation.state==="loading"&&on>W?(Et(P,"Expected pending action"),U&&U.abort(),nt(M.navigation.location,{matches:Pt,loaderData:er,errors:Ei,fetchers:new Map(M.fetchers)})):(ke({errors:Ei,loaderData:hL(M.loaderData,er,Pt,Ei),fetchers:new Map(M.fetchers)}),I=!1)}async function le(ee,ae,fe,Ne,Re,Ge,Fe,je,Ue){let Xe=M.fetchers.get(ee);bt(ee,Ef(Ue,Xe?Xe.data:void 0),{flushSync:Fe});let tt=new AbortController,it=Ad(n.history,fe,tt.signal);if(Ge){let It=await dt(Ne,new URL(it.url).pathname,it.signal,ee);if(It.type==="aborted")return;if(It.type==="error"){pt(ee,ae,It.error,{flushSync:Fe});return}else if(It.matches)Ne=It.matches;else{pt(ee,ae,La(404,{pathname:fe}),{flushSync:Fe});return}}let kt=G0(Ne,fe);V.set(ee,tt);let jt=$,gn=zd(a,r,it,Ne,kt,i,Re),En=(await Pe(it,gn,Re,ee))[kt.route.id];if(V.get(ee)===tt&&V.delete(ee),!it.signal.aborted){if(Q.has(ee)){bt(ee,Oo(void 0));return}if(Xc(En))if(W>jt){bt(ee,Oo(void 0));return}else{B.add(ee),await _e(it,En,!1,{preventScrollReset:je});return}if(aa(En)){pt(ee,ae,En.error);return}bt(ee,Oo(En.data))}}async function _e(ee,ae,fe,{submission:Ne,fetcherSubmission:Re,preventScrollReset:Ge,replace:Fe}={}){fe||(R?.resolve(),R=null),ae.response.headers.has("X-Remix-Revalidate")&&(I=!0);let je=ae.response.headers.get("Location");Et(je,"Expected a Location header on the redirect Response"),je=cL(je,new URL(ee.url),u,n.history);let Ue=ep(M.location,je,{_isRedirect:!0});if(t){let gn=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))gn=!0;else if(Tb(je)){const Sn=q4(je,!0);gn=Sn.origin!==e.location.origin||Hs(Sn.pathname,u)==null}if(gn){Fe?e.location.replace(je):e.location.assign(je);return}}U=null;let Xe=Fe===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:tt,formAction:it,formEncType:kt}=M.navigation;!Ne&&!Re&&tt&&it&&kt&&(Ne=pL(M.navigation));let jt=Ne||Re;if(oq.has(ae.response.status)&&jt&&Xi(jt.formMethod))await Ee(Xe,Ue,{submission:{...jt,formAction:je},preventScrollReset:Ge||D,enableViewTransition:fe?F:void 0});else{let gn=H1(Ue,Ne);await Ee(Xe,Ue,{overrideNavigation:gn,fetcherSubmission:Re,preventScrollReset:Ge||D,enableViewTransition:fe?F:void 0})}}async function Pe(ee,ae,fe,Ne){let Re,Ge={};try{Re=await _q(h,ee,ae,Ne,fe,!1)}catch(Fe){return ae.filter(je=>je.shouldLoad).forEach(je=>{Ge[je.route.id]={type:"error",error:Fe}}),Ge}if(ee.signal.aborted)return Ge;if(!Xi(ee.method))for(let Fe of ae){if(Re[Fe.route.id]?.type==="error")break;!Re.hasOwnProperty(Fe.route.id)&&!M.loaderData.hasOwnProperty(Fe.route.id)&&(!M.errors||!M.errors.hasOwnProperty(Fe.route.id))&&Fe.shouldCallHandler()&&(Re[Fe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Fe.route.id}`)})}for(let[Fe,je]of Object.entries(Re))if(Tq(je)){let Ue=je.result;Ge[Fe]={type:"redirect",response:vq(Ue,ee,Fe,ae,u)}}else Ge[Fe]=await xq(je);return Ge}async function $e(ee,ae,fe,Ne){let Re=Pe(fe,ee,Ne,null),Ge=Promise.all(ae.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let tt=(await Pe(Ue.request,Ue.matches,Ne,Ue.key))[Ue.match.route.id];return{[Ue.key]:tt}}else return Promise.resolve({[Ue.key]:{type:"error",error:La(404,{pathname:Ue.path})}})})),Fe=await Re,je=(await Ge).reduce((Ue,Xe)=>Object.assign(Ue,Xe),{});return{loaderResults:Fe,fetcherResults:je}}function yt(){I=!0,X.forEach((ee,ae)=>{V.has(ae)&&K.add(ae),Ut(ae)})}function bt(ee,ae,fe={}){M.fetchers.set(ee,ae),ke({fetchers:new Map(M.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function pt(ee,ae,fe,Ne={}){let Re=jl(M.matches,ae);He(ee),ke({errors:{[Re.route.id]:fe},fetchers:new Map(M.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function hn(ee){return te.set(ee,(te.get(ee)||0)+1),Q.has(ee)&&Q.delete(ee),M.fetchers.get(ee)||lq}function ce(ee,ae){Ut(ee,ae?.reason),bt(ee,Oo(null))}function He(ee){let ae=M.fetchers.get(ee);V.has(ee)&&!(ae&&ae.state==="loading"&&j.has(ee))&&Ut(ee),X.delete(ee),j.delete(ee),B.delete(ee),Q.delete(ee),K.delete(ee),M.fetchers.delete(ee)}function Nt(ee){let ae=(te.get(ee)||0)-1;ae<=0?(te.delete(ee),Q.add(ee)):te.set(ee,ae),ke({fetchers:new Map(M.fetchers)})}function Ut(ee,ae){let fe=V.get(ee);fe&&(fe.abort(ae),V.delete(ee))}function Mn(ee){for(let ae of ee){let fe=hn(ae),Ne=Oo(fe.data);M.fetchers.set(ae,Ne)}}function Rn(){let ee=[],ae=!1;for(let fe of B){let Ne=M.fetchers.get(fe);Et(Ne,`Expected fetcher: ${fe}`),Ne.state==="loading"&&(B.delete(fe),ee.push(fe),ae=!0)}return Mn(ee),ae}function Vi(ee){let ae=[];for(let[fe,Ne]of j)if(Ne<ee){let Re=M.fetchers.get(fe);Et(Re,`Expected fetcher: ${fe}`),Re.state==="loading"&&(Ut(fe),j.delete(fe),ae.push(fe))}return Mn(ae),ae.length>0}function Ya(ee,ae){let fe=M.blockers.get(ee)||Cd;return G.get(ee)!==ae&&G.set(ee,ae),fe}function Gs(ee){M.blockers.delete(ee),G.delete(ee)}function Ai(ee,ae){let fe=M.blockers.get(ee)||Cd;Et(fe.state==="unblocked"&&ae.state==="blocked"||fe.state==="blocked"&&ae.state==="blocked"||fe.state==="blocked"&&ae.state==="proceeding"||fe.state==="blocked"&&ae.state==="unblocked"||fe.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${fe.state} -> ${ae.state}`);let Ne=new Map(M.blockers);Ne.set(ee,ae),ke({blockers:Ne})}function ks({currentLocation:ee,nextLocation:ae,historyAction:fe}){if(G.size===0)return;G.size>1&&Hn(!1,"A router only supports one blocker at a time");let Ne=Array.from(G.entries()),[Re,Ge]=Ne[Ne.length-1],Fe=M.blockers.get(Re);if(!(Fe&&Fe.state==="proceeding")&&Ge({currentLocation:ee,nextLocation:ae,historyAction:fe}))return Re}function os(ee){let ae=La(404,{pathname:ee}),fe=l||o,{matches:Ne,route:Re}=L_(fe);return{notFoundMatches:Ne,route:Re,error:ae}}function Xs(ee,ae,fe){if(b=ee,v=ae,x=fe||null,!C&&M.navigation===K1){C=!0;let Ne=Te(M.location,M.matches);Ne!=null&&ke({restoreScrollPosition:Ne})}return()=>{b=null,v=null,x=null}}function Za(ee,ae){return x&&x(ee,ae.map(Ne=>Ez(Ne,M.loaderData)))||ee.key}function Ja(ee,ae){if(b&&v){let fe=Za(ee,ae);b[fe]=v()}}function Te(ee,ae){if(b){let fe=Za(ee,ae),Ne=b[fe];if(typeof Ne=="number")return Ne}return null}function Qe(ee,ae,fe){if(n.patchRoutesOnNavigation)if(ee){if(Object.keys(ee[0].params).length>0)return{active:!0,matches:um(ae,fe,u,!0)}}else return{active:!0,matches:um(ae,fe,u,!0)||[]};return{active:!1,matches:null}}async function dt(ee,ae,fe,Ne){if(!n.patchRoutesOnNavigation)return{type:"success",matches:ee};let Re=ee;for(;;){let Ge=l==null,Fe=l||o,je=r;try{await n.patchRoutesOnNavigation({signal:fe,path:ae,matches:Re,fetcherKey:Ne,patch:(tt,it)=>{fe.aborted||aL(tt,it,Fe,je,a,!1)}})}catch(tt){return{type:"error",error:tt,partialMatches:Re}}finally{Ge&&!fe.aborted&&(o=[...o])}if(fe.aborted)return{type:"aborted"};let Ue=El(Fe,ae,u),Xe=null;if(Ue){if(Object.keys(Ue[0].params).length===0)return{type:"success",matches:Ue};if(Xe=um(Fe,ae,u,!0),!(Xe&&Re.length<Xe.length&&ei(Re,Xe.slice(0,Re.length))))return{type:"success",matches:Ue}}if(Xe||(Xe=um(Fe,ae,u,!0)),!Xe||ei(Re,Xe))return{type:"success",matches:null};Re=Xe}}function ei(ee,ae){return ee.length===ae.length&&ee.every((fe,Ne)=>fe.route.id===ae[Ne].route.id)}function en(ee){r={},l=tp(ee,a,void 0,r)}function ti(ee,ae,fe=!1){let Ne=l==null;aL(ee,ae,l||o,r,a,fe),Ne&&(o=[...o],ke({}))}return L={get basename(){return u},get future(){return m},get state(){return M},get routes(){return o},get window(){return e},initialize:re,subscribe:Le,enableScrollRestoration:Xs,navigate:_t,fetch:Je,revalidate:Ft,createHref:ee=>n.history.createHref(ee),encodeLocation:ee=>n.history.encodeLocation(ee),getFetcher:hn,resetFetcher:ce,deleteFetcher:Nt,dispose:de,getBlocker:Ya,deleteBlocker:Gs,patchRoutes:ti,_internalFetchControllers:V,_internalSetRoutes:en,_internalSetStateDoNotUseOrYouWillBreakYourApp(ee){ke(ee)}},n.unstable_instrumentations&&(L=Jz(L,n.unstable_instrumentations.map(ee=>ee.router).filter(Boolean))),L}function dq(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function PS(n,e,t,i,s,a){let r,o;if(s){r=[];for(let u of e)if(r.push(u),u.route.id===s){o=u;break}}else r=e,o=e[e.length-1];let l=Mb(i||".",Nb(r),Hs(n.pathname,t)||n.pathname,a==="path");if(i==null&&(l.search=n.search,l.hash=n.hash),(i==null||i===""||i===".")&&o){let u=Bk(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let h=new URLSearchParams(l.search),m=h.getAll("index");h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();l.search=g?`?${g}`:""}}return t!=="/"&&(l.pathname=Gz({basename:t,pathname:l.pathname})),Gr(l)}function iL(n,e,t){if(!t||!dq(t))return{path:e};if(t.formMethod&&!Oq(t.formMethod))return{path:e,error:La(405,{method:t.formMethod})};let i=()=>({path:e,error:La(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),r=aD(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Xi(a))return i();let m=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[_,b])=>`${g}${_}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:r,formEncType:t.formEncType,formData:void 0,json:void 0,text:m}}}else if(t.formEncType==="application/json"){if(!Xi(a))return i();try{let m=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:r,formEncType:t.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Et(typeof FormData=="function","FormData is not available in this environment");let o,l;if(t.formData)o=jS(t.formData),l=t.formData;else if(t.body instanceof FormData)o=jS(t.body),l=t.body;else if(t.body instanceof URLSearchParams)o=t.body,l=uL(o);else if(t.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(t.body),l=uL(o)}catch{return i()}let u={formMethod:a,formAction:r,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Xi(u.formMethod))return{path:e,submission:u};let h=Zr(e);return n&&h.search&&Bk(h.search)&&o.append("index",""),h.search=`?${o}`,{path:Gr(h),submission:u}}function sL(n,e,t,i,s,a,r,o,l,u,h,m,g,_,b,x,v,C,k,N,O){let T=N?aa(N[1])?N[1].error:N[1].data:void 0,L=s.createURL(a.location),M=s.createURL(l),P;if(h&&a.errors){let Y=Object.keys(a.errors)[0];P=r.findIndex(I=>I.route.id===Y)}else if(N&&aa(N[1])){let Y=N[0];P=r.findIndex(I=>I.route.id===Y)-1}let R=N?N[1].statusCode:void 0,D=R&&R>=400,U={currentUrl:L,currentParams:a.matches[0]?.params||{},nextUrl:M,nextParams:r[0].params,...o,actionResult:T,actionStatus:R},F=Bp(r),H=r.map((Y,I)=>{let{route:K}=Y,V=null;if(P!=null&&I>P?V=!1:K.lazy?V=!0:Fk(K)?h?V=RS(K,a.loaderData,a.errors):hq(a.loaderData,a.matches[I],Y)&&(V=!0):V=!1,V!==null)return ES(t,i,n,F,Y,u,e,V);let $=!1;typeof O=="boolean"?$=O:D?$=!1:(m||L.pathname+L.search===M.pathname+M.search||L.search!==M.search||fq(a.matches[I],Y))&&($=!0);let W={...U,defaultShouldRevalidate:$},j=Tm(Y,W);return ES(t,i,n,F,Y,u,e,j,W,O)}),Z=[];return b.forEach((Y,I)=>{if(h||!r.some(te=>te.route.id===Y.routeId)||_.has(I))return;let K=a.fetchers.get(I),V=K&&K.state!=="idle"&&K.data===void 0,$=El(v,Y.path,C);if(!$){if(k&&V)return;Z.push({key:I,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(x.has(I))return;let W=G0($,Y.path),j=new AbortController,B=Ad(s,Y.path,j.signal),X=null;if(g.has(I))g.delete(I),X=zd(t,i,B,$,W,u,e);else if(V)m&&(X=zd(t,i,B,$,W,u,e));else{let te;typeof O=="boolean"?te=O:D?te=!1:te=m;let Q={...U,defaultShouldRevalidate:te};Tm(W,Q)&&(X=zd(t,i,B,$,W,u,e,Q))}X&&Z.push({key:I,routeId:Y.routeId,path:Y.path,matches:X,match:W,request:B,controller:j})}),{dsMatches:H,revalidatingFetchers:Z}}function Fk(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function RS(n,e,t){if(n.lazy)return!0;if(!Fk(n))return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function hq(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function fq(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Tm(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function aL(n,e,t,i,s,a){let r;if(n){let u=i[n];Et(u,`No route found to patch children into: routeId = ${n}`),u.children||(u.children=[]),r=u.children}else r=t;let o=[],l=[];if(e.forEach(u=>{let h=r.find(m=>eD(u,m));h?l.push({existingRoute:h,newRoute:u}):o.push(u)}),o.length>0){let u=tp(o,s,[n||"_","patch",String(r?.length||"0")],i);r.push(...u)}if(a&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:h,newRoute:m}=l[u],g=h,[_]=tp([m],s,[],{},!0);Object.assign(g,{element:_.element?_.element:g.element,errorElement:_.errorElement?_.errorElement:g.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:g.hydrateFallbackElement})}}function eD(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>eD(t,s))):!1}var rL=new WeakMap,tD=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(Et(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let r=rL.get(s);r||(r={},rL.set(s,r));let o=r[n];if(o)return o;let l=(async()=>{let u=Oz(n),m=s[n]!==void 0&&n!=="hasErrorBoundary";if(u)Hn(!u,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),r[n]=Promise.resolve();else if(m)Hn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let g=await a();g!=null&&(Object.assign(s,{[n]:g}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(g=>g===void 0)&&(s.lazy=void 0))})();return r[n]=l,l},oL=new WeakMap;function mq(n,e,t,i,s){let a=t[n.id];if(Et(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let h=oL.get(a);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let m=(async()=>{Et(typeof n.lazy=="function","No lazy route function found");let g=await n.lazy(),_={};for(let b in g){let x=g[b];if(x===void 0)continue;let v=Pz(b),k=a[b]!==void 0&&b!=="hasErrorBoundary";v?Hn(!v,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?Hn(!k,`Route "${a.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):_[b]=x}Object.assign(a,_),Object.assign(a,{...i(a),lazy:void 0})})();return oL.set(a,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let r=Object.keys(n.lazy),o=[],l;for(let h of r){if(s&&s.includes(h))continue;let m=tD({key:h,route:n,manifest:t,mapRouteProperties:i});m&&(o.push(m),h===e&&(l=m))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function lL(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function pq(n){return n.matches.some(e=>e.route.middleware)?nD(n,()=>lL(n)):lL(n)}function nD(n,e){return gq(n,e,i=>{if(Mq(i))throw i;return i},Cq,t);function t(i,s,a){if(a)return Promise.resolve(Object.assign(a.value,{[s]:{type:"error",result:i}}));{let{matches:r}=n,o=Math.min(Math.max(r.findIndex(u=>u.route.id===s),0),Math.max(r.findIndex(u=>u.shouldCallHandler()),0)),l=jl(r,r[o].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:i}})}}}async function gq(n,e,t,i,s){let{matches:a,request:r,params:o,context:l,unstable_pattern:u}=n,h=a.flatMap(g=>g.route.middleware?g.route.middleware.map(_=>[g.route.id,_]):[]);return await iD({request:r,params:o,context:l,unstable_pattern:u},h,e,t,i,s)}async function iD(n,e,t,i,s,a,r=0){let{request:o}=n;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let l=e[r];if(!l)return await t();let[u,h]=l,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await iD(n,e,t,i,s,a,r+1)},m.value}catch(_){return m={value:await a(_,u,m)},m.value}};try{let _=await h(n,g),b=_!=null?i(_):void 0;return s(b)?b:m?b??m.value:(m={value:await g()},m.value)}catch(_){return await a(_,u,m)}}function sD(n,e,t,i,s){let a=tD({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),r=mq(i.route,Xi(t.method)?"action":"loader",e,n,s);return{middleware:a,route:r.lazyRoutePromise,handler:r.lazyHandlerPromise}}function ES(n,e,t,i,s,a,r,o,l=null,u){let h=!1,m=sD(n,e,t,s,a);return{...s,_lazyPromises:m,shouldLoad:o,shouldRevalidateArgs:l,shouldCallHandler(g){return h=!0,l?typeof u=="boolean"?Tm(s,{...l,defaultShouldRevalidate:u}):typeof g=="boolean"?Tm(s,{...l,defaultShouldRevalidate:g}):Tm(s,l):o},resolve(g){let{lazy:_,loader:b,middleware:x}=s.route,v=h||o||g&&!Xi(t.method)&&(_||b),C=x&&x.length>0&&!b&&!_;return v&&(Xi(t.method)||!C)?yq({request:t,unstable_pattern:i,match:s,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:r}):Promise.resolve({type:"data",result:void 0})}}}function zd(n,e,t,i,s,a,r,o=null){return i.map(l=>l.route.id!==s.route.id?{...l,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:sD(n,e,t,l,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ES(n,e,t,Bp(i),l,a,r,!0,o))}async function _q(n,e,t,i,s,a){t.some(u=>u._lazyPromises?.middleware)&&await Promise.all(t.map(u=>u._lazyPromises?.middleware));let r={request:e,unstable_pattern:Bp(t),params:t[0].params,context:s,matches:t},l=await n({...r,fetcherKey:i,runClientMiddleware:u=>{let h=r;return nD(h,()=>u({...h,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function yq({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:a,scopedContext:r}){let o,l,u=Xi(n.method),h=u?"action":"loader",m=g=>{let _,b=new Promise((C,k)=>_=k);l=()=>_(),n.signal.addEventListener("abort",l);let x=C=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${t.route.id}]`)):g({request:n,unstable_pattern:e,params:t.params,context:r},...C!==void 0?[C]:[]),v=(async()=>{try{return{type:"data",result:await(a?a(k=>x(k)):x())}}catch(C){return{type:"error",result:C}}})();return Promise.race([v,b])};try{let g=u?t.route.action:t.route.loader;if(i||s)if(g){let _,[b]=await Promise.all([m(g).catch(x=>{_=x}),i,s]);if(_!==void 0)throw _;o=b}else{await i;let _=u?t.route.action:t.route.loader;if(_)[o]=await Promise.all([m(_),s]);else if(h==="action"){let b=new URL(n.url),x=b.pathname+b.search;throw La(405,{method:n.method,pathname:x,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(g)o=await m(g);else{let _=new URL(n.url),b=_.pathname+_.search;throw La(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{l&&n.signal.removeEventListener("abort",l)}return o}async function bq(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function xq(n){let{result:e,type:t}=n;if(Uk(e)){let i;try{i=await bq(e)}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new Up(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?mL(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:kq(e),statusCode:np(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:np(e)?e.status:void 0}:mL(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vq(n,e,t,i,s){let a=n.headers.get("Location");if(Et(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tb(a)){let r=i.slice(0,i.findIndex(o=>o.route.id===t)+1);a=PS(new URL(e.url),r,s,a),n.headers.set("Location",a)}return n}function cL(n,e,t,i){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Tb(n)){let a=n,r=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(s.includes(r.protocol))throw new Error("Invalid redirect location");let o=Hs(r.pathname,t)!=null;if(r.origin===e.origin&&o)return r.pathname+r.search+r.hash}try{let a=i.createURL(n);if(s.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return n}function Ad(n,e,t,i){let s=n.createURL(aD(e)).toString(),a={signal:t};if(i&&Xi(i.formMethod)){let{formMethod:r,formEncType:o}=i;a.method=r.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(i.json)):o==="text/plain"?a.body=i.text:o==="application/x-www-form-urlencoded"&&i.formData?a.body=jS(i.formData):a.body=i.formData}return new Request(s,a)}function jS(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function uL(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Sq(n,e,t,i=!1,s=!1){let a={},r=null,o,l=!1,u={},h=t&&aa(t[1])?t[1].error:void 0;return n.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,_=e[g];if(Et(!Xc(_),"Cannot handle redirect results in processLoaderData"),aa(_)){let b=_.error;if(h!==void 0&&(b=h,h=void 0),r=r||{},s)r[g]=b;else{let x=jl(n,g);r[x.route.id]==null&&(r[x.route.id]=b)}i||(a[g]=J4),l||(l=!0,o=np(_.error)?_.error.status:500),_.headers&&(u[g]=_.headers)}else a[g]=_.data,_.statusCode&&_.statusCode!==200&&!l&&(o=_.statusCode),_.headers&&(u[g]=_.headers)}),h!==void 0&&t&&(r={[t[0]]:h},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:r,statusCode:o||200,loaderHeaders:u}}function dL(n,e,t,i,s,a){let{loaderData:r,errors:o}=Sq(e,t,i);return s.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:h,controller:m}=l;if(m&&m.signal.aborted)return;let g=a[u];if(Et(g,"Did not find corresponding fetcher result"),aa(g)){let _=jl(n.matches,h?.route.id);o&&o[_.route.id]||(o={...o,[_.route.id]:g.error}),n.fetchers.delete(u)}else if(Xc(g))Et(!1,"Unhandled fetcher revalidation redirect");else{let _=Oo(g.data);n.fetchers.set(u,_)}}),{loaderData:r,errors:o}}function hL(n,e,t,i){let s=Object.entries(e).filter(([,a])=>a!==J4).reduce((a,[r,o])=>(a[r]=o,a),{});for(let a of t){let r=a.route.id;if(!e.hasOwnProperty(r)&&n.hasOwnProperty(r)&&a.route.loader&&(s[r]=n[r]),i&&i.hasOwnProperty(r))break}return s}function fL(n){return n?aa(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function jl(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function L_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function La(n,{pathname:e,routeId:t,method:i,type:s,message:a}={}){let r="Unknown Server Error",o="Unknown @remix-run/router error";return n===400?(r="Bad Request",i&&e&&t?o=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):n===403?(r="Forbidden",o=`Route "${t}" does not match URL "${e}"`):n===404?(r="Not Found",o=`No route matches URL "${e}"`):n===405&&(r="Method Not Allowed",i&&e&&t?o=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(o=`Invalid request method "${i.toUpperCase()}"`)),new Up(n||500,r,new Error(o),!0)}function P_(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Xc(s))return{key:i,result:s}}}function aD(n){let e=typeof n=="string"?Zr(n):n;return Gr({...e,hash:""})}function wq(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function kq(n){return new Up(n.init?.status??500,n.init?.statusText??"Internal Server Error",n.data)}function Cq(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&Aq(t))}function Aq(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function Tq(n){return Uk(n.result)&&Y4.has(n.result.status)}function aa(n){return n.type==="error"}function Xc(n){return(n&&n.type)==="redirect"}function mL(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Uk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Nq(n){return Y4.has(n)}function Mq(n){return Uk(n)&&Nq(n.status)&&n.headers.has("Location")}function Oq(n){return rq.has(n.toUpperCase())}function Xi(n){return sq.has(n.toUpperCase())}function Bk(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function G0(n,e){let t=typeof e=="string"?Zr(e).search:e.search;if(n[n.length-1].route.index&&Bk(t||""))return n[n.length-1];let i=W4(n);return i[i.length-1]}function pL(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:a,json:r}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(r!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:r,text:void 0}}}function H1(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Lq(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ef(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Pq(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Oo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Rq(n,e){try{let t=n.sessionStorage.getItem(Z4);if(t){let i=JSON.parse(t);for(let[s,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function Eq(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(Z4,JSON.stringify(t))}catch(i){Hn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function gL(){let n,e,t=new Promise((i,s)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Tu=w.createContext(null);Tu.displayName="DataRouter";var Ip=w.createContext(null);Ip.displayName="DataRouterState";var rD=w.createContext(!1);function jq(){return w.useContext(rD)}var Ik=w.createContext({isTransitioning:!1});Ik.displayName="ViewTransition";var oD=w.createContext(new Map);oD.displayName="Fetchers";var Dq=w.createContext(null);Dq.displayName="Await";var ga=w.createContext(null);ga.displayName="Navigation";var zp=w.createContext(null);zp.displayName="Location";var Ga=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var zk=w.createContext(null);zk.displayName="RouteError";var lD="REACT_ROUTER_ERROR",Fq="REDIRECT",Uq="ROUTE_ERROR_RESPONSE";function Bq(n){if(n.startsWith(`${lD}:${Fq}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Iq(n){if(n.startsWith(`${lD}:${Uq}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Up(e.status,e.statusText,e.data)}catch{}}function zq(n,{relative:e}={}){Et(Mh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(ga),{hash:s,pathname:a,search:r}=Kp(n,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:Hr([t,a])),i.createHref({pathname:o,search:r,hash:s})}function Mh(){return w.useContext(zp)!=null}function $n(){return Et(Mh(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(zp).location}var cD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uD(n){w.useContext(ga).static||w.useLayoutEffect(n)}function Ri(){let{isDataRoute:n}=w.useContext(Ga);return n?tK():qq()}function qq(){Et(Mh(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Tu),{basename:e,navigator:t}=w.useContext(ga),{matches:i}=w.useContext(Ga),{pathname:s}=$n(),a=JSON.stringify(Nb(i)),r=w.useRef(!1);return uD(()=>{r.current=!0}),w.useCallback((l,u={})=>{if(Hn(r.current,cD),!r.current)return;if(typeof l=="number"){t.go(l);return}let h=Mb(l,JSON.parse(a),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hr([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,a,s,n])}var dD=w.createContext(null);function Ob(){return w.useContext(dD)}function Kq(n){let e=w.useContext(Ga).outlet;return w.useMemo(()=>e&&w.createElement(dD.Provider,{value:n},e),[e,n])}function qp(){let{matches:n}=w.useContext(Ga),e=n[n.length-1];return e?e.params:{}}function Kp(n,{relative:e}={}){let{matches:t}=w.useContext(Ga),{pathname:i}=$n(),s=JSON.stringify(Nb(t));return w.useMemo(()=>Mb(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function Hq(n,e){return hD(n,e)}function hD(n,e,t,i,s){Et(Mh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ga),{matches:r}=w.useContext(Ga),o=r[r.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let k=m&&m.path||"";gD(u,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=$n(),_;if(e){let k=typeof e=="string"?Zr(e):e;Et(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),_=k}else _=g;let b=_.pathname||"/",x=b;if(h!=="/"){let k=h.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=El(n,{pathname:x});Hn(m||v!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Hn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=$q(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Hr([h,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Hr([h,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),r,t,i,s);return e&&C?w.createElement(zp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function Vq(){let n=Zq(),e=np(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",n),r=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,r)}var Wq=w.createElement(Vq,null),fD=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Iq(n.digest);t&&(n=t)}let e=n!==void 0?w.createElement(Ga.Provider,{value:this.props.routeContext},w.createElement(zk.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?w.createElement(Gq,{error:n},e):e}};fD.contextType=rD;var V1=new WeakMap;function Gq({children:n,error:e}){let{basename:t}=w.useContext(ga);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Bq(e.digest);if(i){let s=V1.get(e);if(s)throw s;let a=X4(i.location,t);if(G4&&!V1.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw V1.set(e,r),r}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function Xq({routeContext:n,match:e,children:t}){let i=w.useContext(Tu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ga.Provider,{value:n},t)}function $q(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,r=t?.errors;if(r!=null){let h=a.findIndex(m=>m.route.id&&r?.[m.route.id]!==void 0);Et(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,l=-1;if(t)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(l=h),m.route.id){let{loaderData:g,errors:_}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||b){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=t&&i?(h,m)=>{i(h,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Bp(t.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,g)=>{let _,b=!1,x=null,v=null;t&&(_=r&&m.route.id?r[m.route.id]:void 0,x=m.route.errorElement||Wq,o&&(l<0&&g===0?(gD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,v=null):l===g&&(b=!0,v=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),k=()=>{let N;return _?N=x:b?N=v:m.route.Component?N=w.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,w.createElement(Xq,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:N})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(fD,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:u}):k()},null)}function qk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(n){let e=w.useContext(Tu);return Et(e,qk(n)),e}function pD(n){let e=w.useContext(Ip);return Et(e,qk(n)),e}function Qq(n){let e=w.useContext(Ga);return Et(e,qk(n)),e}function Kk(n){let e=Qq(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Yq(){return Kk("useRouteId")}function Zq(){let n=w.useContext(zk),e=pD("useRouteError"),t=Kk("useRouteError");return n!==void 0?n:e.errors?.[t]}var Jq=0;function eK(n){let{router:e,basename:t}=mD("useBlocker"),i=pD("useBlocker"),[s,a]=w.useState(""),r=w.useCallback(o=>{if(typeof n!="function")return!!n;if(t==="/")return n(o);let{currentLocation:l,nextLocation:u,historyAction:h}=o;return n({currentLocation:{...l,pathname:Hs(l.pathname,t)||l.pathname},nextLocation:{...u,pathname:Hs(u.pathname,t)||u.pathname},historyAction:h})},[t,n]);return w.useEffect(()=>{let o=String(++Jq);return a(o),()=>e.deleteBlocker(o)},[e]),w.useEffect(()=>{s!==""&&e.getBlocker(s,r)},[e,s,r]),s&&i.blockers.has(s)?i.blockers.get(s):Cd}function tK(){let{router:n}=mD("useNavigate"),e=Kk("useNavigate"),t=w.useRef(!1);return uD(()=>{t.current=!0}),w.useCallback(async(s,a={})=>{Hn(t.current,cD),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var _L={};function gD(n,e,t){!e&&!_L[n]&&(_L[n]=!0,Hn(!1,t))}var yL={};function bL(n,e){!n&&!yL[e]&&(yL[e]=!0,console.warn(e))}var nK="useOptimistic",xL=_z[nK],iK=()=>{};function sK(n){return xL?xL(n):[n,iK]}function aK(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:w.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var rK=["HydrateFallback","hydrateFallbackElement"],oK=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function lK({router:n,flushSync:e,onError:t,unstable_useTransitions:i}){i=jq()||i;let[a,r]=w.useState(n.state),[o,l]=sK(a),[u,h]=w.useState(),[m,g]=w.useState({isTransitioning:!1}),[_,b]=w.useState(),[x,v]=w.useState(),[C,k]=w.useState(),N=w.useRef(new Map),O=w.useCallback((P,{deletedFetchers:R,newErrors:D,flushSync:U,viewTransitionOpts:F})=>{D&&t&&Object.values(D).forEach(Z=>t(Z,{location:P.location,params:P.matches[0]?.params??{},unstable_pattern:Bp(P.matches)})),P.fetchers.forEach((Z,Y)=>{Z.data!==void 0&&N.current.set(Y,Z.data)}),R.forEach(Z=>N.current.delete(Z)),bL(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let H=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(bL(F==null||H,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!H){e&&U?e(()=>r(P)):i===!1?r(P):w.startTransition(()=>{i===!0&&l(Z=>vL(Z,P)),r(P)});return}if(e&&U){e(()=>{x&&(_?.resolve(),x.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let Z=n.window.document.startViewTransition(()=>{e(()=>r(P))});Z.finished.finally(()=>{e(()=>{b(void 0),v(void 0),h(void 0),g({isTransitioning:!1})})}),e(()=>v(Z));return}x?(_?.resolve(),x.skipTransition(),k({state:P,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(h(P),g({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,e,x,_,i,l,t]);w.useLayoutEffect(()=>n.subscribe(O),[n,O]),w.useEffect(()=>{m.isTransitioning&&!m.flushSync&&b(new oK)},[m]),w.useEffect(()=>{if(_&&u&&n.window){let P=u,R=_.promise,D=n.window.document.startViewTransition(async()=>{i===!1?r(P):w.startTransition(()=>{i===!0&&l(U=>vL(U,P)),r(P)}),await R});D.finished.finally(()=>{b(void 0),v(void 0),h(void 0),g({isTransitioning:!1})}),v(D)}},[u,_,n.window,i,l]),w.useEffect(()=>{_&&u&&o.location.key===u.location.key&&_.resolve()},[_,x,o.location,u]),w.useEffect(()=>{!m.isTransitioning&&C&&(h(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),k(void 0))},[m.isTransitioning,C]);let T=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,R,D)=>n.navigate(P,{state:R,preventScrollReset:D?.preventScrollReset}),replace:(P,R,D)=>n.navigate(P,{replace:!0,state:R,preventScrollReset:D?.preventScrollReset})}),[n]),L=n.basename||"/",M=w.useMemo(()=>({router:n,navigator:T,static:!1,basename:L,onError:t}),[n,T,L,t]);return w.createElement(w.Fragment,null,w.createElement(Tu.Provider,{value:M},w.createElement(Ip.Provider,{value:o},w.createElement(oD.Provider,{value:N.current},w.createElement(Ik.Provider,{value:m},w.createElement(dK,{basename:L,location:o.location,navigationType:o.historyAction,navigator:T,unstable_useTransitions:i},w.createElement(cK,{routes:n.routes,future:n.future,state:o,onError:t})))))),null)}function vL(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var cK=w.memo(uK);function uK({routes:n,future:e,state:t,onError:i}){return hD(n,void 0,t,i,e)}function Nm({to:n,replace:e,state:t,relative:i}){Et(Mh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(ga);Hn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Ga),{pathname:r}=$n(),o=Ri(),l=Mb(n,Nb(a),r,i==="path"),u=JSON.stringify(l);return w.useEffect(()=>{o(JSON.parse(u),{replace:e,state:t,relative:i})},[o,u,i,e,t]),null}function Hk(n){return Kq(n.context)}function dK({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){Et(!Mh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[o,s,a,r]);typeof t=="string"&&(t=Zr(t));let{pathname:u="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,b=w.useMemo(()=>{let x=Hs(u,o);return x==null?null:{location:{pathname:x,search:h,hash:m,state:g,key:_},navigationType:i}},[o,u,h,m,g,_,i]);return Hn(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(ga.Provider,{value:l},w.createElement(zp.Provider,{children:e,value:b}))}var X0="get",$0="application/x-www-form-urlencoded";function Lb(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function hK(n){return Lb(n)&&n.tagName.toLowerCase()==="button"}function fK(n){return Lb(n)&&n.tagName.toLowerCase()==="form"}function mK(n){return Lb(n)&&n.tagName.toLowerCase()==="input"}function pK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gK(n,e){return n.button===0&&(!e||e==="_self")&&!pK(n)}function DS(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function _K(n,e){let t=DS(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}var R_=null;function yK(){if(R_===null)try{new FormData(document.createElement("form"),0),R_=!1}catch{R_=!0}return R_}var bK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function W1(n){return n!=null&&!bK.has(n)?(Hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$0}"`),null):n}function xK(n,e){let t,i,s,a,r;if(fK(n)){let o=n.getAttribute("action");i=o?Hs(o,e):null,t=n.getAttribute("method")||X0,s=W1(n.getAttribute("enctype"))||$0,a=new FormData(n)}else if(hK(n)||mK(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Hs(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||X0,s=W1(n.getAttribute("formenctype"))||W1(o.getAttribute("enctype"))||$0,a=new FormData(o,n),!yK()){let{name:u,type:h,value:m}=n;if(h==="image"){let g=u?`${u}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else u&&a.append(u,m)}}else{if(Lb(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=X0,i=null,s=$0,r=n}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vk(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vK(n,e,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Hs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function SK(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wK(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kK(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await SK(a,t);return r.links?r.links():[]}return[]}));return NK(i.flat(1).filter(wK).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function SL(n,e,t,i,s,a){let r=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return a==="assets"?e.filter((l,u)=>r(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(r(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function CK(n,e,{includeHydrateFallback:t}={}){return AK(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function AK(n){return[...new Set(n)]}function TK(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function NK(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(TK(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function _D(){let n=w.useContext(Tu);return Vk(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MK(){let n=w.useContext(Ip);return Vk(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wk=w.createContext(void 0);Wk.displayName="FrameworkContext";function yD(){let n=w.useContext(Wk);return Vk(n,"You must render this element inside a <HydratedRouter> element"),n}function OK(n,e){let t=w.useContext(Wk),[i,s]=w.useState(!1),[a,r]=w.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=e,g=w.useRef(null);w.useEffect(()=>{if(n==="render"&&r(!0),n==="viewport"){let x=C=>{C.forEach(k=>{r(k.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return g.current&&v.observe(g.current),()=>{v.disconnect()}}},[n]),w.useEffect(()=>{if(i){let x=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(x)}}},[i]);let _=()=>{s(!0)},b=()=>{s(!1),r(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:jf(o,_),onBlur:jf(l,b),onMouseEnter:jf(u,_),onMouseLeave:jf(h,b),onTouchStart:jf(m,_)}]:[!1,g,{}]}function jf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LK({page:n,...e}){let{router:t}=_D(),i=w.useMemo(()=>El(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(RK,{page:n,matches:i,...e}):null}function PK(n){let{manifest:e,routeModules:t}=yD(),[i,s]=w.useState([]);return w.useEffect(()=>{let a=!1;return kK(n,e,t).then(r=>{a||s(r)}),()=>{a=!0}},[n,e,t]),i}function RK({page:n,matches:e,...t}){let i=$n(),{future:s,manifest:a,routeModules:r}=yD(),{basename:o}=_D(),{loaderData:l,matches:u}=MK(),h=w.useMemo(()=>SL(n,e,u,a,i,"data"),[n,e,u,a,i]),m=w.useMemo(()=>SL(n,e,u,a,i,"assets"),[n,e,u,a,i]),g=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,v=!1;if(e.forEach(k=>{let N=a.routes[k.route.id];!N||!N.hasLoader||(!h.some(O=>O.route.id===k.route.id)&&k.route.id in l&&r[k.route.id]?.shouldRevalidate||N.hasClientLoader?v=!0:x.add(k.route.id))}),x.size===0)return[];let C=vK(n,o,s.unstable_trailingSlashAwareDataRequests,"data");return v&&x.size>0&&C.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[o,s.unstable_trailingSlashAwareDataRequests,l,i,a,h,e,n,r]),_=w.useMemo(()=>CK(m,a),[m,a]),b=PK(m);return w.createElement(w.Fragment,null,g.map(x=>w.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),_.map(x=>w.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:v})=>w.createElement("link",{key:x,nonce:t.nonce,...v})))}function EK(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jK&&(window.__reactRouterVersion="7.12.0")}catch{}function DK(n,e){return uq({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Az({window:e?.window}),hydrationData:FK(),routes:n,mapRouteProperties:aK,hydrationRouteProperties:rK,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function FK(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:UK(n.errors)}),n}function UK(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Up(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let r=new a(s.message);r.stack="",t[i]=r}catch{}}if(t[i]==null){let a=new Error(s.message);a.stack="",t[i]=a}}else t[i]=s;return t}var bD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ky=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:o,target:l,to:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g,..._},b){let{basename:x,unstable_useTransitions:v}=w.useContext(ga),C=typeof u=="string"&&bD.test(u),k=X4(u,x);u=k.to;let N=zq(u,{relative:s}),[O,T,L]=OK(i,_),M=zK(u,{replace:r,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:v});function P(D){e&&e(D),D.defaultPrevented||M(D)}let R=w.createElement("a",{..._,...L,href:k.absoluteURL||N,onClick:k.isExternal||a?e:P,ref:EK(b,T),target:l,"data-discover":!C&&t==="render"?"true":void 0});return O&&!C?w.createElement(w.Fragment,null,R,w.createElement(LK,{page:N})):R});ky.displayName="Link";var xD=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:o,children:l,...u},h){let m=Kp(r,{relative:u.relative}),g=$n(),_=w.useContext(Ip),{navigator:b,basename:x}=w.useContext(ga),v=_!=null&&WK(m)&&o===!0,C=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=g.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(k=k.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&x&&(N=Hs(N,x)||N);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=k===C||!s&&k.startsWith(C)&&k.charAt(O)==="/",L=N!=null&&(N===C||!s&&N.startsWith(C)&&N.charAt(C.length)==="/"),M={isActive:T,isPending:L,isTransitioning:v},P=T?e:void 0,R;typeof i=="function"?R=i(M):R=[i,T?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(M):a;return w.createElement(ky,{...u,"aria-current":P,className:R,ref:h,style:D,to:r,viewTransition:o},typeof l=="function"?l(M):l)});xD.displayName="NavLink";var BK=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:r=X0,action:o,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g,..._},b)=>{let{unstable_useTransitions:x}=w.useContext(ga),v=HK(),C=VK(o,{relative:u}),k=r.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&bD.test(o),O=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let L=T.nativeEvent.submitter,M=L?.getAttribute("formmethod")||r,P=()=>v(L||T.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g});x&&t!==!1?w.startTransition(()=>P()):P()};return w.createElement("form",{ref:b,method:k,action:C,onSubmit:i?l:O,..._,"data-discover":!N&&n==="render"?"true":void 0})});BK.displayName="Form";function IK(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vD(n){let e=w.useContext(Tu);return Et(e,IK(n)),e}function zK(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Ri(),h=$n(),m=Kp(n,{relative:a});return w.useCallback(g=>{if(gK(g,e)){g.preventDefault();let _=t!==void 0?t:Gr(h)===Gr(m),b=()=>u(n,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:o});l?w.startTransition(()=>b()):b()}},[h,u,m,t,i,e,n,s,a,r,o,l])}function SD(n){Hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(DS(n)),t=w.useRef(!1),i=$n(),s=w.useMemo(()=>_K(i.search,t.current?null:e.current),[i.search]),a=Ri(),r=w.useCallback((o,l)=>{const u=DS(typeof o=="function"?o(new URLSearchParams(s)):o);t.current=!0,a("?"+u,l)},[a,s]);return[s,r]}var qK=0,KK=()=>`__${String(++qK)}__`;function HK(){let{router:n}=vD("useSubmit"),{basename:e}=w.useContext(ga),t=Yq(),i=n.fetch,s=n.navigate;return w.useCallback(async(a,r={})=>{let{action:o,method:l,encType:u,formData:h,body:m}=xK(a,e);if(r.navigate===!1){let g=r.fetcherKey||KK();await i(g,t,r.action||o,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:m,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await s(r.action||o,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:m,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,t])}function VK(n,{relative:e}={}){let{basename:t}=w.useContext(ga),i=w.useContext(Ga);Et(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Kp(n||".",{relative:e})},r=$n();if(n==null){a.search=r.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Hr([t,a.pathname])),Gr(a)}function WK(n,{relative:e}={}){let t=w.useContext(Ik);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vD("useViewTransitionState"),s=Kp(n,{relative:e});if(!t.isTransitioning)return!1;let a=Hs(t.currentLocation.pathname,i)||t.currentLocation.pathname,r=Hs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return wy(s.pathname,r)!=null||wy(s.pathname,a)!=null}var Nu=I4();function GK(n){return w.createElement(lK,{flushSync:Nu.flushSync,...n})}const xt=n=>typeof n=="string",Df=()=>{let n,e;const t=new Promise((i,s)=>{n=i,e=s});return t.resolve=n,t.reject=e,t},wL=n=>n==null?"":""+n,XK=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},$K=/###/g,kL=n=>n&&n.indexOf("###")>-1?n.replace($K,"."):n,CL=n=>!n||xt(n),Mm=(n,e,t)=>{const i=xt(e)?e.split("."):e;let s=0;for(;s<i.length-1;){if(CL(n))return{};const a=kL(i[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return CL(n)?{}:{obj:n,k:kL(i[s])}},AL=(n,e,t)=>{const{obj:i,k:s}=Mm(n,e,Object);if(i!==void 0||e.length===1){i[s]=t;return}let a=e[e.length-1],r=e.slice(0,e.length-1),o=Mm(n,r,Object);for(;o.obj===void 0&&r.length;)a=`${r[r.length-1]}.${a}`,r=r.slice(0,r.length-1),o=Mm(n,r,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=t},QK=(n,e,t,i)=>{const{obj:s,k:a}=Mm(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Cy=(n,e)=>{const{obj:t,k:i}=Mm(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},YK=(n,e,t)=>{const i=Cy(n,t);return i!==void 0?i:Cy(e,t)},wD=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?xt(n[i])||n[i]instanceof String||xt(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):wD(n[i],e[i],t):n[i]=e[i]);return n},pd=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ZK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JK=n=>xt(n)?n.replace(/[&<>"'\/]/g,e=>ZK[e]):n;class eH{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const tH=[" ",",","?","!",";"],nH=new eH(20),iH=(n,e,t)=>{e=e||"",t=t||"";const i=tH.filter(r=>e.indexOf(r)<0&&t.indexOf(r)<0);if(i.length===0)return!0;const s=nH.getRegExp(`(${i.map(r=>r==="?"?"\\?":r).join("|")})`);let a=!s.test(n);if(!a){const r=n.indexOf(t);r>0&&!s.test(n.substring(0,r))&&(a=!0)}return a},FS=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let s=n;for(let a=0;a<i.length;){if(!s||typeof s!="object")return;let r,o="";for(let l=a;l<i.length;++l)if(l!==a&&(o+=t),o+=i[l],r=s[o],r!==void 0){if(["string","number","boolean"].indexOf(typeof r)>-1&&l<i.length-1)continue;a+=l-a+1;break}s=r}return s},ip=n=>n?.replace("_","-"),sH={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class Ay{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||sH,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,s){return s&&!this.debug?null:(xt(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ay(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ay(this.logger,e)}}var Ur=new Ay;class Pb{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(t)||0;this.observers[i].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let r=0;r<a;r++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let r=0;r<a;r++)s.apply(s,[e,...t])})}}class TL extends Pb{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,s={}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,r=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):xt(i)&&a?o.push(...i.split(a)):o.push(i)));const l=Cy(this.data,o);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),l||!r||!xt(i)?l:FS(this.data?.[e]?.[t],i,a)}addResource(e,t,i,s,a={silent:!1}){const r=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(o=e.split("."),s=t,t=o[1]),this.addNamespaces(t),AL(this.data,o,s),a.silent||this.emit("added",e,t,i,s)}addResources(e,t,i,s={silent:!1}){for(const a in i)(xt(i[a])||Array.isArray(i[a]))&&this.addResource(e,t,a,i[a],{silent:!0});s.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,s,a,r={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),s=i,i=t,t=o[1]),this.addNamespaces(t);let l=Cy(this.data,o)||{};r.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?wD(l,i,a):l={...l,...i},AL(this.data,o,l),r.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var kD={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,s){return n.forEach(a=>{e=this.processors[a]?.process(e,t,i,s)??e}),e}};const CD=Symbol("i18next/PATH_KEY");function aH(){const n=[],e=Object.create(null);let t;return e.get=(i,s)=>(t?.revoke?.(),s===CD?n:(n.push(s),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ty(n,e){const{[CD]:t}=n(aH());return t.join(e?.keySeparator??".")}const NL={},G1=n=>!xt(n)&&typeof n!="boolean"&&typeof n!="number";class Ny extends Pb{constructor(e,t={}){super(),XK(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ur.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const s=this.resolve(e,i);if(s?.res===void 0)return!1;const a=G1(s.res);return!(i.returnObjects===!1&&a)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const r=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!iH(e,i,s);if(r&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:xt(a)?[a]:a};const u=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(s)}return{key:e,namespaces:xt(a)?[a]:a}}translate(e,t,i){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Ty(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return g?a?{res:`${u}${h}${o}`,usedKey:o,exactUsedKey:o,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${h}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:o;const _=this.resolve(e,s);let b=_?.res;const x=_?.usedKey||o,v=_?.exactUsedKey||o,C=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,O=s.count!==void 0&&!xt(s.count),T=Ny.hasDefaultValue(s),L=O?this.pluralResolver.getSuffix(m,s.count,s):"",M=s.ordinal&&O?this.pluralResolver.getSuffix(m,s.count,{ordinal:!1}):"",P=O&&!s.ordinal&&s.count===0,R=P&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${L}`]||s[`defaultValue${M}`]||s.defaultValue;let D=b;N&&!b&&T&&(D=R);const U=G1(D),F=Object.prototype.toString.apply(D);if(N&&D&&U&&C.indexOf(F)<0&&!(xt(k)&&Array.isArray(D))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,D,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(_.res=H,_.usedParams=this.getUsedParamsDetails(s),_):H}if(r){const H=Array.isArray(D),Z=H?[]:{},Y=H?v:x;for(const I in D)if(Object.prototype.hasOwnProperty.call(D,I)){const K=`${Y}${r}${I}`;T&&!b?Z[I]=this.translate(K,{...s,defaultValue:G1(R)?R[I]:void 0,joinArrays:!1,ns:l}):Z[I]=this.translate(K,{...s,joinArrays:!1,ns:l}),Z[I]===K&&(Z[I]=D[I])}b=Z}}else if(N&&xt(k)&&Array.isArray(b))b=b.join(k),b&&(b=this.extendTranslation(b,e,s,i));else{let H=!1,Z=!1;!this.isValidLookup(b)&&T&&(H=!0,b=R),this.isValidLookup(b)||(Z=!0,b=o);const I=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:b,K=T&&R!==b&&this.options.updateMissing;if(Z||H||K){if(this.logger.log(K?"updateKey":"missingKey",m,u,o,K?R:b),r){const j=this.resolve(o,{...s,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let j=0;j<$.length;j++)V.push($[j]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(s.lng||this.language):V.push(s.lng||this.language);const W=(j,B,X)=>{const te=T&&X!==b?X:I;this.options.missingKeyHandler?this.options.missingKeyHandler(j,u,B,te,K,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(j,u,B,te,K,s),this.emit("missingKey",j,u,B,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?V.forEach(j=>{const B=this.pluralResolver.getSuffixes(j,s);P&&s[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(X=>{W([j],o+X,s[`defaultValue${X}`]||R)})}):W(V,o,R))}b=this.extendTranslation(b,e,s,_,i),Z&&b===o&&this.options.appendNamespaceToMissingKey&&(b=`${u}${h}${o}`),(Z||H)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${o}`:o,H?b:void 0,s))}return a?(_.res=b,_.usedParams=this.getUsedParamsDetails(s),_):b}extendTranslation(e,t,i,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const l=xt(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const m=e.match(this.interpolator.nestingRegexp);u=m&&m.length}let h=i.replace&&!xt(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||s.usedLng,i),l){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;u<g&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>a?.[0]===m[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):this.translate(...m,t),i)),i.interpolation&&this.interpolator.reset()}const r=i.postProcess||this.options.postProcess,o=xt(r)?[r]:r;return e!=null&&o?.length&&i.applyPostProcessor!==!1&&(e=kD.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,s,a,r,o;return xt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(l,t),h=u.key;s=h;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const g=t.count!==void 0&&!xt(t.count),_=g&&!t.ordinal&&t.count===0,b=t.context!==void 0&&(xt(t.context)||typeof t.context=="number")&&t.context!=="",x=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(v=>{this.isValidLookup(i)||(o=v,!NL[`${x[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(NL[`${x[0]}-${v}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(C=>{if(this.isValidLookup(i))return;r=C;const k=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,h,C,v,t);else{let O;g&&(O=this.pluralResolver.getSuffix(C,t.count,t));const T=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(t.ordinal&&O.indexOf(L)===0&&k.push(h+O.replace(L,this.options.pluralSeparator)),k.push(h+O),_&&k.push(h+T)),b){const M=`${h}${this.options.contextSeparator||"_"}${t.context}`;k.push(M),g&&(t.ordinal&&O.indexOf(L)===0&&k.push(M+O.replace(L,this.options.pluralSeparator)),k.push(M+O),_&&k.push(M+T))}}let N;for(;N=k.pop();)this.isValidLookup(i)||(a=N,i=this.getResource(C,v,N,t))}))})}),{res:i,usedKey:s,exactUsedKey:a,usedLng:r,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,s):this.resourceStore.getResource(e,t,i,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!xt(e.replace);let s=i?e.replace:e;if(i&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class ML{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ur.create("languageUtils")}getScriptPartFromCode(e){if(e=ip(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=ip(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(xt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return t=s;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(r=>{if(r===a)return r;if(!(r.indexOf("-")<0&&a.indexOf("-")<0)&&(r.indexOf("-")>0&&a.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===a||r.indexOf(a)===0&&a.length>1))return r})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),xt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],a=r=>{r&&(this.isSupportedCode(r)?s.push(r):this.logger.warn(`rejecting language code not found in supportedLngs: ${r}`))};return xt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):xt(e)&&a(this.formatLanguageCode(e)),i.forEach(r=>{s.indexOf(r)<0&&a(this.formatLanguageCode(r))}),s}}const OL={zero:0,one:1,two:2,few:3,many:4,other:5},LL={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rH{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Ur.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=ip(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let r;try{r=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),LL;if(!e.match(/-|_/))return LL;const l=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(l,t)}return this.pluralRulesCache[a]=r,r}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((s,a)=>OL[s]-OL[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,i={}){const s=this.getRule(e,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const PL=(n,e,t,i=".",s=!0)=>{let a=YK(n,e,t);return!a&&s&&xt(t)&&(a=FS(n,t,i),a===void 0&&(a=FS(e,t,i))),a},X1=n=>n.replace(/\$/g,"$$$$");class RL{constructor(e={}){this.logger=Ur.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:s,prefix:a,prefixEscaped:r,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:g,nestingPrefixEscaped:_,nestingSuffix:b,nestingSuffixEscaped:x,nestingOptionsSeparator:v,maxReplaces:C,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:JK,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?pd(a):r||"{{",this.suffix=o?pd(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?pd(g):_||pd("$t("),this.nestingSuffix=b?pd(b):x||pd(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=C||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,s){let a,r,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=_=>{if(_.indexOf(this.formatSeparator)<0){const C=PL(t,l,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,i,{...s,...t,interpolationkey:_}):C}const b=_.split(this.formatSeparator),x=b.shift().trim(),v=b.join(this.formatSeparator).trim();return this.format(PL(t,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),v,i,{...s,...t,interpolationkey:x})};this.resetRegExp();const h=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>X1(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?X1(this.escape(_)):X1(_)}].forEach(_=>{for(o=0;a=_.regex.exec(e);){const b=a[1].trim();if(r=u(b),r===void 0)if(typeof h=="function"){const v=h(e,a,s);r=xt(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))r="";else if(m){r=a[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),r="";else!xt(r)&&!this.useRawValueToEscape&&(r=wL(r));const x=_.safeValue(r);if(e=e.replace(a[0],x),m?(_.regex.lastIndex+=r.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let s,a,r;const o=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const m=l.split(new RegExp(`${h}[ ]*{`));let g=`{${m[1]}`;l=m[0],g=this.interpolate(g,r);const _=g.match(/'/g),b=g.match(/"/g);((_?.length??0)%2===0&&!b||b.length%2!==0)&&(g=g.replace(/'/g,'"'));try{r=JSON.parse(g),u&&(r={...u,...r})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${h}${g}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];r={...i},r=r.replace&&!xt(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),a=t(o.call(this,s[1].trim(),r),r),a&&s[0]===e&&!xt(a))return a;xt(a)||(a=wL(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((h,m)=>this.format(h,m,i.lng,{...i,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const oH=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(r=>{if(r){const[o,...l]=r.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();t[h]||(t[h]=u),u==="false"&&(t[h]=!1),u==="true"&&(t[h]=!0),isNaN(u)||(t[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},EL=n=>{const e={};return(t,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const r=i+JSON.stringify(a);let o=e[r];return o||(o=n(ip(i),s),e[r]=o),o(t)}},lH=n=>(e,t,i)=>n(ip(t),i)(e);class cH{constructor(e={}){this.logger=Ur.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?EL:lH;this.formats={number:i((s,a)=>{const r=new Intl.NumberFormat(s,{...a});return o=>r.format(o)}),currency:i((s,a)=>{const r=new Intl.NumberFormat(s,{...a,style:"currency"});return o=>r.format(o)}),datetime:i((s,a)=>{const r=new Intl.DateTimeFormat(s,{...a});return o=>r.format(o)}),relativetime:i((s,a)=>{const r=new Intl.RelativeTimeFormat(s,{...a});return o=>r.format(o,a.range||"day")}),list:i((s,a)=>{const r=new Intl.ListFormat(s,{...a});return o=>r.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=EL(t)}format(e,t,i,s={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{const{formatName:u,formatOptions:h}=oH(l);if(this.formats[u]){let m=o;try{const g=s?.formatParams?.[s.interpolationkey]||{},_=g.locale||g.lng||s.locale||s.lng||i;m=this.formats[u](o,_,{...h,...s,...g})}catch(g){this.logger.warn(g)}return m}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const uH=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class dH extends Pb{constructor(e,t,i,s={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Ur.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(e,t,i,s){const a={},r={},o={},l={};return e.forEach(u=>{let h=!0;t.forEach(m=>{const g=`${u}|${m}`;!i.reload&&this.store.hasResourceBundle(u,m)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?r[g]===void 0&&(r[g]=!0):(this.state[g]=1,h=!1,r[g]===void 0&&(r[g]=!0),a[g]===void 0&&(a[g]=!0),l[m]===void 0&&(l[m]=!0)))}),h||(o[u]=!0)}),(Object.keys(a).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(r),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const s=e.split("|"),a=s[0],r=s[1];t&&this.emit("failedLoading",a,r,t),!t&&i&&this.store.addResourceBundle(a,r,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(l=>{QK(l.loaded,[a],r),uH(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const h=l.loaded[u];h.length&&h.forEach(m=>{o[u][m]===void 0&&(o[u][m]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i,s=0,a=this.retryTimeout,r){if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:s,wait:a,callback:r});return}this.readingCalls++;const o=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,s+1,a*2,r)},a);return}r(u,h)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(h=>o(null,h)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();xt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),xt(t)&&(t=[t]);const a=this.queueLoad(e,t,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(r=>{this.loadOne(r)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,(r,o)=>{r&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,r),!r&&o&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,o),this.loaded(e,r,o)})}saveMissing(e,t,i,s,a,r={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const l={...r,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(e,t,i,s,l):h=u(e,t,i,s),h&&typeof h.then=="function"?h.then(m=>o(null,m)).catch(o):o(null,h)}catch(h){o(h)}else u(e,t,i,s,o,l)}!e||!e[0]||this.store.addResource(e[0],t,i,s)}}}const jL=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),xt(n[1])&&(e.defaultValue=n[1]),xt(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),DL=n=>(xt(n.ns)&&(n.ns=[n.ns]),xt(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),xt(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),E_=()=>{},hH=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Om extends Pb{constructor(e={},t){if(super(),this.options=DL(e),this.services={},this.logger=Ur,this.modules={external:[]},hH(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(xt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=jL();this.options={...i,...this.options,...DL(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Ur.init(s(this.modules.logger),this.options):Ur.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=cH;const h=new ML(this.options);this.store=new TL(this.options.resources,this.options);const m=this.services;m.logger=Ur,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new rH(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(m.formatter=s(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new RL(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new dH(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(_,...b)=>{this.emit(_,...b)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Ny(this.services,this.options),this.translator.on("*",(_,...b)=>{this.emit(_,...b)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,t||(t=E_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const o=Df(),l=()=>{const u=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(m),t(h,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,t=E_){let i=t;const s=xt(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],r=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};s?r(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>r(l)),this.options.preload?.forEach?.(o=>r(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,t,i){const s=Df();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=E_),this.services.backendConnector.reload(e,t,a=>{s.resolve(),i(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&kD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=Df();this.emit("languageChanging",e);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},r=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=xt(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(xt(o)?[o]:o);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,h=>{a(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?r(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e),i}getFixedT(e,t,i){const s=(a,r,...o)=>{let l;typeof r!="object"?l=this.options.overloadTranslationOptionHandler([a,r].concat(o)):l={...r},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||s.keyPrefix);const u=this.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(a)?h=a.map(m=>(typeof m=="function"&&(m=Ty(m,{...this.options,...r})),`${l.keyPrefix}${u}${m}`)):(typeof a=="function"&&(a=Ty(a,{...this.options,...r})),h=l.keyPrefix?`${l.keyPrefix}${u}${a}`:a),this.t(h,l)};return xt(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const r=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,r);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||r(i,e)&&(!s||r(a,e)))}loadNamespaces(e,t){const i=Df();return this.options.ns?(xt(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),t&&t(s)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Df();xt(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(r=>s.indexOf(r)<0&&this.services.languageUtils.isSupportedCode(r));return a.length?(this.options.preload=s.concat(a),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new ML(jL());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new Om(e,t);return i.createInstance=Om.createInstance,i}cloneInstance(e={},t=E_){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new Om(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((h,m)=>(h[m]={...l[u][m]},h),l[u]),l),{});a.store=new TL(o,s),a.services.resourceStore=a.store}return e.interpolation&&(a.services.interpolator=new RL(s)),a.translator=new Ny(a.services,s),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ki=Om.createInstance();Ki.createInstance;Ki.dir;Ki.init;Ki.loadResources;Ki.reloadResources;Ki.use;Ki.changeLanguage;Ki.getFixedT;Ki.t;Ki.exists;Ki.setDefaultNamespace;Ki.hasLoadedNamespace;Ki.loadNamespaces;Ki.loadLanguages;var $1,FL;function fH(){return FL||(FL=1,$1={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),$1}var mH=fH();const pH=B4(mH);var gH=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function UL(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(pH[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var i=n.indexOf("-->");return{type:"comment",comment:i!==-1?n.slice(4,i):""}}for(var s=new RegExp(gH),a=null;(a=s.exec(n))!==null;)if(a[0].trim())if(a[1]){var r=a[1].trim(),o=[r,""];r.indexOf("=")>-1&&(o=r.split("=")),e.attrs[o[0]]=o[1],s.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var _H=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,yH=/^\s*$/,bH=Object.create(null);function AD(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?(function(t){var i=[];for(var s in t)i.push(s+'="'+t[s]+'"');return i.length?" "+i.join(" "):""})(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(AD,"")+"</"+e.name+">";case"comment":return n+"\x3C!--"+e.comment+"-->"}}var xH={parse:function(n,e){e||(e={}),e.components||(e.components=bH);var t,i=[],s=[],a=-1,r=!1;if(n.indexOf("<")!==0){var o=n.indexOf("<");i.push({type:"text",content:o===-1?n:n.substring(0,o)})}return n.replace(_H,function(l,u){if(r){if(l!=="</"+t.name+">")return;r=!1}var h,m=l.charAt(1)!=="/",g=l.startsWith("\x3C!--"),_=u+l.length,b=n.charAt(_);if(g){var x=UL(l);return a<0?(i.push(x),i):((h=s[a]).children.push(x),i)}if(m&&(a++,(t=UL(l)).type==="tag"&&e.components[t.name]&&(t.type="component",r=!0),t.voidElement||r||!b||b==="<"||t.children.push({type:"text",content:n.slice(_,n.indexOf("<",_))}),a===0&&i.push(t),(h=s[a-1])&&h.children.push(t),s[a]=t),(!m||t.voidElement)&&(a>-1&&(t.voidElement||t.name===l.slice(2,-1))&&(a--,t=a===-1?i:s[a]),!r&&b!=="<"&&b)){h=a===-1?i:s[a].children;var v=n.indexOf("<",_),C=n.slice(_,v===-1?void 0:v);yH.test(C)&&(C=" "),(v>-1&&a+h.length>=0||C!==" ")&&h.push({type:"text",content:C})}}),i},stringify:function(n){return n.reduce(function(e,t){return e+AD("",t)},"")}};const Q0=(n,e,t,i)=>{const s=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);fa(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...s):console?.warn&&console.warn(...s)},BL={},Rb=(n,e,t,i)=>{fa(t)&&BL[t]||(fa(t)&&(BL[t]=new Date),Q0(n,e,t,i))},TD=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},US=(n,e,t)=>{n.loadNamespaces(e,TD(n,t))},IL=(n,e,t,i)=>{if(fa(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return US(n,t,i);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,TD(n,i))},vH=(n,e,t={})=>!e.languages||!e.languages.length?(Rb(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,n))return!1}}),fa=n=>typeof n=="string",qo=n=>typeof n=="object"&&n!==null,SH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,wH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},kH=n=>wH[n],CH=n=>n.replace(SH,kH);let BS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:CH};const AH=(n={})=>{BS={...BS,...n}},ND=()=>BS;let MD;const TH=n=>{MD=n},Gk=()=>MD,Y0=(n,e)=>{if(!n)return!1;const t=n.props?.children??n.children;return e?t.length>0:!!t},Z0=n=>{if(!n)return[];const e=n.props?.children??n.children;return n.props?.i18nIsDynamicList?$c(e):e},NH=n=>Array.isArray(n)&&n.every(w.isValidElement),$c=n=>Array.isArray(n)?n:[n],MH=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},OH=n=>{const e={};if(!n)return e;const t=i=>{$c(i).forEach(a=>{fa(a)||(Y0(a)?t(Z0(a)):qo(a)&&!w.isValidElement(a)&&Object.assign(e,a))})};return t(n),e},OD=(n,e,t,i)=>{if(!n)return"";let s="";const a=$c(n),r=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((o,l)=>{if(fa(o)){s+=`${o}`;return}if(w.isValidElement(o)){const{props:u,type:h}=o,m=Object.keys(u).length,g=r.indexOf(h)>-1,_=u.children;if(!_&&g&&!m){s+=`<${h}/>`;return}if(!_&&(!g||m)||u.i18nIsDynamicList){s+=`<${l}></${l}>`;return}if(g&&m===1&&fa(_)){s+=`<${h}>${_}</${h}>`;return}const b=OD(_,e,t,i);s+=`<${l}>${b}</${l}>`;return}if(o===null){Q0(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(qo(o)){const{format:u,...h}=o,m=Object.keys(h);if(m.length===1){const g=u?`${m[0]}, ${u}`:m[0];s+=`{{${g}}}`;return}Q0(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:o});return}Q0(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:o})}),s},LH=(n,e=[],t={})=>{if(!n)return n;const i=Object.keys(t),s=[...e,...i];let a="",r=0;for(;r<n.length;)if(n[r]==="<"){let o=!1;const l=n.slice(r).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(l){const u=l[1];(/^\d+$/.test(u)||s.includes(u))&&(o=!0,a+=l[0],r+=l[0].length)}if(!o){const u=n.slice(r).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(u){const h=u[1];(/^\d+$/.test(h)||s.includes(h))&&(o=!0,a+=u[0],r+=u[0].length)}}o||(a+="&lt;",r+=1)}else a+=n[r],r+=1;return a},PH=(n,e,t,i,s,a,r)=>{if(t==="")return[];const o=s.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(o.map(k=>`<${k}`).join("|")).test(t);if(!n&&!e&&!l&&!r)return[t];const u=e??{},h=k=>{$c(k).forEach(O=>{fa(O)||(Y0(O)?h(Z0(O)):qo(O)&&!w.isValidElement(O)&&Object.assign(u,O))})};h(n);const m=LH(t,o,u),g=xH.parse(`<0>${m}</0>`),_={...u,...a},b=(k,N,O)=>{const T=Z0(k),L=v(T,N.children,O);return NH(T)&&L.length===0||k.props?.i18nIsDynamicList?T:L},x=(k,N,O,T,L)=>{k.dummy?(k.children=N,O.push(w.cloneElement(k,{key:T},L?void 0:N))):O.push(...w.Children.map([k],M=>{const P="data-i18n-is-dynamic-list",R={key:T,[P]:void 0};return M&&M.props&&Object.keys(M.props).forEach(D=>{D==="ref"||D==="children"||D==="i18nIsDynamicList"||D===P||(R[D]=M.props[D])}),w.cloneElement(M,R,L?null:N)}))},v=(k,N,O)=>{const T=$c(k);return $c(N).reduce((M,P,R)=>{const D=P.children?.[0]?.content&&i.services.interpolator.interpolate(P.children[0].content,_,i.language);if(P.type==="tag"){let U=T[parseInt(P.name,10)];!U&&e&&(U=e[P.name]),O.length===1&&!U&&(U=O[0][P.name]),U||(U={});const F=Object.keys(P.attrs).length!==0?MH({props:P.attrs},U):U,H=w.isValidElement(F),Z=H&&Y0(P,!0)&&!P.voidElement,Y=l&&qo(F)&&F.dummy&&!H,I=qo(e)&&Object.hasOwnProperty.call(e,P.name);if(fa(F)){const K=i.services.interpolator.interpolate(F,_,i.language);M.push(K)}else if(Y0(F)||Z){const K=b(F,P,O);x(F,K,M,R)}else if(Y){const K=v(T,P.children,O);x(F,K,M,R)}else if(Number.isNaN(parseFloat(P.name)))if(I){const K=b(F,P,O);x(F,K,M,R,P.voidElement)}else if(s.transSupportBasicHtmlNodes&&o.indexOf(P.name)>-1)if(P.voidElement)M.push(w.createElement(P.name,{key:`${P.name}-${R}`}));else{const K=v(T,P.children,O);M.push(w.createElement(P.name,{key:`${P.name}-${R}`},K))}else if(P.voidElement)M.push(`<${P.name} />`);else{const K=v(T,P.children,O);M.push(`<${P.name}>${K}</${P.name}>`)}else if(qo(F)&&!H){const K=P.children[0]?D:null;K&&M.push(K)}else x(F,D,M,R,P.children.length!==1||!D)}else if(P.type==="text"){const U=s.transWrapTextNodes,F=r?s.unescape(i.services.interpolator.interpolate(P.content,_,i.language)):i.services.interpolator.interpolate(P.content,_,i.language);U?M.push(w.createElement(U,{key:`${P.name}-${R}`},F)):M.push(F)}return M},[])},C=v([{dummy:!0,children:n||[]}],g,$c(n||[]));return Z0(C[0])},LD=(n,e,t)=>{const i=n.key||e,s=w.cloneElement(n,{key:i});if(!s.props||!s.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return s;function a(){return w.createElement(w.Fragment,null,s)}return w.createElement(a,{key:i})},RH=(n,e)=>n.map((t,i)=>LD(t,i,e)),EH=(n,e)=>{const t={};return Object.keys(n).forEach(i=>{Object.assign(t,{[i]:LD(n[i],i,e)})}),t},jH=(n,e,t,i)=>n?Array.isArray(n)?RH(n,e):qo(n)?EH(n,e):(Rb(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null,DH=n=>!qo(n)||Array.isArray(n)?!1:Object.keys(n).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0);function FH({children:n,count:e,parent:t,i18nKey:i,context:s,tOptions:a={},values:r,defaults:o,components:l,ns:u,i18n:h,t:m,shouldUnescape:g,..._}){const b=h||Gk();if(!b)return Rb(b,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),n;const x=m||b.t.bind(b)||(Y=>Y),v={...ND(),...b.options?.react};let C=u||x.ns||b.options?.defaultNS;C=fa(C)?[C]:C||["translation"];const k=OD(n,v,b,i),N=o||a?.defaultValue||k||v.transEmptyNodeValue||(typeof i=="function"?Ty(i):i),{hashTransKey:O}=v,T=i||(O?O(k||N):k||N);b.options?.interpolation?.defaultVariables&&(r=r&&Object.keys(r).length>0?{...r,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const L=OH(n);L&&typeof L.count=="number"&&e===void 0&&(e=L.count);const M=r||e!==void 0&&!b.options?.interpolation?.alwaysFormat||!n?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},P={...a,context:s||a.context,count:e,...r,...M,defaultValue:N,ns:C};let R=T?x(T,P):N;R===T&&N&&(R=N);const D=jH(l,R,b,i);let U=D||n,F=null;DH(D)&&(F=D,U=n);const H=PH(U,F,R,b,v,P,g),Z=t??v.defaultTransParent;return Z?w.createElement(Z,_,H):H}const UH={type:"3rdParty",init(n){AH(n.options.react),TH(n)}},PD=w.createContext();class BH{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function zL({children:n,count:e,parent:t,i18nKey:i,context:s,tOptions:a={},values:r,defaults:o,components:l,ns:u,i18n:h,t:m,shouldUnescape:g,..._}){const{i18n:b,defaultNS:x}=w.useContext(PD)||{},v=h||b||Gk(),C=m||v?.t.bind(v);return FH({children:n,count:e,parent:t,i18nKey:i,context:s,tOptions:a,values:r,defaults:o,components:l,ns:u||C?.ns||x||v?.options?.defaultNS,i18n:v,t:m,shouldUnescape:g,..._})}var Q1={exports:{}},Y1={};var qL;function IH(){if(qL)return Y1;qL=1;var n=Ab();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,a=n.useLayoutEffect,r=n.useDebugValue;function o(m,g){var _=g(),b=i({inst:{value:_,getSnapshot:g}}),x=b[0].inst,v=b[1];return a(function(){x.value=_,x.getSnapshot=g,l(x)&&v({inst:x})},[m,_,g]),s(function(){return l(x)&&v({inst:x}),m(function(){l(x)&&v({inst:x})})},[m]),r(_),_}function l(m){var g=m.getSnapshot;m=m.value;try{var _=g();return!t(m,_)}catch{return!0}}function u(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return Y1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Y1}var KL;function zH(){return KL||(KL=1,Q1.exports=IH()),Q1.exports}var qH=zH();const KH=(n,e)=>fa(e)?e:qo(e)&&fa(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,HH={t:KH,ready:!1},VH=()=>()=>{},Ze=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:s}=w.useContext(PD)||{},a=t||i||Gk();a&&!a.reportNamespaces&&(a.reportNamespaces=new BH),a||Rb(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const r=w.useMemo(()=>({...ND(),...a?.options?.react,...e}),[a,e]),{useSuspense:o,keyPrefix:l}=r,u=s||a?.options?.defaultNS,h=fa(u)?[u]:u||["translation"],m=w.useMemo(()=>h,h);a?.reportNamespaces?.addUsedNamespaces?.(m);const g=w.useRef(0),_=w.useCallback(R=>{if(!a)return VH;const{bindI18n:D,bindI18nStore:U}=r,F=()=>{g.current+=1,R()};return D&&a.on(D,F),U&&a.store.on(U,F),()=>{D&&D.split(" ").forEach(H=>a.off(H,F)),U&&U.split(" ").forEach(H=>a.store.off(H,F))}},[a,r]),b=w.useRef(),x=w.useCallback(()=>{if(!a)return HH;const R=!!(a.isInitialized||a.initializedStoreOnce)&&m.every(Y=>vH(Y,a,r)),D=e.lng||a.language,U=g.current,F=b.current;if(F&&F.ready===R&&F.lng===D&&F.keyPrefix===l&&F.revision===U)return F;const Z={t:a.getFixedT(D,r.nsMode==="fallback"?m:m[0],l),ready:R,lng:D,keyPrefix:l,revision:U};return b.current=Z,Z},[a,m,l,r,e.lng]),[v,C]=w.useState(0),{t:k,ready:N}=qH.useSyncExternalStore(_,x,x);w.useEffect(()=>{if(a&&!N&&!o){const R=()=>C(D=>D+1);e.lng?IL(a,e.lng,m,R):US(a,m,R)}},[a,e.lng,m,N,o,v]);const O=a||{},T=w.useRef(null),L=w.useRef(),M=R=>{const D=Object.getOwnPropertyDescriptors(R);D.__original&&delete D.__original;const U=Object.create(Object.getPrototypeOf(R),D);if(!Object.prototype.hasOwnProperty.call(U,"__original"))try{Object.defineProperty(U,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return U},P=w.useMemo(()=>{const R=O,D=R?.language;let U=R;R&&(T.current&&T.current.__original===R?L.current!==D?(U=M(R),T.current=U,L.current=D):U=T.current:(U=M(R),T.current=U,L.current=D));const F=[k,U,N];return F.t=k,F.i18n=U,F.ready=N,F},[k,O,N,O.resolvedLanguage,O.language,O.languages]);if(a&&o&&!N)throw new Promise(R=>{const D=()=>R();e.lng?IL(a,e.lng,m,D):US(a,m,D)});return P};function he({children:n,variant:e="primary",size:t="md",fullWidth:i=!1,loading:s=!1,className:a="",disabled:r,...o}){const l=n!=null&&n!==!1,u=["btn",`btn-${e}`,t==="sm"?"btn-sm":"",i?"btn-full":"",a].filter(Boolean).join(" ");return f.jsxs("button",{className:u,disabled:r||s,...o,children:[s&&f.jsx("span",{className:"loading-spinner","aria-hidden":"true"}),l&&f.jsx("span",{children:n})]})}function st({label:n,hint:e,error:t,rightElement:i,className:s="",...a}){return f.jsxs("div",{className:"form-group",children:[n&&f.jsx("label",{children:n}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("input",{className:`input ${s}`.trim(),...a}),i&&f.jsx("div",{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"},children:i})]}),e&&f.jsx("div",{className:"hint",children:e}),t&&f.jsx("div",{className:"error-box",children:t})]})}const dn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false"};function WH({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"}),f.jsx("path",{d:"m21 2-9.6 9.6"}),f.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"})]})}function Xk({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M12 8V4H8"}),f.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),f.jsx("path",{d:"M2 14h2"}),f.jsx("path",{d:"M20 14h2"}),f.jsx("path",{d:"M15 13v2"}),f.jsx("path",{d:"M9 13v2"})]})}function RD({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),f.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),f.jsx("path",{d:"M10 9H8"}),f.jsx("path",{d:"M16 13H8"}),f.jsx("path",{d:"M16 17H8"})]})}function GH({size:n=20,...e}){return f.jsx("svg",{...dn,width:n,height:n,...e,children:f.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"})})}function XH({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}),f.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})}function $H({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function QH({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M15 12h-5"}),f.jsx("path",{d:"M15 8h-5"}),f.jsx("path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}),f.jsx("path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"})]})}function Eb({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 16v-4"}),f.jsx("path",{d:"M12 8h.01"})]})}function $k({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),f.jsx("path",{d:"M21 3v5h-5"})]})}function ED({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M12 15V3"}),f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("path",{d:"m7 10 5 5 5-5"})]})}function jb({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),f.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})}function jD({size:n=20,...e}){return f.jsx("svg",{...dn,width:n,height:n,...e,children:f.jsx("path",{d:"m18 15-6-6-6 6"})})}function Qk({size:n=20,...e}){return f.jsx("svg",{...dn,width:n,height:n,...e,children:f.jsx("path",{d:"m6 9 6 6 6-6"})})}function YH({size:n=20,...e}){return f.jsx("svg",{...dn,width:n,height:n,...e,children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}function DD({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"m21 21-4.34-4.34"}),f.jsx("circle",{cx:"11",cy:"11",r:"8"})]})}function Mu({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}function Yk({size:n=20,...e}){return f.jsx("svg",{...dn,width:n,height:n,...e,children:f.jsx("path",{d:"M20 6 9 17l-5-5"})})}function ZH({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function FD({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}),f.jsx("path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}),f.jsx("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}),f.jsx("path",{d:"m2 2 20 20"})]})}function JH({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),f.jsx("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]})}function UD({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"m13.5 6.5-3.148-3.148a1.205 1.205 0 0 0-1.704 0L6.352 5.648a1.205 1.205 0 0 0 0 1.704L9.5 10.5"}),f.jsx("path",{d:"M16.5 7.5 19 5"}),f.jsx("path",{d:"m17.5 10.5 3.148 3.148a1.205 1.205 0 0 1 0 1.704l-2.296 2.296a1.205 1.205 0 0 1-1.704 0L13.5 14.5"}),f.jsx("path",{d:"M9 21a6 6 0 0 0-6-6"}),f.jsx("path",{d:"M9.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l4.296-4.296a1.205 1.205 0 0 0 0-1.704l-2.296-2.296a1.205 1.205 0 0 0-1.704 0z"})]})}function eV({size:n=20,...e}){return f.jsx("svg",{...dn,width:n,height:n,...e,children:f.jsx("path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z"})})}function Zk({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("line",{x1:"10",x2:"14",y1:"2",y2:"2"}),f.jsx("line",{x1:"12",x2:"15",y1:"14",y2:"11"}),f.jsx("circle",{cx:"12",cy:"14",r:"8"})]})}function tV({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M16 7h6v6"}),f.jsx("path",{d:"m22 7-8.5 8.5-5-5L2 17"})]})}function nV({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function iV({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}),f.jsx("path",{d:"M9 18c-4.51 2-5-2-7-2"})]})}function Z1({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M15 3h6v6"}),f.jsx("path",{d:"M10 14 21 3"}),f.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"})]})}function sV({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("path",{d:"M12 7v14"}),f.jsx("path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]})}function Jk({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("polyline",{points:"16 18 22 12 16 6"}),f.jsx("polyline",{points:"8 6 2 12 8 18"})]})}function aV({size:n=20,...e}){return f.jsxs("svg",{...dn,width:n,height:n,...e,children:[f.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),f.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),f.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),f.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]})}const HL=n=>{let e;const t=new Set,i=(u,h)=>{const m=typeof u=="function"?u(e):u;if(!Object.is(m,e)){const g=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(_=>_(e,g))}},s=()=>e,o={setState:i,getState:s,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,s,o);return o},rV=(n=>n?HL(n):HL),oV=n=>n;function lV(n,e=oV){const t=zo.useSyncExternalStore(n.subscribe,zo.useCallback(()=>e(n.getState()),[n,e]),zo.useCallback(()=>e(n.getInitialState()),[n,e]));return zo.useDebugValue(t),t}const VL=n=>{const e=rV(n),t=i=>lV(e,i);return Object.assign(t,e),t},Jr=(n=>n?VL(n):VL);function eC(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const cV=n=>n,BD=30*1e3,uV=8317,IS="/v0/management",WL=30*1e3,dV=["x-cpa-version","x-server-version"],hV=["x-cpa-build-date","x-server-build-date"],j_=60*1e3,My=10*1024*1024,ID="cli-proxy-auth",fV="cli-proxy-theme",zD="cli-proxy-language",qd=cV(["zh-CN","en","ru"]),qD={"zh-CN":"language.chinese",en:"language.english",ru:"language.russian"},mV=qd,pV=3e3,un=Jr(n=>({notifications:[],confirmation:{isOpen:!1,isLoading:!1,options:null},showNotification:(e,t="info",i=pV)=>{const s=eC(),a={id:s,message:e,type:t,duration:i};n(r=>({notifications:[...r.notifications,a]})),i>0&&setTimeout(()=>{n(r=>({notifications:r.notifications.filter(o=>o.id!==s)}))},i)},removeNotification:e=>{n(t=>({notifications:t.notifications.filter(i=>i.id!==e)}))},clearAll:()=>{n({notifications:[]})},showConfirmation:e=>{n({confirmation:{isOpen:!0,isLoading:!1,options:e}})},hideConfirmation:()=>{n(e=>({confirmation:{...e.confirmation,isOpen:!1,options:null}}))},setConfirmationLoading:e=>{n(t=>({confirmation:{...t.confirmation,isLoading:e}}))}}));function KD(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var a;const r=l=>l===null?null:JSON.parse(l,void 0),o=(a=t.getItem(s))!=null?a:null;return o instanceof Promise?o.then(r):r(o)},setItem:(s,a)=>t.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>t.removeItem(s)}}const zS=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return zS(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return zS(i)(t)}}}},gV=(n,e)=>(t,i,s)=>{let a={storage:KD(()=>localStorage),partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},r=!1;const o=new Set,l=new Set;let u=a.storage;if(!u)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...x)},i,s);const h=()=>{const x=a.partialize({...i()});return u.setItem(a.name,{state:x,version:a.version})},m=s.setState;s.setState=(x,v)=>(m(x,v),h());const g=n((...x)=>(t(...x),h()),i,s);s.getInitialState=()=>g;let _;const b=()=>{var x,v;if(!u)return;r=!1,o.forEach(k=>{var N;return k((N=i())!=null?N:g)});const C=((v=a.onRehydrateStorage)==null?void 0:v.call(a,(x=i())!=null?x:g))||void 0;return zS(u.getItem.bind(u))(a.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==a.version){if(a.migrate){const N=a.migrate(k.state,k.version);return N instanceof Promise?N.then(O=>[!0,O]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var N;const[O,T]=k;if(_=a.merge(T,(N=i())!=null?N:g),t(_,!0),O)return h()}).then(()=>{C?.(_,void 0),_=i(),r=!0,l.forEach(k=>k(_))}).catch(k=>{C?.(void 0,k)})};return s.persist={setOptions:x=>{a={...a,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>r,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},a.skipHydration||b(),_||g},tC=gV,GL=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",XL=n=>{n==="dark"?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},qa=Jr()(tC((n,e)=>({theme:"auto",resolvedTheme:"light",setTheme:t=>{const i=t==="auto"?GL():t;XL(i),n({theme:t,resolvedTheme:i})},cycleTheme:()=>{const{theme:t,setTheme:i}=e(),s=["light","dark","auto"],a=s.indexOf(t),r=s[(a+1)%s.length];i(r)},initializeTheme:()=>{const{theme:t,setTheme:i}=e();if(i(t),!window.matchMedia)return()=>{};const s=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{const{theme:r}=e();if(r==="auto"){const o=GL();XL(o),n({resolvedTheme:o})}};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)}}),{name:fV})),_V={login:"",logout:"",back:"",cancel:"",confirm:"",leave:"",stay:"",save:"",delete:"",edit:"",add:"",update:"",refresh:"",close:"",success:"",error:"",info:"",warning:"",loading:"...",connecting:"...",connected:"",disconnected:"",connecting_status:"",connected_status:"",disconnected_status:"",yes:"",no:"",not_set:"",optional:"",required:"",api_key:"",base_url:"",prefix:"",proxy_url:"",priority:"",alias:"",failure:"",unknown_error:"",quota_update_required:" CPA ",quota_check_credential:"",copy:"",status:"",action:"",custom_headers_label:"",custom_headers_hint:" HTTP ",custom_headers_add:"",custom_headers_key_placeholder:"Header  X-Custom-Header",custom_headers_value_placeholder:"Header ",model_name_placeholder:" claude-3-5-sonnet-20241022",model_alias_placeholder:" ()",invalid_provider_index:"",unsaved_changes_title:"",unsaved_changes_message:""},yV={main:"CLI Proxy API Management Center",login:"CLI Proxy API Management Center",abbr:"CPAMC"},bV={title:"CLI Proxy API",subtitle:""},xV={title:"...",message:""},vV={subtitle:"",connection_title:"",connection_current:"",connection_auto_hint:"",custom_connection_label:":",custom_connection_placeholder:": https://example.com:8317",custom_connection_hint:"",use_current_address:"",remember_password_label:"",management_key_label:":",management_key_placeholder:"",connect_button:"",submit_button:"",submitting:"...",error_title:"",error_required:"",error_invalid:"",error_network:"",error_timeout:"",error_unauthorized:"",error_forbidden:"",error_not_found:"",error_server:"",error_cors:"",error_ssl:"SSL/TLS "},SV={check_connection:"",refresh_all:"",logout:""},wV={title:"",server_address:":",management_key:":",status:":"},kV={dashboard:"",basic_settings:"",api_keys:"API ",ai_providers:"AI ",auth_files:"",oauth:"OAuth ",quota_management:"",usage_stats:"",config_management:"",logs:"",system_info:""},CV={title:"",subtitle:" CLI Proxy API ",openai_providers:"OpenAI ",quick_actions:"",current_config:"",management_keys:"",provider_keys_detail:"G:{{gemini}} C:{{codex}} Cl:{{claude}} O:{{openai}}",oauth_credentials:"OAuth ",usage_overview:"",total_requests:"",total_tokens:" Token ",rpm_30min:"RPM (30)",tpm_30min:"TPM (30)",models_used:"",no_usage_data:"",view_detailed_usage:"",edit_settings:"",routing_strategy:"",available_models:"",available_models_desc:""},AV={title:"",debug_title:"",debug_enable:"",proxy_title:"",proxy_url_label:" URL:",proxy_url_placeholder:": socks5://user:pass@127.0.0.1:1080/",proxy_update:"",proxy_clear:"",retry_title:"",retry_count_label:":",retry_update:"",quota_title:"",quota_switch_project:"",quota_switch_preview:"",usage_statistics_title:"",usage_statistics_enable:"",logging_title:"",logging_to_file_enable:"",logs_max_total_size_title:"",logs_max_total_size_label:" (MB):",logs_max_total_size_hint:" 0 ",logs_max_total_size_update:"",request_log_title:"",request_log_enable:"",request_log_warning:"",force_model_prefix_enable:"",ws_auth_title:"WebSocket ",ws_auth_enable:" /ws/* ",routing_title:"",routing_strategy_label:":",routing_strategy_hint:"round-robin fill-first ",routing_strategy_update:"",routing_strategy_round_robin:"round-robin ()",routing_strategy_fill_first:"fill-first ()"},TV={title:"API ",proxy_auth_title:"",add_button:"",empty_title:"API",empty_desc:"",item_title:"API",add_modal_title:"API",add_modal_key_label:"API:",add_modal_key_placeholder:"API",edit_modal_title:"API",edit_modal_key_label:"API:",delete_confirm:"API"},NV=JSON.parse('{"title":"AI ","gemini_title":"Gemini API ","gemini_add_button":"","gemini_empty_title":"Gemini","gemini_empty_desc":"","gemini_item_title":"Gemini","gemini_add_modal_title":"Gemini API","gemini_add_modal_key_label":"API","gemini_add_modal_key_placeholder":" Gemini API ","gemini_add_modal_key_hint":" Base URL","gemini_keys_add_btn":"","gemini_base_url_label":"Base URL ()","gemini_base_url_placeholder":": https://generativelanguage.googleapis.com","gemini_add_modal_proxy_label":" URL ():","gemini_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","gemini_models_label":" ():","gemini_models_hint":" name[, alias] ","gemini_models_add_btn":"","gemini_models_fetch_button":" /v1beta/models ","gemini_models_fetch_title":" Gemini /v1beta/models ","gemini_models_fetch_hint":" Gemini API  GET /v1beta/models x-goog-api-key API Key ","gemini_models_fetch_url_label":"","gemini_models_fetch_refresh":"","gemini_models_fetch_loading":" Gemini /v1beta/models ...","gemini_models_fetch_empty":" Base URLAPI Key ","gemini_models_fetch_error":" Gemini ","gemini_models_fetch_apply":"","gemini_models_search_label":"","gemini_models_search_placeholder":"","gemini_models_search_empty":"","gemini_models_fetch_added":" {{count}} ","gemini_models_count":"","gemini_edit_modal_title":"Gemini API","gemini_edit_modal_key_label":"API:","gemini_delete_confirm":"Gemini","excluded_models_label":" ():","excluded_models_placeholder":": gemini-1.5-pro, gemini-1.5-flash","excluded_models_hint":"","excluded_models_count":" {{count}} ","prefix_label":" ():","prefix_placeholder":": team-a","prefix_hint":" prefix/<model> ","priority_label":" ():","priority_hint":"0","config_toggle_label":"","config_disabled_badge":"","codex_title":"Codex API ","codex_add_button":"","codex_empty_title":"Codex","codex_empty_desc":"","codex_item_title":"Codex","codex_add_modal_title":"Codex API","codex_add_modal_key_label":"API:","codex_add_modal_key_placeholder":"Codex API","codex_add_modal_url_label":"Base URL ():","codex_add_modal_url_placeholder":": https://api.example.com","codex_add_modal_proxy_label":" URL ():","codex_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","codex_websockets_label":"Websockets","codex_websockets_hint":" Responses API  websocket ","codex_models_label":" ():","codex_models_hint":" name[, alias] ","codex_models_add_btn":"","codex_models_fetch_button":" /v1/models ","codex_models_fetch_title":" /v1/models ","codex_models_fetch_hint":" Base URL  /v1/models  API KeyBearer","codex_models_fetch_url_label":"","codex_models_fetch_refresh":"","codex_models_fetch_loading":" /v1/models ...","codex_models_fetch_empty":"","codex_models_fetch_error":"","codex_models_fetch_apply":"","codex_models_search_label":"","codex_models_search_placeholder":"","codex_models_search_empty":"","codex_models_fetch_added":" {{count}} ","codex_models_count":"","codex_edit_modal_title":"Codex API","codex_edit_modal_key_label":"API:","codex_edit_modal_url_label":"Base URL ():","codex_edit_modal_proxy_label":" URL ():","codex_delete_confirm":"Codex","claude_title":"Claude API ","claude_add_button":"","claude_empty_title":"Claude","claude_empty_desc":"","claude_item_title":"Claude","claude_add_modal_title":"Claude API","claude_add_modal_key_label":"API:","claude_add_modal_key_placeholder":"Claude API","claude_add_modal_url_label":"Base URL ():","claude_add_modal_url_placeholder":": https://api.anthropic.com","claude_add_modal_proxy_label":" URL ():","claude_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","claude_edit_modal_title":"Claude API","claude_edit_modal_key_label":"API:","claude_edit_modal_url_label":"Base URL ():","claude_edit_modal_proxy_label":" URL ():","claude_delete_confirm":"Claude","claude_models_label":" ():","claude_models_hint":" name[, alias] ","claude_models_add_btn":"","claude_models_count":"","claude_models_fetch_button":" /v1/models ","claude_models_fetch_title":" Claude /v1/models ","claude_models_fetch_hint":" Anthropic  GET /v1/models x-api-key  anthropic-version: 2023-06-01","claude_models_fetch_url_label":"","claude_models_fetch_refresh":"","claude_models_fetch_loading":" Claude /v1/models ...","claude_models_fetch_empty":" Base URLAPI Key ","claude_models_fetch_error":" Claude ","claude_models_fetch_apply":"","claude_models_search_label":"","claude_models_search_placeholder":"","claude_models_search_empty":"","claude_models_fetch_added":" {{count}} ","claude_test_title":"","claude_test_hint":" Anthropic  /v1/messages ","claude_test_select_placeholder":"","claude_test_select_empty":"","claude_test_action":"","claude_test_running":" Claude ...","claude_test_timeout":"{{seconds}}","claude_test_success":"Claude ","claude_test_failed":"","claude_test_key_required":" Claude API Key  x-api-key","claude_test_model_required":"","claude_test_endpoint_invalid":" Claude /v1/messages ","claude_cloak_title":" ():","claude_cloak_toggle_label":"","claude_cloak_toggle_aria":"","claude_cloak_hint":" Claude Code  Claude Code CLI ","claude_cloak_mode_label":":","claude_cloak_mode_hint":"auto:  Claude Code always: never: ","claude_cloak_mode_auto":" Claude Code","claude_cloak_mode_always":"","claude_cloak_mode_never":"","claude_cloak_strict_label":":","claude_cloak_strict_hint":" system  Claude Code ","claude_cloak_sensitive_words_label":" ():","claude_cloak_sensitive_words_placeholder":": internal-project","claude_cloak_sensitive_words_hint":"","claude_cloak_sensitive_words_count":"","vertex_title":"Vertex API ","vertex_add_button":"","vertex_empty_title":"Vertex","vertex_empty_desc":"","vertex_item_title":"Vertex","vertex_add_modal_title":"Vertex API","vertex_add_modal_key_label":"API:","vertex_add_modal_key_placeholder":"Vertex API","vertex_add_modal_url_label":"Base URL ():","vertex_add_modal_url_placeholder":": https://example.com/api","vertex_add_modal_proxy_label":" URL ():","vertex_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","vertex_edit_modal_title":"Vertex API","vertex_edit_modal_key_label":"API:","vertex_edit_modal_url_label":"Base URL ():","vertex_edit_modal_proxy_label":" URL ():","vertex_delete_confirm":"Vertex","vertex_models_label":" ():","vertex_models_add_btn":"","vertex_models_hint":"","vertex_models_count":"","ampcode_title":"Amp CLI  (ampcode)","ampcode_modal_title":" Ampcode","ampcode_upstream_url_label":"Upstream URL","ampcode_upstream_url_placeholder":": https://ampcode.com","ampcode_upstream_url_hint":"/","ampcode_upstream_api_key_label":"Upstream API Key (Amp)","ampcode_upstream_api_key_placeholder":" sk-amp...","ampcode_upstream_api_key_hint":"Amp","ampcode_upstream_api_key_current":"Amp: {{key}}","ampcode_clear_upstream_api_key":"","ampcode_clear_upstream_api_key_confirm":" Ampcode  upstream API keyAmp","ampcode_force_model_mappings_label":"","ampcode_force_model_mappings_hint":" API Key ","ampcode_model_mappings_label":" (from  to)","ampcode_model_mappings_hint":" Amp ","ampcode_model_mappings_add_btn":"","ampcode_model_mappings_from_placeholder":"from ","ampcode_model_mappings_to_placeholder":"to ","ampcode_model_mappings_count":"","ampcode_mappings_overwrite_confirm":"","openai_title":"OpenAI ","openai_add_button":"","openai_empty_title":"OpenAI","openai_empty_desc":"","openai_add_modal_title":"OpenAI","openai_add_modal_name_label":":","openai_add_modal_name_placeholder":": openrouter","openai_add_modal_url_label":"Base URL:","openai_add_modal_url_placeholder":": https://openrouter.ai/api/v1","openai_add_modal_keys_label":"API","openai_edit_modal_keys_label":"API","openai_keys_hint":"","openai_keys_add_btn":"","openai_key_placeholder":" sk- ","openai_proxy_placeholder":" URL ( socks5://...)","openai_add_modal_models_label":" (name[, alias] ):","openai_models_hint":"gpt-4o-mini  moonshotai/kimi-k2:free, kimi-k2","openai_model_name_placeholder":" moonshotai/kimi-k2:free","openai_model_alias_placeholder":" ()","openai_models_add_btn":"","openai_models_fetch_button":" /models ","openai_models_fetch_title":" /models ","openai_models_fetch_hint":" Base URL  /models  API KeyBearer","openai_models_fetch_url_label":"","openai_models_fetch_refresh":"","openai_models_fetch_loading":" /models ...","openai_models_fetch_empty":"","openai_models_fetch_error":"","openai_models_fetch_back":"","openai_models_fetch_apply":"","openai_models_search_label":"","openai_models_search_placeholder":"","openai_models_search_empty":"","openai_models_fetch_invalid_url":" Base URL","openai_models_fetch_added":" {{count}} ","openai_edit_modal_title":"OpenAI","openai_edit_modal_name_label":":","openai_edit_modal_url_label":"Base URL:","openai_edit_modal_models_label":" (name[, alias] ):","openai_delete_confirm":"OpenAI","openai_keys_count":"","openai_models_count":"","openai_test_title":"","openai_test_hint":" /chat/completions ","openai_test_model_placeholder":"","openai_test_action":"","openai_test_running":"...","openai_test_timeout":"{{seconds}}","openai_test_success":"","openai_test_failed":"","openai_test_select_placeholder":"","openai_test_select_empty":"","openai_test_single_action":"","openai_test_all_action":"","openai_test_all_hint":"","openai_test_all_success":" {{count}} ","openai_test_all_failed":" {{count}} ","openai_test_all_partial":"{{success}} {{failed}} "}'),MV={title:"",title_section:"",description:" CLI Proxy  JSON  QwenGeminiVertex  AI ",upload_button:"",delete_all_button:"",empty_title:"",empty_desc:"",search_empty_title:"",search_empty_desc:"",file_size:"",file_modified:"",health_status_label:"",health_status_healthy:"",health_status_warning:"",health_status_disabled:"",health_status_unknown:"",health_status_no_message:"",last_refresh_label:"",refresh_not_available:"",refresh_just_now:"",download_button:"",delete_button:"",delete_confirm:"",delete_all_confirm:"",delete_filtered_confirm:" {{type}} ",upload_error_json:"JSON",upload_error_size:" {{maxSize}}",upload_success:"",download_success:"",delete_success:"",delete_all_success:"",delete_filtered_success:" {{count}}  {{type}} ",delete_filtered_partial:"{{type}}  {{success}}  {{failed}} ",delete_filtered_none:" ({{type}}) ",files_count:"",pagination_prev:"",pagination_next:"",pagination_info:" {{current}} / {{total}}    {{count}} ",search_label:"",search_placeholder:"",page_size_label:"",page_size_unit:"/",view_mode_paged:"",view_mode_all:"",too_many_files_warning:"",filter_all:"",filter_qwen:"Qwen",filter_gemini:"Gemini","filter_gemini-cli":"GeminiCLI",filter_kimi:"Kimi",filter_aistudio:"AIStudio",filter_claude:"Claude",filter_codex:"Codex",filter_antigravity:"Antigravity",filter_iflow:"iFlow",filter_vertex:"Vertex",filter_empty:"",filter_unknown:"",type_qwen:"Qwen",type_gemini:"Gemini","type_gemini-cli":"GeminiCLI",type_kimi:"Kimi",type_aistudio:"AIStudio",type_claude:"Claude",type_codex:"Codex",type_antigravity:"Antigravity",type_iflow:"iFlow",type_vertex:"Vertex",type_empty:"",type_unknown:"",type_virtual:"",models_button:"",models_title:"",models_loading:"...",models_empty:"",models_empty_desc:"",models_unsupported:"",models_unsupported_desc:" CLI Proxy API ",models_excluded_badge:"",models_excluded_hint:" OAuth ",status_toggle_label:"",status_enabled_success:' "{{name}}"',status_disabled_success:' "{{name}}"',batch_status_success:" {{count}} ",batch_status_partial:" {{success}}  {{failed}} ",batch_delete_title:"",batch_delete_confirm:" {{count}} ",batch_selected:" {{count}} ",batch_select_all:"",batch_deselect:"",batch_enable:"",batch_disable:"",prefix_proxy_button:"",auth_field_editor_title:" - {{name}}",prefix_proxy_loading:"...",prefix_proxy_source_label:" JSON",prefix_label:"prefix",proxy_url_label:" URLproxy_url",prefix_placeholder:"",proxy_url_placeholder:"socks5://username:password@proxy_ip:port/",priority_label:"priority",priority_placeholder:": 10  -1",priority_hint:"",excluded_models_label:"excluded_models",excluded_models_placeholder:": model-a, gpt-5-*, *-preview",excluded_models_hint:" trim",disable_cooling_label:"disable_cooling",disable_cooling_placeholder:": true / false / 1 / 0",disable_cooling_hint:"0/0  true/false/1/0",prefix_proxy_invalid_json:" JSON ",prefix_proxy_saved_success:' "{{name}}"',quota_refresh_success:' "{{name}}" ',quota_refresh_failed:' "{{name}}" {{message}}'},OV={title:"Antigravity ",empty_title:" Antigravity ",empty_desc:" Antigravity ",idle:"",loading:"...",load_failed:"{{message}}",missing_auth_index:" auth_index",empty_models:"",refresh_button:"",fetch_all:""},LV={title:"Claude ",empty_title:" Claude OAuth ",empty_desc:" Claude OAuth ",idle:"",loading:"...",load_failed:"{{message}}",missing_auth_index:" auth_index",empty_windows:"",refresh_button:"",fetch_all:"",five_hour:"5 ",seven_day:"7 ",seven_day_oauth_apps:"7  OAuth ",seven_day_opus:"7  Opus",seven_day_sonnet:"7  Sonnet",seven_day_cowork:"7  Cowork",iguana_necktie:"Iguana Necktie",extra_usage_label:""},PV={title:"Codex ",empty_title:" Codex ",empty_desc:" Codex ",idle:"",loading:"...",load_failed:"{{message}}",missing_auth_index:" auth_index",missing_account_id:"Codex  ChatGPT  ID",empty_windows:"",no_access:" Codex free",refresh_button:"",fetch_all:"",primary_window:"5 ",secondary_window:"",code_review_primary_window:" 5 ",code_review_secondary_window:"",additional_primary_window:"{{name}} 5 ",additional_secondary_window:"{{name}} ",plan_label:"",plan_plus:"Plus",plan_team:"Team",plan_free:"Free"},RV={title:"Gemini CLI ",empty_title:" Gemini CLI ",empty_desc:" Gemini CLI ",idle:"",loading:"...",load_failed:"{{message}}",missing_auth_index:" auth_index",missing_project_id:"Gemini CLI  Project ID",empty_buckets:"",refresh_button:"",fetch_all:"",remaining_amount:" {{count}}"},EV={title:"Vertex JSON ",description:" Google  JSON CLI vertex-import  auth-dir/vertex-<project>.json",location_label:" ()",location_placeholder:"us-central1",location_hint:" us-central1",file_label:" JSON",file_hint:" Google Cloud service account key JSON ",file_placeholder:"",choose_file:"",import_button:" Vertex ",file_required:" .json ",success:"Vertex ",result_title:"",result_project:" ID",result_email:"",result_location:"",result_file:""},jV={title:"OAuth ",description:" * ",add:"",add_title:"",edit_title:" {{provider}} ",refresh:"",refreshing:"...",provider_label:"",provider_auto:"",provider_placeholder:" gemini-cli / openai",provider_hint:"",models_label:"",models_loading:"...",models_unsupported:" CPA ",models_loaded:" {{count}} ",no_models_available:"",save:"/",saving:"...",save_success:"",save_failed:"",delete:"",delete_confirm:" {{provider}} ",delete_success:"",delete_failed:"",deleting:"...",no_models:"",model_count:" {{count}} ",list_empty_all:"",list_empty_filtered:"",disconnected:"",load_failed:"",provider_required:"",scope_all:"",scope_provider:"{{provider}}",upgrade_required:" CPA  OAuth  CPA ",upgrade_required_title:" CPA ",upgrade_required_desc:" OAuth  CPACLI Proxy API"},DV={title:"OAuth ",add:"",add_title:"",provider_label:"",provider_placeholder:" gemini-cli / vertex",provider_hint:"",model_source_loading:"...",model_source_unsupported:" CPA ",model_source_loaded:" {{count}} ",alias_label:"",alias_name_placeholder:"",alias_placeholder:" ()",alias_fork_label:"",add_alias:"",save:"/",save_success:"",save_failed:"",delete:"",delete_confirm:" {{provider}} ",delete_link_title:"",delete_link_confirm:" <code>{{sourceModel}}</code>{{provider}} <code>{{alias}}</code> ",delete_alias_title:"",delete_alias_confirm:" <code>{{alias}}</code> ",delete_success:"",delete_failed:"",no_models:"",model_count:"{{count}} ",list_empty_all:"",chart_title:"",diagram_providers:"",diagram_source_models:"",diagram_aliases:"",diagram_expand:"",diagram_collapse:"",diagram_add_alias:"",diagram_rename:"",diagram_rename_alias_title:"",diagram_rename_alias_label:"",diagram_rename_placeholder:"...",diagram_delete_link:" {{provider}} / {{name}}",diagram_delete_alias:"",diagram_please_enter_alias:"",diagram_alias_exists:"",diagram_add_alias_title:"",diagram_add_alias_label:"",diagram_add_placeholder:"...",diagram_rename_btn:"",diagram_add_btn:"",diagram_settings:"",diagram_settings_title:"  {{alias}}",diagram_settings_source_title:"",diagram_settings_empty:"",diagram_tap_hint:"",view_mode:"",view_mode_diagram:"",view_mode_list:"",provider_required:"",upgrade_required:" CPA  CPA ",upgrade_required_title:" CPA ",upgrade_required_desc:" OAuth  CPACLI Proxy API"},FV={codex_oauth_title:"Codex OAuth",codex_oauth_button:" Codex ",codex_oauth_hint:" OAuth  Codex ",codex_oauth_url_label:":",codex_open_link:"",codex_copy_link:"",codex_oauth_status_waiting:"...",codex_oauth_status_success:"",codex_oauth_status_error:":",codex_oauth_start_error:" Codex OAuth :",codex_oauth_polling_error:":",anthropic_oauth_title:"Anthropic OAuth",anthropic_oauth_button:" Anthropic ",anthropic_oauth_hint:" OAuth  Anthropic (Claude) ",anthropic_oauth_url_label:":",anthropic_open_link:"",anthropic_copy_link:"",anthropic_oauth_status_waiting:"...",anthropic_oauth_status_success:"",anthropic_oauth_status_error:":",anthropic_oauth_start_error:" Anthropic OAuth :",anthropic_oauth_polling_error:":",antigravity_oauth_title:"Antigravity OAuth",antigravity_oauth_button:" Antigravity ",antigravity_oauth_hint:" OAuth  AntigravityGoogle ",antigravity_oauth_url_label:":",antigravity_open_link:"",antigravity_copy_link:"",antigravity_oauth_status_waiting:"...",antigravity_oauth_status_success:"",antigravity_oauth_status_error:":",antigravity_oauth_start_error:" Antigravity OAuth :",antigravity_oauth_polling_error:":",gemini_cli_oauth_title:"Gemini CLI OAuth",gemini_cli_oauth_button:" Gemini CLI ",gemini_cli_oauth_hint:" OAuth  Google Gemini CLI ",gemini_cli_project_id_label:"Google Cloud  ID ():",gemini_cli_project_id_placeholder:"",gemini_cli_project_id_hint:" ID ALL ",gemini_cli_project_id_required:" Google Cloud  ID",gemini_cli_oauth_url_label:":",gemini_cli_open_link:"",gemini_cli_copy_link:"",gemini_cli_oauth_status_waiting:"...",gemini_cli_oauth_status_success:"",gemini_cli_oauth_status_error:":",gemini_cli_oauth_start_error:" Gemini CLI OAuth :",gemini_cli_oauth_polling_error:":",kimi_oauth_title:"Kimi OAuth",kimi_oauth_button:" Kimi ",kimi_oauth_hint:" Kimi ",kimi_oauth_url_label:":",kimi_open_link:"",kimi_copy_link:"",kimi_oauth_status_waiting:"...",kimi_oauth_status_success:"",kimi_oauth_status_error:":",kimi_oauth_start_error:" Kimi OAuth :",kimi_oauth_polling_error:":",qwen_oauth_title:"Qwen OAuth",qwen_oauth_button:" Qwen ",qwen_oauth_hint:" Qwen ",qwen_oauth_url_label:":",qwen_open_link:"",qwen_copy_link:"",qwen_oauth_status_waiting:"...",qwen_oauth_status_success:"",qwen_oauth_status_error:":",qwen_oauth_start_error:" Qwen OAuth :",qwen_oauth_polling_error:":",oauth_callback_label:" URL",oauth_callback_placeholder:"http://localhost:1455/auth/callback?code=...&state=...",oauth_callback_hint:" http://localhost:...  URL ",oauth_callback_button:" URL",oauth_callback_required:" URL",oauth_callback_success:" URL ",oauth_callback_error:" URL :",oauth_callback_upgrade_hint:"CLI Proxy API",oauth_callback_status_success:" URL ...",oauth_callback_status_error:" URL :",missing_state:"",iflow_oauth_title:"iFlow OAuth",iflow_oauth_button:" iFlow ",iflow_oauth_hint:" OAuth  iFlow ",iflow_oauth_url_label:":",iflow_open_link:"",iflow_copy_link:"",iflow_oauth_status_waiting:"...",iflow_oauth_status_success:"",iflow_oauth_status_error:":",iflow_oauth_start_error:" iFlow OAuth :",iflow_oauth_polling_error:":",iflow_cookie_title:"iFlow Cookie ",iflow_cookie_label:"Cookie :",iflow_cookie_placeholder:"BXAuth BXAuth=",iflow_cookie_hint:" Cookie ",iflow_cookie_key_hint:" Key",iflow_cookie_button:" Cookie ",iflow_cookie_status_success:"Cookie ",iflow_cookie_status_error:"Cookie :",iflow_cookie_status_duplicate:":",iflow_cookie_start_error:" Cookie :",iflow_cookie_config_duplicate:"",iflow_cookie_required:" Cookie ",iflow_cookie_result_title:"Cookie ",iflow_cookie_result_email:"",iflow_cookie_result_expired:"",iflow_cookie_result_path:"",iflow_cookie_result_type:"",remote_access_disabled:" (localhost) "},UV={title:"",total_requests:"",success_requests:"",failed_requests:"",total_tokens:"Token",cached_tokens:" Tokens",reasoning_tokens:" Tokens",rpm_30m:"RPM",tpm_30m:"TPM",rate_30m:"30",model_name:"",model_price_settings:"",saved_prices:"",requests_trend:"",tokens_trend:"Token ",api_details:"API ",by_hour:"",by_day:"",range_filter:"",range_all:"",range_7h:"7",range_24h:"24",range_7d:"7",filter_all:"",clear_filters:"",refresh:"",export:"",import:"",export_csv:" CSV",export_json:" JSON",export_success:"",import_success:" {{added}} {{skipped}} {{total}} {{failed}}",import_invalid:"",chart_line_label_1:" 1",chart_line_label_2:" 2",chart_line_label_3:" 3",chart_line_label_4:" 4",chart_line_label_5:" 5",chart_line_label_6:" 6",chart_line_label_7:" 7",chart_line_label_8:" 8",chart_line_label_9:" 9",chart_line_hidden:"",chart_line_actions_label:"",chart_line_add:"",chart_line_all:"",chart_line_delete:"",chart_line_hint:" 9 ",no_data:"",loading_error:"",api_endpoint:"API",requests_count:"",tokens_count:"Token",models:"",success_rate:"",total_cost:"",total_cost_hint:"",model_price_title:"",model_price_reset:"",model_price_model_label:"",model_price_select_placeholder:"",model_price_select_hint:"",model_price_prompt:"",model_price_completion:"",model_price_cache:"",model_price_save:"",model_price_empty:"",model_price_model:"",model_price_saved:"",model_price_model_required:"",cost_trend:"",cost_axis_label:" ($)",cost_need_price:"",cost_need_usage:"",cost_no_data:"",credential_stats:"",credential_name:"",token_breakdown:"Token ",request_events_title:"",request_events_filter_model:"",request_events_filter_source:"",request_events_filter_auth_index:"",request_events_timestamp:"",request_events_source:"",request_events_auth_index:"",request_events_result:"",request_events_empty_title:"",request_events_empty_desc:"",request_events_no_result_title:"",request_events_no_result_desc:"",request_events_count:"{{count}} ",request_events_limit_hint:" {{shown}} / {{total}} ",input_tokens:" Tokens",output_tokens:" Tokens",last_updated:""},BV={success:"",failure:""},IV={success_short:"",failure_short:"",no_requests:""},zV={title:"",window:" 7 ",oldest:"",newest:""},qV={title:"",refresh_button:"",clear_button:"",download_button:"",error_log_button:"",error_logs_modal_title:"",error_logs_description:"",error_logs_request_log_enabled:"",error_logs_empty:"",error_logs_load_error:"",error_logs_size:"",error_logs_modified:"",error_logs_download:"",error_log_download_success:"",request_log_download_title:"",request_log_download_confirm:"id{{id}}",request_log_download_success:"",empty_title:"",empty_desc:'""',log_content:"",loading:"...",load_error:"",clear_confirm:"",clear_success:"",download_success:"",auto_refresh:"",auto_refresh_enabled:"",auto_refresh_disabled:"",load_more_hint:"",hidden_lines:" {{count}} ",loaded_lines:" {{count}} ",filtered_lines:" {{count}} ",hide_management_logs:" {{prefix}} ",show_raw_logs:"",show_raw_logs_hint:"",search_placeholder:"",filter_method:"",filter_status:"",filter_path:"",filter_path_empty:"",filter_status_2xx:"2xx",filter_status_3xx:"3xx",filter_status_4xx:"4xx",filter_status_5xx:"5xx",clear_filters:"",trace_button:"",trace_title:" (V1)",trace_notice:"V1  usage  request_id ",trace_log_info:"",trace_candidates_title:"Usage ",trace_loading:" usage ...",trace_no_match:"",trace_usage_load_error:" usage ",trace_download_request_log:"",trace_confidence_high:"",trace_confidence_medium:"",trace_confidence_low:"",trace_score:" {{score}}",trace_delta_seconds:" {{seconds}} ",trace_request_id:" ID",trace_method:"",trace_path:"",trace_status_code:"",trace_latency:"",trace_ip:"IP",trace_timestamp:"",trace_message:"",trace_endpoint:"Usage ",trace_model:"",trace_source:"",trace_auth_index:"",trace_result:"",search_empty_title:"",search_empty_desc:"",double_click_copy_hint:"",copy_success:"",copy_failed:"",lines:"",removed:"",upgrade_required_title:" CLI Proxy API",upgrade_required_desc:" CLI Proxy API "},KV={title:"",editor_title:"",reload:"",save:"",description:" config.yaml ",status_idle:"",status_loading:"...",status_loaded:"",status_dirty:"",status_disconnected:"",status_load_failed:"",status_saving:"...",status_saved:"",status_save_failed:"",save_success:"",error_yaml_not_supported:" YAML  /config.yaml ",editor_placeholder:"key: value",search_placeholder:"...",search_button:"",search_no_results:"",search_prev:"",search_next:"",diff:{title:"",current:"",modified:"",confirm:"",no_changes:""},tabs:{visual:"",source:""},visual:{sections:{server:{title:"",description:"",host:"",port:""},tls:{title:"TLS/SSL ",description:"HTTPS ",enable:" TLS",enable_desc:" HTTPS ",cert:"",key:""},remote:{title:"",description:"",allow_remote:"",allow_remote_desc:"",disable_panel:"",disable_panel_desc:" Web ",secret_key:"",secret_key_placeholder:"",panel_repo:""},auth:{title:"",description:"API ",auth_dir:" (auth-dir)",auth_dir_hint:" ~"},system:{title:"",description:"",debug:"",debug_desc:"",commercial_mode:"",commercial_mode_desc:"",logging_to_file:"",logging_to_file_desc:"",usage_statistics:"",usage_statistics_desc:"",logs_max_size:" (MB)"},network:{title:"",description:"",proxy_url:" URL",request_retry:"",max_retry_interval:" ()",routing_strategy:"",routing_strategy_hint:"",strategy_round_robin:" (Round Robin)",strategy_fill_first:" (Fill First)",force_model_prefix:"",force_model_prefix_desc:"",ws_auth:"WebSocket ",ws_auth_desc:" WebSocket  (/v1/ws)"},quota:{title:"",description:"",switch_project:"",switch_project_desc:"",switch_preview_model:"",switch_preview_model_desc:""},streaming:{title:"",description:"Keepalive  bootstrap ",keepalive_seconds:"Keepalive ",keepalive_hint:" 0  keepalive",bootstrap_retries:"Bootstrap ",bootstrap_hint:"",nonstream_keepalive:" Keepalive  ()",nonstream_keepalive_hint:" N  0 ",disabled:""},payload:{title:"Payload ",description:"",default_rules:"",default_rules_desc:"",override_rules:"",override_rules_desc:"",filter_rules:"",filter_rules_desc:" JSON Path /Request Sanitization"}},api_keys:{label:"API  (api-keys)",add:" API ",generate:"",empty:" API ",hint:" API  API  ",edit_title:" API ",add_title:" API ",input_label:"API ",input_placeholder:" API ",input_hint:" API ",error_empty:" API ",error_invalid:"API "},payload_rules:{rule:"",models:"",model_name:"",provider_type:"",add_model:"",params:"",remove_params:"",json_path:"JSON  ( temperature)",json_path_filter:"JSON  (gjson/sjson) generationConfig.thinkingConfig.thinkingBudget",param_type:"",add_param:"",no_rules:"",add_rule:"",provider_default:"",provider_openai:"OpenAI",provider_openai_response:"OpenAI Response",provider_gemini:"Gemini",provider_claude:"Claude",provider_codex:"Codex",provider_antigravity:"Antigravity",value_type_string:"",value_type_number:"",value_type_boolean:"",value_type_json:"JSON",value_string:"",value_number:" ( 0.7)",value_boolean:"true  false",value_json:"JSON ",value_default:""},common:{edit:"",delete:"",cancel:"",update:"",add:""}}},HV={title:"",description:" OAuth ",refresh_files:"",refresh_files_and_quota:"&",card_idle_hint:"&"},VV={title:"",about_title:"CLI Proxy API Management Center",connection_status_title:"",api_status_label:"API :",config_status_label:":",last_update_label:":",cache_data:"",real_time_data:"",not_loaded:"",seconds_ago:"",models_title:"",models_desc:" /models  API Key ",models_loading:"...",models_empty:" /models ",models_error:"",models_count:" {{count}} ",version_check_title:"",version_check_desc:" /latest-version ",version_current_label:"",version_latest_label:"",version_check_button:"",version_check_idle:"",version_checking:"...",version_update_available:"{{version}}",version_is_latest:"",version_check_error:"",version_current_missing:"",version_unknown:"",quick_links_title:"",quick_links_desc:"",link_main_repo:"",link_main_repo_desc:"CLI Proxy API ",link_webui_repo:"WebUI ",link_webui_repo_desc:"",link_docs:"",link_docs_desc:"",clear_login_title:"",clear_login_desc:"",clear_login_button:"",clear_login_confirm:""},WV={debug_updated:"",proxy_updated:"",proxy_cleared:"",retry_updated:"",quota_switch_project_updated:"",quota_switch_preview_updated:"",usage_statistics_updated:"",logging_to_file_updated:"",logs_max_total_size_updated:"",request_log_updated:"",force_model_prefix_updated:"",ws_auth_updated:"WebSocket ",routing_strategy_updated:"",login_storage_cleared:"",api_key_added:"API",api_key_updated:"API",api_key_deleted:"API",api_key_invalid_chars:"API",gemini_key_added:"Gemini",gemini_key_updated:"Gemini",gemini_key_deleted:"Gemini",gemini_multi_input_required:"Gemini",gemini_multi_failed:"Gemini",gemini_multi_summary:"Gemini {{success}} {{skipped}} {{failed}}",codex_config_added:"Codex",codex_config_updated:"Codex",codex_config_deleted:"Codex",codex_base_url_required:"Codex Base URL",claude_config_added:"Claude",claude_config_updated:"Claude",claude_config_deleted:"Claude",vertex_config_added:"Vertex",vertex_config_updated:"Vertex",vertex_config_deleted:"Vertex",vertex_base_url_required:"Vertex Base URL",config_enabled:"",config_disabled:"",field_required:"",openai_provider_required:"Base URL",openai_provider_added:"OpenAI",openai_provider_updated:"OpenAI",openai_provider_deleted:"OpenAI",ampcode_updated:"Ampcode ",ampcode_upstream_api_key_cleared:"Ampcode upstream API key ",openai_model_name_required:"",openai_test_url_required:" Base URL ",openai_test_key_required:" API ",openai_test_model_required:"",data_refreshed:"",connection_required:"",refresh_failed:"",update_failed:"",add_failed:"",delete_failed:"",upload_failed:"",download_failed:"",login_failed:"",please_enter:"",please_fill:"",provider_name_url:"Base URL",api_key:"API",gemini_api_key:"Gemini API",codex_api_key:"Codex API",claude_api_key:"Claude API",commercial_mode_restart_required:"",copy_failed:"",link_copied:""},GV={switch:"",chinese:"",english:"English",russian:""},XV={switch:"",light:"",dark:"",switch_to_light:"",switch_to_dark:"",auto:""},$V={toggle_expand:"",toggle_collapse:""},QV={api_version:"CLI Proxy API ",build_date:"",version:"",author:""},YV={common:_V,title:yV,splash:bV,auto_login:xV,login:vV,header:SV,connection:wV,nav:kV,dashboard:CV,basic_settings:AV,api_keys:TV,ai_providers:NV,auth_files:MV,antigravity_quota:OV,claude_quota:LV,codex_quota:PV,gemini_cli_quota:RV,vertex_import:EV,oauth_excluded:jV,oauth_model_alias:DV,auth_login:FV,usage_stats:UV,stats:BV,status_bar:IV,service_health:zV,logs:qV,config_management:KV,quota_management:HV,system_info:VV,notification:WV,language:GV,theme:XV,sidebar:$V,footer:QV},ZV={login:"Login",logout:"Logout",back:"Back",cancel:"Cancel",confirm:"Confirm",leave:"Leave",stay:"Stay",save:"Save",delete:"Delete",edit:"Edit",add:"Add",update:"Update",refresh:"Refresh",close:"Close",success:"Success",error:"Error",info:"Info",warning:"Warning",loading:"Loading...",connecting:"Connecting...",connected:"Connected",disconnected:"Disconnected",connecting_status:"Connecting",connected_status:"Connected",disconnected_status:"Disconnected",yes:"Yes",no:"No",not_set:"Not set",optional:"Optional",required:"Required",api_key:"Key",base_url:"Address",prefix:"Prefix",proxy_url:"Proxy",priority:"Priority",alias:"Alias",failure:"Failure",unknown_error:"Unknown error",quota_update_required:"Please update the CPA version or check for updates",quota_check_credential:"Please check the credential status",copy:"Copy",status:"Status",action:"Action",custom_headers_label:"Custom Headers",custom_headers_hint:"Optional HTTP headers to send with the request. Leave blank to remove.",custom_headers_add:"Add Header",custom_headers_key_placeholder:"Header name, e.g. X-Custom-Header",custom_headers_value_placeholder:"Header value",model_name_placeholder:"Model name, e.g. claude-3-5-sonnet-20241022",model_alias_placeholder:"Model alias (optional)",invalid_provider_index:"Invalid provider index.",unsaved_changes_title:"Unsaved changes",unsaved_changes_message:"You have unsaved changes. Leaving now will discard them. Do you want to leave?"},JV={main:"CLI Proxy API Management Center",login:"CLI Proxy API Management Center",abbr:"CPAMC"},eW={title:"CLI Proxy API",subtitle:"Management Center"},tW={title:"Auto Login in Progress...",message:"Attempting to connect to server using locally saved connection information"},nW={subtitle:"Please enter connection information to access the management interface",connection_title:"Connection Address",connection_current:"Current URL",connection_auto_hint:"The system will automatically use the current URL for connection",custom_connection_label:"Custom Connection URL:",custom_connection_placeholder:"Eg: https://example.com:8317",custom_connection_hint:"By default the current URL is used. Override it here if needed.",use_current_address:"Use Current URL",remember_password_label:"Remember password",management_key_label:"Management Key:",management_key_placeholder:"Enter the management key",connect_button:"Connect",submit_button:"Login",submitting:"Connecting...",error_title:"Login Failed",error_required:"Please fill in complete connection information",error_invalid:"Connection failed, please check address and key",error_network:"Network connection failed, please check your network or server address",error_timeout:"Connection timed out, server not responding",error_unauthorized:"Authentication failed, invalid management key",error_forbidden:"Access denied, insufficient permissions",error_not_found:"Server address invalid or management API not enabled",error_server:"Internal server error, please try again later",error_cors:"Cross-origin request blocked, please check server configuration",error_ssl:"SSL/TLS certificate verification failed"},iW={check_connection:"Check Connection",refresh_all:"Refresh All",logout:"Logout"},sW={title:"Connection Information",server_address:"Server Address:",management_key:"Management Key:",status:"Connection Status:"},aW={dashboard:"Dashboard",basic_settings:"Basic Settings",api_keys:"API Keys",ai_providers:"AI Providers",auth_files:"Auth Files",oauth:"OAuth Login",quota_management:"Quota Management",usage_stats:"Usage Statistics",config_management:"Config Panel",logs:"Logs Viewer",system_info:"Management Center Info"},rW={title:"Dashboard",subtitle:"Welcome to CLI Proxy API Management Center",openai_providers:"OpenAI Providers",quick_actions:"Quick Actions",current_config:"Current Configuration",management_keys:"Management Keys",provider_keys_detail:"G:{{gemini}} C:{{codex}} Cl:{{claude}} O:{{openai}}",oauth_credentials:"OAuth Credentials",usage_overview:"Usage Overview",total_requests:"Total Requests",total_tokens:"Total Tokens",rpm_30min:"RPM (30min)",tpm_30min:"TPM (30min)",models_used:"Models Used",no_usage_data:"No usage data available",view_detailed_usage:"View Detailed Stats",edit_settings:"Edit Settings",routing_strategy:"Routing Strategy",available_models:"Available Models",available_models_desc:"Total models from all providers"},oW={title:"Basic Settings",debug_title:"Debug Mode",debug_enable:"Enable Debug Mode",proxy_title:"Proxy Settings",proxy_url_label:"Proxy URL:",proxy_url_placeholder:"e.g.: socks5://user:pass@127.0.0.1:1080/",proxy_update:"Update",proxy_clear:"Clear",retry_title:"Request Retry",retry_count_label:"Retry Count:",retry_update:"Update",quota_title:"Quota Exceeded Behavior",quota_switch_project:"Auto Switch Project",quota_switch_preview:"Switch to Preview Model",usage_statistics_title:"Usage Statistics",usage_statistics_enable:"Enable usage statistics",logging_title:"Logging",logging_to_file_enable:"Enable logging to file",logs_max_total_size_title:"Log Size Limit",logs_max_total_size_label:"Total log size cap (MB):",logs_max_total_size_hint:"Set to 0 to disable the limit.",logs_max_total_size_update:"Update",request_log_title:"Request Logging",request_log_enable:"Enable request logging",request_log_warning:"Keep this off unless you need detailed troubleshooting.",force_model_prefix_enable:"Force model prefix",ws_auth_title:"WebSocket Authentication",ws_auth_enable:"Require auth for /ws/*",routing_title:"Routing Strategy",routing_strategy_label:"Routing strategy:",routing_strategy_hint:"round-robin cycles through keys; fill-first prioritizes the first available key.",routing_strategy_update:"Update",routing_strategy_round_robin:"round-robin (cycle)",routing_strategy_fill_first:"fill-first (prioritize)"},lW={title:"API Keys Management",proxy_auth_title:"Proxy Service Authentication Keys",add_button:"Add Key",empty_title:"No API Keys",empty_desc:"Click the button above to add the first key",item_title:"API Key",add_modal_title:"Add API Key",add_modal_key_label:"API Key:",add_modal_key_placeholder:"Please enter API key",edit_modal_title:"Edit API Key",edit_modal_key_label:"API Key:",delete_confirm:"Are you sure you want to delete this API key?"},cW=JSON.parse('{"title":"AI Providers Configuration","gemini_title":"Gemini API Keys","gemini_add_button":"Add Key","gemini_empty_title":"No Gemini Keys","gemini_empty_desc":"Click the button above to add the first key","gemini_item_title":"Gemini Key","gemini_add_modal_title":"Add Gemini API Key","gemini_add_modal_key_label":"API Keys:","gemini_add_modal_key_placeholder":"Enter Gemini API key","gemini_add_modal_key_hint":"Add keys one by one and optionally specify a Base URL.","gemini_keys_add_btn":"Add Key","gemini_base_url_label":"Base URL (Optional):","gemini_base_url_placeholder":"e.g.: https://generativelanguage.googleapis.com","gemini_add_modal_proxy_label":"Proxy URL (Optional):","gemini_add_modal_proxy_placeholder":"e.g.: socks5://proxy.example.com:1080","gemini_models_label":"Custom Models (Optional):","gemini_models_hint":"Leave empty to allow all models, or add name[, alias] entries to limit/alias them for this key.","gemini_models_add_btn":"Add Model","gemini_models_fetch_button":"Fetch via /v1beta/models","gemini_models_fetch_title":"Pick Models from Gemini /v1beta/models","gemini_models_fetch_hint":"Call GET /v1beta/models per the Gemini API. By default, it sends x-goog-api-key from the API Key field, merged with your custom headers.","gemini_models_fetch_url_label":"Request URL","gemini_models_fetch_refresh":"Refresh","gemini_models_fetch_loading":"Fetching models from Gemini /v1beta/models...","gemini_models_fetch_empty":"No models returned. Please check Base URL, API key, or headers.","gemini_models_fetch_error":"Failed to fetch Gemini models","gemini_models_fetch_apply":"Add selected models","gemini_models_search_label":"Search models","gemini_models_search_placeholder":"Filter by name, alias, or description","gemini_models_search_empty":"No models match your search. Try a different keyword.","gemini_models_fetch_added":"{{count}} new models added","gemini_models_count":"Models Count","gemini_edit_modal_title":"Edit Gemini API Key","gemini_edit_modal_key_label":"API Key:","gemini_delete_confirm":"Are you sure you want to delete this Gemini key?","excluded_models_label":"Excluded models (optional):","excluded_models_placeholder":"Comma or newline separated, e.g. gemini-1.5-pro, gemini-1.5-flash","excluded_models_hint":"Leave empty to allow all models; values are trimmed and deduplicated automatically.","excluded_models_count":"Excluding {{count}} models","prefix_label":"Prefix (Optional):","prefix_placeholder":"e.g.: team-a","prefix_hint":"When set, call models as prefix/<model> to target this entry.","priority_label":"Priority (Optional):","priority_hint":"Higher values are preferred. Leave empty for default (0).","config_toggle_label":"Enabled","config_disabled_badge":"Disabled","codex_title":"Codex API Configuration","codex_add_button":"Add Configuration","codex_empty_title":"No Codex Configuration","codex_empty_desc":"Click the button above to add the first configuration","codex_item_title":"Codex Configuration","codex_add_modal_title":"Add Codex API Configuration","codex_add_modal_key_label":"API Key:","codex_add_modal_key_placeholder":"Please enter Codex API key","codex_add_modal_url_label":"Base URL (Required):","codex_add_modal_url_placeholder":"e.g.: https://api.example.com","codex_add_modal_proxy_label":"Proxy URL (Optional):","codex_add_modal_proxy_placeholder":"e.g.: socks5://proxy.example.com:1080","codex_websockets_label":"Websockets","codex_websockets_hint":"Enable Responses API websocket transport for this key.","codex_models_label":"Custom Models (Optional):","codex_models_hint":"Leave empty to allow all models, or add name[, alias] entries to limit/alias them.","codex_models_add_btn":"Add Model","codex_models_fetch_button":"Fetch via /v1/models","codex_models_fetch_title":"Pick Models from /v1/models","codex_models_fetch_hint":"Call GET /v1/models using the Base URL above, sending the API key as Bearer (if provided) and merging your custom headers.","codex_models_fetch_url_label":"Request URL","codex_models_fetch_refresh":"Refresh","codex_models_fetch_loading":"Fetching models from /v1/models...","codex_models_fetch_empty":"No models returned. Please check Base URL, API key, or headers.","codex_models_fetch_error":"Failed to fetch models","codex_models_fetch_apply":"Add selected models","codex_models_search_label":"Search models","codex_models_search_placeholder":"Filter by name, alias, or description","codex_models_search_empty":"No models match your search. Try a different keyword.","codex_models_fetch_added":"{{count}} new models added","codex_models_count":"Models Count","codex_edit_modal_title":"Edit Codex API Configuration","codex_edit_modal_key_label":"API Key:","codex_edit_modal_url_label":"Base URL (Required):","codex_edit_modal_proxy_label":"Proxy URL (Optional):","codex_delete_confirm":"Are you sure you want to delete this Codex configuration?","claude_title":"Claude API Configuration","claude_add_button":"Add Configuration","claude_empty_title":"No Claude Configuration","claude_empty_desc":"Click the button above to add the first configuration","claude_item_title":"Claude Configuration","claude_add_modal_title":"Add Claude API Configuration","claude_add_modal_key_label":"API Key:","claude_add_modal_key_placeholder":"Please enter Claude API key","claude_add_modal_url_label":"Base URL (Optional):","claude_add_modal_url_placeholder":"e.g.: https://api.anthropic.com","claude_add_modal_proxy_label":"Proxy URL (Optional):","claude_add_modal_proxy_placeholder":"e.g.: socks5://proxy.example.com:1080","claude_edit_modal_title":"Edit Claude API Configuration","claude_edit_modal_key_label":"API Key:","claude_edit_modal_url_label":"Base URL (Optional):","claude_edit_modal_proxy_label":"Proxy URL (Optional):","claude_delete_confirm":"Are you sure you want to delete this Claude configuration?","claude_models_label":"Custom Models (Optional):","claude_models_hint":"Leave empty to allow all models, or add name[, alias] entries to limit/alias them.","claude_models_add_btn":"Add Model","claude_models_count":"Models Count","claude_models_fetch_button":"Fetch via /v1/models","claude_models_fetch_title":"Pick Models from Claude /v1/models","claude_models_fetch_hint":"Call GET /v1/models with Anthropic headers. By default, this sends x-api-key and anthropic-version: 2023-06-01, merged with your custom headers.","claude_models_fetch_url_label":"Request URL","claude_models_fetch_refresh":"Refresh","claude_models_fetch_loading":"Fetching models from Claude /v1/models...","claude_models_fetch_empty":"No models returned. Please check Base URL, API key, or headers.","claude_models_fetch_error":"Failed to fetch Claude models","claude_models_fetch_apply":"Add selected models","claude_models_search_label":"Search models","claude_models_search_placeholder":"Filter by name, alias, or description","claude_models_search_empty":"No models match your search. Try a different keyword.","claude_models_fetch_added":"{{count}} new models added","claude_test_title":"Connection Test","claude_test_hint":"Send a test request to /v1/messages using Anthropic headers to verify this configuration.","claude_test_select_placeholder":"Choose from current models","claude_test_select_empty":"No models configured. Add models first","claude_test_action":"Test","claude_test_running":"Sending Claude test request...","claude_test_timeout":"Test request timed out after {{seconds}} seconds.","claude_test_success":"Test succeeded. Claude model responded.","claude_test_failed":"Test failed","claude_test_key_required":"Please provide a Claude API key or set x-api-key in custom headers","claude_test_model_required":"Please select a model to test","claude_test_endpoint_invalid":"Unable to build a valid Claude /v1/messages endpoint","claude_cloak_title":"Request Cloaking (Optional):","claude_cloak_toggle_label":"Enable","claude_cloak_toggle_aria":"Toggle request cloaking","claude_cloak_hint":"Cloaking disguises requests to appear as coming from the official Claude Code CLI for non-Claude-Code clients.","claude_cloak_mode_label":"Mode:","claude_cloak_mode_hint":"auto: cloak only when client is not Claude Code; always: always cloak; never: never cloak.","claude_cloak_mode_auto":"Auto (non-Claude-Code only)","claude_cloak_mode_always":"Always","claude_cloak_mode_never":"Never","claude_cloak_strict_label":"Strict mode:","claude_cloak_strict_hint":"When enabled, strip user system messages and keep only the Claude Code prompt.","claude_cloak_sensitive_words_label":"Sensitive words (optional):","claude_cloak_sensitive_words_placeholder":"Comma or newline separated, e.g. internal-project","claude_cloak_sensitive_words_hint":"These words are obfuscated with zero-width characters.","claude_cloak_sensitive_words_count":"Sensitive words","vertex_title":"Vertex API Configuration","vertex_add_button":"Add Configuration","vertex_empty_title":"No Vertex Configuration","vertex_empty_desc":"Click the button above to add the first configuration","vertex_item_title":"Vertex Configuration","vertex_add_modal_title":"Add Vertex API Configuration","vertex_add_modal_key_label":"API Key:","vertex_add_modal_key_placeholder":"Please enter Vertex API key","vertex_add_modal_url_label":"Base URL (Required):","vertex_add_modal_url_placeholder":"e.g.: https://example.com/api","vertex_add_modal_proxy_label":"Proxy URL (Optional):","vertex_add_modal_proxy_placeholder":"e.g.: socks5://proxy.example.com:1080","vertex_edit_modal_title":"Edit Vertex API Configuration","vertex_edit_modal_key_label":"API Key:","vertex_edit_modal_url_label":"Base URL (Required):","vertex_edit_modal_proxy_label":"Proxy URL (Optional):","vertex_delete_confirm":"Are you sure you want to delete this Vertex configuration?","vertex_models_label":"Model aliases (alias required):","vertex_models_add_btn":"Add Mapping","vertex_models_hint":"Each alias needs both the original model and the alias.","vertex_models_count":"Alias count","ampcode_title":"Amp CLI Integration (ampcode)","ampcode_modal_title":"Configure Ampcode","ampcode_upstream_url_label":"Upstream URL","ampcode_upstream_url_placeholder":"e.g. https://ampcode.com","ampcode_upstream_url_hint":"Optional. Leave empty to use the default/auto-discovered control plane URL.","ampcode_upstream_api_key_label":"Upstream API Key (Amp Official)","ampcode_upstream_api_key_placeholder":"Enter sk-amp... (leave empty to keep current)","ampcode_upstream_api_key_hint":"Optional. Leaving it empty will not change the current Amp official key. Use the button below to clear it.","ampcode_upstream_api_key_current":"Current Amp official key: {{key}}","ampcode_clear_upstream_api_key":"Clear official key","ampcode_clear_upstream_api_key_confirm":"Are you sure you want to clear the Ampcode upstream API key (Amp official)?","ampcode_force_model_mappings_label":"Force model mappings","ampcode_force_model_mappings_hint":"When enabled, mappings override local API-key availability checks.","ampcode_model_mappings_label":"Model mappings (from  to)","ampcode_model_mappings_hint":"Rewrites model names in Amp requests. Leave empty to disable mappings.","ampcode_model_mappings_add_btn":"Add mapping","ampcode_model_mappings_from_placeholder":"from model (source)","ampcode_model_mappings_to_placeholder":"to model (target)","ampcode_model_mappings_count":"Mappings Count","ampcode_mappings_overwrite_confirm":"Existing mappings could not be loaded. Continuing may overwrite or clear them. Continue?","openai_title":"OpenAI Compatible Providers","openai_add_button":"Add Provider","openai_empty_title":"No OpenAI Compatible Providers","openai_empty_desc":"Click the button above to add the first provider","openai_add_modal_title":"Add OpenAI Compatible Provider","openai_add_modal_name_label":"Provider Name:","openai_add_modal_name_placeholder":"e.g.: openrouter","openai_add_modal_url_label":"Base URL:","openai_add_modal_url_placeholder":"e.g.: https://openrouter.ai/api/v1","openai_add_modal_keys_label":"API Keys","openai_edit_modal_keys_label":"API Keys","openai_keys_hint":"Add each key separately with an optional proxy URL to keep things organized.","openai_keys_add_btn":"Add Key","openai_key_placeholder":"sk-... key","openai_proxy_placeholder":"Optional proxy URL (e.g. socks5://...)","openai_add_modal_models_label":"Model List (name[, alias] one per line):","openai_models_hint":"Example: gpt-4o-mini or moonshotai/kimi-k2:free, kimi-k2","openai_model_name_placeholder":"Model name, e.g. moonshotai/kimi-k2:free","openai_model_alias_placeholder":"Model alias (optional)","openai_models_add_btn":"Add Model","openai_models_fetch_button":"Fetch via /models","openai_models_fetch_title":"Pick Models from /models","openai_models_fetch_hint":"Call the /models endpoint using the Base URL above, sending the first API key as Bearer plus custom headers.","openai_models_fetch_url_label":"Request URL","openai_models_fetch_refresh":"Refresh","openai_models_fetch_loading":"Fetching models from /models...","openai_models_fetch_empty":"No models returned. Please check the endpoint or auth.","openai_models_fetch_error":"Failed to fetch models","openai_models_fetch_back":"Back to edit","openai_models_fetch_apply":"Add selected models","openai_models_search_label":"Search models","openai_models_search_placeholder":"Filter by name, alias, or description","openai_models_search_empty":"No models match your search. Try a different keyword.","openai_models_fetch_invalid_url":"Please enter a valid Base URL first","openai_models_fetch_added":"{{count}} new models added","openai_edit_modal_title":"Edit OpenAI Compatible Provider","openai_edit_modal_name_label":"Provider Name:","openai_edit_modal_url_label":"Base URL:","openai_edit_modal_models_label":"Model List (name[, alias] one per line):","openai_delete_confirm":"Are you sure you want to delete this OpenAI provider?","openai_keys_count":"Keys Count","openai_models_count":"Models Count","openai_test_title":"Connection Test","openai_test_hint":"Send a /chat/completions request with the current settings to verify availability.","openai_test_model_placeholder":"Model to test","openai_test_action":"Run Test","openai_test_running":"Sending test request...","openai_test_timeout":"Test request timed out after {{seconds}} seconds.","openai_test_success":"Test succeeded. The model responded.","openai_test_failed":"Test failed","openai_test_select_placeholder":"Choose from current models","openai_test_select_empty":"No models configured. Add models first","openai_test_single_action":"Test","openai_test_all_action":"Test All Keys","openai_test_all_hint":"Test connection status for all keys","openai_test_all_success":"All {{count}} keys passed the test","openai_test_all_failed":"All {{count}} keys failed the test","openai_test_all_partial":"Test completed: {{success}} passed, {{failed}} failed"}'),uW={title:"Auth Files Management",title_section:"Auth Files",description:"Manage all CLI Proxy JSON auth files here (e.g. Qwen, Gemini, Vertex). Uploading a credential immediately enables the corresponding AI integration.",upload_button:"Upload File",delete_all_button:"Delete All",empty_title:"No Auth Files",empty_desc:"Click the button above to upload the first file",search_empty_title:"No matching files",search_empty_desc:"Try changing the filters or clearing the search box.",file_size:"Size",file_modified:"Modified",health_status_label:"Health",health_status_healthy:"Healthy",health_status_warning:"Warning",health_status_disabled:"Disabled",health_status_unknown:"Unknown",health_status_no_message:"No status message",last_refresh_label:"Last Refresh",refresh_not_available:"N/A",refresh_just_now:"Just now",download_button:"Download",delete_button:"Delete",delete_confirm:"Are you sure you want to delete file",delete_all_confirm:"Are you sure you want to delete all auth files? This operation cannot be undone!",delete_filtered_confirm:"Are you sure you want to delete all {{type}} auth files? This operation cannot be undone!",upload_error_json:"Only JSON files are allowed",upload_error_size:"File size cannot exceed {{maxSize}}",upload_success:"File uploaded successfully",download_success:"File downloaded successfully",delete_success:"File deleted successfully",delete_all_success:"Successfully deleted",delete_filtered_success:"Deleted {{count}} {{type}} auth files successfully",delete_filtered_partial:"{{type}} auth files deletion finished: {{success}} succeeded, {{failed}} failed",delete_filtered_none:"No deletable auth files under the current filter ({{type}})",files_count:"files",pagination_prev:"Previous",pagination_next:"Next",pagination_info:"Page {{current}} / {{total}}  {{count}} files",search_label:"Search configs",search_placeholder:"Filter by name, type, or provider",page_size_label:"Per page",page_size_unit:"items",view_mode_paged:"Paged",view_mode_all:"Show all",too_many_files_warning:"Too many credentials. Showing all may cause performance issues, please use paged view.",filter_all:"All",filter_qwen:"Qwen",filter_gemini:"Gemini","filter_gemini-cli":"GeminiCLI",filter_kimi:"Kimi",filter_aistudio:"AIStudio",filter_claude:"Claude",filter_codex:"Codex",filter_antigravity:"Antigravity",filter_iflow:"iFlow",filter_vertex:"Vertex",filter_empty:"Empty",filter_unknown:"Other",type_qwen:"Qwen",type_gemini:"Gemini","type_gemini-cli":"GeminiCLI",type_kimi:"Kimi",type_aistudio:"AIStudio",type_claude:"Claude",type_codex:"Codex",type_antigravity:"Antigravity",type_iflow:"iFlow",type_vertex:"Vertex",type_empty:"Empty",type_unknown:"Other",type_virtual:"Virtual auth file",models_button:"Models",models_title:"Supported models",models_loading:"Loading model list...",models_empty:"No available models for this credential",models_empty_desc:"This credential may not be loaded by the server yet, or no models are bound to it.",models_unsupported:"This feature is not supported in the current version",models_unsupported_desc:"Please update CLI Proxy API to the latest version and try again",models_excluded_badge:"Disabled",models_excluded_hint:"This OAuth model is disabled",status_toggle_label:"Enabled",status_enabled_success:'"{{name}}" enabled',status_disabled_success:'"{{name}}" disabled',batch_status_success:"{{count}} files updated successfully",batch_status_partial:"{{success}} updated, {{failed}} failed",batch_delete_title:"Delete Selected Files",batch_delete_confirm:"Are you sure you want to delete {{count}} files?",batch_selected:"{{count}} selected",batch_select_all:"Select All",batch_deselect:"Deselect",batch_enable:"Enable",batch_disable:"Disable",prefix_proxy_button:"Edit Auth Fields",auth_field_editor_title:"Edit Auth Fields - {{name}}",prefix_proxy_loading:"Loading auth file...",prefix_proxy_source_label:"Auth file JSON (preview)",prefix_label:"Prefix (prefix)",proxy_url_label:"Proxy URL (proxy_url)",prefix_placeholder:"",proxy_url_placeholder:"socks5://username:password@proxy_ip:port/",priority_label:"Priority (priority)",priority_placeholder:"e.g. 10 or -1",priority_hint:"Integers only. Invalid values are ignored. Larger value means higher priority.",excluded_models_label:"Excluded models (excluded_models)",excluded_models_placeholder:"Comma or newline separated, e.g. model-a, gpt-5-*, *-preview",excluded_models_hint:"Saved as an array and normalized by trim/lowercase/dedup/sort.",disable_cooling_label:"Disable cooling (disable_cooling)",disable_cooling_placeholder:"e.g. true / false / 1 / 0",disable_cooling_hint:"Supports booleans, numeric 0/non-0, and strings like true/false/1/0; unparseable values are ignored.",prefix_proxy_invalid_json:"This auth file is not a JSON object, so fields cannot be edited.",prefix_proxy_saved_success:'Updated auth file "{{name}}" successfully',quota_refresh_success:'Quota refreshed for "{{name}}"',quota_refresh_failed:'Failed to refresh quota for "{{name}}": {{message}}'},dW={title:"Antigravity Quota",empty_title:"No Antigravity Auth Files",empty_desc:"Upload an Antigravity credential to view remaining quota.",idle:"Click here to refresh quota",loading:"Loading quota...",load_failed:"Failed to load quota: {{message}}",missing_auth_index:"Auth file missing auth_index",empty_models:"No quota data available",refresh_button:"Refresh Quota",fetch_all:"Fetch All"},hW={title:"Claude Quota",empty_title:"No Claude OAuth Files",empty_desc:"Log in with Claude OAuth to view quota.",idle:"Click here to refresh quota",loading:"Loading quota...",load_failed:"Failed to load quota: {{message}}",missing_auth_index:"Auth file missing auth_index",empty_windows:"No quota data available",refresh_button:"Refresh Quota",fetch_all:"Fetch All",five_hour:"5-hour limit",seven_day:"7-day limit",seven_day_oauth_apps:"7-day OAuth apps",seven_day_opus:"7-day Opus",seven_day_sonnet:"7-day Sonnet",seven_day_cowork:"7-day Cowork",iguana_necktie:"Iguana Necktie",extra_usage_label:"Extra Usage"},fW={title:"Codex Quota",empty_title:"No Codex Auth Files",empty_desc:"Upload a Codex credential to view quota.",idle:"Click here to refresh quota",loading:"Loading quota...",load_failed:"Failed to load quota: {{message}}",missing_auth_index:"Auth file missing auth_index",missing_account_id:"Codex credential missing ChatGPT account ID",empty_windows:"No quota data available",no_access:"This credential has no Codex access (plan: free).",refresh_button:"Refresh Quota",fetch_all:"Fetch All",primary_window:"5-hour limit",secondary_window:"Weekly limit",code_review_primary_window:"Code review 5-hour limit",code_review_secondary_window:"Code review weekly limit",additional_primary_window:"{{name}} 5-hour limit",additional_secondary_window:"{{name}} weekly limit",plan_label:"Plan",plan_plus:"Plus",plan_team:"Team",plan_free:"Free"},mW={title:"Gemini CLI Quota",empty_title:"No Gemini CLI Auth Files",empty_desc:"Upload a Gemini CLI credential to view remaining quota.",idle:"Click here to refresh quota",loading:"Loading quota...",load_failed:"Failed to load quota: {{message}}",missing_auth_index:"Auth file missing auth_index",missing_project_id:"Gemini CLI credential missing project ID",empty_buckets:"No quota data available",refresh_button:"Refresh Quota",fetch_all:"Fetch All",remaining_amount:"Remaining {{count}}"},pW={title:"Vertex JSON Login",description:"Upload a Google service account JSON to store it as auth-dir/vertex-<project>.json using the same rules as the CLI vertex-import helper.",location_label:"Region (optional)",location_placeholder:"us-central1",location_hint:"Leave empty to use the default region us-central1.",file_label:"Service account key JSON",file_hint:"Only Google Cloud service account key JSON files are accepted.",file_placeholder:"No file selected",choose_file:"Choose File",import_button:"Import Vertex Credential",file_required:"Select a .json credential file first",success:"Vertex credential imported successfully",result_title:"Credential saved",result_project:"Project ID",result_email:"Service account",result_location:"Region",result_file:"Persisted file"},gW={title:"OAuth Model Disablement",description:"Per-provider model disablement is shown as cards; click a card to edit or delete. Wildcards * are supported and the scope follows the auth file filter.",add:"Add Disablement",add_title:"Add provider model disablement",edit_title:"Edit model disablement for {{provider}}",refresh:"Refresh",refreshing:"Refreshing...",provider_label:"Provider",provider_auto:"Follow current filter",provider_placeholder:"e.g. gemini-cli",provider_hint:"Defaults to the current filter; pick an existing provider or type a new name.",models_label:"Models to disable",models_loading:"Loading models...",models_unsupported:"Current CPA version does not support fetching model lists.",models_loaded:"{{count}} models loaded. Check the models to disable.",no_models_available:"No models available for this provider.",save:"Save/Update",saving:"Saving...",save_success:"Model disablement updated",save_failed:"Failed to update model disablement",delete:"Delete Provider",delete_confirm:"Delete model disablement for {{provider}}?",delete_success:"Provider model disablement removed",delete_failed:"Failed to delete model disablement",deleting:"Deleting...",no_models:"No disabled models configured",model_count:"{{count}} models disabled",list_empty_all:"No provider model disablement yet; click Add Disablement to create one.",list_empty_filtered:"No disabled items in this scope; click Add Disablement to add.",disconnected:"Connect to the server to view model disablement",load_failed:"Failed to load model disablement",provider_required:"Please enter a provider first",scope_all:"Scope: All providers",scope_provider:"Scope: {{provider}}",upgrade_required:"Current CPA version does not support OAuth model disablement. Please upgrade.",upgrade_required_title:"Please upgrade CLI Proxy API",upgrade_required_desc:"The current server version does not support fetching OAuth model disablement. Please upgrade to the latest CPA (CLI Proxy API) version and try again."},_W={title:"OAuth Model Aliases",add:"Add Alias",add_title:"Add provider model aliases",provider_label:"Provider",provider_placeholder:"e.g. gemini-cli / vertex",provider_hint:"Defaults to the current filter; pick an existing provider or type a new name.",model_source_loading:"Loading models...",model_source_unsupported:"The current CPA version does not support fetching model lists (manual input still works).",model_source_loaded:"{{count}} models loaded. Use the dropdown in 'Source model name', or type custom values. Saving an empty list removes that provider. Enable 'Keep original' to keep the original name while adding the alias.",alias_label:"Model aliases",alias_name_placeholder:"Source model name",alias_placeholder:"Alias (required)",alias_fork_label:"Keep original",add_alias:"Add alias",save:"Save/Update",save_success:"Model aliases updated",save_failed:"Failed to update model aliases",delete:"Delete Provider",delete_confirm:"Delete model aliases for {{provider}}?",delete_link_title:"Unlink mapping",delete_link_confirm:"Unlink mapping from <code>{{sourceModel}}</code> ({{provider}}) to alias <code>{{alias}}</code>?",delete_alias_title:"Delete Alias",delete_alias_confirm:"Delete alias <code>{{alias}}</code> and unmap all associated models?",delete_success:"Model aliases removed",delete_failed:"Failed to delete model aliases",no_models:"No model aliases",model_count:"{{count}} aliases",list_empty_all:"No model aliases yetuse Add Alias to create one.",chart_title:"All mappings overview",diagram_providers:"Providers",diagram_source_models:"Source Models",diagram_aliases:"Aliases",diagram_expand:"Expand",diagram_collapse:"Collapse",diagram_add_alias:"Add Alias",diagram_rename:"Rename",diagram_rename_alias_title:"Rename alias",diagram_rename_alias_label:"New alias name",diagram_rename_placeholder:"Enter alias name...",diagram_delete_link:"Unlink from {{provider}} / {{name}}",diagram_delete_alias:"Delete alias",diagram_please_enter_alias:"Please enter an alias name.",diagram_alias_exists:"This alias already exists.",diagram_add_alias_title:"Add alias",diagram_add_alias_label:"Alias name",diagram_add_placeholder:"Enter new alias name...",diagram_rename_btn:"Rename",diagram_add_btn:"Add",diagram_settings:"Settings",diagram_settings_title:"Alias settings  {{alias}}",diagram_settings_source_title:"Source model settings",diagram_settings_empty:"No mappings for this alias yet.",diagram_tap_hint:"On touch devices: tap a source model, then tap an alias to link.",view_mode:"View mode",view_mode_diagram:"Diagram",view_mode_list:"List",provider_required:"Please enter a provider first",upgrade_required:"This feature requires a newer CLI Proxy API (CPA) version. Please upgrade.",upgrade_required_title:"Please upgrade CLI Proxy API",upgrade_required_desc:"The current server does not support the OAuth model aliases API. Please upgrade to the latest CLI Proxy API (CPA) version."},yW={codex_oauth_title:"Codex OAuth",codex_oauth_button:"Start Codex Login",codex_oauth_hint:"Login to Codex service through OAuth flow, automatically obtain and save authentication files.",codex_oauth_url_label:"Authorization URL:",codex_open_link:"Open Link",codex_copy_link:"Copy Link",codex_oauth_status_waiting:"Waiting for authentication...",codex_oauth_status_success:"Authentication successful!",codex_oauth_status_error:"Authentication failed:",codex_oauth_start_error:"Failed to start Codex OAuth:",codex_oauth_polling_error:"Failed to check authentication status:",anthropic_oauth_title:"Anthropic OAuth",anthropic_oauth_button:"Start Anthropic Login",anthropic_oauth_hint:"Login to Anthropic (Claude) service through OAuth flow, automatically obtain and save authentication files.",anthropic_oauth_url_label:"Authorization URL:",anthropic_open_link:"Open Link",anthropic_copy_link:"Copy Link",anthropic_oauth_status_waiting:"Waiting for authentication...",anthropic_oauth_status_success:"Authentication successful!",anthropic_oauth_status_error:"Authentication failed:",anthropic_oauth_start_error:"Failed to start Anthropic OAuth:",anthropic_oauth_polling_error:"Failed to check authentication status:",antigravity_oauth_title:"Antigravity OAuth",antigravity_oauth_button:"Start Antigravity Login",antigravity_oauth_hint:"Login to Antigravity service (Google account) through OAuth flow, automatically obtain and save authentication files.",antigravity_oauth_url_label:"Authorization URL:",antigravity_open_link:"Open Link",antigravity_copy_link:"Copy Link",antigravity_oauth_status_waiting:"Waiting for authentication...",antigravity_oauth_status_success:"Authentication successful!",antigravity_oauth_status_error:"Authentication failed:",antigravity_oauth_start_error:"Failed to start Antigravity OAuth:",antigravity_oauth_polling_error:"Failed to check authentication status:",gemini_cli_oauth_title:"Gemini CLI OAuth",gemini_cli_oauth_button:"Start Gemini CLI Login",gemini_cli_oauth_hint:"Login to Google Gemini CLI service through OAuth flow, automatically obtain and save authentication files.",gemini_cli_project_id_label:"Google Cloud Project ID (Optional):",gemini_cli_project_id_placeholder:"Leave blank to auto-select first available project",gemini_cli_project_id_hint:"Optional. If not provided, the system will automatically select the first available project from your account. Enter ALL to fetch all projects.",gemini_cli_project_id_required:"Please enter a Google Cloud project ID.",gemini_cli_oauth_url_label:"Authorization URL:",gemini_cli_open_link:"Open Link",gemini_cli_copy_link:"Copy Link",gemini_cli_oauth_status_waiting:"Waiting for authentication...",gemini_cli_oauth_status_success:"Authentication successful!",gemini_cli_oauth_status_error:"Authentication failed:",gemini_cli_oauth_start_error:"Failed to start Gemini CLI OAuth:",gemini_cli_oauth_polling_error:"Failed to check authentication status:",kimi_oauth_title:"Kimi OAuth",kimi_oauth_button:"Start Kimi Login",kimi_oauth_hint:"Login to Kimi service through OAuth device flow, automatically obtain and save authentication files.",kimi_oauth_url_label:"Authorization URL:",kimi_open_link:"Open Link",kimi_copy_link:"Copy Link",kimi_oauth_status_waiting:"Waiting for authentication...",kimi_oauth_status_success:"Authentication successful!",kimi_oauth_status_error:"Authentication failed:",kimi_oauth_start_error:"Failed to start Kimi OAuth:",kimi_oauth_polling_error:"Failed to check authentication status:",qwen_oauth_title:"Qwen OAuth",qwen_oauth_button:"Start Qwen Login",qwen_oauth_hint:"Login to Qwen service through device authorization flow, automatically obtain and save authentication files.",qwen_oauth_url_label:"Authorization URL:",qwen_open_link:"Open Link",qwen_copy_link:"Copy Link",qwen_oauth_status_waiting:"Waiting for authentication...",qwen_oauth_status_success:"Authentication successful!",qwen_oauth_status_error:"Authentication failed:",qwen_oauth_start_error:"Failed to start Qwen OAuth:",qwen_oauth_polling_error:"Failed to check authentication status:",oauth_callback_label:"Callback URL",oauth_callback_placeholder:"http://localhost:1455/auth/callback?code=...&state=...",oauth_callback_hint:"Remote browser mode: after the provider redirects to http://localhost:..., copy the full URL and submit it here.",oauth_callback_button:"Submit Callback URL",oauth_callback_required:"Please paste the full redirect URL first.",oauth_callback_success:"Callback URL submitted. Continue waiting for authentication.",oauth_callback_error:"Failed to submit callback URL:",oauth_callback_upgrade_hint:"Please update CLI Proxy API or check the connection.",oauth_callback_status_success:"Callback URL submitted, waiting for authentication...",oauth_callback_status_error:"Callback URL submission failed:",missing_state:"Unable to retrieve authentication state parameter",iflow_oauth_title:"iFlow OAuth",iflow_oauth_button:"Start iFlow Login",iflow_oauth_hint:"Login to iFlow service through OAuth flow, automatically obtain and save authentication files.",iflow_oauth_url_label:"Authorization URL:",iflow_open_link:"Open Link",iflow_copy_link:"Copy Link",iflow_oauth_status_waiting:"Waiting for authentication...",iflow_oauth_status_success:"Authentication successful!",iflow_oauth_status_error:"Authentication failed:",iflow_oauth_start_error:"Failed to start iFlow OAuth:",iflow_oauth_polling_error:"Failed to check authentication status:",iflow_cookie_title:"iFlow Cookie Login",iflow_cookie_label:"Cookie Value:",iflow_cookie_placeholder:"Enter the BXAuth value, starting with BXAuth=",iflow_cookie_hint:"Submit an existing cookie to finish login without opening the authorization link; the credential file will be saved automatically.",iflow_cookie_key_hint:"Note: Create a key on the platform first.",iflow_cookie_button:"Submit Cookie Login",iflow_cookie_status_success:"Cookie login succeeded and credentials are saved.",iflow_cookie_status_error:"Cookie login failed:",iflow_cookie_status_duplicate:"Duplicate config:",iflow_cookie_start_error:"Failed to submit cookie login:",iflow_cookie_config_duplicate:"A config file already exists (duplicate). Remove the existing file and try again if you want to re-save it.",iflow_cookie_required:"Please provide the Cookie value first.",iflow_cookie_result_title:"Cookie Login Result",iflow_cookie_result_email:"Account",iflow_cookie_result_expired:"Expires At",iflow_cookie_result_path:"Saved Path",iflow_cookie_result_type:"Type",remote_access_disabled:"This login method is not available for remote access. Please access from localhost."},bW={title:"Usage Statistics",total_requests:"Total Requests",success_requests:"Success Requests",failed_requests:"Failed Requests",total_tokens:"Total Tokens",cached_tokens:"Cached Tokens",reasoning_tokens:"Reasoning Tokens",rpm_30m:"RPM",tpm_30m:"TPM",rate_30m:"Rate (last 30 min)",model_name:"Model Name",model_price_settings:"Model Pricing Settings",saved_prices:"Saved Prices",requests_trend:"Request Trends",tokens_trend:"Token Usage Trends",api_details:"API Details",by_hour:"By Hour",by_day:"By Day",range_filter:"Time Range",range_all:"All Time",range_7h:"Last 7 Hours",range_24h:"Last 24 Hours",range_7d:"Last 7 Days",filter_all:"All",clear_filters:"Clear Filters",refresh:"Refresh",export:"Export",import:"Import",export_csv:"Export CSV",export_json:"Export JSON",export_success:"Usage export downloaded",import_success:"Import complete: added {{added}}, skipped {{skipped}}, total {{total}}, failed {{failed}}",import_invalid:"Invalid usage export file",chart_line_label_1:"Line 1",chart_line_label_2:"Line 2",chart_line_label_3:"Line 3",chart_line_label_4:"Line 4",chart_line_label_5:"Line 5",chart_line_label_6:"Line 6",chart_line_label_7:"Line 7",chart_line_label_8:"Line 8",chart_line_label_9:"Line 9",chart_line_hidden:"Hide",chart_line_actions_label:"Lines to display",chart_line_add:"Add line",chart_line_all:"All",chart_line_delete:"Delete line",chart_line_hint:"Show up to 9 model lines at once",no_data:"No Data Available",loading_error:"Loading Failed",api_endpoint:"API Endpoint",requests_count:"Request Count",tokens_count:"Token Count",models:"Model Statistics",success_rate:"Success Rate",total_cost:"Total Cost",total_cost_hint:"Based on configured model pricing",model_price_title:"Model Pricing",model_price_reset:"Clear Prices",model_price_model_label:"Model",model_price_select_placeholder:"Choose a model",model_price_select_hint:"Models come from usage details",model_price_prompt:"Prompt price",model_price_completion:"Completion price",model_price_cache:"Cache price",model_price_save:"Save Price",model_price_empty:"No model prices set",model_price_model:"Model",model_price_saved:"Model price saved",model_price_model_required:"Please choose a model to set pricing",cost_trend:"Cost Overview",cost_axis_label:"Cost ($)",cost_need_price:"Set a model price to view cost stats",cost_need_usage:"No usage data available to calculate cost",cost_no_data:"No cost data yet",credential_stats:"Credential Statistics",credential_name:"Credential",token_breakdown:"Token Type Breakdown",request_events_title:"Request Events",request_events_filter_model:"Model",request_events_filter_source:"Source",request_events_filter_auth_index:"Auth Index",request_events_timestamp:"Timestamp",request_events_source:"Source",request_events_auth_index:"Auth Index",request_events_result:"Result",request_events_empty_title:"No request events",request_events_empty_desc:"No request details are available for the selected time range.",request_events_no_result_title:"No matching events",request_events_no_result_desc:"Try different filters or clear the current filters.",request_events_count:"{{count}} events",request_events_limit_hint:"Showing {{shown}} of {{total}} events to keep rendering responsive.",input_tokens:"Input Tokens",output_tokens:"Output Tokens",last_updated:"Updated"},xW={success:"Success",failure:"Failure"},vW={success_short:"",failure_short:"",no_requests:"No requests"},SW={title:"Service Health",window:"Last 7 days",oldest:"Oldest",newest:"Latest"},wW={title:"Logs Viewer",refresh_button:"Refresh Logs",clear_button:"Clear Logs",download_button:"Download Logs",error_log_button:"Select Error Log",error_logs_modal_title:"Error Request Logs",error_logs_description:"Pick an error request log file to download (only generated when request logging is off).",error_logs_request_log_enabled:"Request logging is enabled, so this list will always be empty. Disable request logging and refresh to view error logs.",error_logs_empty:"No error request log files found",error_logs_load_error:"Failed to load error log list",error_logs_size:"Size",error_logs_modified:"Last modified",error_logs_download:"Download",error_log_download_success:"Error log downloaded successfully",request_log_download_title:"Download Request Log",request_log_download_confirm:"Download request log for ID {{id}}?",request_log_download_success:"Request log downloaded successfully",empty_title:"No Logs Available",empty_desc:'When "Enable logging to file" is enabled, logs will be displayed here',log_content:"Log Content",loading:"Loading logs...",load_error:"Failed to load logs",clear_confirm:"Are you sure you want to clear all logs? This action cannot be undone!",clear_success:"Logs cleared successfully",download_success:"Logs downloaded successfully",auto_refresh:"Auto Refresh",auto_refresh_enabled:"Auto refresh enabled",auto_refresh_disabled:"Auto refresh disabled",load_more_hint:"Scroll up to load more",hidden_lines:"Hidden: {{count}} lines",loaded_lines:"Loaded: {{count}} lines",filtered_lines:"Filtered: {{count}} lines",hide_management_logs:"Hide {{prefix}} logs",show_raw_logs:"Show Raw Logs",show_raw_logs_hint:"Show original log text for easier multi-line copy",search_placeholder:"Search logs by content or keyword",filter_method:"Method",filter_status:"Status",filter_path:"Path",filter_path_empty:"No path candidates",filter_status_2xx:"2xx",filter_status_3xx:"3xx",filter_status_4xx:"4xx",filter_status_5xx:"5xx",clear_filters:"Clear Filters",trace_button:"Trace",trace_title:"Request Trace (V1)",trace_notice:"V1 uses heuristic correlation between logs and usage events. Results are estimates, not strict request_id matches.",trace_log_info:"Log Event",trace_candidates_title:"Usage Match Candidates",trace_loading:"Matching usage events...",trace_no_match:"No candidate matches found.",trace_usage_load_error:"Failed to load usage details for tracing",trace_download_request_log:"Download Request Log",trace_confidence_high:"High",trace_confidence_medium:"Medium",trace_confidence_low:"Low",trace_score:"Score {{score}}",trace_delta_seconds:"t {{seconds}}s",trace_request_id:"Request ID",trace_method:"Method",trace_path:"Path",trace_status_code:"Status",trace_latency:"Latency",trace_ip:"IP",trace_timestamp:"Timestamp",trace_message:"Message",trace_endpoint:"Usage Endpoint",trace_model:"Model",trace_source:"Source",trace_auth_index:"Auth Index",trace_result:"Result",search_empty_title:"No matching logs found",search_empty_desc:"Try a different keyword or clear the filters.",double_click_copy_hint:"Double-click to copy raw log line",copy_success:"Log copied to clipboard",copy_failed:"Copy failed",lines:"lines",removed:"Filtered",upgrade_required_title:"Please Upgrade CLI Proxy API",upgrade_required_desc:"The current server version does not support the logs viewing feature. Please upgrade to the latest version of CLI Proxy API to use this feature."},kW={title:"Config Panel",editor_title:"Configuration File",reload:"Reload",save:"Save",description:"Edit config.yaml via visual editor or source file",status_idle:"Waiting for action",status_loading:"Loading configuration...",status_loaded:"Configuration loaded",status_dirty:"Unsaved changes",status_disconnected:"Connect to the server to load the configuration",status_load_failed:"Load failed",status_saving:"Saving configuration...",status_saved:"Configuration saved",status_save_failed:"Save failed",save_success:"Configuration saved successfully",error_yaml_not_supported:"Server did not return YAML. Verify the /config.yaml endpoint is available.",editor_placeholder:"key: value",search_placeholder:"Search config...",search_button:"Search",search_no_results:"No results",search_prev:"Previous",search_next:"Next",diff:{title:"Review Changes",current:"Current",modified:"Modified",confirm:"Confirm Save",no_changes:"No changes detected"},tabs:{visual:"Visual Editor",source:"Source File Editor"},visual:{sections:{server:{title:"Server Configuration",description:"Basic server settings",host:"Host Address",port:"Port"},tls:{title:"TLS/SSL Configuration",description:"HTTPS secure connection settings",enable:"Enable TLS",enable_desc:"Enable HTTPS secure connection",cert:"Certificate File Path",key:"Private Key File Path"},remote:{title:"Remote Management",description:"Remote access and control panel settings",allow_remote:"Allow Remote Access",allow_remote_desc:"Allow management access from other hosts",disable_panel:"Disable Control Panel",disable_panel_desc:"Disable the built-in web control panel",secret_key:"Management Key",secret_key_placeholder:"Set management key",panel_repo:"Panel Repository"},auth:{title:"Authentication Configuration",description:"API keys and authentication directory settings",auth_dir:"Auth Directory (auth-dir)",auth_dir_hint:"Directory path for authentication files (supports ~)"},system:{title:"System Configuration",description:"Debug, logging, statistics, and performance settings",debug:"Debug Mode",debug_desc:"Enable verbose debug logging",commercial_mode:"Commercial Mode",commercial_mode_desc:"Disable high-overhead middleware to support high concurrency",logging_to_file:"Log to File",logging_to_file_desc:"Save logs to files",usage_statistics:"Usage Statistics",usage_statistics_desc:"Collect usage statistics",logs_max_size:"Log File Size Limit (MB)"},network:{title:"Network Configuration",description:"Proxy, retry, and routing settings",proxy_url:"Proxy URL",request_retry:"Request Retry Count",max_retry_interval:"Max Retry Interval (seconds)",routing_strategy:"Routing Strategy",routing_strategy_hint:"Select credential selection strategy",strategy_round_robin:"Round Robin",strategy_fill_first:"Fill First",force_model_prefix:"Force Model Prefix",force_model_prefix_desc:"Unprefixed model requests only use credentials without prefix",ws_auth:"WebSocket Authentication",ws_auth_desc:"Enable WebSocket authentication (/v1/ws)"},quota:{title:"Quota Fallback",description:"Fallback strategy when quota is exceeded",switch_project:"Switch Project",switch_project_desc:"Automatically switch to another project when quota is exceeded",switch_preview_model:"Switch to Preview Model",switch_preview_model_desc:"Switch to preview model version when quota is exceeded"},streaming:{title:"Streaming Configuration",description:"Keepalive and bootstrap retry settings",keepalive_seconds:"Keepalive Seconds",keepalive_hint:"Set to 0 or leave empty to disable keepalive",bootstrap_retries:"Bootstrap Retries",bootstrap_hint:"Number of retries during stream startup (before first byte)",nonstream_keepalive:"Non-stream Keepalive Interval (seconds)",nonstream_keepalive_hint:"Send blank lines every N seconds for non-streaming responses to prevent idle timeout, set to 0 or leave empty to disable",disabled:"Disabled"},payload:{title:"Payload Configuration",description:"Default values, override rules, and filter rules",default_rules:"Default Rules",default_rules_desc:"Use these default values when parameters are not specified in the request",override_rules:"Override Rules",override_rules_desc:"Force override parameter values in the request",filter_rules:"Filter Rules",filter_rules_desc:"Pre-filter upstream request body via JSON Path, automatically remove non-compliant/redundant parameters (Request Sanitization)"}},api_keys:{label:"API Keys List (api-keys)",add:"Add API Key",generate:"Generate",empty:"No API keys",hint:"Each entry represents an API key (consistent with 'API Key Management' page style)",edit_title:"Edit API Key",add_title:"Add API Key",input_label:"API Key",input_placeholder:"Paste your API key",input_hint:"This only modifies the local config file content, it will not sync to the API Key Management interface",error_empty:"Please enter an API key",error_invalid:"API key contains invalid characters"},payload_rules:{rule:"Rule",models:"Applicable Models",model_name:"Model Name",provider_type:"Provider Type",add_model:"Add Model",params:"Parameter Settings",remove_params:"Remove Parameters",json_path:"JSON Path (e.g., temperature)",json_path_filter:"JSON Path (gjson/sjson), e.g., generationConfig.thinkingConfig.thinkingBudget",param_type:"Parameter Type",add_param:"Add Parameter",no_rules:"No rules",add_rule:"Add Rule",provider_default:"Default",provider_openai:"OpenAI",provider_openai_response:"OpenAI Response",provider_gemini:"Gemini",provider_claude:"Claude",provider_codex:"Codex",provider_antigravity:"Antigravity",value_type_string:"String",value_type_number:"Number",value_type_boolean:"Boolean",value_type_json:"JSON",value_string:"String value",value_number:"Number value (e.g., 0.7)",value_boolean:"true or false",value_json:"JSON value",value_default:"Value"},common:{edit:"Edit",delete:"Delete",cancel:"Cancel",update:"Update",add:"Add"}}},CW={title:"Quota Management",description:"Monitor OAuth quota status for Antigravity, Codex, and Gemini CLI credentials.",refresh_files:"Refresh auth files",refresh_files_and_quota:"Refresh files & quota",card_idle_hint:'Use the top "Refresh files & quota" button to fetch the latest quota data.'},AW={title:"Management Center Info",about_title:"CLI Proxy API Management Center",connection_status_title:"Connection Status",api_status_label:"API Status:",config_status_label:"Config Status:",last_update_label:"Last Update:",cache_data:"Cache Data",real_time_data:"Real-time Data",not_loaded:"Not Loaded",seconds_ago:"seconds ago",models_title:"Available Models",models_desc:"Shows the /models response and uses saved API keys for auth automatically.",models_loading:"Loading available models...",models_empty:"No models returned by /models",models_error:"Failed to load model list",models_count:"{{count}} available models",version_check_title:"Update Check",version_check_desc:"Call the /latest-version endpoint to compare with the server version and see if an update is available.",version_current_label:"Current version",version_latest_label:"Latest version",version_check_button:"Check for updates",version_check_idle:"Click to check for updates",version_checking:"Checking for the latest version...",version_update_available:"An update is available: {{version}}",version_is_latest:"You are on the latest version",version_check_error:"Update check failed",version_current_missing:"Server version is unavailable; cannot compare",version_unknown:"Unknown",quick_links_title:"Quick Links",quick_links_desc:"Access project repositories and documentation for help and updates.",link_main_repo:"Main Repository",link_main_repo_desc:"CLI Proxy API core program source code",link_webui_repo:"WebUI Repository",link_webui_repo_desc:"Management Center frontend source code",link_docs:"Documentation",link_docs_desc:"Usage tutorials and configuration guides",clear_login_title:"Local Login Data",clear_login_desc:"Clear locally saved login data and sign out. Usage stats pricing settings will remain untouched.",clear_login_button:"Clear login data",clear_login_confirm:"Clear local login data and sign out now?"},TW={debug_updated:"Debug settings updated",proxy_updated:"Proxy settings updated",proxy_cleared:"Proxy settings cleared",retry_updated:"Retry settings updated",quota_switch_project_updated:"Project switch settings updated",quota_switch_preview_updated:"Preview model switch settings updated",usage_statistics_updated:"Usage statistics settings updated",logging_to_file_updated:"Logging settings updated",logs_max_total_size_updated:"Log size limit updated",request_log_updated:"Request logging setting updated",force_model_prefix_updated:"Model prefix setting updated",ws_auth_updated:"WebSocket authentication setting updated",routing_strategy_updated:"Routing strategy updated",login_storage_cleared:"Local login data cleared",api_key_added:"API key added successfully",api_key_updated:"API key updated successfully",api_key_deleted:"API key deleted successfully",api_key_invalid_chars:"API key can only contain letters, numbers, and symbols",gemini_key_added:"Gemini key added successfully",gemini_key_updated:"Gemini key updated successfully",gemini_key_deleted:"Gemini key deleted successfully",gemini_multi_input_required:"Please enter at least one Gemini key",gemini_multi_failed:"Gemini bulk add failed",gemini_multi_summary:"Gemini bulk add finished: {{success}} added, {{skipped}} skipped, {{failed}} failed",codex_config_added:"Codex configuration added successfully",codex_config_updated:"Codex configuration updated successfully",codex_config_deleted:"Codex configuration deleted successfully",codex_base_url_required:"Please enter the Codex Base URL",claude_config_added:"Claude configuration added successfully",claude_config_updated:"Claude configuration updated successfully",claude_config_deleted:"Claude configuration deleted successfully",vertex_config_added:"Vertex configuration added successfully",vertex_config_updated:"Vertex configuration updated successfully",vertex_config_deleted:"Vertex configuration deleted successfully",vertex_base_url_required:"Please enter the Vertex Base URL",config_enabled:"Configuration enabled",config_disabled:"Configuration disabled",field_required:"Required fields cannot be empty",openai_provider_required:"Please fill in provider name and Base URL",openai_provider_added:"OpenAI provider added successfully",openai_provider_updated:"OpenAI provider updated successfully",openai_provider_deleted:"OpenAI provider deleted successfully",ampcode_updated:"Ampcode configuration updated",ampcode_upstream_api_key_cleared:"Ampcode upstream API key override cleared",openai_model_name_required:"Model name is required",openai_test_url_required:"Please provide a valid Base URL before testing",openai_test_key_required:"Please add at least one API key before testing",openai_test_model_required:"Please select a model to test",data_refreshed:"Data refreshed successfully",connection_required:"Please establish connection first",refresh_failed:"Refresh failed",update_failed:"Update failed",add_failed:"Add failed",delete_failed:"Delete failed",upload_failed:"Upload failed",download_failed:"Download failed",login_failed:"Login failed",please_enter:"Please enter",please_fill:"Please fill",provider_name_url:"provider name and Base URL",api_key:"API key",gemini_api_key:"Gemini API key",codex_api_key:"Codex API key",claude_api_key:"Claude API key",commercial_mode_restart_required:"Commercial mode setting changed. Please restart the service for it to take effect",copy_failed:"Copy failed",link_copied:"Link copied to clipboard"},NW={switch:"Language",chinese:"",english:"English",russian:""},MW={switch:"Theme",light:"Light",dark:"Dark",switch_to_light:"Switch to light mode",switch_to_dark:"Switch to dark mode",auto:"Follow system"},OW={toggle_expand:"Expand sidebar",toggle_collapse:"Collapse sidebar"},LW={api_version:"CLI Proxy API Version",build_date:"Build Time",version:"Management UI Version",author:"Author"},PW={common:ZV,title:JV,splash:eW,auto_login:tW,login:nW,header:iW,connection:sW,nav:aW,dashboard:rW,basic_settings:oW,api_keys:lW,ai_providers:cW,auth_files:uW,antigravity_quota:dW,claude_quota:hW,codex_quota:fW,gemini_cli_quota:mW,vertex_import:pW,oauth_excluded:gW,oauth_model_alias:_W,auth_login:yW,usage_stats:bW,stats:xW,status_bar:vW,service_health:SW,logs:wW,config_management:kW,quota_management:CW,system_info:AW,notification:TW,language:NW,theme:MW,sidebar:OW,footer:LW},RW={login:"",logout:"",back:"",cancel:"",confirm:"",leave:"",stay:"",save:"",delete:"",edit:"",add:"",update:"",refresh:"",close:"",success:"",error:"",info:"",warning:"",loading:"...",connecting:"...",connected:"",disconnected:"",connecting_status:"",connected_status:"",disconnected_status:"",yes:"",no:"",not_set:" ",optional:"",required:"",api_key:"",base_url:"",prefix:"",proxy_url:"",priority:"",alias:"",failure:"",unknown_error:" ",quota_update_required:",  CPA    ",quota_check_credential:",    ",copy:"",status:"",action:"",custom_headers_label:" ",custom_headers_hint:"  HTTP-    .    .",custom_headers_add:" ",custom_headers_key_placeholder:" ,  X-Custom-Header",custom_headers_value_placeholder:" ",model_name_placeholder:" , . claude-3-5-sonnet-20241022",model_alias_placeholder:"  ()",invalid_provider_index:"  .",unsaved_changes_title:" ",unsaved_changes_message:"    .   ,   . ?"},EW={main:"  CLI Proxy API",login:"  CLI Proxy API",abbr:"CPAMC"},jW={title:"CLI Proxy API",subtitle:" "},DW={title:"...",message:"   ,   "},FW={subtitle:"  ,      ",connection_title:" ",connection_current:" URL",connection_auto_hint:"    URL  ",custom_connection_label:" URL :",custom_connection_placeholder:".: https://example.com:8317",custom_connection_hint:"    URL.    .",use_current_address:"  URL",remember_password_label:" ",management_key_label:" :",management_key_placeholder:"  ",connect_button:"",submit_button:"",submitting:"...",error_title:" ",error_required:",    ",error_invalid:"  ,    ",error_network:" ,     ",error_timeout:"  ,   ",error_unauthorized:"  ,   ",error_forbidden:" ,  ",error_not_found:"       ",error_server:"  ,  ",error_cors:" CORS,   ",error_ssl:"  SSL/TLS "},UW={check_connection:" ",refresh_all:" ",logout:""},BW={title:"  ",server_address:" :",management_key:" :",status:" :"},IW={dashboard:"",basic_settings:" ",api_keys:"API ",ai_providers:" AI",auth_files:" ",oauth:"OAuth ",quota_management:" ",usage_stats:" ",config_management:" ",logs:" ",system_info:" "},zW={title:" ",subtitle:"     CLI Proxy API",openai_providers:" OpenAI",quick_actions:" ",current_config:" ",management_keys:" ",provider_keys_detail:"G:{{gemini}} C:{{codex}} Cl:{{claude}} O:{{openai}}",oauth_credentials:"  OAuth",usage_overview:" ",total_requests:" ",total_tokens:" ",rpm_30min:"RPM (30 )",tpm_30min:"TPM (30 )",models_used:" ",no_usage_data:"   ",view_detailed_usage:"  ",edit_settings:" ",routing_strategy:" ",available_models:" ",available_models_desc:"    "},qW={title:" ",debug_title:" ",debug_enable:"  ",proxy_title:" ",proxy_url_label:"URL :",proxy_url_placeholder:": socks5://user:pass@127.0.0.1:1080/",proxy_update:"",proxy_clear:"",retry_title:" ",retry_count_label:" :",retry_update:"",quota_title:"   ",quota_switch_project:"  ",quota_switch_preview:"  preview-",usage_statistics_title:" ",usage_statistics_enable:"  ",logging_title:"",logging_to_file_enable:"   ",logs_max_total_size_title:"  ",logs_max_total_size_label:"    ():",logs_max_total_size_hint:" 0,   .",logs_max_total_size_update:"",request_log_title:" ",request_log_enable:"  ",request_log_warning:" ,     .",force_model_prefix_enable:"   ",ws_auth_title:" WebSocket",ws_auth_enable:"   /ws/*",routing_title:" ",routing_strategy_label:" :",routing_strategy_hint:"round-robin   ; fill-first     .",routing_strategy_update:"",routing_strategy_round_robin:"round-robin ()",routing_strategy_fill_first:"fill-first ()"},KW={title:" API-",proxy_auth_title:"  -",add_button:" ",empty_title:"API- ",empty_desc:"  ,    ",item_title:"API-",add_modal_title:" API-",add_modal_key_label:"API-:",add_modal_key_placeholder:" API-",edit_modal_title:" API-",edit_modal_key_label:"API-:",delete_confirm:"  API-?"},HW=JSON.parse('{"title":" AI-","gemini_title":"API- Gemini","gemini_add_button":" ","gemini_empty_title":" Gemini ","gemini_empty_desc":"  ,    ","gemini_item_title":" Gemini","gemini_add_modal_title":" API- Gemini","gemini_add_modal_key_label":"API-:","gemini_add_modal_key_placeholder":" API- Gemini","gemini_add_modal_key_hint":"         URL.","gemini_keys_add_btn":" ","gemini_base_url_label":" URL ():","gemini_base_url_placeholder":": https://generativelanguage.googleapis.com","gemini_add_modal_proxy_label":"URL  ():","gemini_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","gemini_models_label":"  ():","gemini_models_hint":" ,    ,    name[, alias],  /    .","gemini_models_add_btn":" ","gemini_models_fetch_button":"  /v1beta/models","gemini_models_fetch_title":"   Gemini /v1beta/models","gemini_models_fetch_hint":" GET /v1beta/models   Gemini API.    x-goog-api-key   API-,     .","gemini_models_fetch_url_label":"URL ","gemini_models_fetch_refresh":"","gemini_models_fetch_loading":"   Gemini /v1beta/models...","gemini_models_fetch_empty":"  .  Base URL, API-  .","gemini_models_fetch_error":"    Gemini","gemini_models_fetch_apply":"  ","gemini_models_search_label":" ","gemini_models_search_placeholder":"  ,   ","gemini_models_search_empty":"  .   .","gemini_models_fetch_added":"  : {{count}}","gemini_models_count":" ","gemini_edit_modal_title":" API- Gemini","gemini_edit_modal_key_label":"API-:","gemini_delete_confirm":"   Gemini?","excluded_models_label":"  ():","excluded_models_placeholder":"     ,  gemini-1.5-pro, gemini-1.5-flash","excluded_models_hint":" ,    ;     .","excluded_models_count":" : {{count}}","prefix_label":" ():","prefix_placeholder":": team-a","prefix_hint":" ,     prefix/<model>,    .","priority_label":" ():","priority_hint":"  ,   .       (0).","config_toggle_label":"","config_disabled_badge":"","codex_title":" Codex API","codex_add_button":" ","codex_empty_title":" Codex ","codex_empty_desc":"  ,    ","codex_item_title":" Codex","codex_add_modal_title":"  Codex API","codex_add_modal_key_label":"API-:","codex_add_modal_key_placeholder":" API- Codex","codex_add_modal_url_label":" URL ():","codex_add_modal_url_placeholder":": https://api.example.com","codex_add_modal_proxy_label":"URL  ():","codex_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","codex_websockets_label":"Websockets","codex_websockets_hint":" websocket- Responses API   .","codex_models_label":"  ():","codex_models_hint":" ,    ,    name[, alias],  / .","codex_models_add_btn":" ","codex_models_fetch_button":"  /v1/models","codex_models_fetch_title":"   Codex /v1/models","codex_models_fetch_hint":" GET /v1/models   OpenAI.    API-  Bearer ( )      .","codex_models_fetch_url_label":"URL ","codex_models_fetch_refresh":"","codex_models_fetch_loading":"   /v1/models...","codex_models_fetch_empty":"  .  Base URL, API-  .","codex_models_fetch_error":"   ","codex_models_fetch_apply":"  ","codex_models_search_label":" ","codex_models_search_placeholder":"  ,   ","codex_models_search_empty":"    .   .","codex_models_fetch_added":"  : {{count}}","codex_models_count":" ","codex_edit_modal_title":"  Codex API","codex_edit_modal_key_label":"API-:","codex_edit_modal_url_label":" URL ():","codex_edit_modal_proxy_label":"URL  ():","codex_delete_confirm":"   Codex?","claude_title":" Claude API","claude_add_button":" ","claude_empty_title":" Claude ","claude_empty_desc":"  ,    ","claude_item_title":" Claude","claude_add_modal_title":"  Claude API","claude_add_modal_key_label":"API-:","claude_add_modal_key_placeholder":" API- Claude","claude_add_modal_url_label":" URL ():","claude_add_modal_url_placeholder":": https://api.anthropic.com","claude_add_modal_proxy_label":"URL  ():","claude_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","claude_edit_modal_title":"  Claude API","claude_edit_modal_key_label":"API-:","claude_edit_modal_url_label":" URL ():","claude_edit_modal_proxy_label":"URL  ():","claude_delete_confirm":"   Claude?","claude_models_label":"  ():","claude_models_hint":" ,    ,    name[, alias],  / .","claude_models_add_btn":" ","claude_models_count":" ","claude_models_fetch_button":"  /v1/models","claude_models_fetch_title":"   Claude /v1/models","claude_models_fetch_hint":" GET /v1/models   Anthropic.    x-api-key  anthropic-version: 2023-06-01,     .","claude_models_fetch_url_label":"URL ","claude_models_fetch_refresh":"","claude_models_fetch_loading":"   Claude /v1/models...","claude_models_fetch_empty":"  .  Base URL, API-  .","claude_models_fetch_error":"    Claude","claude_models_fetch_apply":"  ","claude_models_search_label":" ","claude_models_search_placeholder":"  ,   ","claude_models_search_empty":"    .   .","claude_models_fetch_added":"  : {{count}}","claude_test_title":" ","claude_test_hint":"    /v1/messages   Anthropic,    .","claude_test_select_placeholder":"   ","claude_test_select_empty":"  .   ","claude_test_action":"","claude_test_running":"   Claude...","claude_test_timeout":"   - {{seconds}} ","claude_test_success":"  .  Claude .","claude_test_failed":"  ","claude_test_key_required":" Claude API-   x-api-key   ","claude_test_model_required":"   ","claude_test_endpoint_invalid":"    endpoint Claude /v1/messages","claude_cloak_title":"  ():","claude_cloak_toggle_label":"","claude_cloak_toggle_aria":"  ","claude_cloak_hint":"       CLI Claude Code  ,    Claude Code.","claude_cloak_mode_label":":","claude_cloak_mode_hint":"auto:      Claude Code; always: ; never: .","claude_cloak_mode_auto":"Auto ( -Claude Code)","claude_cloak_mode_always":"","claude_cloak_mode_never":"","claude_cloak_strict_label":" :","claude_cloak_strict_hint":" ,  system- ,    Claude Code.","claude_cloak_sensitive_words_label":"  ():","claude_cloak_sensitive_words_placeholder":"     ,  internal-project","claude_cloak_sensitive_words_hint":"        .","claude_cloak_sensitive_words_count":" ","vertex_title":" Vertex API","vertex_add_button":" ","vertex_empty_title":" Vertex ","vertex_empty_desc":"  ,    ","vertex_item_title":" Vertex","vertex_add_modal_title":"  Vertex API","vertex_add_modal_key_label":"API-:","vertex_add_modal_key_placeholder":" API- Vertex","vertex_add_modal_url_label":" URL ():","vertex_add_modal_url_placeholder":": https://example.com/api","vertex_add_modal_proxy_label":"URL  ():","vertex_add_modal_proxy_placeholder":": socks5://proxy.example.com:1080","vertex_edit_modal_title":"  Vertex API","vertex_edit_modal_key_label":"API-:","vertex_edit_modal_url_label":" URL ():","vertex_edit_modal_proxy_label":"URL  ():","vertex_delete_confirm":"   Vertex?","vertex_models_label":"  ( ):","vertex_models_add_btn":" ","vertex_models_hint":"      .","vertex_models_count":" ","ampcode_title":" Amp CLI (ampcode)","ampcode_modal_title":" Ampcode","ampcode_upstream_url_label":"Upstream URL","ampcode_upstream_url_placeholder":": https://ampcode.com","ampcode_upstream_url_hint":".  ,   URL    / .","ampcode_upstream_api_key_label":"Upstream API- ( Amp)","ampcode_upstream_api_key_placeholder":" sk-amp... ( ,   )","ampcode_upstream_api_key_hint":".        Amp.   ,   .","ampcode_upstream_api_key_current":"   Amp: {{key}}","ampcode_clear_upstream_api_key":"  ","ampcode_clear_upstream_api_key_confirm":" upstream API- Ampcode ( Amp)?","ampcode_force_model_mappings_label":"   ","ampcode_force_model_mappings_hint":"       API-.","ampcode_model_mappings_label":"  (  )","ampcode_model_mappings_hint":"    Amp.  ,   .","ampcode_model_mappings_add_btn":" ","ampcode_model_mappings_from_placeholder":" ","ampcode_model_mappings_to_placeholder":" ","ampcode_model_mappings_count":" ","ampcode_mappings_overwrite_confirm":"    .      . ?","openai_title":"  OpenAI ","openai_add_button":" ","openai_empty_title":" OpenAI ","openai_empty_desc":"  ,    ","openai_add_modal_title":"   OpenAI ","openai_add_modal_name_label":" :","openai_add_modal_name_placeholder":": openrouter","openai_add_modal_url_label":" URL:","openai_add_modal_url_placeholder":": https://openrouter.ai/api/v1","openai_add_modal_keys_label":"API-","openai_edit_modal_keys_label":"API-","openai_keys_hint":"      URL   .","openai_keys_add_btn":" ","openai_key_placeholder":"  sk-...","openai_proxy_placeholder":" URL  (, socks5://...)","openai_add_modal_models_label":"  (name[, alias]  ):","openai_models_hint":": gpt-4o-mini  moonshotai/kimi-k2:free, kimi-k2","openai_model_name_placeholder":" ,  moonshotai/kimi-k2:free","openai_model_alias_placeholder":"  ()","openai_models_add_btn":" ","openai_models_fetch_button":"  /models","openai_models_fetch_title":"   /models","openai_models_fetch_hint":"  /models,     URL,   API-  Bearer   .","openai_models_fetch_url_label":"URL ","openai_models_fetch_refresh":"","openai_models_fetch_loading":"   /models...","openai_models_fetch_empty":"  .    .","openai_models_fetch_error":"   ","openai_models_fetch_back":"  ","openai_models_fetch_apply":"  ","openai_models_search_label":" ","openai_models_search_placeholder":"  ,   ","openai_models_search_empty":"    .   .","openai_models_fetch_invalid_url":"    URL","openai_models_fetch_added":"  : {{count}}","openai_edit_modal_title":"   OpenAI ","openai_edit_modal_name_label":" :","openai_edit_modal_url_label":" URL:","openai_edit_modal_models_label":"  (name[, alias]  ):","openai_delete_confirm":"   OpenAI?","openai_keys_count":" ","openai_models_count":" ","openai_test_title":" ","openai_test_hint":"  /chat/completions   ,   .","openai_test_model_placeholder":"  ","openai_test_action":" ","openai_test_running":"  ...","openai_test_timeout":"   - {{seconds}} ","openai_test_success":"  .  .","openai_test_failed":"  ","openai_test_select_placeholder":"   ","openai_test_select_empty":"  .   ","openai_test_single_action":"","openai_test_all_action":"  ","openai_test_all_hint":"     ","openai_test_all_success":" {{count}}   ","openai_test_all_failed":" {{count}}    ","openai_test_all_partial":" : {{success}} , {{failed}}  "}'),VW={title:"  ",title_section:" ",description:"  JSON-  CLI Proxy (, Qwen, Gemini, Vertex).        AI.",upload_button:" ",delete_all_button:" ",empty_title:"  ",empty_desc:"  ,    ",search_empty_title:"  ",search_empty_desc:"      .",file_size:"",file_modified:"",health_status_label:"",health_status_healthy:"",health_status_warning:"",health_status_disabled:"",health_status_unknown:"",health_status_no_message:"   ",last_refresh_label:" ",refresh_not_available:"/",refresh_just_now:" ",download_button:"",delete_button:"",delete_confirm:" ",delete_all_confirm:"   ?    !",delete_filtered_confirm:"    {{type}}?    !",upload_error_json:"   JSON",upload_error_size:"     {{maxSize}}",upload_success:"  ",download_success:"  ",delete_success:"  ",delete_all_success:" ",delete_filtered_success:"  {{type}}: {{count}}",delete_filtered_partial:"  {{type}} :  {{success}},  {{failed}}",delete_filtered_none:"  {{type}}     ",files_count:"",pagination_prev:"",pagination_next:"",pagination_info:" {{current}} / {{total}}  {{count}} ",search_label:" ",search_placeholder:"  ,   ",page_size_label:" ",page_size_unit:"",view_mode_paged:"",view_mode_all:" ",too_many_files_warning:"   .      ,   .",filter_all:"",filter_qwen:"Qwen",filter_gemini:"Gemini","filter_gemini-cli":"GeminiCLI",filter_kimi:"Kimi",filter_aistudio:"AIStudio",filter_claude:"Claude",filter_codex:"Codex",filter_antigravity:"Antigravity",filter_iflow:"iFlow",filter_vertex:"Vertex",filter_empty:"",filter_unknown:"",type_qwen:"Qwen",type_gemini:"Gemini","type_gemini-cli":"GeminiCLI",type_kimi:"Kimi",type_aistudio:"AIStudio",type_claude:"Claude",type_codex:"Codex",type_antigravity:"Antigravity",type_iflow:"iFlow",type_vertex:"Vertex",type_empty:"",type_unknown:"",type_virtual:"  ",models_button:"",models_title:" ",models_loading:"  ...",models_empty:"      ",models_empty_desc:",            .",models_unsupported:"     ",models_unsupported_desc:" CLI Proxy API      ",models_excluded_badge:"",models_excluded_hint:" OAuth- ",status_toggle_label:"",status_enabled_success:'"{{name}}" ',status_disabled_success:'"{{name}}" ',batch_status_success:"{{count}}  ",batch_status_partial:"{{success}} , {{failed}}  ",batch_delete_title:"  ",batch_delete_confirm:" {{count}} ?",batch_selected:"{{count}} ",batch_select_all:" ",batch_deselect:"",batch_enable:"",batch_disable:"",prefix_proxy_button:"   ",auth_field_editor_title:"    - {{name}}",prefix_proxy_loading:"  ...",prefix_proxy_source_label:"JSON   ()",prefix_label:" (prefix)",proxy_url_label:"URL  (proxy_url)",prefix_placeholder:"",proxy_url_placeholder:"socks5://username:password@proxy_ip:port/",priority_label:" (priority)",priority_placeholder:": 10  -1",priority_hint:"  .   .   ,   .",excluded_models_label:"  (excluded_models)",excluded_models_placeholder:"     , : model-a, gpt-5-*, *-preview",excluded_models_hint:"  ;  trim/ / / .",disable_cooling_label:"  (disable_cooling)",disable_cooling_placeholder:": true / false / 1 / 0",disable_cooling_hint:" boolean,  0/ 0   true/false/1/0;   .",prefix_proxy_invalid_json:"     JSON-,    .",prefix_proxy_saved_success:'  "{{name}}"  ',card_tools_title:"",quota_refresh_single:" ",quota_refresh_hint:"      ",quota_refresh_success:'  "{{name}}" ',quota_refresh_failed:'     "{{name}}": {{message}}'},WW={title:" Antigravity",empty_title:"  Antigravity ",empty_desc:"   Antigravity,    .",idle:' .  " ".',loading:" ...",load_failed:"   : {{message}}",missing_auth_index:"    auth_index",empty_models:"   ",refresh_button:" ",fetch_all:" "},GW={title:" Claude",empty_title:"  Claude OAuth ",empty_desc:"  Claude OAuth,   .",idle:' .  " ".',loading:" ...",load_failed:"   : {{message}}",missing_auth_index:"    auth_index",empty_windows:"   ",refresh_button:" ",fetch_all:" ",five_hour:"  5 ",seven_day:"  7 ",seven_day_oauth_apps:"7  OAuth ",seven_day_opus:"7  Opus",seven_day_sonnet:"7  Sonnet",seven_day_cowork:"7  Cowork",iguana_necktie:"Iguana Necktie",extra_usage_label:" "},XW={title:" Codex",empty_title:"  Codex ",empty_desc:"   Codex,   .",idle:' .  " ".',loading:" ...",load_failed:"   : {{message}}",missing_auth_index:"    auth_index",missing_account_id:"   Codex    ChatGPT",empty_windows:"   ",no_access:"      Codex (: free).",refresh_button:" ",fetch_all:" ",primary_window:"  5 ",secondary_window:" ",code_review_primary_window:" code review  5 ",code_review_secondary_window:"  code review",additional_primary_window:"{{name}}:   5 ",additional_secondary_window:"{{name}}:  ",plan_label:"",plan_plus:"Plus",plan_team:"Team",plan_free:"Free"},$W={title:" Gemini CLI",empty_title:"  Gemini CLI ",empty_desc:"   Gemini CLI,    .",idle:' .  " ".',loading:" ...",load_failed:"   : {{message}}",missing_auth_index:"    auth_index",missing_project_id:"   Gemini CLI   ",empty_buckets:"   ",refresh_button:" ",fetch_all:" ",remaining_amount:" {{count}}"},QW={title:"  Vertex JSON",description:" JSON    Google,     auth-dir/vertex-<project>.json    ,    CLI vertex-import.",location_label:" ()",location_placeholder:"us-central1",location_hint:" ,    us-central1  .",file_label:"JSON   ",file_hint:"  JSON-    Google Cloud.",file_placeholder:"  ",choose_file:" ",import_button:"   Vertex",file_required:"     .json",success:"  Vertex  ",result_title:"  ",result_project:"ID ",result_email:" ",result_location:"",result_file:" "},YW={title:" OAuth-",description:"     ;  ,    .   *.      .",add:" ",add_title:"    ",edit_title:"    {{provider}}",refresh:"",refreshing:"...",provider_label:"",provider_auto:"  ",provider_placeholder:": gemini-cli",provider_hint:"    ;       .",models_label:" ",models_loading:" ...",models_unsupported:"  CPA     .",models_loaded:" : {{count}}.  ,   .",no_models_available:"     .",save:"/",saving:"...",save_success:"  ",save_failed:"    ",delete:" ",delete_confirm:"    {{provider}}?",delete_success:"   ",delete_failed:"    ",deleting:"...",no_models:"   ",model_count:" : {{count}}",list_empty_all:'      " ".',list_empty_filtered:'     ;  " ".',disconnected:"  ,    ",load_failed:"    ",provider_required:"  ",scope_all:":  ",scope_provider:": {{provider}}",upgrade_required:"  CPA    OAuth-. ,  .",upgrade_required_title:",  CLI Proxy API",upgrade_required_desc:"       OAuth-.  CPA (CLI Proxy API)      ."},ZW={title:"  OAuth",add:" ",add_title:"   ",provider_label:"",provider_placeholder:": gemini-cli / vertex",provider_hint:"    ;       .",model_source_loading:" ...",model_source_unsupported:"  CPA      (   ).",model_source_loaded:' : {{count}}.    " "    .     .  " ",       .',alias_label:" ",alias_name_placeholder:"  ",alias_placeholder:" ()",alias_fork_label:" ",add_alias:" ",save:"/",save_success:"  ",save_failed:"    ",delete:" ",delete_confirm:"    {{provider}}?",delete_link_title:" ",delete_link_confirm:"   <code>{{sourceModel}}</code> ({{provider}})   <code>{{alias}}</code>?",delete_alias_title:" ",delete_alias_confirm:"  <code>{{alias}}</code>    ?",delete_success:"  ",delete_failed:"    ",no_models:" ",model_count:" : {{count}}",list_empty_all:'      " ".',chart_title:"  ",diagram_providers:"",diagram_source_models:" ",diagram_aliases:"",diagram_expand:"",diagram_collapse:"",diagram_add_alias:" ",diagram_rename:"",diagram_rename_alias_title:" ",diagram_rename_alias_label:"  ",diagram_rename_placeholder:"  ...",diagram_delete_link:"  {{provider}} / {{name}}",diagram_delete_alias:" ",diagram_please_enter_alias:"  .",diagram_alias_exists:"   .",diagram_add_alias_title:" ",diagram_add_alias_label:" ",diagram_add_placeholder:"   ...",diagram_rename_btn:"",diagram_add_btn:"",diagram_settings:"",diagram_settings_title:"   {{alias}}",diagram_settings_source_title:"  ",diagram_settings_empty:"     .",diagram_tap_hint:"  :   ,    .",view_mode:" ",view_mode_diagram:"",view_mode_list:"",provider_required:"  ",upgrade_required:"      CLI Proxy API (CPA).  .",upgrade_required_title:",  CLI Proxy API",upgrade_required_desc:"     API   OAuth.  CLI Proxy API (CPA)   ."},JW={codex_oauth_title:"Codex OAuth",codex_oauth_button:"  Codex",codex_oauth_hint:"    Codex  OAuth   /  .",codex_oauth_url_label:"URL :",codex_open_link:" ",codex_copy_link:" ",codex_oauth_status_waiting:" ...",codex_oauth_status_success:" !",codex_oauth_status_error:" :",codex_oauth_start_error:"   Codex OAuth:",codex_oauth_polling_error:"    :",anthropic_oauth_title:"Anthropic OAuth",anthropic_oauth_button:"  Anthropic",anthropic_oauth_hint:"    Anthropic (Claude)  OAuth   /  .",anthropic_oauth_url_label:"URL :",anthropic_open_link:" ",anthropic_copy_link:" ",anthropic_oauth_status_waiting:" ...",anthropic_oauth_status_success:" !",anthropic_oauth_status_error:" :",anthropic_oauth_start_error:"   Anthropic OAuth:",anthropic_oauth_polling_error:"    :",antigravity_oauth_title:"Antigravity OAuth",antigravity_oauth_button:"  Antigravity",antigravity_oauth_hint:"    Antigravity (Google)  OAuth   /  .",antigravity_oauth_url_label:"URL :",antigravity_open_link:" ",antigravity_copy_link:" ",antigravity_oauth_status_waiting:" ...",antigravity_oauth_status_success:" !",antigravity_oauth_status_error:" :",antigravity_oauth_start_error:"   Antigravity OAuth:",antigravity_oauth_polling_error:"    :",gemini_cli_oauth_title:"Gemini CLI OAuth",gemini_cli_oauth_button:"  Gemini CLI",gemini_cli_oauth_hint:"    Google Gemini CLI  OAuth   /  .",gemini_cli_project_id_label:"Google Cloud Project ID ():",gemini_cli_project_id_placeholder:" ,      ",gemini_cli_project_id_hint:".   ,         .  ALL,    .",gemini_cli_project_id_required:"   Google Cloud.",gemini_cli_oauth_url_label:"URL :",gemini_cli_open_link:" ",gemini_cli_copy_link:" ",gemini_cli_oauth_status_waiting:" ...",gemini_cli_oauth_status_success:" !",gemini_cli_oauth_status_error:" :",gemini_cli_oauth_start_error:"   Gemini CLI OAuth:",gemini_cli_oauth_polling_error:"    :",kimi_oauth_title:"Kimi OAuth",kimi_oauth_button:"  Kimi",kimi_oauth_hint:"    Kimi       /  .",kimi_oauth_url_label:"URL :",kimi_open_link:" ",kimi_copy_link:" ",kimi_oauth_status_waiting:" ...",kimi_oauth_status_success:" !",kimi_oauth_status_error:" :",kimi_oauth_start_error:"   Kimi OAuth:",kimi_oauth_polling_error:"    :",qwen_oauth_title:"Qwen OAuth",qwen_oauth_button:"  Qwen",qwen_oauth_hint:"    Qwen       /  .",qwen_oauth_url_label:"URL :",qwen_open_link:" ",qwen_copy_link:" ",qwen_oauth_status_waiting:" ...",qwen_oauth_status_success:" !",qwen_oauth_status_error:" :",qwen_oauth_start_error:"   Qwen OAuth:",qwen_oauth_polling_error:"    :",oauth_callback_label:"Callback URL",oauth_callback_placeholder:"http://localhost:1455/auth/callback?code=...&state=...",oauth_callback_hint:"  :     http://localhost:...   URL    .",oauth_callback_button:" Callback URL",oauth_callback_required:"   URL .",oauth_callback_success:"Callback URL .   .",oauth_callback_error:"   Callback URL:",oauth_callback_upgrade_hint:" CLI Proxy API   .",oauth_callback_status_success:"Callback URL ,  ...",oauth_callback_status_error:"   Callback URL:",missing_state:"     ",iflow_oauth_title:"iFlow OAuth",iflow_oauth_button:"  iFlow",iflow_oauth_hint:"    iFlow  OAuth   /  .",iflow_oauth_url_label:"URL :",iflow_open_link:" ",iflow_copy_link:" ",iflow_oauth_status_waiting:" ...",iflow_oauth_status_success:" !",iflow_oauth_status_error:" :",iflow_oauth_start_error:"   iFlow OAuth:",iflow_oauth_polling_error:"    :",iflow_cookie_title:" iFlow  cookie",iflow_cookie_label:" cookie:",iflow_cookie_placeholder:"  BXAuth,   BXAuth=",iflow_cookie_hint:"  cookie,       ;      .",iflow_cookie_key_hint:":     .",iflow_cookie_button:"   cookie",iflow_cookie_status_success:"  cookie ,   .",iflow_cookie_status_error:"   cookie:",iflow_cookie_status_duplicate:" :",iflow_cookie_start_error:"     cookie:",iflow_cookie_config_duplicate:"   .    ,   .",iflow_cookie_required:"   cookie.",iflow_cookie_result_title:"   cookie",iflow_cookie_result_email:"",iflow_cookie_result_expired:"",iflow_cookie_result_path:" ",iflow_cookie_result_type:"",remote_access_disabled:"      .   localhost."},eG={title:" ",total_requests:" ",success_requests:" ",failed_requests:" ",total_tokens:" ",cached_tokens:" ",reasoning_tokens:" ",rpm_30m:"RPM",tpm_30m:"TPM",rate_30m:" ( 30 )",model_name:" ",model_price_settings:"  ",saved_prices:" ",requests_trend:" ",tokens_trend:" ",api_details:" API",by_hour:" ",by_day:" ",range_filter:" ",range_all:"  ",range_7h:" 7 ",range_24h:" 24 ",range_7d:" 7 ",filter_all:"",clear_filters:" ",refresh:"",export:"",import:"",export_csv:" CSV",export_json:" JSON",export_success:"  ",import_success:" :  {{added}},  {{skipped}},  {{total}},  {{failed}}",import_invalid:"   ",chart_line_label_1:" 1",chart_line_label_2:" 2",chart_line_label_3:" 3",chart_line_label_4:" 4",chart_line_label_5:" 5",chart_line_label_6:" 6",chart_line_label_7:" 7",chart_line_label_8:" 8",chart_line_label_9:" 9",chart_line_hidden:"",chart_line_actions_label:"  ",chart_line_add:" ",chart_line_all:"",chart_line_delete:" ",chart_line_hint:"  9   ",no_data:" ",loading_error:"  ",api_endpoint:"API-",requests_count:" ",tokens_count:" ",models:" ",success_rate:"",total_cost:" ",total_cost_hint:"    ",model_price_title:" ",model_price_reset:" ",model_price_model_label:"",model_price_select_placeholder:" ",model_price_select_hint:"     ",model_price_prompt:" prompt",model_price_completion:" completion",model_price_cache:" ",model_price_save:" ",model_price_empty:"    ",model_price_model:"",model_price_saved:"  ",model_price_model_required:"    ",cost_trend:" ",cost_axis_label:" ($)",cost_need_price:"  ,    ",cost_need_usage:"     ",cost_no_data:"    ",credential_stats:"  ",credential_name:" ",token_breakdown:"  ",request_events_title:" ",request_events_filter_model:"",request_events_filter_source:"",request_events_filter_auth_index:"Auth Index",request_events_timestamp:"",request_events_source:"",request_events_auth_index:"Auth Index",request_events_result:"",request_events_empty_title:"  ",request_events_empty_desc:"      .",request_events_no_result_title:"  ",request_events_no_result_desc:"     .",request_events_count:"{{count}} ",request_events_limit_hint:" {{shown}}  {{total}}    .",input_tokens:" ",output_tokens:" ",last_updated:""},tG={success:"",failure:""},nG={success_short:"",failure_short:"",no_requests:" "},iG={title:" ",window:" 7 ",oldest:"",newest:""},sG={title:" ",refresh_button:" ",clear_button:" ",download_button:" ",error_log_button:"  ",error_logs_modal_title:"  ",error_logs_description:"       (     ).",error_logs_request_log_enabled:"  ,      .      ,    .",error_logs_empty:"     ",error_logs_load_error:"     ",error_logs_size:"",error_logs_modified:"",error_logs_download:"",error_log_download_success:"   ",request_log_download_title:"  ",request_log_download_confirm:"     {{id}}?",request_log_download_success:"   ",empty_title:" ",empty_desc:'   "   ",   ',log_content:" ",loading:" ...",load_error:"   ",clear_confirm:"  ?   !",clear_success:"  ",download_success:"  ",auto_refresh:"",auto_refresh_enabled:" ",auto_refresh_disabled:" ",load_more_hint:" ,   ",hidden_lines:": {{count}} ",loaded_lines:": {{count}} ",filtered_lines:": {{count}} ",hide_management_logs:"  {{prefix}}",show_raw_logs:"  ",show_raw_logs_hint:"          ",search_placeholder:"     ",filter_method:"",filter_status:"",filter_path:"",filter_path_empty:"  ",filter_status_2xx:"2xx",filter_status_3xx:"3xx",filter_status_4xx:"4xx",filter_status_5xx:"5xx",clear_filters:" ",trace_button:"",trace_title:"  (V1)",trace_notice:"V1       usage-.         request_id.",trace_log_info:" ",trace_candidates_title:"  usage",trace_loading:" usage-...",trace_no_match:"   .",trace_usage_load_error:"   usage-  ",trace_download_request_log:"  ",trace_confidence_high:"",trace_confidence_medium:"",trace_confidence_low:"",trace_score:" {{score}}",trace_delta_seconds:"t {{seconds}}",trace_request_id:"Request ID",trace_method:"",trace_path:"",trace_status_code:"",trace_latency:"",trace_ip:"IP",trace_timestamp:"",trace_message:"",trace_endpoint:"Usage-",trace_model:"",trace_source:"",trace_auth_index:"Auth Index",trace_result:"",search_empty_title:"   ",search_empty_desc:"     .",double_click_copy_hint:" ,    ",copy_success:"  ",copy_failed:"  ",lines:"",removed:"",upgrade_required_title:" CLI Proxy API",upgrade_required_desc:"      .  CLI Proxy API   ,    ."},aG={title:" ",editor_title:" ",reload:"",save:"",description:" config.yaml      ",status_idle:" ",status_loading:" ...",status_loaded:" ",status_dirty:"  ",status_disconnected:"  ,   ",status_load_failed:"  ",status_saving:" ...",status_saved:" ",status_save_failed:"  ",save_success:"  ",error_yaml_not_supported:"   YAML. ,     /config.yaml.",editor_placeholder:"key: value",search_placeholder:"  ...",search_button:"",search_no_results:" ",search_prev:"",search_next:"",diff:{title:" ",current:"",modified:"",confirm:"",no_changes:"  "},tabs:{visual:" ",source:" "},visual:{sections:{server:{title:" ",description:"  ",host:" ",port:""},tls:{title:" TLS/SSL",description:"  HTTPS-",enable:" TLS",enable_desc:"  HTTPS-",cert:"  ",key:"   "},remote:{title:" ",description:"     ",allow_remote:"  ",allow_remote_desc:"    ",disable_panel:" ",disable_panel_desc:"  - ",secret_key:" ",secret_key_placeholder:"  ",panel_repo:" "},auth:{title:" ",description:"API-   ",auth_dir:" auth-dir",auth_dir_hint:"      ( ~)"},system:{title:" ",description:", ,   ",debug:" ",debug_desc:"   ",commercial_mode:" ",commercial_mode_desc:"       ",logging_to_file:"  ",logging_to_file_desc:"   ",usage_statistics:" ",usage_statistics_desc:"  ",logs_max_size:"    ()",usage_retention_days:"  ()",usage_retention_hint:"0    ( )"},network:{title:" ",description:" ,   ",proxy_url:"URL ",request_retry:"  ",max_retry_interval:"   ()",routing_strategy:" ",routing_strategy_hint:"    ",strategy_round_robin:" ",strategy_fill_first:" ",force_model_prefix:"  ",force_model_prefix_desc:"          ",ws_auth:" WebSocket",ws_auth_desc:"  WebSocket (/v1/ws)"},quota:{title:"  ",description:"   ",switch_project:" ",switch_project_desc:"       ",switch_preview_model:"  preview-",switch_preview_model_desc:"  preview-    "},streaming:{title:" ",description:" keepalive   ",keepalive_seconds:" keepalive ()",keepalive_hint:" 0    ,   keepalive",bootstrap_retries:" ",bootstrap_hint:"     (  )",nonstream_keepalive:" keepalive    ()",nonstream_keepalive_hint:"    N    ,   ;  0     ",disabled:""},payload:{title:"  ",description:"  ,    ",default_rules:"  ",default_rules_desc:"  ,      ",override_rules:" ",override_rules_desc:"     ",filter_rules:" ",filter_rules_desc:"      JSON Path,       ( )"}},api_keys:{label:" API- (api-keys)",add:" API-",generate:"",empty:"API- ",hint:"    API- (   ,      API-)",edit_title:" API-",add_title:" API-",input_label:"API-",input_placeholder:" API-",input_hint:"     ,      API-",error_empty:" API-",error_invalid:"API-   "},payload_rules:{rule:"",models:" ",model_name:" ",provider_type:" ",add_model:" ",params:" ",remove_params:" ",json_path:"JSON Path (, temperature)",json_path_filter:"JSON Path (gjson/sjson),  generationConfig.thinkingConfig.thinkingBudget",param_type:" ",add_param:" ",no_rules:" ",add_rule:" ",provider_default:" ",provider_openai:"OpenAI",provider_openai_response:"OpenAI Response",provider_gemini:"Gemini",provider_claude:"Claude",provider_codex:"Codex",provider_antigravity:"Antigravity",value_type_string:"",value_type_number:"",value_type_boolean:"",value_type_json:"JSON",value_string:" ",value_number:"  (, 0.7)",value_boolean:"true  false",value_json:" JSON",value_default:""},common:{edit:"",delete:"",cancel:"",update:"",add:""}}},rG={title:" ",description:"    OAuth    Antigravity, Codex  Gemini CLI.",refresh_files:"  ",refresh_files_and_quota:"   ",card_idle_hint:"      ,      ."},oG={title:"   ",about_title:"CLI Proxy API Management Center",connection_status_title:" ",api_status_label:" API:",config_status_label:" :",last_update_label:" :",cache_data:"  ",real_time_data:"   ",not_loaded:" ",seconds_ago:" ",models_title:" ",models_desc:"  /models     API-  .",models_loading:"  ...",models_empty:" /models   ",models_error:"    ",models_count:" : {{count}}",version_check_title:" ",version_check_desc:"  /latest-version,          .",version_current_label:" ",version_latest_label:" ",version_check_button:" ",version_check_idle:",   ",version_checking:"  ...",version_update_available:" : {{version}}",version_is_latest:"  ",version_check_error:"   ",version_current_missing:"  ;  ",version_unknown:"",quick_links_title:" ",quick_links_desc:"         .",link_main_repo:" ",link_main_repo_desc:"    CLI Proxy API",link_webui_repo:" WebUI",link_webui_repo_desc:"    ",link_docs:"",link_docs_desc:"     ",clear_login_title:"  ",clear_login_desc:"       .     .",clear_login_button:"  ",clear_login_confirm:"     ?"},lG={debug_updated:"  ",proxy_updated:"  ",proxy_cleared:"  ",retry_updated:"  ",quota_switch_project_updated:"   ",quota_switch_preview_updated:"   preview- ",usage_statistics_updated:"   ",logging_to_file_updated:"  ",logs_max_total_size_updated:"   ",request_log_updated:"   ",force_model_prefix_updated:"   ",ws_auth_updated:"  WebSocket ",routing_strategy_updated:"  ",login_storage_cleared:"   ",api_key_added:"API-  ",api_key_updated:"API-  ",api_key_deleted:"API-  ",api_key_invalid_chars:"API-    ,   ",gemini_key_added:" Gemini  ",gemini_key_updated:" Gemini  ",gemini_key_deleted:" Gemini  ",gemini_multi_input_required:"     Gemini",gemini_multi_failed:"  Gemini  ",gemini_multi_summary:"  Gemini :  {{success}},  {{skipped}},  {{failed}}",codex_config_added:" Codex  ",codex_config_updated:" Codex  ",codex_config_deleted:" Codex  ",codex_base_url_required:"  URL Codex",claude_config_added:" Claude  ",claude_config_updated:" Claude  ",claude_config_deleted:" Claude  ",vertex_config_added:" Vertex  ",vertex_config_updated:" Vertex  ",vertex_config_deleted:" Vertex  ",vertex_base_url_required:"  URL Vertex",config_enabled:" ",config_disabled:" ",field_required:"     ",openai_provider_required:"     URL",openai_provider_added:" OpenAI  ",openai_provider_updated:" OpenAI  ",openai_provider_deleted:" OpenAI  ",ampcode_updated:" Ampcode ",ampcode_upstream_api_key_cleared:" upstream- Ampcode ",openai_model_name_required:"  ",openai_test_url_required:"   URL  ",openai_test_key_required:"    API-  ",openai_test_model_required:"   ",data_refreshed:"  ",connection_required:"  ",refresh_failed:"  ",update_failed:"  ",add_failed:"  ",delete_failed:"  ",upload_failed:"  ",download_failed:"  ",login_failed:"  ",please_enter:", ",please_fill:", ",provider_name_url:"    URL",api_key:"API-",gemini_api_key:"API- Gemini",codex_api_key:"API- Codex",claude_api_key:"API- Claude",commercial_mode_restart_required:"   .  ,   ",copy_failed:"  ",link_copied:"    "},cG={switch:"",chinese:"",english:"English",russian:""},uG={switch:"",light:"",dark:"",switch_to_light:"   ",switch_to_dark:"   ",auto:" "},dG={toggle_expand:"  ",toggle_collapse:"  "},hG={api_version:" CLI Proxy API",build_date:" ",version:"  ",author:""},fG={common:RW,title:EW,splash:jW,auto_login:DW,login:FW,header:UW,connection:BW,nav:IW,dashboard:zW,basic_settings:qW,api_keys:KW,ai_providers:HW,auth_files:VW,antigravity_quota:WW,claude_quota:GW,codex_quota:XW,gemini_cli_quota:$W,vertex_import:QW,oauth_excluded:YW,oauth_model_alias:ZW,auth_login:JW,usage_stats:eG,stats:tG,status_bar:nG,service_health:iG,logs:sG,config_management:aG,quota_management:rG,system_info:oG,notification:lG,language:cG,theme:uG,sidebar:dG,footer:hG},ah=n=>mV.includes(n),mG=n=>{try{const e=JSON.parse(n),t=e?.state?.language??e?.language??e;if(typeof t=="string"&&ah(t))return t}catch{if(ah(n))return n}return null},pG=()=>{if(typeof window>"u")return null;try{const n=localStorage.getItem(zD);return n?mG(n):null}catch{return null}},gG=()=>{if(typeof navigator>"u")return"zh-CN";const e=(navigator.languages?.[0]||navigator.language||"zh-CN").toLowerCase();return e.startsWith("zh")?"zh-CN":e.startsWith("ru")?"ru":"en"},HD=()=>pG()??gG();Ki.use(UH).init({resources:{"zh-CN":{translation:YV},en:{translation:PW},ru:{translation:fG}},lng:HD(),fallbackLng:"zh-CN",interpolation:{escapeValue:!1},react:{useSuspense:!1}});const rh=Jr()(tC((n,e)=>({language:HD(),setLanguage:t=>{ah(t)&&(Ki.changeLanguage(t),n({language:t}))},toggleLanguage:()=>{const{language:t,setLanguage:i}=e(),s=qd.indexOf(t),a=qd[(s+1)%qd.length];i(a)}}),{name:zD,merge:(n,e)=>{const t=n?.language;return typeof t=="string"&&ah(t)?{...e,...n,language:t}:e}})),qS="enc::v1::",$L="cli-proxy-api-webui::secure-storage";let Ff=null;function KS(n){return new TextEncoder().encode(n)}function _G(n){return new TextDecoder().decode(n)}function VD(){if(Ff)return Ff;try{const n=window.location.host,e=navigator.userAgent;Ff=KS(`${$L}|${n}|${e}`)}catch(n){console.warn("Encryption fallback to simple key:",n),Ff=KS($L)}return Ff}function WD(n,e){const t=new Uint8Array(n.length);for(let i=0;i<n.length;i++)t[i]=n[i]^e[i%e.length];return t}function yG(n){let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}function bG(n){const e=atob(n),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function xG(n){if(!n)return n;try{const e=VD(),t=WD(KS(n),e);return`${qS}${yG(t)}`}catch(e){return console.warn("Encryption failed, fallback to plaintext:",e),n}}function QL(n){if(!n||!n.startsWith(qS))return n;try{const e=n.slice(qS.length),t=bG(e),i=WD(t,VD());return _G(i)}catch(e){return console.warn("Decryption failed, return as-is:",e),n}}class vG{setItem(e,t,i={}){const{encrypt:s=!0}=i;if(t==null){this.removeItem(e);return}const a=JSON.stringify(t),r=s?xG(a):a;localStorage.setItem(e,r)}getItem(e,t={}){const{encrypt:i=!0}=t,s=localStorage.getItem(e);if(s===null)return null;try{const a=i?QL(s):s;return JSON.parse(a)}catch{try{return i&&s.startsWith("enc::v1::")?QL(s):s}catch{return null}}}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}migratePlaintextKeys(e){e.forEach(t=>{const i=localStorage.getItem(t);if(!i||i.startsWith("enc::v1::"))return;let s=i;try{s=JSON.parse(i)}catch{s=i}try{this.setItem(t,s)}catch(a){console.warn(`Failed to migrate key "${t}":`,a)}})}hasItem(e){return localStorage.getItem(e)!==null}}const Mc=new vG;function GD(n,e){return function(){return n.apply(e,arguments)}}const{toString:SG}=Object.prototype,{getPrototypeOf:nC}=Object,{iterator:Db,toStringTag:XD}=Symbol,Fb=(n=>e=>{const t=SG.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fr=n=>(n=n.toLowerCase(),e=>Fb(e)===n),Ub=n=>e=>typeof e===n,{isArray:Oh}=Array,oh=Ub("undefined");function Hp(n){return n!==null&&!oh(n)&&n.constructor!==null&&!oh(n.constructor)&&Fs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const $D=fr("ArrayBuffer");function wG(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&$D(n.buffer),e}const kG=Ub("string"),Fs=Ub("function"),QD=Ub("number"),Vp=n=>n!==null&&typeof n=="object",CG=n=>n===!0||n===!1,J0=n=>{if(Fb(n)!=="object")return!1;const e=nC(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XD in n)&&!(Db in n)},AG=n=>{if(!Vp(n)||Hp(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},TG=fr("Date"),NG=fr("File"),MG=fr("Blob"),OG=fr("FileList"),LG=n=>Vp(n)&&Fs(n.pipe),PG=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fs(n.append)&&((e=Fb(n))==="formdata"||e==="object"&&Fs(n.toString)&&n.toString()==="[object FormData]"))},RG=fr("URLSearchParams"),[EG,jG,DG,FG]=["ReadableStream","Request","Response","Headers"].map(fr),UG=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),Oh(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{if(Hp(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),r=a.length;let o;for(i=0;i<r;i++)o=a[i],e.call(null,n[o],o,n)}}function YD(n,e){if(Hp(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZD=n=>!oh(n)&&n!==Qc;function HS(){const{caseless:n,skipUndefined:e}=ZD(this)&&this||{},t={},i=(s,a)=>{if(a==="__proto__"||a==="constructor"||a==="prototype")return;const r=n&&YD(t,a)||a;J0(t[r])&&J0(s)?t[r]=HS(t[r],s):J0(s)?t[r]=HS({},s):Oh(s)?t[r]=s.slice():(!e||!oh(s))&&(t[r]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Wp(arguments[s],i);return t}const BG=(n,e,t,{allOwnKeys:i}={})=>(Wp(e,(s,a)=>{t&&Fs(s)?Object.defineProperty(n,a,{value:GD(s,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),n),IG=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),zG=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},qG=(n,e,t,i)=>{let s,a,r;const o={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)r=s[a],(!i||i(r,n,e))&&!o[r]&&(e[r]=n[r],o[r]=!0);n=t!==!1&&nC(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},KG=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},HG=n=>{if(!n)return null;if(Oh(n))return n;let e=n.length;if(!QD(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},VG=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&nC(Uint8Array)),WG=(n,e)=>{const i=(n&&n[Db]).call(n);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},GG=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},XG=fr("HTMLFormElement"),$G=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),YL=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),QG=fr("RegExp"),JD=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Wp(t,(s,a)=>{let r;(r=e(s,a,n))!==!1&&(i[a]=r||s)}),Object.defineProperties(n,i)},YG=n=>{JD(n,(e,t)=>{if(Fs(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Fs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ZG=(n,e)=>{const t={},i=s=>{s.forEach(a=>{t[a]=!0})};return Oh(n)?i(n):i(String(n).split(e)),t},JG=()=>{},eX=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function tX(n){return!!(n&&Fs(n.append)&&n[XD]==="FormData"&&n[Db])}const nX=n=>{const e=new Array(10),t=(i,s)=>{if(Vp(i)){if(e.indexOf(i)>=0)return;if(Hp(i))return i;if(!("toJSON"in i)){e[s]=i;const a=Oh(i)?[]:{};return Wp(i,(r,o)=>{const l=t(r,s+1);!oh(l)&&(a[o]=l)}),e[s]=void 0,a}}return i};return t(n,0)},iX=fr("AsyncFunction"),sX=n=>n&&(Vp(n)||Fs(n))&&Fs(n.then)&&Fs(n.catch),e5=((n,e)=>n?setImmediate:e?((t,i)=>(Qc.addEventListener("message",({source:s,data:a})=>{s===Qc&&a===t&&i.length&&i.shift()()},!1),s=>{i.push(s),Qc.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fs(Qc.postMessage)),aX=typeof queueMicrotask<"u"?queueMicrotask.bind(Qc):typeof process<"u"&&process.nextTick||e5,rX=n=>n!=null&&Fs(n[Db]),be={isArray:Oh,isArrayBuffer:$D,isBuffer:Hp,isFormData:PG,isArrayBufferView:wG,isString:kG,isNumber:QD,isBoolean:CG,isObject:Vp,isPlainObject:J0,isEmptyObject:AG,isReadableStream:EG,isRequest:jG,isResponse:DG,isHeaders:FG,isUndefined:oh,isDate:TG,isFile:NG,isBlob:MG,isRegExp:QG,isFunction:Fs,isStream:LG,isURLSearchParams:RG,isTypedArray:VG,isFileList:OG,forEach:Wp,merge:HS,extend:BG,trim:UG,stripBOM:IG,inherits:zG,toFlatObject:qG,kindOf:Fb,kindOfTest:fr,endsWith:KG,toArray:HG,forEachEntry:WG,matchAll:GG,isHTMLForm:XG,hasOwnProperty:YL,hasOwnProp:YL,reduceDescriptors:JD,freezeMethods:YG,toObjectSet:ZG,toCamelCase:$G,noop:JG,toFiniteNumber:eX,findKey:YD,global:Qc,isContextDefined:ZD,isSpecCompliantForm:tX,toJSONObject:nX,isAsyncFn:iX,isThenable:sX,setImmediate:e5,asap:aX,isIterable:rX};let gt=class t5 extends Error{static from(e,t,i,s,a,r){const o=new t5(e.message,t||e.code,i,s,a);return o.cause=e,o.name=e.name,r&&Object.assign(o,r),o}constructor(e,t,i,s,a){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}};gt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";gt.ERR_BAD_OPTION="ERR_BAD_OPTION";gt.ECONNABORTED="ECONNABORTED";gt.ETIMEDOUT="ETIMEDOUT";gt.ERR_NETWORK="ERR_NETWORK";gt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";gt.ERR_DEPRECATED="ERR_DEPRECATED";gt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";gt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";gt.ERR_CANCELED="ERR_CANCELED";gt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";gt.ERR_INVALID_URL="ERR_INVALID_URL";const oX=null;function VS(n){return be.isPlainObject(n)||be.isArray(n)}function n5(n){return be.endsWith(n,"[]")?n.slice(0,-2):n}function ZL(n,e,t){return n?n.concat(e).map(function(s,a){return s=n5(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function lX(n){return be.isArray(n)&&!n.some(VS)}const cX=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function Bb(n,e,t){if(!be.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=be.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!be.isUndefined(v[x])});const i=t.metaTokens,s=t.visitor||h,a=t.dots,r=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(be.isDate(b))return b.toISOString();if(be.isBoolean(b))return b.toString();if(!l&&be.isBlob(b))throw new gt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(b)||be.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,x,v){let C=b;if(b&&!v&&typeof b=="object"){if(be.endsWith(x,"{}"))x=i?x:x.slice(0,-2),b=JSON.stringify(b);else if(be.isArray(b)&&lX(b)||(be.isFileList(b)||be.endsWith(x,"[]"))&&(C=be.toArray(b)))return x=n5(x),C.forEach(function(N,O){!(be.isUndefined(N)||N===null)&&e.append(r===!0?ZL([x],O,a):r===null?x:x+"[]",u(N))}),!1}return VS(b)?!0:(e.append(ZL(v,x,a),u(b)),!1)}const m=[],g=Object.assign(cX,{defaultVisitor:h,convertValue:u,isVisitable:VS});function _(b,x){if(!be.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(b),be.forEach(b,function(C,k){(!(be.isUndefined(C)||C===null)&&s.call(e,C,be.isString(k)?k.trim():k,x,g))===!0&&_(C,x?x.concat(k):[k])}),m.pop()}}if(!be.isObject(n))throw new TypeError("data must be an object");return _(n),e}function JL(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function iC(n,e){this._pairs=[],n&&Bb(n,this,e)}const i5=iC.prototype;i5.append=function(e,t){this._pairs.push([e,t])};i5.toString=function(e){const t=e?function(i){return e.call(this,i,JL)}:JL;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function uX(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function s5(n,e,t){if(!e)return n;const i=t&&t.encode||uX,s=be.isFunction(t)?{serialize:t}:t,a=s&&s.serialize;let r;if(a?r=a(e,s):r=be.isURLSearchParams(e)?e.toString():new iC(e,s).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class eP{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(i){i!==null&&e(i)})}}const sC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},dX=typeof URLSearchParams<"u"?URLSearchParams:iC,hX=typeof FormData<"u"?FormData:null,fX=typeof Blob<"u"?Blob:null,mX={isBrowser:!0,classes:{URLSearchParams:dX,FormData:hX,Blob:fX},protocols:["http","https","file","blob","url","data"]},aC=typeof window<"u"&&typeof document<"u",WS=typeof navigator=="object"&&navigator||void 0,pX=aC&&(!WS||["ReactNative","NativeScript","NS"].indexOf(WS.product)<0),gX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_X=aC&&window.location.href||"http://localhost",yX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aC,hasStandardBrowserEnv:pX,hasStandardBrowserWebWorkerEnv:gX,navigator:WS,origin:_X},Symbol.toStringTag,{value:"Module"})),Qi={...yX,...mX};function bX(n,e){return Bb(n,new Qi.classes.URLSearchParams,{visitor:function(t,i,s,a){return Qi.isNode&&be.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function xX(n){return be.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vX(n){const e={},t=Object.keys(n);let i;const s=t.length;let a;for(i=0;i<s;i++)a=t[i],e[a]=n[a];return e}function a5(n){function e(t,i,s,a){let r=t[a++];if(r==="__proto__")return!0;const o=Number.isFinite(+r),l=a>=t.length;return r=!r&&be.isArray(s)?s.length:r,l?(be.hasOwnProp(s,r)?s[r]=[s[r],i]:s[r]=i,!o):((!s[r]||!be.isObject(s[r]))&&(s[r]=[]),e(t,i,s[r],a)&&be.isArray(s[r])&&(s[r]=vX(s[r])),!o)}if(be.isFormData(n)&&be.isFunction(n.entries)){const t={};return be.forEachEntry(n,(i,s)=>{e(xX(i),s,t,0)}),t}return null}function SX(n,e,t){if(be.isString(n))try{return(e||JSON.parse)(n),be.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Gp={transitional:sC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,a=be.isObject(e);if(a&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return s?JSON.stringify(a5(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bX(e,this.formSerializer).toString();if((o=be.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bb(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),SX(e)):e}],transformResponse:[function(e){const t=this.transitional||Gp.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(i&&!this.responseType||s)){const r=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(r)throw o.name==="SyntaxError"?gt.from(o,gt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qi.classes.FormData,Blob:Qi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],n=>{Gp.headers[n]={}});const wX=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kX=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(r){s=r.indexOf(":"),t=r.substring(0,s).trim().toLowerCase(),i=r.substring(s+1).trim(),!(!t||e[t]&&wX[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},tP=Symbol("internals");function Uf(n){return n&&String(n).trim().toLowerCase()}function ey(n){return n===!1||n==null?n:be.isArray(n)?n.map(ey):String(n)}function CX(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const AX=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function J1(n,e,t,i,s){if(be.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!be.isString(e)){if(be.isString(i))return e.indexOf(i)!==-1;if(be.isRegExp(i))return i.test(e)}}function TX(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function NX(n,e){const t=be.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,a,r){return this[i].call(this,e,s,a,r)},configurable:!0})})}let Us=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function a(o,l,u){const h=Uf(l);if(!h)throw new Error("header name must be a non-empty string");const m=be.findKey(s,h);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||l]=ey(o))}const r=(o,l)=>be.forEach(o,(u,h)=>a(u,h,l));if(be.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(be.isString(e)&&(e=e.trim())&&!AX(e))r(kX(e),t);else if(be.isObject(e)&&be.isIterable(e)){let o={},l,u;for(const h of e){if(!be.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(l=o[u])?be.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}r(o,t)}else e!=null&&a(t,e,i);return this}get(e,t){if(e=Uf(e),e){const i=be.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return CX(s);if(be.isFunction(t))return t.call(this,s,i);if(be.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Uf(e),e){const i=be.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||J1(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function a(r){if(r=Uf(r),r){const o=be.findKey(i,r);o&&(!t||J1(i,i[o],o,t))&&(delete i[o],s=!0)}}return be.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const a=t[i];(!e||J1(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,i={};return be.forEach(this,(s,a)=>{const r=be.findKey(i,a);if(r){t[r]=ey(s),delete t[a];return}const o=e?TX(a):String(a).trim();o!==a&&delete t[a],t[o]=ey(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return be.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&be.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[tP]=this[tP]={accessors:{}}).accessors,s=this.prototype;function a(r){const o=Uf(r);i[o]||(NX(s,r),i[o]=!0)}return be.isArray(e)?e.forEach(a):a(e),this}};Us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(Us.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});be.freezeMethods(Us);function e2(n,e){const t=this||Gp,i=e||t,s=Us.from(i.headers);let a=i.data;return be.forEach(n,function(o){a=o.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function r5(n){return!!(n&&n.__CANCEL__)}let Xp=class extends gt{constructor(e,t,i){super(e??"canceled",gt.ERR_CANCELED,t,i),this.name="CanceledError",this.__CANCEL__=!0}};function o5(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new gt("Request failed with status code "+t.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function MX(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function OX(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,a=0,r;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=i[a];r||(r=u),t[s]=l,i[s]=u;let m=a,g=0;for(;m!==s;)g+=t[m++],m=m%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),u-r<e)return;const _=h&&u-h;return _?Math.round(g*1e3/_):void 0}}function LX(n,e){let t=0,i=1e3/e,s,a;const r=(u,h=Date.now())=>{t=h,s=null,a&&(clearTimeout(a),a=null),n(...u)};return[(...u)=>{const h=Date.now(),m=h-t;m>=i?r(u,h):(s=u,a||(a=setTimeout(()=>{a=null,r(s)},i-m)))},()=>s&&r(s)]}const Oy=(n,e,t=3)=>{let i=0;const s=OX(50,250);return LX(a=>{const r=a.loaded,o=a.lengthComputable?a.total:void 0,l=r-i,u=s(l),h=r<=o;i=r;const m={loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&h?(o-r)/u:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(m)},t)},nP=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},iP=n=>(...e)=>be.asap(()=>n(...e)),PX=Qi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Qi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Qi.origin),Qi.navigator&&/(msie|trident)/i.test(Qi.navigator.userAgent)):()=>!0,RX=Qi.hasStandardBrowserEnv?{write(n,e,t,i,s,a,r){if(typeof document>"u")return;const o=[`${n}=${encodeURIComponent(e)}`];be.isNumber(t)&&o.push(`expires=${new Date(t).toUTCString()}`),be.isString(i)&&o.push(`path=${i}`),be.isString(s)&&o.push(`domain=${s}`),a===!0&&o.push("secure"),be.isString(r)&&o.push(`SameSite=${r}`),document.cookie=o.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function EX(n){return typeof n!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jX(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function l5(n,e,t){let i=!EX(e);return n&&(i||t==!1)?jX(n,e):e}const sP=n=>n instanceof Us?{...n}:n;function gu(n,e){e=e||{};const t={};function i(u,h,m,g){return be.isPlainObject(u)&&be.isPlainObject(h)?be.merge.call({caseless:g},u,h):be.isPlainObject(h)?be.merge({},h):be.isArray(h)?h.slice():h}function s(u,h,m,g){if(be.isUndefined(h)){if(!be.isUndefined(u))return i(void 0,u,m,g)}else return i(u,h,m,g)}function a(u,h){if(!be.isUndefined(h))return i(void 0,h)}function r(u,h){if(be.isUndefined(h)){if(!be.isUndefined(u))return i(void 0,u)}else return i(void 0,h)}function o(u,h,m){if(m in e)return i(u,h);if(m in n)return i(void 0,u)}const l={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(u,h,m)=>s(sP(u),sP(h),m,!0)};return be.forEach(Object.keys({...n,...e}),function(h){if(h==="__proto__"||h==="constructor"||h==="prototype")return;const m=be.hasOwnProp(l,h)?l[h]:s,g=m(n[h],e[h],h);be.isUndefined(g)&&m!==o||(t[h]=g)}),t}const c5=n=>{const e=gu({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:r,auth:o}=e;if(e.headers=r=Us.from(r),e.url=s5(l5(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),o&&r.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),be.isFormData(t)){if(Qi.hasStandardBrowserEnv||Qi.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(be.isFunction(t.getHeaders)){const l=t.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([h,m])=>{u.includes(h.toLowerCase())&&r.set(h,m)})}}if(Qi.hasStandardBrowserEnv&&(i&&be.isFunction(i)&&(i=i(e)),i||i!==!1&&PX(e.url))){const l=s&&a&&RX.read(a);l&&r.set(s,l)}return e},DX=typeof XMLHttpRequest<"u",FX=DX&&function(n){return new Promise(function(t,i){const s=c5(n);let a=s.data;const r=Us.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=s,h,m,g,_,b;function x(){_&&_(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function C(){if(!v)return;const N=Us.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:n,request:v};o5(function(M){t(M),x()},function(M){i(M),x()},T),v=null}"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(C)},v.onabort=function(){v&&(i(new gt("Request aborted",gt.ECONNABORTED,n,v)),v=null)},v.onerror=function(O){const T=O&&O.message?O.message:"Network Error",L=new gt(T,gt.ERR_NETWORK,n,v);L.event=O||null,i(L),v=null},v.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||sC;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),i(new gt(O,T.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,n,v)),v=null},a===void 0&&r.setContentType(null),"setRequestHeader"in v&&be.forEach(r.toJSON(),function(O,T){v.setRequestHeader(T,O)}),be.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),o&&o!=="json"&&(v.responseType=s.responseType),u&&([g,b]=Oy(u,!0),v.addEventListener("progress",g)),l&&v.upload&&([m,_]=Oy(l),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(h=N=>{v&&(i(!N||N.type?new Xp(null,n,v):N),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const k=MX(s.url);if(k&&Qi.protocols.indexOf(k)===-1){i(new gt("Unsupported protocol "+k+":",gt.ERR_BAD_REQUEST,n));return}v.send(a||null)})},UX=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const a=function(u){if(!s){s=!0,o();const h=u instanceof Error?u:this.reason;i.abort(h instanceof gt?h:new Xp(h instanceof Error?h.message:h))}};let r=e&&setTimeout(()=>{r=null,a(new gt(`timeout of ${e}ms exceeded`,gt.ETIMEDOUT))},e);const o=()=>{n&&(r&&clearTimeout(r),r=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),n=null)};n.forEach(u=>u.addEventListener("abort",a));const{signal:l}=i;return l.unsubscribe=()=>be.asap(o),l}},BX=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},IX=async function*(n,e){for await(const t of zX(n))yield*BX(t,e)},zX=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},aP=(n,e,t,i)=>{const s=IX(n,e);let a=0,r,o=l=>{r||(r=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){o(),l.close();return}let m=h.byteLength;if(t){let g=a+=m;t(g)}l.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},rP=64*1024,{isFunction:D_}=be,qX=(({Request:n,Response:e})=>({Request:n,Response:e}))(be.global),{ReadableStream:oP,TextEncoder:lP}=be.global,cP=(n,...e)=>{try{return!!n(...e)}catch{return!1}},KX=n=>{n=be.merge.call({skipUndefined:!0},qX,n);const{fetch:e,Request:t,Response:i}=n,s=e?D_(e):typeof fetch=="function",a=D_(t),r=D_(i);if(!s)return!1;const o=s&&D_(oP),l=s&&(typeof lP=="function"?(b=>x=>b.encode(x))(new lP):async b=>new Uint8Array(await new t(b).arrayBuffer())),u=a&&o&&cP(()=>{let b=!1;const x=new t(Qi.origin,{body:new oP,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!x}),h=r&&o&&cP(()=>be.isReadableStream(new i("").body)),m={stream:h&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(x,v)=>{let C=x&&x[b];if(C)return C.call(x);throw new gt(`Response type '${b}' is not supported`,gt.ERR_NOT_SUPPORT,v)})});const g=async b=>{if(b==null)return 0;if(be.isBlob(b))return b.size;if(be.isSpecCompliantForm(b))return(await new t(Qi.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(be.isArrayBufferView(b)||be.isArrayBuffer(b))return b.byteLength;if(be.isURLSearchParams(b)&&(b=b+""),be.isString(b))return(await l(b)).byteLength},_=async(b,x)=>{const v=be.toFiniteNumber(b.getContentLength());return v??g(x)};return async b=>{let{url:x,method:v,data:C,signal:k,cancelToken:N,timeout:O,onDownloadProgress:T,onUploadProgress:L,responseType:M,headers:P,withCredentials:R="same-origin",fetchOptions:D}=c5(b),U=e||fetch;M=M?(M+"").toLowerCase():"text";let F=UX([k,N&&N.toAbortSignal()],O),H=null;const Z=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let Y;try{if(L&&u&&v!=="get"&&v!=="head"&&(Y=await _(P,C))!==0){let j=new t(x,{method:"POST",body:C,duplex:"half"}),B;if(be.isFormData(C)&&(B=j.headers.get("content-type"))&&P.setContentType(B),j.body){const[X,te]=nP(Y,Oy(iP(L)));C=aP(j.body,rP,X,te)}}be.isString(R)||(R=R?"include":"omit");const I=a&&"credentials"in t.prototype,K={...D,signal:F,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:C,duplex:"half",credentials:I?R:void 0};H=a&&new t(x,K);let V=await(a?U(H,D):U(x,K));const $=h&&(M==="stream"||M==="response");if(h&&(T||$&&Z)){const j={};["status","statusText","headers"].forEach(Q=>{j[Q]=V[Q]});const B=be.toFiniteNumber(V.headers.get("content-length")),[X,te]=T&&nP(B,Oy(iP(T),!0))||[];V=new i(aP(V.body,rP,X,()=>{te&&te(),Z&&Z()}),j)}M=M||"text";let W=await m[be.findKey(m,M)||"text"](V,b);return!$&&Z&&Z(),await new Promise((j,B)=>{o5(j,B,{data:W,headers:Us.from(V.headers),status:V.status,statusText:V.statusText,config:b,request:H})})}catch(I){throw Z&&Z(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,b,H,I&&I.response),{cause:I.cause||I}):gt.from(I,I&&I.code,b,H,I&&I.response)}}},HX=new Map,u5=n=>{let e=n&&n.env||{};const{fetch:t,Request:i,Response:s}=e,a=[i,s,t];let r=a.length,o=r,l,u,h=HX;for(;o--;)l=a[o],u=h.get(l),u===void 0&&h.set(l,u=o?new Map:KX(e)),h=u;return u};u5();const rC={http:oX,xhr:FX,fetch:{get:u5}};be.forEach(rC,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const uP=n=>`- ${n}`,VX=n=>be.isFunction(n)||n===null||n===!1;function WX(n,e){n=be.isArray(n)?n:[n];const{length:t}=n;let i,s;const a={};for(let r=0;r<t;r++){i=n[r];let o;if(s=i,!VX(i)&&(s=rC[(o=String(i)).toLowerCase()],s===void 0))throw new gt(`Unknown adapter '${o}'`);if(s&&(be.isFunction(s)||(s=s.get(e))))break;a[o||"#"+r]=s}if(!s){const r=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(uP).join(`
`):" "+uP(r[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const d5={getAdapter:WX,adapters:rC};function t2(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Xp(null,n)}function dP(n){return t2(n),n.headers=Us.from(n.headers),n.data=e2.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),d5.getAdapter(n.adapter||Gp.adapter,n)(n).then(function(i){return t2(n),i.data=e2.call(n,n.transformResponse,i),i.headers=Us.from(i.headers),i},function(i){return r5(i)||(t2(n),i&&i.response&&(i.response.data=e2.call(n,n.transformResponse,i.response),i.response.headers=Us.from(i.response.headers))),Promise.reject(i)})}const h5="1.13.5",Ib={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ib[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const hP={};Ib.transitional=function(e,t,i){function s(a,r){return"[Axios v"+h5+"] Transitional option '"+a+"'"+r+(i?". "+i:"")}return(a,r,o)=>{if(e===!1)throw new gt(s(r," has been removed"+(t?" in "+t:"")),gt.ERR_DEPRECATED);return t&&!hP[r]&&(hP[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,r,o):!0}};Ib.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function GX(n,e,t){if(typeof n!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const a=i[s],r=e[a];if(r){const o=n[a],l=o===void 0||r(o,a,n);if(l!==!0)throw new gt("option "+a+" must be "+l,gt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new gt("Unknown option "+a,gt.ERR_BAD_OPTION)}}const ty={assertOptions:GX,validators:Ib},Ta=ty.validators;let ru=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eP,response:new eP}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=gu(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:a}=t;i!==void 0&&ty.assertOptions(i,{silentJSONParsing:Ta.transitional(Ta.boolean),forcedJSONParsing:Ta.transitional(Ta.boolean),clarifyTimeoutError:Ta.transitional(Ta.boolean),legacyInterceptorReqResOrdering:Ta.transitional(Ta.boolean)},!1),s!=null&&(be.isFunction(s)?t.paramsSerializer={serialize:s}:ty.assertOptions(s,{encode:Ta.function,serialize:Ta.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ty.assertOptions(t,{baseUrl:Ta.spelling("baseURL"),withXsrfToken:Ta.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=a&&be.merge(a.common,a[t.method]);a&&be.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),t.headers=Us.concat(r,a);const o=[];let l=!0;this.interceptors.request.forEach(function(x){if(typeof x.runWhen=="function"&&x.runWhen(t)===!1)return;l=l&&x.synchronous;const v=t.transitional||sC;v&&v.legacyInterceptorReqResOrdering?o.unshift(x.fulfilled,x.rejected):o.push(x.fulfilled,x.rejected)});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let h,m=0,g;if(!l){const b=[dP.bind(this),void 0];for(b.unshift(...o),b.push(...u),g=b.length,h=Promise.resolve(t);m<g;)h=h.then(b[m++],b[m++]);return h}g=o.length;let _=t;for(;m<g;){const b=o[m++],x=o[m++];try{_=b(_)}catch(v){x.call(this,v);break}}try{h=dP.call(this,_)}catch(b){return Promise.reject(b)}for(m=0,g=u.length;m<g;)h=h.then(u[m++],u[m++]);return h}getUri(e){e=gu(this.defaults,e);const t=l5(e.baseURL,e.url,e.allowAbsoluteUrls);return s5(t,e.params,e.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){ru.prototype[e]=function(t,i){return this.request(gu(i||{},{method:e,url:t,data:(i||{}).data}))}});be.forEach(["post","put","patch"],function(e){function t(i){return function(a,r,o){return this.request(gu(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:r}))}}ru.prototype[e]=t(),ru.prototype[e+"Form"]=t(!0)});let XX=class f5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const r=new Promise(o=>{i.subscribe(o),a=o}).then(s);return r.cancel=function(){i.unsubscribe(a)},r},e(function(a,r,o){i.reason||(i.reason=new Xp(a,r,o),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new f5(function(s){e=s}),cancel:e}}};function $X(n){return function(t){return n.apply(null,t)}}function QX(n){return be.isObject(n)&&n.isAxiosError===!0}const GS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(GS).forEach(([n,e])=>{GS[e]=n});function m5(n){const e=new ru(n),t=GD(ru.prototype.request,e);return be.extend(t,ru.prototype,e,{allOwnKeys:!0}),be.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return m5(gu(n,s))},t}const Xn=m5(Gp);Xn.Axios=ru;Xn.CanceledError=Xp;Xn.CancelToken=XX;Xn.isCancel=r5;Xn.VERSION=h5;Xn.toFormData=Bb;Xn.AxiosError=gt;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=$X;Xn.isAxiosError=QX;Xn.mergeConfig=gu;Xn.AxiosHeaders=Us;Xn.formToJSON=n=>a5(be.isHTMLForm(n)?new FormData(n):n);Xn.getAdapter=d5.getAdapter;Xn.HttpStatusCode=GS;Xn.default=Xn;const{Axios:cTe,AxiosError:uTe,CanceledError:dTe,isCancel:hTe,CancelToken:fTe,VERSION:mTe,all:pTe,Cancel:gTe,isAxiosError:_Te,spread:yTe,toFormData:bTe,AxiosHeaders:xTe,HttpStatusCode:vTe,formToJSON:STe,getAdapter:wTe,mergeConfig:kTe}=Xn,Xr=n=>{let e=(n||"").trim();return e?(e=e.replace(/\/?v0\/management\/?$/i,""),e=e.replace(/\/+$/i,""),/^https?:\/\//i.test(e)||(e=`http://${e}`),e):""},YX=n=>{const e=Xr(n);return e?`${e}${IS}`:""},p5=()=>{try{const{protocol:n,hostname:e,port:t}=window.location,i=t?`:${t}`:"";return Xr(`${n}//${e}${i}`)}catch(n){return console.warn("Failed to detect api base from location, fallback to default",n),Xr(`http://localhost:${uV}`)}};class ZX{constructor(){Ct(this,"instance");Ct(this,"apiBase","");Ct(this,"managementKey","");this.instance=Xn.create({timeout:WL,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setConfig(e){this.apiBase=YX(e.apiBase),this.managementKey=e.managementKey,e.timeout?this.instance.defaults.timeout=e.timeout:this.instance.defaults.timeout=WL}readHeader(e,t){if(!e)return null;const i=o=>{if(o==null)return null;if(Array.isArray(o)){const u=o.find(h=>h!=null&&String(h).trim());return u!==void 0?String(u):null}const l=String(o);return l||null},s=e.get;if(typeof s=="function")for(const o of t){const l=i(s.call(e,o));if(l)return l}const a=typeof e.entries=="function"?Array.from(e.entries()):Object.entries(e),r=Object.fromEntries(a.map(([o,l])=>[String(o).toLowerCase(),l]));for(const o of t){const l=i(r[o.toLowerCase()]);if(l)return l}return null}setupInterceptors(){this.instance.interceptors.request.use(e=>(e.baseURL=this.apiBase,e.url&&(e.url=e.url.replace(/\/generative-language-api-key\b/g,"/gemini-api-key")),this.managementKey&&(e.headers.Authorization=`Bearer ${this.managementKey}`),e),e=>Promise.reject(this.handleError(e))),this.instance.interceptors.response.use(e=>{const t=e.headers,i=this.readHeader(t,dV),s=this.readHeader(t,hV);return(i||s)&&window.dispatchEvent(new CustomEvent("server-version-update",{detail:{version:i||null,buildDate:s||null}})),e},e=>Promise.reject(this.handleError(e)))}handleError(e){const t=a=>a!==null&&typeof a=="object";if(Xn.isAxiosError(e)){const a=e.response?.data,r=t(a)?a:null,o=r?.error,l=typeof o=="string"?o:t(o)&&typeof o.message=="string"?o.message:typeof r?.message=="string"?r.message:e.message||"Request failed",u=new Error(l);return u.name="ApiError",u.status=e.response?.status,u.code=e.code,u.details=a,u.data=a,e.response?.status===401&&window.dispatchEvent(new Event("unauthorized")),u}const i=e instanceof Error?e.message:typeof e=="string"?e:"Unknown error occurred",s=new Error(i);return s.name="ApiError",s}async get(e,t){return(await this.instance.get(e,t)).data}async post(e,t,i){return(await this.instance.post(e,t,i)).data}async put(e,t,i){return(await this.instance.put(e,t,i)).data}async patch(e,t,i){return(await this.instance.patch(e,t,i)).data}async delete(e,t){return(await this.instance.delete(e,t)).data}async getRaw(e,t){return this.instance.get(e,t)}async postForm(e,t,i){return(await this.instance.post(e,t,{...i,headers:{...i?.headers||{},"Content-Type":"multipart/form-data"}})).data}async requestRaw(e){return this.instance.request(e)}}const De=new ZX;function ys(n){return n?Array.isArray(n)?n.reduce((e,t)=>{const i=t?.key?.trim(),s=t?.value?.trim();return i&&s!==void 0&&s!==null&&s!==""&&(e[i]=s),e},{}):Object.entries(n).reduce((e,[t,i])=>{const s=t?.trim(),a=typeof i=="string"?i.trim():i;return s&&a!==void 0&&a!==null&&a!==""&&(e[s]=String(a)),e},{}):{}}function $p(n){return!n||typeof n!="object"?[]:Object.entries(n).filter(([,e])=>e!=null&&e!=="").map(([e,t])=>({key:e,value:String(t)}))}const Qp=n=>(n??[]).map(e=>({key:String(e?.key??"").trim(),value:String(e?.value??"").trim()})).filter(e=>e.key||e.value).sort((e,t)=>{const i=e.key.toLowerCase().localeCompare(t.key.toLowerCase());return i!==0?i:e.value.localeCompare(t.value)}),_s=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),or=n=>{if(n!=null){if(typeof n=="boolean")return n;if(typeof n=="number")return n!==0;if(typeof n=="string"){const e=n.trim().toLowerCase();if(["true","1","yes","y","on"].includes(e))return!0;if(["false","0","no","n","off"].includes(e))return!1}return!!n}},oC=n=>Array.isArray(n)?n.map(e=>{if(e==null)return null;if(typeof e=="string"){const o=e.trim();return o?{name:o}:null}if(!_s(e))return null;const t=e.name||e.id||e.model;if(!t)return null;const i=e.alias||e.display_name||e.displayName,s=e.priority??e.priority,a=e["test-model"]??e.testModel,r={name:String(t)};if(i&&i!==t&&(r.alias=String(i)),s!==void 0){const o=Number(s);Number.isFinite(o)&&(r.priority=o)}return a&&(r.testModel=String(a)),r}).filter(Boolean):[],zb=n=>{if(!n||typeof n!="object")return;const e=ys((Array.isArray(n),n));return Object.keys(e).length?e:void 0},Ly=n=>{const e=Array.isArray(n)?n:typeof n=="string"?n.split(/[\n,]/):[],t=new Set,i=[];return e.forEach(s=>{const a=String(s??"").trim();if(!a)return;const r=a.toLowerCase();t.has(r)||(t.add(r),i.push(a))}),i},lC=n=>{if(n==null)return;const e=String(n).trim();return e||void 0},fP=n=>{if(n==null)return null;const e=_s(n)?n:null,t=e?.["api-key"]??e?.apiKey??e?.key??(typeof n=="string"?n:""),i=String(t||"").trim();if(!i)return null;const s=e?e["proxy-url"]??e.proxyUrl:void 0,a=e?zb(e.headers):void 0;return{apiKey:i,proxyUrl:s?String(s):void 0,headers:a}},Kd=n=>{if(n==null)return null;const e=_s(n)?n:null,t=e?.["api-key"]??e?.apiKey??(typeof n=="string"?n:""),i=String(t||"").trim();if(!i)return null;const s={apiKey:i},a=e?.priority??e?.priority;if(a!=null&&String(a).trim()!==""){const b=Number(a);Number.isFinite(b)&&(s.priority=b)}const r=lC(e?.prefix??e?.prefix);r&&(s.prefix=r);const o=e?e["base-url"]??e.baseUrl:void 0,l=e?e["proxy-url"]??e.proxyUrl:void 0;o&&(s.baseUrl=String(o));const u=or(e?.websockets??e?.websockets);u!==void 0&&(s.websockets=u),l&&(s.proxyUrl=String(l));const h=zb(e?.headers);h&&(s.headers=h);const m=oC(e?.models);m.length&&(s.models=m);const g=Ly(e?.["excluded-models"]??e?.excludedModels??e?.excluded_models??e?.excluded_models);g.length&&(s.excludedModels=g);const _=e?.cloak;if(_s(_)){const b={},x=_.mode??_.mode;typeof x=="string"&&x.trim()&&(b.mode=x.trim());const v=or(_["strict-mode"]??_.strictMode??_.strict_mode);v!==void 0&&(b.strictMode=v);const C=Ly(_["sensitive-words"]??_.sensitiveWords??_.sensitive_words);C.length&&(b.sensitiveWords=C),Object.keys(b).length&&(s.cloak=b)}return s},g5=n=>{if(n==null)return null;const e=_s(n)?n:null;let t=e?.["api-key"]??e?.apiKey;!t&&typeof n=="string"&&(t=n);const i=String(t||"").trim();if(!i)return null;const s={apiKey:i},a=e?.priority??e?.priority;if(a!=null&&String(a).trim()!==""){const g=Number(a);Number.isFinite(g)&&(s.priority=g)}const r=lC(e?.prefix??e?.prefix);r&&(s.prefix=r);const o=e?e["base-url"]??e.baseUrl??e.base_url:void 0;o&&(s.baseUrl=String(o));const l=e?e["proxy-url"]??e.proxyUrl??e.proxy_url:void 0;l&&(s.proxyUrl=String(l));const u=oC(e?.models);u.length&&(s.models=u);const h=zb(e?.headers);h&&(s.headers=h);const m=Ly(e?.["excluded-models"]??e?.excludedModels);return m.length&&(s.excludedModels=m),s},_5=n=>{if(!_s(n))return null;const e=n.name||n.id,t=n["base-url"]??n.baseUrl;if(!e||!t)return null;let i=[];Array.isArray(n["api-key-entries"])?i=n["api-key-entries"].map(h=>fP(h)).filter(Boolean):Array.isArray(n["api-keys"])&&(i=n["api-keys"].map(h=>fP({"api-key":h})).filter(Boolean));const s=zb(n.headers),a=oC(n.models),r=n.priority??n.priority,o=n["test-model"]??n.testModel,l={name:String(e),baseUrl:String(t),apiKeyEntries:i},u=lC(n.prefix??n.prefix);return u&&(l.prefix=u),s&&(l.headers=s),a.length&&(l.models=a),r!==void 0&&(l.priority=Number(r)),o&&(l.testModel=String(o)),l},JX=n=>{if(!_s(n))return;const e=n["oauth-excluded-models"]??n.items??n;if(!_s(e))return;const t={};return Object.entries(e).forEach(([i,s])=>{const a=String(i||"").trim();if(!a)return;const r=Ly(s);t[a.toLowerCase()]=r}),t},y5=n=>{if(!Array.isArray(n))return[];const e=new Set,t=[];return n.forEach(i=>{if(!_s(i))return;const s=String(i.from??i.from??"").trim(),a=String(i.to??i.to??"").trim();if(!s||!a)return;const r=s.toLowerCase();e.has(r)||(e.add(r),t.push({from:s,to:a}))}),t},b5=n=>{const e=_s(n)?n.ampcode??n:n;if(!_s(e))return;const t=e,i={},s=t["upstream-url"]??t.upstreamUrl??t.upstream_url;s&&(i.upstreamUrl=String(s));const a=t["upstream-api-key"]??t.upstreamApiKey??t.upstream_api_key;a&&(i.upstreamApiKey=String(a));const r=or(t["force-model-mappings"]??t.forceModelMappings??t.force_model_mappings);r!==void 0&&(i.forceModelMappings=r);const o=y5(t["model-mappings"]??t.modelMappings??t.model_mappings);return o.length&&(i.modelMappings=o),i},e$=n=>{const e={raw:_s(n)?n:{}};if(!_s(n))return e;e.debug=or(n.debug);const t=n["proxy-url"]??n.proxyUrl;e.proxyUrl=typeof t=="string"?t:t==null?void 0:String(t);const i=n["request-retry"]??n.requestRetry;if(typeof i=="number"&&Number.isFinite(i))e.requestRetry=i;else if(typeof i=="string"&&i.trim()!==""){const v=Number(i);Number.isFinite(v)&&(e.requestRetry=v)}const s=n["quota-exceeded"]??n.quotaExceeded;_s(s)&&(e.quotaExceeded={switchProject:or(s["switch-project"]??s.switchProject),switchPreviewModel:or(s["switch-preview-model"]??s.switchPreviewModel)}),e.usageStatisticsEnabled=or(n["usage-statistics-enabled"]??n.usageStatisticsEnabled),e.requestLog=or(n["request-log"]??n.requestLog),e.loggingToFile=or(n["logging-to-file"]??n.loggingToFile);const a=n["logs-max-total-size-mb"]??n.logsMaxTotalSizeMb;if(typeof a=="number"&&Number.isFinite(a))e.logsMaxTotalSizeMb=a;else if(typeof a=="string"&&a.trim()!==""){const v=Number(a);Number.isFinite(v)&&(e.logsMaxTotalSizeMb=v)}e.wsAuth=or(n["ws-auth"]??n.wsAuth),e.forceModelPrefix=or(n["force-model-prefix"]??n.forceModelPrefix);const r=n.routing,o=_s(r)?r.strategy??r.strategy:n["routing-strategy"]??n.routingStrategy;o!=null&&(e.routingStrategy=String(o));const l=n["api-keys"]??n.apiKeys;Array.isArray(l)&&(e.apiKeys=l.map(v=>String(v)).filter(v=>v.trim()!==""));const u=n["gemini-api-key"]??n.geminiApiKey??n.geminiApiKeys;Array.isArray(u)&&(e.geminiApiKeys=u.map(v=>g5(v)).filter(Boolean));const h=n["codex-api-key"]??n.codexApiKey??n.codexApiKeys;Array.isArray(h)&&(e.codexApiKeys=h.map(v=>Kd(v)).filter(Boolean));const m=n["claude-api-key"]??n.claudeApiKey??n.claudeApiKeys;Array.isArray(m)&&(e.claudeApiKeys=m.map(v=>Kd(v)).filter(Boolean));const g=n["vertex-api-key"]??n.vertexApiKey??n.vertexApiKeys;Array.isArray(g)&&(e.vertexApiKeys=g.map(v=>Kd(v)).filter(Boolean));const _=n["openai-compatibility"]??n.openaiCompatibility??n.openAICompatibility;Array.isArray(_)&&(e.openaiCompatibility=_.map(v=>_5(v)).filter(Boolean));const b=b5(n.ampcode);b&&(e.ampcode=b);const x=JX(n["oauth-excluded-models"]??n.oauthExcludedModels);return x&&(e.oauthExcludedModels=x),e},x5={async getConfig(){const n=await De.get("/config");return e$(n)},getRawConfig:()=>De.get("/config"),updateDebug:n=>De.put("/debug",{value:n}),updateProxyUrl:n=>De.put("/proxy-url",{value:n}),clearProxyUrl:()=>De.delete("/proxy-url"),updateRequestRetry:n=>De.put("/request-retry",{value:n}),updateSwitchProject:n=>De.put("/quota-exceeded/switch-project",{value:n}),updateSwitchPreviewModel:n=>De.put("/quota-exceeded/switch-preview-model",{value:n}),updateUsageStatistics:n=>De.put("/usage-statistics-enabled",{value:n}),updateRequestLog:n=>De.put("/request-log",{value:n}),updateLoggingToFile:n=>De.put("/logging-to-file",{value:n}),async getLogsMaxTotalSizeMb(){const n=await De.get("/logs-max-total-size-mb"),e=n?.["logs-max-total-size-mb"]??n?.logsMaxTotalSizeMb??0,t=Number(e);return Number.isFinite(t)?t:0},updateLogsMaxTotalSizeMb:n=>De.put("/logs-max-total-size-mb",{value:n}),updateWsAuth:n=>De.put("/ws-auth",{value:n}),async getForceModelPrefix(){const n=await De.get("/force-model-prefix");return!!(n?.["force-model-prefix"]??n?.forceModelPrefix??!1)},updateForceModelPrefix:n=>De.put("/force-model-prefix",{value:n}),async getRoutingStrategy(){const n=await De.get("/routing/strategy"),e=n?.strategy??n?.["routing-strategy"]??n?.routingStrategy;return typeof e=="string"?e:"round-robin"},updateRoutingStrategy:n=>De.put("/routing/strategy",{value:n})};let F_=0,gd=null;const t$=["debug","proxy-url","request-retry","quota-exceeded","usage-statistics-enabled","request-log","logging-to-file","logs-max-total-size-mb","ws-auth","force-model-prefix","routing/strategy","api-keys","ampcode","gemini-api-key","codex-api-key","claude-api-key","vertex-api-key","openai-compatibility","oauth-excluded-models"],Bf=(n,e)=>{if(n)switch(e){case"debug":return n.debug;case"proxy-url":return n.proxyUrl;case"request-retry":return n.requestRetry;case"quota-exceeded":return n.quotaExceeded;case"usage-statistics-enabled":return n.usageStatisticsEnabled;case"request-log":return n.requestLog;case"logging-to-file":return n.loggingToFile;case"logs-max-total-size-mb":return n.logsMaxTotalSizeMb;case"ws-auth":return n.wsAuth;case"force-model-prefix":return n.forceModelPrefix;case"routing/strategy":return n.routingStrategy;case"api-keys":return n.apiKeys;case"ampcode":return n.ampcode;case"gemini-api-key":return n.geminiApiKeys;case"codex-api-key":return n.codexApiKeys;case"claude-api-key":return n.claudeApiKeys;case"vertex-api-key":return n.vertexApiKeys;case"openai-compatibility":return n.openaiCompatibility;case"oauth-excluded-models":return n.oauthExcludedModels;default:return e?n.raw?.[e]:void 0}},Dt=Jr((n,e)=>({config:null,cache:new Map,loading:!1,error:null,fetchConfig:(async(t,i=!1)=>{const{cache:s,isCacheValid:a}=e(),r=t||"__full__";if(!i&&a(t)){const l=s.get(r);if(l)return l.data}if(!i&&t&&a()){const l=s.get("__full__");if(l?.data)return Bf(l.data,t)}if(gd){const l=await gd.promise;return t?Bf(l,t):l}n({loading:!0,error:null});const o=F_+=1;try{const l=x5.getConfig();gd={id:o,promise:l};const u=await l,h=Date.now();if(o!==F_)return t?Bf(u,t):u;const m=new Map(s);return m.set("__full__",{data:u,timestamp:h}),t$.forEach(g=>{const _=Bf(u,g);_!==void 0&&m.set(g,{data:_,timestamp:h})}),n({config:u,cache:m,loading:!1}),t?Bf(u,t):u}catch(l){const u=l instanceof Error?l.message:typeof l=="string"?l:"Failed to fetch config";throw o===F_&&n({error:u||"Failed to fetch config",loading:!1}),l}finally{gd?.id===o&&(gd=null)}}),updateConfigValue:(t,i)=>{n(s=>{const a={...s.config?.raw||{}};a[t]=i;const r={...s.config||{},raw:a};switch(t){case"debug":r.debug=i;break;case"proxy-url":r.proxyUrl=i;break;case"request-retry":r.requestRetry=i;break;case"quota-exceeded":r.quotaExceeded=i;break;case"usage-statistics-enabled":r.usageStatisticsEnabled=i;break;case"request-log":r.requestLog=i;break;case"logging-to-file":r.loggingToFile=i;break;case"logs-max-total-size-mb":r.logsMaxTotalSizeMb=i;break;case"ws-auth":r.wsAuth=i;break;case"force-model-prefix":r.forceModelPrefix=i;break;case"routing/strategy":r.routingStrategy=i;break;case"api-keys":r.apiKeys=i;break;case"ampcode":r.ampcode=i;break;case"gemini-api-key":r.geminiApiKeys=i;break;case"codex-api-key":r.codexApiKeys=i;break;case"claude-api-key":r.claudeApiKeys=i;break;case"vertex-api-key":r.vertexApiKeys=i;break;case"openai-compatibility":r.openaiCompatibility=i;break;case"oauth-excluded-models":r.oauthExcludedModels=i;break}return{config:r}}),e().clearCache(t)},clearCache:t=>{const{cache:i}=e(),s=new Map(i);if(t){s.delete(t),s.delete("__full__"),n({cache:s});return}else s.clear();F_+=1,gd=null,n({config:null,cache:s,loading:!1,error:null})},isCacheValid:t=>{const{cache:i}=e(),s=t||"__full__",a=i.get(s);return a?Date.now()-a.timestamp<BD:!1}}));let If=null;const Kt=Jr()(tC((n,e)=>({isAuthenticated:!1,apiBase:"",managementKey:"",rememberPassword:!1,serverVersion:null,serverBuildDate:null,connectionStatus:"disconnected",connectionError:null,restoreSession:()=>If||(If=(async()=>{Mc.migratePlaintextKeys(["apiBase","apiUrl","managementKey"]);const t=localStorage.getItem("isLoggedIn")==="true",i=Mc.getItem("apiBase")||Mc.getItem("apiUrl",{encrypt:!0}),s=Mc.getItem("managementKey"),{apiBase:a,managementKey:r,rememberPassword:o}=e(),l=Xr(a||i||p5()),u=r||s||"",h=o||!!r||!!s;if(n({apiBase:l,managementKey:u,rememberPassword:h}),De.setConfig({apiBase:l,managementKey:u}),t&&l&&u)try{return await e().login({apiBase:l,managementKey:u,rememberPassword:h}),!0}catch(m){return console.warn("Auto login failed:",m),!1}return!1})(),If),login:async t=>{const i=Xr(t.apiBase),s=t.managementKey.trim(),a=t.rememberPassword??e().rememberPassword??!1;try{n({connectionStatus:"connecting"}),De.setConfig({apiBase:i,managementKey:s}),await Dt.getState().fetchConfig(void 0,!0),n({isAuthenticated:!0,apiBase:i,managementKey:s,rememberPassword:a,connectionStatus:"connected",connectionError:null}),a?localStorage.setItem("isLoggedIn","true"):localStorage.removeItem("isLoggedIn")}catch(r){const o=r instanceof Error?r.message:typeof r=="string"?r:"Connection failed";throw n({connectionStatus:"error",connectionError:o||"Connection failed"}),r}},logout:()=>{If=null,Dt.getState().clearCache(),n({isAuthenticated:!1,apiBase:"",managementKey:"",serverVersion:null,serverBuildDate:null,connectionStatus:"disconnected",connectionError:null}),localStorage.removeItem("isLoggedIn")},checkAuth:async()=>{const{managementKey:t,apiBase:i}=e();if(!t||!i)return!1;try{return De.setConfig({apiBase:i,managementKey:t}),await Dt.getState().fetchConfig(),n({isAuthenticated:!0,connectionStatus:"connected"}),!0}catch{return n({isAuthenticated:!1,connectionStatus:"error"}),!1}},updateServerVersion:(t,i)=>{n({serverVersion:t||null,serverBuildDate:i||null})},updateConnectionStatus:(t,i=null)=>{n({connectionStatus:t,connectionError:i})}}),{name:ID,storage:KD(()=>({getItem:n=>{const e=Mc.getItem(n);return e?JSON.stringify(e):null},setItem:(n,e)=>{Mc.setItem(n,JSON.parse(e))},removeItem:n=>{Mc.removeItem(n)}})),partialize:n=>({apiBase:n.apiBase,...n.rememberPassword?{managementKey:n.managementKey}:{},rememberPassword:n.rememberPassword,serverVersion:n.serverVersion,serverBuildDate:n.serverBuildDate})}));typeof window<"u"&&(window.addEventListener("unauthorized",()=>{Kt.getState().logout()}),window.addEventListener("server-version-update",(n=>{const e=n.detail||{};Kt.getState().updateServerVersion(e.version||null,e.buildDate||null)})));const v5=[{id:"gpt",label:"GPT",patterns:[/gpt/i,/\bo\d\b/i,/\bo\d+\.?/i,/\bchatgpt/i]},{id:"claude",label:"Claude",patterns:[/claude/i]},{id:"gemini",label:"Gemini",patterns:[/gemini/i,/\bgai\b/i]},{id:"kimi",label:"Kimi",patterns:[/kimi/i]},{id:"qwen",label:"Qwen",patterns:[/qwen/i]},{id:"glm",label:"GLM",patterns:[/glm/i,/chatglm/i]},{id:"grok",label:"Grok",patterns:[/grok/i]},{id:"deepseek",label:"DeepSeek",patterns:[/deepseek/i]},{id:"minimax",label:"MiniMax",patterns:[/minimax/i,/abab/i]}],n$=n=>{for(const e of v5)if(e.patterns.some(t=>t.test(n)))return e.id;return null},mP=n=>n!==null&&typeof n=="object"&&!Array.isArray(n);function zf(n,{dedupe:e=!1}={}){const t=r=>{if(typeof r=="string")return{name:r};if(!mP(r))return null;const o=r.id||r.name||r.model||r.value;if(!o)return null;const l=r.alias||r.display_name||r.displayName,u=r.description||r.note||r.comment,h={name:String(o)};return l&&l!==o&&(h.alias=String(l)),u&&(h.description=String(u)),h};let i=[];Array.isArray(n)?i=n.map(t):mP(n)&&(Array.isArray(n.data)?i=n.data.map(t):Array.isArray(n.models)&&(i=n.models.map(t)));const s=i.filter(Boolean);if(!e)return s;const a=new Set;return s.filter(r=>{const o=(r?.name||"").toLowerCase();return!o||a.has(o)?!1:(a.add(o),!0)})}function i$(n=[],{otherLabel:e="Other"}={}){const t=v5.map(a=>({id:a.id,label:a.label,items:[]})),i={id:"other",label:e,items:[]};n.forEach(a=>{const r=(a?.name||"").toString(),o=(a?.alias||"").toString(),l=`${r} ${o}`.toLowerCase(),u=n$(l),h=u?t.find(m=>m.id===u):null;h?h.items.push(a):i.items.push(a)});const s=t.filter(a=>a.items.length>0);return i.items.length&&s.push(i),s}const s$=n=>{if(n==null)return{bodyText:"",body:null};if(typeof n=="string"){const e=n,t=e.trim();if(!t)return{bodyText:e,body:null};try{return{bodyText:e,body:JSON.parse(t)}}catch{return{bodyText:e,body:e}}}try{return{bodyText:JSON.stringify(n),body:n}}catch{return{bodyText:String(n),body:n}}},Br=n=>{const e=r=>r!==null&&typeof r=="object",t=n.statusCode,i=n.body,s=n.bodyText;let a="";if(e(i)){const r=i.error;e(r)&&typeof r.message=="string"?a=r.message:typeof r=="string"&&(a=r),!a&&typeof i.message=="string"&&(a=i.message)}else typeof i=="string"&&(a=i);return!a&&s&&(a=s),t&&a?`${t} ${a}`.trim():t?`HTTP ${t}`:a||"Request failed"},Ir={request:async(n,e)=>{const t=await De.post("/api-call",n,e),i=Number(t?.status_code??t?.statusCode??0),s=t?.header??t?.headers??{},{bodyText:a,body:r}=s$(t?.body);return{statusCode:i,header:s,bodyText:a,body:r}}},a$="https://api.anthropic.com",r$="https://generativelanguage.googleapis.com",o$="2023-06-01",n2=new Map,i2=new Map,l$=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),pP=(n,e)=>{const t=Object.entries(e).sort(([i],[s])=>i.toLowerCase().localeCompare(s.toLowerCase())).map(([i,s])=>`${i}:${s}`).join("|");return`${n}||${t}`},c$=n=>{const e=Xr(n);if(!e)return"";const t=e.replace(/\/+$/g,"");return/\/models$/i.test(t)?t:`${t}/models`},s2=n=>{const e=Xr(n);if(!e)return"";const t=e.replace(/\/+$/g,"");return/\/v1\/models$/i.test(t)?t:/\/v1$/i.test(t)?`${t}/models`:`${t}/v1/models`},gP=n=>{let i=(Xr(n)||a$).replace(/\/+$/g,"");return i=i.replace(/\/v1\/models$/i,""),i=i.replace(/\/v1(?:\/.*)?$/i,""),`${i}/v1/models`},_P=n=>{let i=(Xr(n)||r$).replace(/\/+$/g,"");return i=i.replace(/\/v1beta\/models$/i,""),i=i.replace(/\/v1beta(?:\/.*)?$/i,""),`${i}/v1beta/models`},u$=n=>{const e=String(n??"").trim();return e?e.replace(/^\/?models\//i,""):""},U_=(n,e)=>{const t=e.toLowerCase();return Object.keys(n).some(i=>i.toLowerCase()===t)},d$=n=>{const e=Object.entries(n).find(([s])=>s.toLowerCase()==="authorization");if(!e)return"";const t=String(e[1]??"").trim();return t&&t.match(/^Bearer\s+(.+)$/i)?.[1]?.trim()||""},$o={async fetchModels(n,e,t={}){const i=s2(n);if(!i)throw new Error("Invalid base url");const s={...t};e&&(s.Authorization=`Bearer ${e}`);const a=await Xn.get(i,{headers:Object.keys(s).length?s:void 0}),r=a.data?.data??a.data?.models??a.data;return zf(r,{dedupe:!0})},async fetchV1ModelsViaApiCall(n,e,t={}){const i=s2(n);if(!i)throw new Error("Invalid base url");const s={...t},a=!!(s.Authorization||s.authorization);e&&!a&&(s.Authorization=`Bearer ${e}`);const r=await Ir.request({method:"GET",url:i,header:Object.keys(s).length?s:void 0});if(r.statusCode<200||r.statusCode>=300)throw new Error(Br(r));const o=r.body??r.bodyText;return zf(o,{dedupe:!0})},async fetchModelsViaApiCall(n,e,t={}){const i=c$(n);if(!i)throw new Error("Invalid base url");const s={...t},a=!!(s.Authorization||s.authorization);e&&!a&&(s.Authorization=`Bearer ${e}`);const r=await Ir.request({method:"GET",url:i,header:Object.keys(s).length?s:void 0});if(r.statusCode<200||r.statusCode>=300)throw new Error(Br(r));const o=r.body??r.bodyText;return zf(o,{dedupe:!0})},buildV1ModelsEndpoint(n){return s2(n)},buildClaudeModelsEndpoint(n){return gP(n)},buildGeminiModelsEndpoint(n){return _P(n)},async fetchClaudeModelsViaApiCall(n,e,t={}){const i=gP(n);if(!i)throw new Error("Invalid base url");const s={...t};let a=String(e??"").trim();!a&&!U_(s,"x-api-key")&&(a=d$(s)),a&&!U_(s,"x-api-key")&&(s["x-api-key"]=a),U_(s,"anthropic-version")||(s["anthropic-version"]=o$);const r=pP(i,s),o=n2.get(r);if(o)return o;const l=(async()=>{const u=await Ir.request({method:"GET",url:i,header:Object.keys(s).length?s:void 0});if(u.statusCode<200||u.statusCode>=300)throw new Error(Br(u));const h=u.body??u.bodyText;return zf(h,{dedupe:!0})})();n2.set(r,l);try{return await l}finally{n2.delete(r)}},async fetchGeminiModelsViaApiCall(n,e,t={}){const i=_P(n);if(!i)throw new Error("Invalid base url");const s={...t},a=String(e??"").trim();a&&!U_(s,"x-goog-api-key")&&(s["x-goog-api-key"]=a);const r=pP(i,s),o=i2.get(r);if(o)return o;const l=(async()=>{const u=new Set,h=[];let m="";for(let g=0;g<20;g+=1){const _=new URL(i);m&&_.searchParams.set("pageToken",m);const b=await Ir.request({method:"GET",url:_.toString(),header:Object.keys(s).length?s:void 0});if(b.statusCode<200||b.statusCode>=300)throw new Error(Br(b));const x=b.body??b.bodyText;zf(x,{dedupe:!1}).forEach(k=>{const N=u$(k.name),O=(N||"").toLowerCase();if(!O||u.has(O))return;u.add(O);const T={...k,name:N};T.alias&&T.alias.trim()===N&&(T.alias=void 0),h.push(T)});const C=l$(x)&&typeof x.nextPageToken=="string"?x.nextPageToken:"";if(!C)break;m=C}return h})();i2.set(r,l);try{return await l}finally{i2.delete(r)}}},Yc=Jr((n,e)=>({models:[],loading:!1,error:null,cache:null,fetchModels:async(t,i,s=!1)=>{const{cache:a,isCacheValid:r}=e();if(!s&&r(t)&&a)return n({models:a.data,error:null}),a.data;n({loading:!0,error:null});try{const o=await $o.fetchModels(t,i),l=Date.now();return n({models:o,loading:!1,cache:{data:o,timestamp:l,apiBase:t}}),o}catch(o){const l=o instanceof Error?o.message:typeof o=="string"?o:"Failed to fetch models";throw n({error:l,loading:!1,models:[]}),o}},clearCache:()=>{n({cache:null,models:[]})},isCacheValid:t=>{const{cache:i}=e();return!i||i.apiBase!==t?!1:Date.now()-i.timestamp<BD}})),B_=(n,e)=>typeof n=="function"?n(e):n,sp=Jr(n=>({antigravityQuota:{},claudeQuota:{},codexQuota:{},geminiCliQuota:{},setAntigravityQuota:e=>n(t=>({antigravityQuota:B_(e,t.antigravityQuota)})),setClaudeQuota:e=>n(t=>({claudeQuota:B_(e,t.claudeQuota)})),setCodexQuota:e=>n(t=>({codexQuota:B_(e,t.codexQuota)})),setGeminiCliQuota:e=>n(t=>({geminiCliQuota:B_(e,t.geminiCliQuota)})),clearQuotaCache:()=>n({antigravityQuota:{},claudeQuota:{},codexQuota:{},geminiCliQuota:{}})}));function Xa(n){const e=String(n||"").trim();if(!e)return"";const t=10,i=e.length<4?1:2,s=e.slice(0,i),a=e.slice(-i),r=Math.max(t-i*2,1),o="*".repeat(r);return`${s}${o}${a}`}function cC(n){if(n===0)return"0 B";const e=["B","KB","MB","GB"],t=1024,i=Math.floor(Math.log(n)/Math.log(t));return`${(n/Math.pow(t,i)).toFixed(2)} ${e[i]}`}function h$(n,e){if(n==null||n==="")return"";const t=typeof n=="number"?n:Number(n),i=(()=>{if(!Number.isFinite(t)||Number.isNaN(t))return new Date(String(n));const s=Math.abs(t);return s<1e11?new Date(t*1e3):s<1e14?new Date(t):s<1e17?new Date(Math.round(t/1e3)):new Date(Math.round(t/1e6))})();return Number.isNaN(i.getTime())?"":e?i.toLocaleString(e):i.toLocaleString()}const a2=1e6,S5="cli-proxy-model-prices-v2",f$=/^(GET|POST|PUT|PATCH|DELETE|OPTIONS|HEAD)\s+(\S+)/i,m$={"7h":420*60*1e3,"24h":1440*60*1e3,"7d":10080*60*1e3},Ht=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Ou=n=>{const e=Ht(n)?n:null,t=e?e.apis:null;return Ht(t)?t:null},r2=()=>({totalRequests:0,successCount:0,failureCount:0,totalTokens:0}),o2=n=>({total_requests:n.totalRequests,success_count:n.successCount,failure_count:n.failureCount,total_tokens:n.totalTokens});function p$(n,e,t=Date.now()){if(e==="all")return n;const i=Ht(n)?n:null,s=Ou(n);if(!i||!s)return n;const a=m$[e];if(!Number.isFinite(a)||a<=0)return n;const r=t-a,o={},l=r2();return Object.entries(s).forEach(([u,h])=>{if(!Ht(h))return;const m=Ht(h.models)?h.models:null;if(!m)return;const g={},_=r2();let b=!1;Object.entries(m).forEach(([x,v])=>{if(!Ht(v))return;const C=Array.isArray(v.details)?v.details:[],k=r2(),N=[];C.forEach(O=>{const T=Ht(O)?O:null;if(!T||typeof T.timestamp!="string")return;const L=Date.parse(T.timestamp);Number.isNaN(L)||L<r||L>t||(N.push(O),k.totalRequests+=1,T.failed===!0?k.failureCount+=1:k.successCount+=1,k.totalTokens+=Lh(T))}),N.length&&(g[x]={...v,...o2(k),details:N},b=!0,_.totalRequests+=k.totalRequests,_.successCount+=k.successCount,_.failureCount+=k.failureCount,_.totalTokens+=k.totalTokens)}),b&&(o[u]={...h,...o2(_),models:g},l.totalRequests+=_.totalRequests,l.successCount+=_.successCount,l.failureCount+=_.failureCount,l.totalTokens+=_.totalTokens)}),{...i,...o2(l),apis:o}}const ws=n=>{if(typeof n=="number"&&Number.isFinite(n))return n.toString();if(typeof n=="string"){const e=n.trim();return e||null}return null},w5="k:",k5="m:",C5="t:",A5=/(sk-[A-Za-z0-9-_]{6,}|sk-ant-[A-Za-z0-9-_]{6,}|AIza[0-9A-Za-z-_]{8,}|AI[a-zA-Z0-9_-]{6,}|hf_[A-Za-z0-9]{6,}|pk_[A-Za-z0-9]{6,}|rk_[A-Za-z0-9]{6,})/,g$=/^[^\s]{1,24}(\*{2,}|\.{3}|)[^\s]{1,24}$/,yP=new Map,T5=n=>{const e=yP.get(n);if(e)return e;const t=0xcbf29ce484222325n,i=0x100000001b3n;let s=t;for(let r=0;r<n.length;r++)s^=BigInt(n.charCodeAt(r)),s=s*i&0xffffffffffffffffn;const a=s.toString(16).padStart(16,"0");return yP.set(n,a),a},I_=n=>{if(!n||/\s/.test(n))return!1;const e=n.toLowerCase();return e.endsWith(".json")||e.startsWith("http://")||e.startsWith("https://")||/[\\/]/.test(n)?!1:A5.test(n)||n.length>=32&&n.length<=512?!0:n.length>=16&&n.length<32&&/^[A-Za-z0-9._=-]+$/.test(n)?/[A-Za-z]/.test(n)&&/\d/.test(n):!1},_$=n=>{if(!n)return null;if(I_(n))return n;const e=n.match(A5);if(e?.[0])return e[0];const i=n.match(/(?:[?&])(api[-_]?key|key|token|access_token|authorization)=([^&#\s]+)/i)?.[2];if(i&&I_(i))return i;const a=n.match(/(api[-_]?key|key|token|access[-_]?token|authorization)\s*[:=]\s*([A-Za-z0-9._=-]+)/i)?.[2];if(a&&I_(a))return a;const o=n.match(/\bBearer\s+([A-Za-z0-9._=-]{6,})/i)?.[1];return o&&I_(o)?o:null};function ap(n,e=Xa){const i=(typeof n=="string"?n:n==null?"":String(n)).trim();if(!i)return"";const s=_$(i);return s?`${w5}${T5(s)}`:g$.test(i)?`${k5}${e(i)}`:`${C5}${i}`}function bs(n){const e=[],t=n.prefix?.trim();t&&e.push(`${C5}${t}`);const i=n.apiKey?.trim();return i&&(e.push(`${w5}${T5(i)}`),e.push(`${k5}${Xa(i)}`)),Array.from(new Set(e))}function y$(n,e=Xa){if(n==null)return"";const t=typeof n=="string"?n:String(n);if(!t)return"";let i=t;const s=/([?&])(api[-_]?key|key|token|access_token|authorization)=([^&#\s]+)/gi;i=i.replace(s,(o,l,u,h)=>`${l}${u}=${e(h)}`);const a=/(api[-_]?key|key|token|access[-_]?token|authorization)\s*([:=])\s*([A-Za-z0-9._-]+)/gi;i=i.replace(a,(o,l,u,h)=>`${l}${u}${e(h)}`);const r=/(sk-[A-Za-z0-9]{6,}|AI[a-zA-Z0-9_-]{6,}|AIza[0-9A-Za-z-_]{8,}|hf_[A-Za-z0-9]{6,}|pk_[A-Za-z0-9]{6,}|rk_[A-Za-z0-9]{6,})/g;if(i=i.replace(r,o=>e(o)),i===t){const o=t.trim();if(o&&!/\s/.test(o)&&(/^sk-/i.test(o)||/^AI/i.test(o)||/^AIza/i.test(o)||/^hf_/i.test(o)||/^pk_/i.test(o)||/^rk_/i.test(o)||!/[\\/]/.test(o)&&(/\d/.test(o)||o.length>=10)||o.length>=24))return e(o)}return i}function bP(n){const e=Number(n);if(!Number.isFinite(e))return"0.00";const t=Math.abs(e);return t>=1e3?Math.round(e).toLocaleString():t>=100?e.toFixed(0):t>=10?e.toFixed(1):e.toFixed(2)}function Bo(n){const e=Number(n);if(!Number.isFinite(e))return"0";const t=Math.abs(e);return t>=1e6?`${(e/1e6).toFixed(1)}M`:t>=1e3?`${(e/1e3).toFixed(1)}K`:t>=1?e.toFixed(0):e.toFixed(2)}function qb(n){const e=Number(n);if(!Number.isFinite(e))return"$0.00";const t=e.toFixed(2);return`$${Number(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}const xP=new WeakMap,vP=new WeakMap;function $a(n){const e=Ht(n)?n:null;if(e){const r=xP.get(e);if(r)return r}const t=Ou(n);if(!t)return[];const i=[],s=new Map,a=r=>{const l=(typeof r=="string"?r:r==null?"":String(r)).trim();if(!l)return"";const u=s.get(l);if(u!==void 0)return u;const h=ap(l);return s.set(l,h),h};return Object.values(t).forEach(r=>{if(!Ht(r))return;const o=r.models,l=Ht(o)?o:null;l&&Object.entries(l).forEach(([u,h])=>{if(!Ht(h))return;const m=h.details;(Array.isArray(m)?m:[]).forEach(_=>{if(!Ht(_)||typeof _.timestamp!="string")return;const b=_.timestamp,x=Date.parse(b),v=Ht(_.tokens)?_.tokens:{};i.push({timestamp:b,source:a(_.source),auth_index:_.auth_index,tokens:v,failed:_.failed===!0,__modelName:u,__timestampMs:Number.isNaN(x)?0:x})})})}),e&&xP.set(e,i),i}function b$(n){const e=Ht(n)?n:null;if(e){const r=vP.get(e);if(r)return r}const t=Ou(n);if(!t)return[];const i=[],s=new Map,a=r=>{const l=(typeof r=="string"?r:r==null?"":String(r)).trim();if(!l)return"";const u=s.get(l);if(u!==void 0)return u;const h=ap(l);return s.set(l,h),h};return Object.entries(t).forEach(([r,o])=>{if(!Ht(o))return;const l=o.models,u=Ht(l)?l:null;if(!u)return;const h=r.match(f$),m=h?.[1]?.toUpperCase(),g=h?.[2];Object.entries(u).forEach(([_,b])=>{if(!Ht(b))return;const x=b.details;(Array.isArray(x)?x:[]).forEach(C=>{if(!Ht(C)||typeof C.timestamp!="string")return;const k=C.timestamp,N=Date.parse(k),O=Ht(C.tokens)?C.tokens:{};i.push({timestamp:k,source:a(C.source),auth_index:C.auth_index,tokens:O,failed:C.failed===!0,__modelName:_,__endpoint:r,__endpointMethod:m,__endpointPath:g,__timestampMs:Number.isNaN(N)?0:N})})})}),e&&vP.set(e,i),i}function Lh(n){const t=(Ht(n)?n:null)?.tokens,i=Ht(t)?t:{};if(typeof i.total_tokens=="number")return i.total_tokens;const s=typeof i.input_tokens=="number"?i.input_tokens:0,a=typeof i.output_tokens=="number"?i.output_tokens:0,r=typeof i.reasoning_tokens=="number"?i.reasoning_tokens:0,o=Math.max(typeof i.cached_tokens=="number"?Math.max(i.cached_tokens,0):0,typeof i.cache_tokens=="number"?Math.max(i.cache_tokens,0):0);return s+a+r+o}function x$(n){const e=Ou(n);if(!e)return[];const t=new Set;return Object.values(e).forEach(i=>{if(!Ht(i))return;const s=i.models,a=Ht(s)?s:null;a&&Object.keys(a).forEach(r=>{r&&t.add(r)})}),Array.from(t).sort((i,s)=>i.localeCompare(s))}function Yp(n,e){const t=n.__modelName||"",i=e[t];if(!i)return 0;const s=n.tokens,a=Number(s.input_tokens),r=Number(s.output_tokens),o=Number(s.cached_tokens),l=Number(s.cache_tokens),u=Number.isFinite(a)?Math.max(a,0):0,h=Number.isFinite(r)?Math.max(r,0):0,m=Math.max(Number.isFinite(o)?Math.max(o,0):0,Number.isFinite(l)?Math.max(l,0):0),_=Math.max(u-m,0)/a2*(Number(i.prompt)||0),b=m/a2*(Number(i.cache)||0),x=h/a2*(Number(i.completion)||0),v=_+b+x;return Number.isFinite(v)&&v>0?v:0}function v$(){try{if(typeof localStorage>"u")return{};const n=localStorage.getItem(S5);if(!n)return{};const e=JSON.parse(n);if(!Ht(e))return{};const t={};return Object.entries(e).forEach(([i,s])=>{if(!i)return;const a=Ht(s)?s:null,r=Number(a?.prompt),o=Number(a?.completion),l=Number(a?.cache);if(!Number.isFinite(r)&&!Number.isFinite(o)&&!Number.isFinite(l))return;const u=Number.isFinite(r)&&r>=0?r:0,h=Number.isFinite(o)&&o>=0?o:0,m=Number.isFinite(l)&&l>=0?l:Number.isFinite(r)&&r>=0?r:u;t[i]={prompt:u,completion:h,cache:m}}),t}catch{return{}}}function S$(n){try{if(typeof localStorage>"u")return;localStorage.setItem(S5,JSON.stringify(n))}catch{console.warn("")}}function w$(n,e){const t=Ou(n);if(!t)return[];const i=[];return Object.entries(t).forEach(([s,a])=>{if(!Ht(a))return;const r={};let o=0,l=0,u=0;const h=Ht(a.models)?a.models:{};Object.entries(h).forEach(([b,x])=>{if(!Ht(x))return;const v=Array.isArray(x.details)?x.details:[],C=typeof x.success_count=="number"||typeof x.failure_count=="number";let k=0,N=0;C&&(k+=Number(x.success_count)||0,N+=Number(x.failure_count)||0);const O=e[b];v.length>0&&(!C||O)&&v.forEach(T=>{const L=Ht(T)?T:null;C||(L?.failed===!0?N+=1:k+=1),O&&L&&(u+=Yp({...L,__modelName:b},e))}),r[b]={requests:Number(x.total_requests)||0,successCount:k,failureCount:N,tokens:Number(x.total_tokens)||0},o+=k,l+=N});const m=typeof a.success_count=="number"||typeof a.failure_count=="number",g=m?Number(a.success_count)||0:o,_=m?Number(a.failure_count)||0:l;i.push({endpoint:y$(s)||s,totalRequests:Number(a.total_requests)||0,successCount:g,failureCount:_,totalTokens:Number(a.total_tokens)||0,totalCost:u,models:r})}),i}function k$(n,e){const t=Ou(n);if(!t)return[];const i=new Map;return Object.values(t).forEach(s=>{if(!Ht(s))return;const a=s.models,r=Ht(a)?a:null;r&&Object.entries(r).forEach(([o,l])=>{if(!Ht(l))return;const u=i.get(o)||{requests:0,successCount:0,failureCount:0,tokens:0,cost:0};u.requests+=Number(l.total_requests)||0,u.tokens+=Number(l.total_tokens)||0;const h=Array.isArray(l.details)?l.details:[],m=e[o],g=typeof l.success_count=="number"||typeof l.failure_count=="number";g&&(u.successCount+=Number(l.success_count)||0,u.failureCount+=Number(l.failure_count)||0),h.length>0&&(!g||m)&&h.forEach(_=>{const b=Ht(_)?_:null;g||(b?.failed===!0?u.failureCount+=1:u.successCount+=1),m&&b&&(u.cost+=Yp({...b,__modelName:o},e))}),i.set(o,u)})}),Array.from(i.entries()).map(([s,a])=>({model:s,...a})).sort((s,a)=>a.requests-s.requests)}function uC(n){if(!(n instanceof Date))return"";const e=(n.getMonth()+1).toString().padStart(2,"0"),t=n.getDate().toString().padStart(2,"0"),i=n.getHours().toString().padStart(2,"0");return`${e}-${t} ${i}:00`}function dC(n){if(!(n instanceof Date))return"";const e=n.getFullYear(),t=(n.getMonth()+1).toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0");return`${e}-${t}-${i}`}function C$(n,e="requests",t=24){const s=Number.isFinite(t)&&t>0?Math.min(Math.max(Math.floor(t),1),744):24,a=new Date,r=new Date(a);r.setMinutes(0,0,0);const o=new Date(r);o.setHours(o.getHours()-(s-1));const l=o.getTime(),u=[];for(let _=0;_<s;_++){const b=l+_*36e5;u.push(uC(new Date(b)))}const h=$a(n),m=new Map;let g=!1;return h.length?(h.forEach(_=>{const b=typeof _.__timestampMs=="number"?_.__timestampMs:Date.parse(_.timestamp);if(!Number.isFinite(b)||b<=0)return;const x=new Date(b);x.setMinutes(0,0,0);const v=x.getTime(),C=l+(u.length-1)*36e5;if(v<l||v>C)return;const k=Math.floor((v-l)/36e5);if(k<0||k>=u.length)return;const N=_.__modelName||"Unknown";m.has(N)||m.set(N,new Array(u.length).fill(0));const O=m.get(N);e==="tokens"?O[k]+=Lh(_):O[k]+=1,g=!0}),{labels:u,dataByModel:m,hasData:g}):{labels:u,dataByModel:m,hasData:g}}function A$(n,e="requests"){const t=$a(n),i=new Map,s=new Set;let a=!1;if(!t.length)return{labels:[],dataByModel:new Map,hasData:a};t.forEach(l=>{const u=typeof l.__timestampMs=="number"?l.__timestampMs:Date.parse(l.timestamp);if(!Number.isFinite(u)||u<=0)return;const h=dC(new Date(u));if(!h)return;const m=l.__modelName||"Unknown";i.has(m)||i.set(m,new Map);const g=i.get(m),_=e==="tokens"?Lh(l):1;g.set(h,(g.get(h)||0)+_),s.add(h),a=!0});const r=Array.from(s).sort(),o=new Map;return i.forEach((l,u)=>{const h=r.map(m=>l.get(m)||0);o.set(u,h)}),{labels:r,dataByModel:o,hasData:a}}const SP=[{borderColor:"#8b8680",backgroundColor:"rgba(139, 134, 128, 0.15)"},{borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.15)"},{borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.15)"},{borderColor:"#c65746",backgroundColor:"rgba(198, 87, 70, 0.15)"},{borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.15)"},{borderColor:"#06b6d4",backgroundColor:"rgba(6, 182, 212, 0.15)"},{borderColor:"#ec4899",backgroundColor:"rgba(236, 72, 153, 0.15)"},{borderColor:"#84cc16",backgroundColor:"rgba(132, 204, 22, 0.15)"},{borderColor:"#f97316",backgroundColor:"rgba(249, 115, 22, 0.15)"}],T$=(n,e,t)=>Math.min(Math.max(n,e),t),N$=n=>{const e=n.trim().replace("#","");if(e.length!==6)return null;const t=Number.parseInt(e.slice(0,2),16),i=Number.parseInt(e.slice(2,4),16),s=Number.parseInt(e.slice(4,6),16);return[t,i,s].every(a=>Number.isFinite(a))?{r:t,g:i,b:s}:null},l2=(n,e)=>{const t=N$(n);if(!t)return n;const i=T$(e,0,1);return`rgba(${t.r}, ${t.g}, ${t.b}, ${i})`},M$=(n,e,t)=>{const i=n.chart,s=i.ctx,a=i.chartArea;if(!a)return t;const r=s.createLinearGradient(0,a.top,0,a.bottom);return r.addColorStop(0,l2(e,.28)),r.addColorStop(.6,l2(e,.12)),r.addColorStop(1,l2(e,.02)),r};function wP(n,e="day",t="requests",i=[],s={}){const a=e==="hour"?C$(n,t,s.hourWindowHours):A$(n,t),{labels:r,dataByModel:o}=a,l=()=>{const m=new Array(r.length).fill(0);return o.forEach(g=>{g.forEach((_,b)=>{m[b]=(m[b]||0)+_})}),m},u=i.length>0?i:["all"],h=u.map((m,g)=>{const _=m==="all",b=_?l():o.get(m)||new Array(r.length).fill(0),x=g%SP.length,v=SP[x],C=u.length===1||_&&u.length>1;return{label:_?"All Models":m,data:b,borderColor:v.borderColor,backgroundColor:C?k=>M$(k,v.borderColor,v.backgroundColor):v.backgroundColor,pointBackgroundColor:v.borderColor,pointBorderColor:v.borderColor,fill:C,tension:.35}});return{labels:r,datasets:h}}function Ka(n,e,t){const r=Date.now(),o=r-12e6,l=Array.from({length:20},()=>({success:0,failure:0}));let u=0,h=0;n.forEach(x=>{const v=typeof x.__timestampMs=="number"?x.__timestampMs:Date.parse(x.timestamp);if(!Number.isFinite(v)||v<=0||v<o||v>r)return;const C=r-v,k=19-Math.floor(C/6e5);k>=0&&k<20&&(x.failed?(l[k].failure+=1,h+=1):(l[k].success+=1,u+=1))});const m=[],g=[];l.forEach((x,v)=>{const C=x.success+x.failure;C===0?m.push("idle"):x.failure===0?m.push("success"):x.success===0?m.push("failure"):m.push("mixed");const k=o+v*6e5;g.push({success:x.success,failure:x.failure,rate:C>0?x.success/C:-1,startTime:k,endTime:k+6e5})});const _=u+h,b=_>0?u/_*100:100;return{blocks:m,blockDetails:g,successRate:b,totalSuccess:u,totalFailure:h}}function O$(n){const r=Date.now(),o=r-6048e5,l=Array.from({length:672},()=>({success:0,failure:0}));let u=0,h=0;n.forEach(x=>{const v=typeof x.__timestampMs=="number"?x.__timestampMs:Date.parse(x.timestamp);if(!Number.isFinite(v)||v<=0||v<o||v>r)return;const C=r-v,k=671-Math.floor(C/9e5);k>=0&&k<672&&(x.failed?(l[k].failure+=1,h+=1):(l[k].success+=1,u+=1))});const m=[],g=[];l.forEach((x,v)=>{const C=x.success+x.failure;C===0?m.push("idle"):x.failure===0?m.push("success"):x.success===0?m.push("failure"):m.push("mixed");const k=o+v*9e5;g.push({success:x.success,failure:x.failure,rate:C>0?x.success/C:-1,startTime:k,endTime:k+9e5})});const _=u+h,b=_>0?u/_*100:100;return{blocks:m,blockDetails:g,successRate:b,totalSuccess:u,totalFailure:h,rows:7,cols:96}}function L$(n,e=Xa){const t=Ou(n);if(!t)return{bySource:{},byAuthIndex:{}};const i={},s={},a=(r,o)=>(r[o]||(r[o]={success:0,failure:0}),r[o]);return Object.values(t).forEach(r=>{if(!Ht(r))return;const o=r.models,l=Ht(o)?o:null;l&&Object.values(l).forEach(u=>{if(!Ht(u))return;(Array.isArray(u.details)?u.details:[]).forEach(m=>{const g=Ht(m)?m:null,_=ap(g?.source,e),b=ws(g?.auth_index),x=g?.failed===!0;if(_){const v=a(i,_);x?v.failure+=1:v.success+=1}if(b){const v=a(s,b);x?v.failure+=1:v.success+=1}})})}),{bySource:i,byAuthIndex:s}}function P$(n){const e={},t={},i=(s,a)=>(s[a]||(s[a]={success:0,failure:0}),s[a]);return n.forEach(s=>{const a=s.source,r=ws(s.auth_index),o=s.failed===!0;if(a){const l=i(e,a);o?l.failure+=1:l.success+=1}if(r){const l=i(t,r);o?l.failure+=1:l.success+=1}}),{bySource:e,byAuthIndex:t}}function R$(n,e=24){const i=Number.isFinite(e)&&e>0?Math.min(Math.max(Math.floor(e),1),744):24,s=new Date,a=new Date(s);a.setMinutes(0,0,0);const r=new Date(a);r.setHours(r.getHours()-(i-1));const o=r.getTime(),l=[];for(let g=0;g<i;g++)l.push(uC(new Date(o+g*36e5)));const u={input:new Array(l.length).fill(0),output:new Array(l.length).fill(0),cached:new Array(l.length).fill(0),reasoning:new Array(l.length).fill(0)},h=$a(n);let m=!1;return h.forEach(g=>{const _=typeof g.__timestampMs=="number"?g.__timestampMs:Date.parse(g.timestamp);if(!Number.isFinite(_)||_<=0)return;const b=new Date(_);b.setMinutes(0,0,0);const x=b.getTime(),v=o+(l.length-1)*36e5;if(x<o||x>v)return;const C=Math.floor((x-o)/36e5);if(C<0||C>=l.length)return;const k=g.tokens,N=typeof k.input_tokens=="number"?Math.max(k.input_tokens,0):0,O=typeof k.output_tokens=="number"?Math.max(k.output_tokens,0):0,T=Math.max(typeof k.cached_tokens=="number"?Math.max(k.cached_tokens,0):0,typeof k.cache_tokens=="number"?Math.max(k.cache_tokens,0):0),L=typeof k.reasoning_tokens=="number"?Math.max(k.reasoning_tokens,0):0;u.input[C]+=N,u.output[C]+=O,u.cached[C]+=T,u.reasoning[C]+=L,m=!0}),{labels:l,dataByCategory:u,hasData:m}}function E$(n){const e=$a(n),t={};let i=!1;e.forEach(r=>{const o=typeof r.__timestampMs=="number"?r.__timestampMs:Date.parse(r.timestamp);if(!Number.isFinite(o)||o<=0)return;const l=dC(new Date(o));if(!l)return;t[l]||(t[l]={input:0,output:0,cached:0,reasoning:0});const u=r.tokens,h=typeof u.input_tokens=="number"?Math.max(u.input_tokens,0):0,m=typeof u.output_tokens=="number"?Math.max(u.output_tokens,0):0,g=Math.max(typeof u.cached_tokens=="number"?Math.max(u.cached_tokens,0):0,typeof u.cache_tokens=="number"?Math.max(u.cache_tokens,0):0),_=typeof u.reasoning_tokens=="number"?Math.max(u.reasoning_tokens,0):0;t[l].input+=h,t[l].output+=m,t[l].cached+=g,t[l].reasoning+=_,i=!0});const s=Object.keys(t).sort(),a={input:s.map(r=>t[r].input),output:s.map(r=>t[r].output),cached:s.map(r=>t[r].cached),reasoning:s.map(r=>t[r].reasoning)};return{labels:s,dataByCategory:a,hasData:i}}function j$(n,e,t=24){const s=Number.isFinite(t)&&t>0?Math.min(Math.max(Math.floor(t),1),744):24,a=new Date,r=new Date(a);r.setMinutes(0,0,0);const o=new Date(r);o.setHours(o.getHours()-(s-1));const l=o.getTime(),u=[];for(let _=0;_<s;_++)u.push(uC(new Date(l+_*36e5)));const h=new Array(u.length).fill(0),m=$a(n);let g=!1;return m.forEach(_=>{const b=typeof _.__timestampMs=="number"?_.__timestampMs:Date.parse(_.timestamp);if(!Number.isFinite(b)||b<=0)return;const x=new Date(b);x.setMinutes(0,0,0);const v=x.getTime(),C=l+(u.length-1)*36e5;if(v<l||v>C)return;const k=Math.floor((v-l)/36e5);if(k<0||k>=u.length)return;const N=Yp(_,e);N>0&&(h[k]+=N,g=!0)}),{labels:u,data:h,hasData:g}}function D$(n,e){const t=$a(n),i={};let s=!1;t.forEach(o=>{const l=typeof o.__timestampMs=="number"?o.__timestampMs:Date.parse(o.timestamp);if(!Number.isFinite(l)||l<=0)return;const u=dC(new Date(l));if(!u)return;const h=Yp(o,e);h>0&&(i[u]=(i[u]||0)+h,s=!0)});const a=Object.keys(i).sort(),r=a.map(o=>i[o]);return{labels:a,data:r,hasData:s}}const hC="*",Vo=n=>Array.isArray(n)&&n.some(e=>String(e??"").trim()===hC),N5=n=>Array.isArray(n)?n.filter(e=>String(e??"").trim()!==hC):[],kP=n=>[...N5(n),hC],CP=n=>N5(n),M5=n=>n.split(/[\n,]+/).map(e=>e.trim()).filter(Boolean),Ph=M5,fC=n=>Array.isArray(n)?n.join(`
`):"",O5=n=>{let e=String(n||"").trim();return e?(e=e.replace(/\/?v0\/management\/?$/i,""),e=e.replace(/\/+$/g,""),/^https?:\/\//i.test(e)||(e=`http://${e}`),e):""},F$=n=>{let e=String(n||"").trim();return e?(e=e.replace(/\/?v0\/management\/?$/i,""),e=e.replace(/\/+$/g,""),/^https?:\/\//i.test(e)||(e=`http://${e}`),e):"https://api.anthropic.com"},U$=n=>{const e=O5(n);return e?`${e}/models`:""},AP=n=>{const e=O5(n);return e?e.endsWith("/chat/completions")?e:`${e}/chat/completions`:""},B$=n=>{const e=F$(n);return e?e.endsWith("/v1/messages")?e:e.endsWith("/v1")?`${e}/messages`:`${e}/v1/messages`:""},Zp=(n,e,t)=>{const i=e.bySource??{},s=bs({apiKey:n,prefix:t});if(!s.length)return{success:0,failure:0};let a=0,r=0;return s.forEach(o=>{const l=i[o];l&&(a+=l.success,r+=l.failure)}),{success:a,failure:r}},I$=(n,e,t)=>{const i=e.bySource??{},s=new Set;bs({prefix:t}).forEach(o=>s.add(o)),(n||[]).forEach(o=>{bs({apiKey:o?.apiKey}).forEach(l=>s.add(l))});let a=0,r=0;return s.forEach(o=>{const l=i[o];l&&(a+=l.success,r+=l.failure)}),{success:a,failure:r}},Hd=n=>({apiKey:"",proxyUrl:"",headers:{}}),z$=n=>!Array.isArray(n)||n.length===0?[{name:"",alias:""}]:n.map(e=>({name:e.from??"",alias:e.to??""})),q$=n=>{const e=new Set,t=[];return n.forEach(i=>{const s=i.name.trim(),a=i.alias.trim();if(!s||!a)return;const r=s.toLowerCase();e.has(r)||(e.add(r),t.push({from:s,to:a}))}),t},z_=n=>({upstreamUrl:n?.upstreamUrl??"",upstreamApiKey:"",forceModelMappings:n?.forceModelMappings??!1,mappingEntries:z$(n?.modelMappings)}),q_=(n,e)=>typeof n=="function"?n(e):n,K$=()=>({name:"",prefix:"",baseUrl:"",headers:[],apiKeyEntries:[Hd()],modelEntries:[{name:"",alias:""}],testModel:void 0}),wo=()=>({initialized:!1,baselineSignature:"",form:K$(),testModel:"",testStatus:"idle",testMessage:"",keyTestStatuses:[]}),sr=Jr((n,e)=>({drafts:{},refCounts:{},acquireDraft:t=>{t&&n(i=>{const s=i.drafts[t],a=i.refCounts[t]??0;return{drafts:s?i.drafts:{...i.drafts,[t]:wo()},refCounts:{...i.refCounts,[t]:a+1}}})},releaseDraft:t=>{t&&n(i=>{const s=i.refCounts[t];if(!s)return i;if(s>1)return{refCounts:{...i.refCounts,[t]:s-1}};const a={...i.refCounts};delete a[t];const r={...i.drafts};return delete r[t],{refCounts:a,drafts:r}})},ensureDraft:t=>{!t||e().drafts[t]||n(s=>({drafts:{...s.drafts,[t]:wo()}}))},initDraft:(t,i)=>{!t||e().drafts[t]?.initialized||n(a=>({drafts:{...a.drafts,[t]:{...i,initialized:!0}}}))},setDraftBaselineSignature:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??wo();return{drafts:{...s.drafts,[t]:{...a,initialized:!0,baselineSignature:i}}}})},setDraftForm:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??wo(),r=q_(i,a.form);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,form:r}}}})},setDraftTestModel:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??wo(),r=q_(i,a.testModel);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,testModel:r}}}})},setDraftTestStatus:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??wo(),r=q_(i,a.testStatus);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,testStatus:r}}}})},setDraftTestMessage:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??wo(),r=q_(i,a.testMessage);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,testMessage:r}}}})},setDraftKeyTestStatus:(t,i,s)=>{t&&n(a=>{const r=a.drafts[t]??wo(),o=[...r.keyTestStatuses];return o[i]=s,{drafts:{...a.drafts,[t]:{...r,initialized:!0,keyTestStatuses:o}}}})},resetDraftKeyTestStatuses:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??wo();return{drafts:{...s.drafts,[t]:{...a,initialized:!0,keyTestStatuses:Array.from({length:i},()=>({status:"idle",message:""}))}}}})},clearDraft:t=>{t&&n(i=>{if(!i.drafts[t]&&!i.refCounts[t])return i;const s={...i.drafts};delete s[t];const a={...i.refCounts};return delete a[t],{drafts:s,refCounts:a}})}})),K_=(n,e)=>typeof n=="function"?n(e):n,H$=()=>({apiKey:"",prefix:"",baseUrl:"",proxyUrl:"",headers:[],models:[],excludedModels:[],modelEntries:[{name:"",alias:""}],excludedText:""}),Oc=()=>({initialized:!1,baselineSignature:"",form:H$(),testModel:"",testStatus:"idle",testMessage:""}),ko=Jr((n,e)=>({drafts:{},refCounts:{},acquireDraft:t=>{t&&n(i=>{const s=i.drafts[t],a=i.refCounts[t]??0;return{drafts:s?i.drafts:{...i.drafts,[t]:Oc()},refCounts:{...i.refCounts,[t]:a+1}}})},releaseDraft:t=>{t&&n(i=>{const s=i.refCounts[t];if(!s)return i;if(s>1)return{refCounts:{...i.refCounts,[t]:s-1}};const a={...i.refCounts};delete a[t];const r={...i.drafts};return delete r[t],{refCounts:a,drafts:r}})},ensureDraft:t=>{!t||e().drafts[t]||n(s=>({drafts:{...s.drafts,[t]:Oc()}}))},initDraft:(t,i)=>{!t||e().drafts[t]?.initialized||n(a=>({drafts:{...a.drafts,[t]:{...i,initialized:!0}}}))},setDraftBaselineSignature:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??Oc();return{drafts:{...s.drafts,[t]:{...a,initialized:!0,baselineSignature:i}}}})},setDraftForm:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??Oc(),r=K_(i,a.form);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,form:r}}}})},setDraftTestModel:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??Oc(),r=K_(i,a.testModel);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,testModel:r}}}})},setDraftTestStatus:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??Oc(),r=K_(i,a.testStatus);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,testStatus:r}}}})},setDraftTestMessage:(t,i)=>{t&&n(s=>{const a=s.drafts[t]??Oc(),r=K_(i,a.testMessage);return{drafts:{...s.drafts,[t]:{...a,initialized:!0,testMessage:r}}}})},clearDraft:t=>{t&&n(i=>{if(!i.drafts[t]&&!i.refCounts[t])return i;const s={...i.drafts};delete s[t];const a={...i.refCounts};return delete a[t],{drafts:s,refCounts:a}})}})),dm={async fetchConfigYaml(){const e=(await De.getRaw("/config.yaml",{responseType:"text",headers:{Accept:"application/yaml, text/yaml, text/plain"}})).data;return typeof e=="string"?e:e==null?"":String(e)},async saveConfigYaml(n){await De.put("/config.yaml",n,{headers:{"Content-Type":"application/yaml",Accept:"application/json, text/plain, */*"}})}},XS={async list(){const n=await De.get("/api-keys"),e=n["api-keys"]??n.apiKeys;return Array.isArray(e)?e.map(t=>String(t)):[]},replace:n=>De.put("/api-keys",n),update:(n,e)=>De.patch("/api-keys",{index:n,value:e}),delete:n=>De.delete(`/api-keys?index=${n}`)},Lo={async getAmpcode(){const n=await De.get("/ampcode");return b5(n)??{}},updateUpstreamUrl:n=>De.put("/ampcode/upstream-url",{value:n}),clearUpstreamUrl:()=>De.delete("/ampcode/upstream-url"),updateUpstreamApiKey:n=>De.put("/ampcode/upstream-api-key",{value:n}),clearUpstreamApiKey:()=>De.delete("/ampcode/upstream-api-key"),async getModelMappings(){const n=await De.get("/ampcode/model-mappings"),e=n?.["model-mappings"]??n?.modelMappings??n?.items??n;return y5(e)},saveModelMappings:n=>De.put("/ampcode/model-mappings",{value:n}),patchModelMappings:n=>De.patch("/ampcode/model-mappings",{value:n}),clearModelMappings:()=>De.delete("/ampcode/model-mappings"),deleteModelMappings:n=>De.delete("/ampcode/model-mappings",{data:{value:n}}),updateForceModelMappings:n=>De.put("/ampcode/force-model-mappings",{value:n})},Jp=n=>n&&Object.keys(n).length?n:void 0,V$=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),qf=(n,e)=>{if(Array.isArray(n))return n;if(!V$(n))return[];const t=n[e]??n.items??n.data??n;return Array.isArray(t)?t:[]},mC=n=>Array.isArray(n)?n.map(e=>{if(!e?.name)return null;const t={name:e.name};return e.alias&&e.alias!==e.name&&(t.alias=e.alias),e.priority!==void 0&&(t.priority=e.priority),e.testModel&&(t["test-model"]=e.testModel),t}).filter(Boolean):void 0,W$=n=>{const e={"api-key":n.apiKey};n.proxyUrl&&(e["proxy-url"]=n.proxyUrl);const t=Jp(n.headers);return t&&(e.headers=t),e},H_=n=>{const e={"api-key":n.apiKey};n.priority!==void 0&&(e.priority=n.priority),n.prefix?.trim()&&(e.prefix=n.prefix.trim()),n.baseUrl&&(e["base-url"]=n.baseUrl),n.websockets!==void 0&&(e.websockets=n.websockets),n.proxyUrl&&(e["proxy-url"]=n.proxyUrl);const t=Jp(n.headers);t&&(e.headers=t);const i=mC(n.models);if(i&&i.length&&(e.models=i),n.excludedModels&&n.excludedModels.length&&(e["excluded-models"]=n.excludedModels),n.cloak){const s={},a=n.cloak.mode?.trim();a&&(s.mode=a),n.cloak.strictMode!==void 0&&(s["strict-mode"]=n.cloak.strictMode),n.cloak.sensitiveWords&&n.cloak.sensitiveWords.length&&(s["sensitive-words"]=n.cloak.sensitiveWords),Object.keys(s).length&&(e.cloak=s)}return e},G$=n=>Array.isArray(n)?n.map(e=>{const t=typeof e?.name=="string"?e.name.trim():"",i=typeof e?.alias=="string"?e.alias.trim():"";return!t||!i?null:{name:t,alias:i}}).filter(Boolean):void 0,TP=n=>{const e={"api-key":n.apiKey};n.priority!==void 0&&(e.priority=n.priority),n.prefix?.trim()&&(e.prefix=n.prefix.trim()),n.baseUrl&&(e["base-url"]=n.baseUrl),n.proxyUrl&&(e["proxy-url"]=n.proxyUrl);const t=Jp(n.headers);t&&(e.headers=t);const i=G$(n.models);return i&&i.length&&(e.models=i),e},NP=n=>{const e={"api-key":n.apiKey};n.priority!==void 0&&(e.priority=n.priority),n.prefix?.trim()&&(e.prefix=n.prefix.trim()),n.baseUrl&&(e["base-url"]=n.baseUrl),n.proxyUrl&&(e["proxy-url"]=n.proxyUrl);const t=Jp(n.headers);t&&(e.headers=t);const i=mC(n.models);return i&&i.length&&(e.models=i),n.excludedModels&&n.excludedModels.length&&(e["excluded-models"]=n.excludedModels),e},MP=n=>{const e={name:n.name,"base-url":n.baseUrl,"api-key-entries":Array.isArray(n.apiKeyEntries)?n.apiKeyEntries.map(s=>W$(s)):[]};n.prefix?.trim()&&(e.prefix=n.prefix.trim());const t=Jp(n.headers);t&&(e.headers=t);const i=mC(n.models);return i&&i.length&&(e.models=i),n.priority!==void 0&&(e.priority=n.priority),n.testModel&&(e["test-model"]=n.testModel),e},Si={async getGeminiKeys(){const n=await De.get("/gemini-api-key");return qf(n,"gemini-api-key").map(t=>g5(t)).filter(Boolean)},saveGeminiKeys:n=>De.put("/gemini-api-key",n.map(e=>NP(e))),updateGeminiKey:(n,e)=>De.patch("/gemini-api-key",{index:n,value:NP(e)}),deleteGeminiKey:n=>De.delete(`/gemini-api-key?api-key=${encodeURIComponent(n)}`),async getCodexConfigs(){const n=await De.get("/codex-api-key");return qf(n,"codex-api-key").map(t=>Kd(t)).filter(Boolean)},saveCodexConfigs:n=>De.put("/codex-api-key",n.map(e=>H_(e))),updateCodexConfig:(n,e)=>De.patch("/codex-api-key",{index:n,value:H_(e)}),deleteCodexConfig:n=>De.delete(`/codex-api-key?api-key=${encodeURIComponent(n)}`),async getClaudeConfigs(){const n=await De.get("/claude-api-key");return qf(n,"claude-api-key").map(t=>Kd(t)).filter(Boolean)},saveClaudeConfigs:n=>De.put("/claude-api-key",n.map(e=>H_(e))),updateClaudeConfig:(n,e)=>De.patch("/claude-api-key",{index:n,value:H_(e)}),deleteClaudeConfig:n=>De.delete(`/claude-api-key?api-key=${encodeURIComponent(n)}`),async getVertexConfigs(){const n=await De.get("/vertex-api-key");return qf(n,"vertex-api-key").map(t=>Kd(t)).filter(Boolean)},saveVertexConfigs:n=>De.put("/vertex-api-key",n.map(e=>TP(e))),updateVertexConfig:(n,e)=>De.patch("/vertex-api-key",{index:n,value:TP(e)}),deleteVertexConfig:n=>De.delete(`/vertex-api-key?api-key=${encodeURIComponent(n)}`),async getOpenAIProviders(){const n=await De.get("/openai-compatibility");return qf(n,"openai-compatibility").map(t=>_5(t)).filter(Boolean)},saveOpenAIProviders:n=>De.put("/openai-compatibility",n.map(e=>MP(e))),updateOpenAIProvider:(n,e)=>De.patch("/openai-compatibility",{index:n,value:MP(e)}),deleteOpenAIProvider:n=>De.delete(`/openai-compatibility?name=${encodeURIComponent(n)}`)},X$=n=>{if(!(!n||typeof n!="object")&&"status"in n)return n.status},OP=n=>{if(!n||typeof n!="object")return{};const e=n,t=e["oauth-excluded-models"]??e.items??n;if(!t||typeof t!="object")return{};const i={};return Object.entries(t).forEach(([s,a])=>{const r=String(s??"").trim().toLowerCase();if(!r)return;const o=Array.isArray(a)?a:typeof a=="string"?a.split(/[\n,]+/):[],l=new Set,u=[];o.forEach(h=>{const m=String(h??"").trim();if(!m)return;const g=m.toLowerCase();l.has(g)||(l.add(g),u.push(m))}),i[r]=u}),i},LP=n=>{if(!n||typeof n!="object")return{};const e=n,t=e["oauth-model-alias"]??e.items??n;if(!t||typeof t!="object")return{};const i={};return Object.entries(t).forEach(([s,a])=>{const r=String(s??"").trim().toLowerCase();if(!r||!Array.isArray(a))return;const o=new Set,l=a.map(u=>{if(!u||typeof u!="object")return null;const h=u,m=String(h.name??h.id??h.model??"").trim(),g=String(h.alias??"").trim();if(!m||!g)return null;const _=h.fork===!0;return _?{name:m,alias:g,fork:_}:{name:m,alias:g}}).filter(Boolean).filter(u=>{const h=u,m=`${h.name.toLowerCase()}::${h.alias.toLowerCase()}::${h.fork?"1":"0"}`;return o.has(m)?!1:(o.add(m),!0)});l.length&&(i[r]=l)}),i},V_="/oauth-model-alias",At={list:()=>De.get("/auth-files"),setStatus:(n,e)=>De.patch("/auth-files/status",{name:n,disabled:e}),upload:n=>{const e=new FormData;return e.append("file",n,n.name),De.postForm("/auth-files",e)},deleteFile:n=>De.delete(`/auth-files?name=${encodeURIComponent(n)}`),deleteAll:()=>De.delete("/auth-files",{params:{all:!0}}),downloadText:async n=>(await De.getRaw(`/auth-files/download?name=${encodeURIComponent(n)}`,{responseType:"blob"})).data.text(),async getOauthExcludedModels(){const n=await De.get("/oauth-excluded-models");return OP(n)},saveOauthExcludedModels:(n,e)=>De.patch("/oauth-excluded-models",{provider:n,models:e}),deleteOauthExcludedEntry:n=>De.delete(`/oauth-excluded-models?provider=${encodeURIComponent(n)}`),replaceOauthExcludedModels:n=>De.put("/oauth-excluded-models",OP(n)),async getOauthModelAlias(){const n=await De.get(V_);return LP(n)},saveOauthModelAlias:async(n,e)=>{const t=String(n??"").trim().toLowerCase(),i=LP({[t]:e})[t]??[];await De.patch(V_,{channel:t,aliases:i})},deleteOauthModelAlias:async n=>{const e=String(n??"").trim().toLowerCase();try{await De.patch(V_,{channel:e,aliases:[]})}catch(t){if(X$(t)!==405)throw t;await De.delete(`${V_}?channel=${encodeURIComponent(e)}`)}},async getModelsForAuthFile(n){const e=await De.get(`/auth-files/models?name=${encodeURIComponent(n)}`),t=e.models??e.models;return Array.isArray(t)?t:[]},async getModelDefinitions(n){const e=String(n??"").trim().toLowerCase();if(!e)return[];const t=await De.get(`/model-definitions/${encodeURIComponent(e)}`),i=t.models??t.models;return Array.isArray(i)?i:[]}},$$=["codex","anthropic","antigravity","gemini-cli"],Q$={"gemini-cli":"gemini"},W_={startAuth:(n,e)=>{const t={};return $$.includes(n)&&(t.is_webui=!0),n==="gemini-cli"&&e?.projectId&&(t.project_id=e.projectId),De.get(`/${n}-auth-url`,{params:Object.keys(t).length?t:void 0})},getAuthStatus:n=>De.get("/get-auth-status",{params:{state:n}}),submitCallback:(n,e)=>{const t=Q$[n]??n;return De.post("/oauth-callback",{provider:t,redirect_url:e})},iflowCookieAuth:n=>De.post("/iflow-auth-url",{cookie:n})},G_=60*1e3,$S={getUsage:()=>De.get("/usage",{timeout:G_}),exportUsage:()=>De.get("/usage/export",{timeout:G_}),importUsage:n=>De.post("/usage/import",n,{timeout:G_}),async getKeyStats(n){let e=n;if(!e){const t=await De.get("/usage",{timeout:G_});e=t?.usage??t}return L$(e)}},Kf={fetchLogs:(n={})=>De.get("/logs",{params:n,timeout:j_}),clearLogs:()=>De.delete("/logs"),fetchErrorLogs:()=>De.get("/request-error-logs",{timeout:j_}),downloadErrorLog:n=>De.getRaw(`/request-error-logs/${encodeURIComponent(n)}`,{responseType:"blob",timeout:j_}),downloadRequestLogById:n=>De.getRaw(`/request-log-by-id/${encodeURIComponent(n)}`,{responseType:"blob",timeout:j_})},Y$={checkLatest:()=>De.get("/latest-version")},Z$={importCredential:(n,e)=>{const t=new FormData;return t.append("file",n),e&&t.append("location",e),De.postForm("/vertex/import",t)}},Wo=24e4,c2=()=>({bySource:{},byAuthIndex:{}});let Hf=0,vr=null;const J$=n=>n instanceof Error?n.message:typeof n=="string"?n:Ki.t("usage_stats.loading_error"),ms=Jr((n,e)=>({usage:null,keyStats:c2(),usageDetails:[],loading:!1,error:null,lastRefreshedAt:null,scopeKey:"",loadUsageStats:async(t={})=>{const i=t.force===!0,s=t.staleTimeMs??Wo,{apiBase:a="",managementKey:r=""}=Kt.getState(),o=`${a}::${r}`,l=e(),u=l.scopeKey!==o;if(vr&&vr.scopeKey===o){await vr.promise;return}vr&&vr.scopeKey!==o&&(Hf+=1,vr=null);const h=!u&&l.lastRefreshedAt!==null&&Date.now()-l.lastRefreshedAt<s;if(!i&&h)return;u&&n({usage:null,keyStats:c2(),usageDetails:[],error:null,lastRefreshedAt:null,scopeKey:o});const m=Hf+=1;n({loading:!0,error:null,scopeKey:o});const g=(async()=>{try{const _=await $S.getUsage(),b=_?.usage??_,x=b&&typeof b=="object"?b:null;if(m!==Hf)return;const v=$a(x);n({usage:x,keyStats:P$(v),usageDetails:v,loading:!1,error:null,lastRefreshedAt:Date.now(),scopeKey:o})}catch(_){if(m!==Hf)return;const b=J$(_);throw n({loading:!1,error:b,scopeKey:o}),new Error(b)}finally{vr?.id===m&&(vr=null)}})();vr={id:m,scopeKey:o,promise:g},await g},clearUsageStats:()=>{Hf+=1,vr=null,n({usage:null,keyStats:c2(),usageDetails:[],loading:!1,error:null,lastRefreshedAt:null,scopeKey:""})}})),eQ="LoginPage-module__container___bHtIX",tQ="LoginPage-module__brandPanel___kKUR5",nQ="LoginPage-module__brandContent___ZEhbk",iQ="LoginPage-module__brandWord___3DkwD",sQ="LoginPage-module__formPanel___Nrtrt",aQ="LoginPage-module__formContent___H8fD-",rQ="LoginPage-module__logo___ASmao",oQ="LoginPage-module__loginCard___OgP-R",lQ="LoginPage-module__loginHeader___3kAvs",cQ="LoginPage-module__titleRow___9h914",uQ="LoginPage-module__title___I-LuY",dQ="LoginPage-module__subtitle___Q41SH",hQ="LoginPage-module__languageSelect___KUNwV",fQ="LoginPage-module__connectionBox___B5--X",mQ="LoginPage-module__label___2fkY-",pQ="LoginPage-module__value___JFrYC",gQ="LoginPage-module__hint___bcz4d",_Q="LoginPage-module__toggleAdvanced___4aKnv",yQ="LoginPage-module__errorBox___wX1tT",bQ="LoginPage-module__splashContent___Cc3DZ",xQ="LoginPage-module__splashLogo___yzbbw",vQ="LoginPage-module__splashTitle___G-HEP",SQ="LoginPage-module__splashSubtitle___BYSQi",wQ="LoginPage-module__splashLoader___SdvUl",kQ="LoginPage-module__splashLoaderBar___lyVXw",xn={container:eQ,brandPanel:tQ,brandContent:nQ,brandWord:iQ,formPanel:sQ,formContent:aQ,logo:rQ,loginCard:oQ,loginHeader:lQ,titleRow:cQ,title:uQ,subtitle:dQ,languageSelect:hQ,connectionBox:fQ,label:mQ,value:pQ,hint:gQ,toggleAdvanced:_Q,errorBox:yQ,splashContent:bQ,splashLogo:xQ,splashTitle:vQ,splashSubtitle:SQ,splashLoader:wQ,splashLoaderBar:kQ};function CQ(n,e){const t=n,i=typeof t.status=="number"?t.status:void 0,s=typeof t.code=="string"?t.code:void 0,a=n instanceof Error?n.message:typeof t.message=="string"?t.message:typeof n=="string"?n:"";return i===401?e("login.error_unauthorized"):i===403?e("login.error_forbidden"):i===404?e("login.error_not_found"):i&&i>=500?e("login.error_server"):s==="ECONNABORTED"||a.toLowerCase().includes("timeout")?e("login.error_timeout"):s==="ERR_NETWORK"||a.toLowerCase().includes("network error")?e("login.error_network"):s==="ERR_CERT_AUTHORITY_INVALID"||a.toLowerCase().includes("certificate")?e("login.error_ssl"):a.toLowerCase().includes("cors")||a.toLowerCase().includes("cross-origin")?e("login.error_cors"):e("login.error_invalid")}function AQ(){const{t:n}=Ze(),e=Ri(),t=$n(),{showNotification:i}=un(),s=rh($=>$.language),a=rh($=>$.setLanguage),r=Kt($=>$.isAuthenticated),o=Kt($=>$.login),l=Kt($=>$.restoreSession),u=Kt($=>$.apiBase),h=Kt($=>$.managementKey),m=Kt($=>$.rememberPassword),[g,_]=w.useState(""),[b,x]=w.useState(""),[v,C]=w.useState(!1),[k,N]=w.useState(!1),[O,T]=w.useState(!1),[L,M]=w.useState(!1),[P,R]=w.useState(!0),[D,U]=w.useState(!1),[F,H]=w.useState(""),Z=w.useMemo(()=>p5(),[]),Y=w.useCallback($=>{const W=$.target.value;ah(W)&&a(W)},[a]);w.useEffect(()=>{(async()=>{try{await l()?(U(!0),setTimeout(()=>{const j=t.state?.from?.pathname||"/";e(j,{replace:!0})},1500)):(_(u||Z),x(h||""),T(m||!!h))}finally{D||R(!1)}})()},[]);const I=w.useCallback(async()=>{if(!b.trim()){H(n("login.error_required"));return}const $=g?Xr(g):Z;M(!0),H("");try{await o({apiBase:$,managementKey:b.trim(),rememberPassword:O}),i(n("common.connected_status"),"success"),e("/",{replace:!0})}catch(W){const j=CQ(W,n);H(j),i(`${n("notification.login_failed")}: ${j}`,"error")}finally{M(!1)}},[g,Z,o,b,e,O,i,n]),K=w.useCallback($=>{$.key==="Enter"&&!L&&($.preventDefault(),I())},[L,I]);if(r&&!P&&!D){const $=t.state?.from?.pathname||"/";return f.jsx(Nm,{to:$,replace:!0})}const V=P||D;return f.jsxs("div",{className:xn.container,children:[f.jsx("div",{className:xn.brandPanel,children:f.jsxs("div",{className:xn.brandContent,children:[f.jsx("span",{className:xn.brandWord,children:"CLI"}),f.jsx("span",{className:xn.brandWord,children:"PROXY"}),f.jsx("span",{className:xn.brandWord,children:"API"})]})}),f.jsx("div",{className:xn.formPanel,children:V?f.jsxs("div",{className:xn.splashContent,children:[f.jsx("img",{src:sh,alt:"CPAMC",className:xn.splashLogo}),f.jsx("h1",{className:xn.splashTitle,children:n("splash.title")}),f.jsx("p",{className:xn.splashSubtitle,children:n("splash.subtitle")}),f.jsx("div",{className:xn.splashLoader,children:f.jsx("div",{className:xn.splashLoaderBar})})]}):f.jsxs("div",{className:xn.formContent,children:[f.jsx("img",{src:sh,alt:"Logo",className:xn.logo}),f.jsxs("div",{className:xn.loginCard,children:[f.jsxs("div",{className:xn.loginHeader,children:[f.jsxs("div",{className:xn.titleRow,children:[f.jsx("div",{className:xn.title,children:n("title.login")}),f.jsx("select",{className:xn.languageSelect,value:s,onChange:Y,title:n("language.switch"),"aria-label":n("language.switch"),children:qd.map($=>f.jsx("option",{value:$,children:n(qD[$])},$))})]}),f.jsx("div",{className:xn.subtitle,children:n("login.subtitle")})]}),f.jsxs("div",{className:xn.connectionBox,children:[f.jsx("div",{className:xn.label,children:n("login.connection_current")}),f.jsx("div",{className:xn.value,children:g||Z}),f.jsx("div",{className:xn.hint,children:n("login.connection_auto_hint")})]}),f.jsxs("div",{className:xn.toggleAdvanced,children:[f.jsx("input",{id:"custom-connection-toggle",type:"checkbox",checked:v,onChange:$=>C($.target.checked)}),f.jsx("label",{htmlFor:"custom-connection-toggle",children:n("login.custom_connection_label")})]}),v&&f.jsx(st,{label:n("login.custom_connection_label"),placeholder:n("login.custom_connection_placeholder"),value:g,onChange:$=>_($.target.value),hint:n("login.custom_connection_hint")}),f.jsx(st,{autoFocus:!0,label:n("login.management_key_label"),placeholder:n("login.management_key_placeholder"),type:k?"text":"password",value:b,onChange:$=>x($.target.value),onKeyDown:K,rightElement:f.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>N($=>!$),"aria-label":k?n("login.hide_key",{defaultValue:""}):n("login.show_key",{defaultValue:""}),title:k?n("login.hide_key",{defaultValue:""}):n("login.show_key",{defaultValue:""}),children:k?f.jsx(FD,{size:16}):f.jsx(ZH,{size:16})})}),f.jsxs("div",{className:xn.toggleAdvanced,children:[f.jsx("input",{id:"remember-password-toggle",type:"checkbox",checked:O,onChange:$=>T($.target.checked)}),f.jsx("label",{htmlFor:"remember-password-toggle",children:n("login.remember_password_label")})]}),f.jsx(he,{fullWidth:!0,onClick:I,loading:L,children:n(L?"login.submitting":"login.submit_button")}),F&&f.jsx("div",{className:xn.errorBox,children:F})]})]})})]})}const PP=300;function TQ(){const{notifications:n,removeNotification:e}=un(),[t,i]=w.useState([]),s=w.useRef([]);w.useEffect(()=>{const r=s.current,o=new Set(r.map(m=>m.id)),l=new Set(n.map(m=>m.id)),u=n.filter(m=>!o.has(m.id)),h=new Set(r.filter(m=>!l.has(m.id)).map(m=>m.id));i(m=>{let g=m.map(_=>h.has(_.id)?{..._,isExiting:!0}:_);return u.forEach(_=>{g.find(b=>b.id===_.id)||g.push({..._,isExiting:!1})}),g=g.filter(_=>l.has(_.id)||_.isExiting),g}),h.size>0&&setTimeout(()=>{i(m=>m.filter(g=>!h.has(g.id)))},PP),s.current=n},[n]);const a=r=>{i(o=>o.map(l=>l.id===r?{...l,isExiting:!0}:l)),setTimeout(()=>{e(r)},PP)};return t.length?f.jsx("div",{className:"notification-container",children:t.map(r=>f.jsxs("div",{className:`notification ${r.type} ${r.isExiting?"exiting":"entering"}`,children:[f.jsx("div",{className:"message",children:r.message}),f.jsx("button",{className:"close-btn",onClick:()=>a(r.id),"aria-label":"Close",children:f.jsx(Mu,{size:16})})]},r.id))}):null}const NQ=350,Py="modal-open";let Lm=0;const zn={scrollY:0,contentScrollTop:0,contentEl:null,bodyPosition:"",bodyTop:"",bodyLeft:"",bodyRight:"",bodyWidth:"",bodyOverflow:"",htmlOverflow:""},MQ=()=>{if(typeof document>"u")return null;const n=document.querySelector(".content");return n instanceof HTMLElement?n:null},OQ=()=>{if(!(typeof document>"u")){if(Lm===0){const n=document.body,e=document.documentElement,t=MQ();zn.scrollY=window.scrollY||window.pageYOffset||e.scrollTop||0,zn.contentEl=t,zn.contentScrollTop=t?.scrollTop??0,zn.bodyPosition=n.style.position,zn.bodyTop=n.style.top,zn.bodyLeft=n.style.left,zn.bodyRight=n.style.right,zn.bodyWidth=n.style.width,zn.bodyOverflow=n.style.overflow,zn.htmlOverflow=e.style.overflow,n.classList.add(Py),e.classList.add(Py),n.style.position="fixed",n.style.top=`-${zn.scrollY}px`,n.style.left="0",n.style.right="0",n.style.width="100%",n.style.overflow="hidden",e.style.overflow="hidden"}Lm+=1}},LQ=()=>{if(!(typeof document>"u")&&(Lm=Math.max(0,Lm-1),Lm===0)){const n=document.body,e=document.documentElement,t=zn.scrollY,i=zn.contentScrollTop,s=zn.contentEl;n.classList.remove(Py),e.classList.remove(Py),n.style.position=zn.bodyPosition,n.style.top=zn.bodyTop,n.style.left=zn.bodyLeft,n.style.right=zn.bodyRight,n.style.width=zn.bodyWidth,n.style.overflow=zn.bodyOverflow,e.style.overflow=zn.htmlOverflow,s&&s.scrollTo({top:i,left:0,behavior:"auto"}),window.scrollTo({top:t,left:0,behavior:"auto"}),zn.scrollY=0,zn.contentScrollTop=0,zn.contentEl=null}};function is({open:n,title:e,onClose:t,footer:i,width:s=520,className:a,closeDisabled:r=!1,children:o}){const[l,u]=w.useState(!1),[h,m]=w.useState(!1),g=w.useRef(null),_=w.useCallback(N=>{g.current===null&&(m(!0),g.current=window.setTimeout(()=>{u(!1),m(!1),g.current=null,N&&t()},NQ))},[t]);w.useEffect(()=>{let N=!1;return n?(g.current!==null&&(window.clearTimeout(g.current),g.current=null),queueMicrotask(()=>{N||(u(!0),m(!1))})):l&&queueMicrotask(()=>{N||_(!1)}),()=>{N=!0}},[n,l,_]);const b=w.useCallback(()=>{_(!0)},[_]);w.useEffect(()=>()=>{g.current!==null&&window.clearTimeout(g.current)},[]);const x=n||l;if(w.useEffect(()=>{if(x)return OQ(),()=>LQ()},[x]),!n&&!l)return null;const v=`modal-overlay ${h?"modal-overlay-closing":"modal-overlay-entering"}`,C=`modal ${h?"modal-closing":"modal-entering"}${a?` ${a}`:""}`,k=f.jsx("div",{className:v,children:f.jsxs("div",{className:C,style:{width:s},role:"dialog","aria-modal":"true",children:[f.jsx("button",{type:"button",className:"modal-close-floating",onClick:r?void 0:b,"aria-label":"Close",disabled:r,children:f.jsx(Mu,{size:20})}),f.jsx("div",{className:"modal-header",children:f.jsx("div",{className:"modal-title",children:e})}),f.jsx("div",{className:"modal-body",children:o}),i&&f.jsx("div",{className:"modal-footer",children:i})]})});return typeof document>"u"?k:Nu.createPortal(k,document.body)}function PQ(){const{t:n}=Ze(),e=un(v=>v.confirmation),t=un(v=>v.hideConfirmation),i=un(v=>v.setConfirmationLoading),{isOpen:s,isLoading:a,options:r}=e;if(!s||!r)return null;const{title:o,message:l,onConfirm:u,onCancel:h,confirmText:m,cancelText:g,variant:_="primary"}=r,b=async()=>{try{i(!0),await u(),t()}catch(v){console.error("Confirmation action failed:",v)}finally{i(!1)}},x=()=>{a||(h&&h(),t())};return f.jsxs(is,{open:s,onClose:x,title:o,closeDisabled:a,children:[typeof l=="string"?f.jsx("p",{style:{margin:"1rem 0"},children:l}):f.jsx("div",{style:{margin:"1rem 0"},children:l}),f.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},children:[f.jsx(he,{variant:"ghost",onClick:x,disabled:a,children:g||n("common.cancel")}),f.jsx(he,{variant:_,onClick:b,loading:a,children:m||n("common.confirm")})]})]})}function Eo(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function L5(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var ha={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},lh={duration:.5,overwrite:!1,delay:0},pC,qi,qn,Ra=1e8,Tn=1/Ra,QS=Math.PI*2,RQ=QS/4,EQ=0,P5=Math.sqrt,jQ=Math.cos,DQ=Math.sin,Pi=function(e){return typeof e=="string"},Jn=function(e){return typeof e=="function"},Qo=function(e){return typeof e=="number"},gC=function(e){return typeof e>"u"},$r=function(e){return typeof e=="object"},Bs=function(e){return e!==!1},_C=function(){return typeof window<"u"},X_=function(e){return Jn(e)||Pi(e)},R5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},es=Array.isArray,FQ=/random\([^)]+\)/g,UQ=/,\s*/g,RP=/(?:-?\.?\d|\.)+/gi,E5=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ld=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,u2=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,j5=/[+-]=-?[.\d]+/,BQ=/[^,'"\[\]\s]+/gi,IQ=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Wn,Pr,YS,yC,ma={},Ry={},D5,F5=function(e){return(Ry=ch(e,ma))&&Vs},bC=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},rp=function(e,t){return!t&&console.warn(e)},U5=function(e,t){return e&&(ma[e]=t)&&Ry&&(Ry[e]=t)||ma},op=function(){return 0},zQ={suppressEvents:!0,isStart:!0,kill:!1},ny={suppressEvents:!0,kill:!1},qQ={suppressEvents:!0},xC={},Gl=[],ZS={},B5,ra={},d2={},EP=30,iy=[],vC="",SC=function(e){var t=e[0],i,s;if($r(t)||Jn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(s=iy.length;s--&&!iy[s].targetTest(t););i=iy[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new c6(e[s],i)))||e.splice(s,1);return e},ou=function(e){return e._gsap||SC(Ea(e))[0]._gsap},I5=function(e,t,i){return(i=e[t])&&Jn(i)?e[t]():gC(i)&&e.getAttribute&&e.getAttribute(t)||i},Is=function(e,t){return(e=e.split(",")).forEach(t)||e},ri=function(e){return Math.round(e*1e5)/1e5||0},Vn=function(e){return Math.round(e*1e7)/1e7||0},Vd=function(e,t){var i=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+s:i==="-"?e-s:i==="*"?e*s:e/s},KQ=function(e,t){for(var i=t.length,s=0;e.indexOf(t[s])<0&&++s<i;);return s<i},Ey=function(){var e=Gl.length,t=Gl.slice(0),i,s;for(ZS={},Gl.length=0,i=0;i<e;i++)s=t[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},wC=function(e){return!!(e._initted||e._startAt||e.add)},z5=function(e,t,i,s){Gl.length&&!qi&&Ey(),e.render(t,i,!!(qi&&t<0&&wC(e))),Gl.length&&!qi&&Ey()},q5=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(BQ).length<2?t:Pi(e)?e.trim():e},K5=function(e){return e},pa=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},HQ=function(e){return function(t,i){for(var s in i)s in t||s==="duration"&&e||s==="ease"||(t[s]=i[s])}},ch=function(e,t){for(var i in t)e[i]=t[i];return e},jP=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=$r(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},jy=function(e,t){var i={},s;for(s in e)s in t||(i[s]=e[s]);return i},Pm=function(e){var t=e.parent||Wn,i=e.keyframes?HQ(es(e.keyframes)):pa;if(Bs(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},VQ=function(e,t){for(var i=e.length,s=i===t.length;s&&i--&&e[i]===t[i];);return i<0},H5=function(e,t,i,s,a){var r=e[s],o;if(a)for(o=t[a];r&&r[a]>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[s]=t,t._prev=r,t.parent=t._dp=e,t},Kb=function(e,t,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var a=t._prev,r=t._next;a?a._next=r:e[i]===t&&(e[i]=r),r?r._prev=a:e[s]===t&&(e[s]=a),t._next=t._prev=t.parent=null},Zl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},lu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},WQ=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},JS=function(e,t,i,s){return e._startAt&&(qi?e._startAt.revert(ny):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},GQ=function n(e){return!e||e._ts&&n(e.parent)},DP=function(e){return e._repeat?uh(e._tTime,e=e.duration()+e._rDelay)*e:0},uh=function(e,t){var i=Math.floor(e=Vn(e/t));return e&&i===e?i-1:i},Dy=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Hb=function(e){return e._end=Vn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Tn)||0))},Vb=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Vn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Hb(e),i._dirty||lu(i,e)),e},V5=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Dy(e.rawTime(),t),(!t._dur||eg(0,t.totalDuration(),i)-t._tTime>Tn)&&t.render(i,!0)),lu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Tn}},Er=function(e,t,i,s){return t.parent&&Zl(t),t._start=Vn((Qo(i)?i:i||e!==Wn?Oa(e,i,t):e._time)+t._delay),t._end=Vn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),H5(e,t,"_first","_last",e._sort?"_start":0),ew(t)||(e._recent=t),s||V5(e,t),e._ts<0&&Vb(e,e._tTime),e},W5=function(e,t){return(ma.ScrollTrigger||bC("scrollTrigger",t))&&ma.ScrollTrigger.create(t,e)},G5=function(e,t,i,s,a){if(CC(e,t,a),!e._initted)return 1;if(!i&&e._pt&&!qi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&B5!==la.frame)return Gl.push(e),e._lazy=[a,s],1},XQ=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},ew=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},$Q=function(e,t,i,s){var a=e.ratio,r=t<0||!t&&(!e._start&&XQ(e)&&!(!e._initted&&ew(e))||(e._ts<0||e._dp._ts<0)&&!ew(e))?0:1,o=e._rDelay,l=0,u,h,m;if(o&&e._repeat&&(l=eg(0,e._tDur,t),h=uh(l,o),e._yoyo&&h&1&&(r=1-r),h!==uh(e._tTime,o)&&(a=1-r,e.vars.repeatRefresh&&e._initted&&e.invalidate())),r!==a||qi||s||e._zTime===Tn||!t&&e._zTime){if(!e._initted&&G5(e,t,s,i,l))return;for(m=e._zTime,e._zTime=t||(i?Tn:0),i||(i=t&&!m),e.ratio=r,e._from&&(r=1-r),e._time=0,e._tTime=l,u=e._pt;u;)u.r(r,u.d),u=u._next;t<0&&JS(e,t,i,!0),e._onUpdate&&!i&&ca(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&ca(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===r&&(r&&Zl(e,1),!i&&!qi&&(ca(e,r?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},QQ=function(e,t,i){var s;if(i>t)for(s=e._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},dh=function(e,t,i,s){var a=e._repeat,r=Vn(t)||0,o=e._tTime/e._tDur;return o&&!s&&(e._time*=r/e._dur),e._dur=r,e._tDur=a?a<0?1e10:Vn(r*(a+1)+e._rDelay*a):r,o>0&&!s&&Vb(e,e._tTime=e._tDur*o),e.parent&&Hb(e),i||lu(e.parent,e),e},FP=function(e){return e instanceof ps?lu(e):dh(e,e._dur)},YQ={_start:0,endTime:op,totalDuration:op},Oa=function n(e,t,i){var s=e.labels,a=e._recent||YQ,r=e.duration()>=Ra?a.endTime(!1):e._dur,o,l,u;return Pi(t)&&(isNaN(t)||t in s)?(l=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?a:i).totalDuration()/100:1)):o<0?(t in s||(s[t]=r),s[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&i&&(l=l/100*(es(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+l:r+l)):t==null?r:+t},Rm=function(e,t,i){var s=Qo(t[1]),a=(s?2:1)+(e<2?0:1),r=t[a],o,l;if(s&&(r.duration=t[1]),r.parent=i,e){for(o=r,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=Bs(l.vars.inherit)&&l.parent;r.immediateRender=Bs(o.immediateRender),e<2?r.runBackwards=1:r.startAt=t[a-1]}return new yi(t[0],r,t[a+1])},oc=function(e,t){return e||e===0?t(e):t},eg=function(e,t,i){return i<e?e:i>t?t:i},Yi=function(e,t){return!Pi(e)||!(t=IQ.exec(e))?"":t[1]},ZQ=function(e,t,i){return oc(i,function(s){return eg(e,t,s)})},tw=[].slice,X5=function(e,t){return e&&$r(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&$r(e[0]))&&!e.nodeType&&e!==Pr},JQ=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(s){var a;return Pi(s)&&!t||X5(s,1)?(a=i).push.apply(a,Ea(s)):i.push(s)})||i},Ea=function(e,t,i){return qn&&!t&&qn.selector?qn.selector(e):Pi(e)&&!i&&(YS||!hh())?tw.call((t||yC).querySelectorAll(e),0):es(e)?JQ(e,i):X5(e)?tw.call(e,0):e?[e]:[]},nw=function(e){return e=Ea(e)[0]||rp("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ea(t,i.querySelectorAll?i:i===e?rp("Invalid scope")||yC.createElement("div"):e)}},$5=function(e){return e.sort(function(){return .5-Math.random()})},Q5=function(e){if(Jn(e))return e;var t=$r(e)?e:{each:e},i=cu(t.ease),s=t.from||0,a=parseFloat(t.base)||0,r={},o=s>0&&s<1,l=isNaN(s)||o,u=t.axis,h=s,m=s;return Pi(s)?h=m={center:.5,edges:.5,end:1}[s]||0:!o&&l&&(h=s[0],m=s[1]),function(g,_,b){var x=(b||t).length,v=r[x],C,k,N,O,T,L,M,P,R;if(!v){if(R=t.grid==="auto"?0:(t.grid||[1,Ra])[1],!R){for(M=-Ra;M<(M=b[R++].getBoundingClientRect().left)&&R<x;);R<x&&R--}for(v=r[x]=[],C=l?Math.min(R,x)*h-.5:s%R,k=R===Ra?0:l?x*m/R-.5:s/R|0,M=0,P=Ra,L=0;L<x;L++)N=L%R-C,O=k-(L/R|0),v[L]=T=u?Math.abs(u==="y"?O:N):P5(N*N+O*O),T>M&&(M=T),T<P&&(P=T);s==="random"&&$5(v),v.max=M-P,v.min=P,v.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(R>x?x-1:u?u==="y"?x/R:R:Math.max(R,x/R))||0)*(s==="edges"?-1:1),v.b=x<0?a-x:a,v.u=Yi(t.amount||t.each)||0,i=i&&x<0?r6(i):i}return x=(v[g]-v.min)/v.max||0,Vn(v.b+(i?i(x):x)*v.v)+v.u}},iw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var s=Vn(Math.round(parseFloat(i)/e)*e*t);return(s-s%1)/t+(Qo(i)?0:Yi(i))}},Y5=function(e,t){var i=es(e),s,a;return!i&&$r(e)&&(s=i=e.radius||Ra,e.values?(e=Ea(e.values),(a=!Qo(e[0]))&&(s*=s)):e=iw(e.increment)),oc(t,i?Jn(e)?function(r){return a=e(r),Math.abs(a-r)<=s?a:r}:function(r){for(var o=parseFloat(a?r.x:r),l=parseFloat(a?r.y:0),u=Ra,h=0,m=e.length,g,_;m--;)a?(g=e[m].x-o,_=e[m].y-l,g=g*g+_*_):g=Math.abs(e[m]-o),g<u&&(u=g,h=m);return h=!s||u<=s?e[h]:r,a||h===r||Qo(r)?h:h+Yi(r)}:iw(e))},Z5=function(e,t,i,s){return oc(es(e)?!t:i===!0?!!(i=0):!s,function(){return es(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*s)/s})},eY=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(s){return t.reduce(function(a,r){return r(a)},s)}},tY=function(e,t){return function(i){return e(parseFloat(i))+(t||Yi(i))}},nY=function(e,t,i){return e6(e,t,0,1,i)},J5=function(e,t,i){return oc(i,function(s){return e[~~t(s)]})},iY=function n(e,t,i){var s=t-e;return es(e)?J5(e,n(0,e.length),t):oc(i,function(a){return(s+(a-e)%s)%s+e})},sY=function n(e,t,i){var s=t-e,a=s*2;return es(e)?J5(e,n(0,e.length-1),t):oc(i,function(r){return r=(a+(r-e)%a)%a||0,e+(r>s?a-r:r)})},lp=function(e){return e.replace(FQ,function(t){var i=t.indexOf("[")+1,s=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(UQ);return Z5(i?s:+s[0],i?0:+s[1],+s[2]||1e-5)})},e6=function(e,t,i,s,a){var r=t-e,o=s-i;return oc(a,function(l){return i+((l-e)/r*o||0)})},aY=function n(e,t,i,s){var a=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!a){var r=Pi(e),o={},l,u,h,m,g;if(i===!0&&(s=1)&&(i=null),r)e={p:e},t={p:t};else if(es(e)&&!es(t)){for(h=[],m=e.length,g=m-2,u=1;u<m;u++)h.push(n(e[u-1],e[u]));m--,a=function(b){b*=m;var x=Math.min(g,~~b);return h[x](b-x)},i=t}else s||(e=ch(es(e)?[]:{},e));if(!h){for(l in t)kC.call(o,e,l,"get",t[l]);a=function(b){return NC(b,o)||(r?e.p:e)}}}return oc(i,a)},UP=function(e,t,i){var s=e.labels,a=Ra,r,o,l;for(r in s)o=s[r]-t,o<0==!!i&&o&&a>(o=Math.abs(o))&&(l=r,a=o);return l},ca=function(e,t,i){var s=e.vars,a=s[t],r=qn,o=e._ctx,l,u,h;if(a)return l=s[t+"Params"],u=s.callbackScope||e,i&&Gl.length&&Ey(),o&&(qn=o),h=l?a.apply(u,l):a.call(u),qn=r,h},hm=function(e){return Zl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!qi),e.progress()<1&&ca(e,"onInterrupt"),e},Pd,t6=[],n6=function(e){if(e)if(e=!e.name&&e.default||e,_C()||e.headless){var t=e.name,i=Jn(e),s=t&&!i&&e.init?function(){this._props=[]}:e,a={init:op,render:NC,add:kC,kill:vY,modifier:xY,rawVars:0},r={targetTest:0,get:0,getSetter:TC,aliases:{},register:0};if(hh(),e!==s){if(ra[t])return;pa(s,pa(jy(e,a),r)),ch(s.prototype,ch(a,jy(e,r))),ra[s.prop=t]=s,e.targetTest&&(iy.push(s),xC[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}U5(t,s),e.register&&e.register(Vs,s,zs)}else t6.push(e)},Cn=255,fm={aqua:[0,Cn,Cn],lime:[0,Cn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Cn],navy:[0,0,128],white:[Cn,Cn,Cn],olive:[128,128,0],yellow:[Cn,Cn,0],orange:[Cn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Cn,0,0],pink:[Cn,192,203],cyan:[0,Cn,Cn],transparent:[Cn,Cn,Cn,0]},h2=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Cn+.5|0},i6=function(e,t,i){var s=e?Qo(e)?[e>>16,e>>8&Cn,e&Cn]:0:fm.black,a,r,o,l,u,h,m,g,_,b;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),fm[e])s=fm[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),r=e.charAt(2),o=e.charAt(3),e="#"+a+a+r+r+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Cn,s&Cn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Cn,e&Cn]}else if(e.substr(0,3)==="hsl"){if(s=b=e.match(RP),!t)l=+s[0]%360/360,u=+s[1]/100,h=+s[2]/100,r=h<=.5?h*(u+1):h+u-h*u,a=h*2-r,s.length>3&&(s[3]*=1),s[0]=h2(l+1/3,a,r),s[1]=h2(l,a,r),s[2]=h2(l-1/3,a,r);else if(~e.indexOf("="))return s=e.match(E5),i&&s.length<4&&(s[3]=1),s}else s=e.match(RP)||fm.transparent;s=s.map(Number)}return t&&!b&&(a=s[0]/Cn,r=s[1]/Cn,o=s[2]/Cn,m=Math.max(a,r,o),g=Math.min(a,r,o),h=(m+g)/2,m===g?l=u=0:(_=m-g,u=h>.5?_/(2-m-g):_/(m+g),l=m===a?(r-o)/_+(r<o?6:0):m===r?(o-a)/_+2:(a-r)/_+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(h*100+.5)),i&&s.length<4&&(s[3]=1),s},s6=function(e){var t=[],i=[],s=-1;return e.split(Xl).forEach(function(a){var r=a.match(Ld)||[];t.push.apply(t,r),i.push(s+=r.length+1)}),t.c=i,t},BP=function(e,t,i){var s="",a=(e+s).match(Xl),r=t?"hsla(":"rgba(",o=0,l,u,h,m;if(!a)return e;if(a=a.map(function(g){return(g=i6(g,t,1))&&r+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),i&&(h=s6(e),l=i.c,l.join(s)!==h.c.join(s)))for(u=e.replace(Xl,"1").split(Ld),m=u.length-1;o<m;o++)s+=u[o]+(~l.indexOf(o)?a.shift()||r+"0,0,0,0)":(h.length?h:a.length?a:i).shift());if(!u)for(u=e.split(Xl),m=u.length-1;o<m;o++)s+=u[o]+a[o];return s+u[m]},Xl=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in fm)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),rY=/hsl[a]?\(/,a6=function(e){var t=e.join(" "),i;if(Xl.lastIndex=0,Xl.test(t))return i=rY.test(t),e[1]=BP(e[1],i),e[0]=BP(e[0],i,s6(e[1])),!0},cp,la=(function(){var n=Date.now,e=500,t=33,i=n(),s=i,a=1e3/240,r=a,o=[],l,u,h,m,g,_,b=function x(v){var C=n()-s,k=v===!0,N,O,T,L;if((C>e||C<0)&&(i+=C-t),s+=C,T=s-i,N=T-r,(N>0||k)&&(L=++m.frame,g=T-m.time*1e3,m.time=T=T/1e3,r+=N+(N>=a?4:a-N),O=1),k||(l=u(x)),O)for(_=0;_<o.length;_++)o[_](T,g,L,v)};return m={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(v){return g/(1e3/(v||60))},wake:function(){D5&&(!YS&&_C()&&(Pr=YS=window,yC=Pr.document||{},ma.gsap=Vs,(Pr.gsapVersions||(Pr.gsapVersions=[])).push(Vs.version),F5(Ry||Pr.GreenSockGlobals||!Pr.gsap&&Pr||{}),t6.forEach(n6)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&m.sleep(),u=h||function(v){return setTimeout(v,r-m.time*1e3+1|0)},cp=1,b(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),cp=0,u=op},lagSmoothing:function(v,C){e=v||1/0,t=Math.min(C||33,e)},fps:function(v){a=1e3/(v||240),r=m.time*1e3+a},add:function(v,C,k){var N=C?function(O,T,L,M){v(O,T,L,M),m.remove(N)}:v;return m.remove(v),o[k?"unshift":"push"](N),hh(),N},remove:function(v,C){~(C=o.indexOf(v))&&o.splice(C,1)&&_>=C&&_--},_listeners:o},m})(),hh=function(){return!cp&&la.wake()},Jt={},oY=/^[\d.\-M][\d.\-,\s]/,lY=/["']/g,cY=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),s=i[0],a=1,r=i.length,o,l,u;a<r;a++)l=i[a],o=a!==r-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),t[s]=isNaN(u)?u.replace(lY,"").trim():+u,s=l.substr(o+1).trim();return t},uY=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<i?e.indexOf(")",i+1):i)},dY=function(e){var t=(e+"").split("("),i=Jt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[cY(t[1])]:uY(e).split(",").map(q5)):Jt._CE&&oY.test(e)?Jt._CE("",e):i},r6=function(e){return function(t){return 1-e(1-t)}},o6=function n(e,t){for(var i=e._first,s;i;)i instanceof ps?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=t)),i=i._next},cu=function(e,t){return e&&(Jn(e)?e:Jt[e]||dY(e))||t},Lu=function(e,t,i,s){i===void 0&&(i=function(l){return 1-t(1-l)}),s===void 0&&(s=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var a={easeIn:t,easeOut:i,easeInOut:s},r;return Is(e,function(o){Jt[o]=ma[o]=a,Jt[r=o.toLowerCase()]=i;for(var l in a)Jt[r+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Jt[o+"."+l]=a[l]}),a},l6=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},f2=function n(e,t,i){var s=t>=1?t:1,a=(i||(e?.3:.45))/(t<1?t:1),r=a/QS*(Math.asin(1/s)||0),o=function(h){return h===1?1:s*Math.pow(2,-10*h)*DQ((h-r)*a)+1},l=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:l6(o);return a=QS/a,l.config=function(u,h){return n(e,u,h)},l},m2=function n(e,t){t===void 0&&(t=1.70158);var i=function(r){return r?--r*r*((t+1)*r+t)+1:0},s=e==="out"?i:e==="in"?function(a){return 1-i(1-a)}:l6(i);return s.config=function(a){return n(e,a)},s};Is("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Lu(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Jt.Linear.easeNone=Jt.none=Jt.Linear.easeIn;Lu("Elastic",f2("in"),f2("out"),f2());(function(n,e){var t=1/e,i=2*t,s=2.5*t,a=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<s?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};Lu("Bounce",function(r){return 1-a(1-r)},a)})(7.5625,2.75);Lu("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Lu("Circ",function(n){return-(P5(1-n*n)-1)});Lu("Sine",function(n){return n===1?1:-jQ(n*RQ)+1});Lu("Back",m2("in"),m2("out"),m2());Jt.SteppedEase=Jt.steps=ma.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,s=e+(t?0:1),a=t?1:0,r=1-Tn;return function(o){return((s*eg(0,r,o)|0)+a)*i}}};lh.ease=Jt["quad.out"];Is("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return vC+=n+","+n+"Params,"});var c6=function(e,t){this.id=EQ++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:I5,this.set=t?t.getSetter:TC},up=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,dh(this,+t.duration,1,1),this.data=t.data,qn&&(this._ctx=qn,qn.data.push(this)),cp||la.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,dh(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,s){if(hh(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Vb(this,i),!a._dp||a.parent||V5(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Er(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Tn||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),z5(this,i,s)),this},e.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+DP(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},e.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+DP(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*a,s):this._repeat?uh(this._tTime,a)+1:1},e.timeScale=function(i,s){if(!arguments.length)return this._rts===-Tn?0:this._rts;if(this._rts===i)return this;var a=this.parent&&this._ts?Dy(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Tn?0:this._rts,this.totalTime(eg(-Math.abs(this._delay),this.totalDuration(),a),s!==!1),Hb(this),WQ(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Tn&&(this._tTime-=Tn)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Vn(i);var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Er(s,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Bs(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dy(s.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=qQ);var s=qi;return qi=i,wC(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),qi=s,this},e.globalTime=function(i){for(var s=this,a=arguments.length?i:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(i):a},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,FP(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,FP(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,s){return this.totalTime(Oa(this,i),Bs(s))},e.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,Bs(s)),this._dur||(this._zTime=-Tn),this},e.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},e.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Tn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Tn,this},e.isActive=function(){var i=this.parent||this._dp,s=this._start,a;return!!(!i||this._ts&&this._initted&&i.isActive()&&(a=i.rawTime(!0))>=s&&a<this.endTime(!0)-Tn)},e.eventCallback=function(i,s,a){var r=this.vars;return arguments.length>1?(s?(r[i]=s,a&&(r[i+"Params"]=a),i==="onUpdate"&&(this._onUpdate=s)):delete r[i],this):r[i]},e.then=function(i){var s=this,a=s._prom;return new Promise(function(r){var o=Jn(i)?i:K5,l=function(){var h=s.then;s.then=null,a&&a(),Jn(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=h),r(o),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){hm(this)},n})();pa(up.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Tn,_prom:0,_ps:!1,_rts:1});var ps=(function(n){L5(e,n);function e(i,s){var a;return i===void 0&&(i={}),a=n.call(this,i)||this,a.labels={},a.smoothChildTiming=!!i.smoothChildTiming,a.autoRemoveChildren=!!i.autoRemoveChildren,a._sort=Bs(i.sortChildren),Wn&&Er(i.parent||Wn,Eo(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),i.scrollTrigger&&W5(Eo(a),i.scrollTrigger),a}var t=e.prototype;return t.to=function(s,a,r){return Rm(0,arguments,this),this},t.from=function(s,a,r){return Rm(1,arguments,this),this},t.fromTo=function(s,a,r,o){return Rm(2,arguments,this),this},t.set=function(s,a,r){return a.duration=0,a.parent=this,Pm(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new yi(s,a,Oa(this,r),1),this},t.call=function(s,a,r){return Er(this,yi.delayedCall(0,s,a),r)},t.staggerTo=function(s,a,r,o,l,u,h){return r.duration=a,r.stagger=r.stagger||o,r.onComplete=u,r.onCompleteParams=h,r.parent=this,new yi(s,r,Oa(this,l)),this},t.staggerFrom=function(s,a,r,o,l,u,h){return r.runBackwards=1,Pm(r).immediateRender=Bs(r.immediateRender),this.staggerTo(s,a,r,o,l,u,h)},t.staggerFromTo=function(s,a,r,o,l,u,h,m){return o.startAt=r,Pm(o).immediateRender=Bs(o.immediateRender),this.staggerTo(s,a,o,l,u,h,m)},t.render=function(s,a,r){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=s<=0?0:Vn(s),m=this._zTime<0!=s<0&&(this._initted||!u),g,_,b,x,v,C,k,N,O,T,L,M;if(this!==Wn&&h>l&&s>=0&&(h=l),h!==this._tTime||r||m){if(o!==this._time&&u&&(h+=this._time-o,s+=this._time-o),g=h,O=this._start,N=this._ts,C=!N,m&&(u||(o=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(L=this._yoyo,v=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(v*100+s,a,r);if(g=Vn(h%v),h===l?(x=this._repeat,g=u):(T=Vn(h/v),x=~~T,x&&x===T&&(g=u,x--),g>u&&(g=u)),T=uh(this._tTime,v),!o&&this._tTime&&T!==x&&this._tTime-T*v-this._dur<=0&&(T=x),L&&x&1&&(g=u-g,M=1),x!==T&&!this._lock){var P=L&&T&1,R=P===(L&&x&1);if(x<T&&(P=!P),o=P?0:h%u?u:h,this._lock=1,this.render(o||(M?0:Vn(x*v)),a,!u)._lock=0,this._tTime=h,!a&&this.parent&&ca(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1,T=x),o&&o!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,R&&(this._lock=2,o=P?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;o6(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=QQ(this,Vn(o),Vn(g)),k&&(h-=g-(g=k._start))),this._tTime=h,this._time=g,this._act=!N,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,o=0),!o&&h&&u&&!a&&!T&&(ca(this,"onStart"),this._tTime!==h))return this;if(g>=o&&s>=0)for(_=this._first;_;){if(b=_._next,(_._act||g>=_._start)&&_._ts&&k!==_){if(_.parent!==this)return this.render(s,a,r);if(_.render(_._ts>0?(g-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(g-_._start)*_._ts,a,r),g!==this._time||!this._ts&&!C){k=0,b&&(h+=this._zTime=-Tn);break}}_=b}else{_=this._last;for(var D=s<0?s:g;_;){if(b=_._prev,(_._act||D<=_._end)&&_._ts&&k!==_){if(_.parent!==this)return this.render(s,a,r);if(_.render(_._ts>0?(D-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(D-_._start)*_._ts,a,r||qi&&wC(_)),g!==this._time||!this._ts&&!C){k=0,b&&(h+=this._zTime=D?-Tn:Tn);break}}_=b}}if(k&&!a&&(this.pause(),k.render(g>=o?0:-Tn)._zTime=g>=o?1:-1,this._ts))return this._start=O,Hb(this),this.render(s,a,r);this._onUpdate&&!a&&ca(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&o)&&(O===this._start||Math.abs(N)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&Zl(this,1),!a&&!(s<0&&!o)&&(h||o||!l)&&(ca(this,h===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,a){var r=this;if(Qo(a)||(a=Oa(this,a,s)),!(s instanceof up)){if(es(s))return s.forEach(function(o){return r.add(o,a)}),this;if(Pi(s))return this.addLabel(s,a);if(Jn(s))s=yi.delayedCall(0,s);else return this}return this!==s?Er(this,s,a):this},t.getChildren=function(s,a,r,o){s===void 0&&(s=!0),a===void 0&&(a=!0),r===void 0&&(r=!0),o===void 0&&(o=-Ra);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof yi?a&&l.push(u):(r&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,a,r)))),u=u._next;return l},t.getById=function(s){for(var a=this.getChildren(1,1,1),r=a.length;r--;)if(a[r].vars.id===s)return a[r]},t.remove=function(s){return Pi(s)?this.removeLabel(s):Jn(s)?this.killTweensOf(s):(s.parent===this&&Kb(this,s),s===this._recent&&(this._recent=this._last),lu(this))},t.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vn(la.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},t.addLabel=function(s,a){return this.labels[s]=Oa(this,a),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,a,r){var o=yi.delayedCall(0,a||op,r);return o.data="isPause",this._hasPause=1,Er(this,o,Oa(this,s))},t.removePause=function(s){var a=this._first;for(s=Oa(this,s);a;)a._start===s&&a.data==="isPause"&&Zl(a),a=a._next},t.killTweensOf=function(s,a,r){for(var o=this.getTweensOf(s,r),l=o.length;l--;)Ul!==o[l]&&o[l].kill(s,a);return this},t.getTweensOf=function(s,a){for(var r=[],o=Ea(s),l=this._first,u=Qo(a),h;l;)l instanceof yi?KQ(l._targets,o)&&(u?(!Ul||l._initted&&l._ts)&&l.globalTime(0)<=a&&l.globalTime(l.totalDuration())>a:!a||l.isActive())&&r.push(l):(h=l.getTweensOf(o,a)).length&&r.push.apply(r,h),l=l._next;return r},t.tweenTo=function(s,a){a=a||{};var r=this,o=Oa(r,s),l=a,u=l.startAt,h=l.onStart,m=l.onStartParams,g=l.immediateRender,_,b=yi.to(r,pa({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:a.duration||Math.abs((o-(u&&"time"in u?u.time:r._time))/r.timeScale())||Tn,onStart:function(){if(r.pause(),!_){var v=a.duration||Math.abs((o-(u&&"time"in u?u.time:r._time))/r.timeScale());b._dur!==v&&dh(b,v,0,1).render(b._time,!0,!0),_=1}h&&h.apply(b,m||[])}},a));return g?b.render(0):b},t.tweenFromTo=function(s,a,r){return this.tweenTo(a,pa({startAt:{time:Oa(this,s)}},r))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),UP(this,Oa(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),UP(this,Oa(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Tn)},t.shiftChildren=function(s,a,r){r===void 0&&(r=0);var o=this._first,l=this.labels,u;for(s=Vn(s);o;)o._start>=r&&(o._start+=s,o._end+=s),o=o._next;if(a)for(u in l)l[u]>=r&&(l[u]+=s);return lu(this)},t.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,r;a;)r=a._next,this.remove(a),a=r;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),lu(this)},t.totalDuration=function(s){var a=0,r=this,o=r._last,l=Ra,u,h,m;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-s:s));if(r._dirty){for(m=r.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),h=o._start,h>l&&r._sort&&o._ts&&!r._lock?(r._lock=1,Er(r,o,h-o._delay,1)._lock=0):l=h,h<0&&o._ts&&(a-=h,(!m&&!r._dp||m&&m.smoothChildTiming)&&(r._start+=Vn(h/r._ts),r._time-=h,r._tTime-=h),r.shiftChildren(-h,!1,-1/0),l=0),o._end>a&&o._ts&&(a=o._end),o=u;dh(r,r===Wn&&r._time>a?r._time:a,1,1),r._dirty=0}return r._tDur},e.updateRoot=function(s){if(Wn._ts&&(z5(Wn,Dy(s,Wn)),B5=la.frame),la.frame>=EP){EP+=ha.autoSleep||120;var a=Wn._first;if((!a||!a._ts)&&ha.autoSleep&&la._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||la.sleep()}}},e})(up);pa(ps.prototype,{_lock:0,_hasPause:0,_forcing:0});var hY=function(e,t,i,s,a,r,o){var l=new zs(this._pt,e,t,0,1,p6,null,a),u=0,h=0,m,g,_,b,x,v,C,k;for(l.b=i,l.e=s,i+="",s+="",(C=~s.indexOf("random("))&&(s=lp(s)),r&&(k=[i,s],r(k,e,t),i=k[0],s=k[1]),g=i.match(u2)||[];m=u2.exec(s);)b=m[0],x=s.substring(u,m.index),_?_=(_+1)%5:x.substr(-5)==="rgba("&&(_=1),b!==g[h++]&&(v=parseFloat(g[h-1])||0,l._pt={_next:l._pt,p:x||h===1?x:",",s:v,c:b.charAt(1)==="="?Vd(v,b)-v:parseFloat(b)-v,m:_&&_<4?Math.round:0},u=u2.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=o,(j5.test(s)||C)&&(l.e=0),this._pt=l,l},kC=function(e,t,i,s,a,r,o,l,u,h){Jn(s)&&(s=s(a||0,e,r));var m=e[t],g=i!=="get"?i:Jn(m)?u?e[t.indexOf("set")||!Jn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():m,_=Jn(m)?u?_Y:f6:AC,b;if(Pi(s)&&(~s.indexOf("random(")&&(s=lp(s)),s.charAt(1)==="="&&(b=Vd(g,s)+(Yi(g)||0),(b||b===0)&&(s=b))),!h||g!==s||sw)return!isNaN(g*s)&&s!==""?(b=new zs(this._pt,e,t,+g||0,s-(g||0),typeof m=="boolean"?bY:m6,0,_),u&&(b.fp=u),o&&b.modifier(o,this,e),this._pt=b):(!m&&!(t in e)&&bC(t,s),hY.call(this,e,t,g,s,_,l||ha.stringFilter,u))},fY=function(e,t,i,s,a){if(Jn(e)&&(e=Em(e,a,t,i,s)),!$r(e)||e.style&&e.nodeType||es(e)||R5(e))return Pi(e)?Em(e,a,t,i,s):e;var r={},o;for(o in e)r[o]=Em(e[o],a,t,i,s);return r},u6=function(e,t,i,s,a,r){var o,l,u,h;if(ra[e]&&(o=new ra[e]).init(a,o.rawVars?t[e]:fY(t[e],s,a,r,i),i,s,r)!==!1&&(i._pt=l=new zs(i._pt,a,e,0,1,o.render,o,0,o.priority),i!==Pd))for(u=i._ptLookup[i._targets.indexOf(a)],h=o._props.length;h--;)u[o._props[h]]=l;return o},Ul,sw,CC=function n(e,t,i){var s=e.vars,a=s.ease,r=s.startAt,o=s.immediateRender,l=s.lazy,u=s.onUpdate,h=s.runBackwards,m=s.yoyoEase,g=s.keyframes,_=s.autoRevert,b=e._dur,x=e._startAt,v=e._targets,C=e.parent,k=C&&C.data==="nested"?C.vars.targets:v,N=e._overwrite==="auto"&&!pC,O=e.timeline,T,L,M,P,R,D,U,F,H,Z,Y,I,K;if(O&&(!g||!a)&&(a="none"),e._ease=cu(a,lh.ease),e._yEase=m?r6(cu(m===!0?a:m,lh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!O&&!!s.runBackwards,!O||g&&!s.stagger){if(F=v[0]?ou(v[0]).harness:0,I=F&&s[F.prop],T=jy(s,xC),x&&(x._zTime<0&&x.progress(1),t<0&&h&&o&&!_?x.render(-1,!0):x.revert(h&&b?ny:zQ),x._lazy=0),r){if(Zl(e._startAt=yi.set(v,pa({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!x&&Bs(l),startAt:null,delay:0,onUpdate:u&&function(){return ca(e,"onUpdate")},stagger:0},r))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(qi||!o&&!_)&&e._startAt.revert(ny),o&&b&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(h&&b&&!x){if(t&&(o=!1),M=pa({overwrite:!1,data:"isFromStart",lazy:o&&!x&&Bs(l),immediateRender:o,stagger:0,parent:C},T),I&&(M[F.prop]=I),Zl(e._startAt=yi.set(v,M)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(qi?e._startAt.revert(ny):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,Tn,Tn);else if(!t)return}for(e._pt=e._ptCache=0,l=b&&Bs(l)||l&&!b,L=0;L<v.length;L++){if(R=v[L],U=R._gsap||SC(v)[L]._gsap,e._ptLookup[L]=Z={},ZS[U.id]&&Gl.length&&Ey(),Y=k===v?L:k.indexOf(R),F&&(H=new F).init(R,I||T,e,Y,k)!==!1&&(e._pt=P=new zs(e._pt,R,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(V){Z[V]=P}),H.priority&&(D=1)),!F||I)for(M in T)ra[M]&&(H=u6(M,T,e,Y,R,k))?H.priority&&(D=1):Z[M]=P=kC.call(e,R,M,"get",T[M],Y,k,0,s.stringFilter);e._op&&e._op[L]&&e.kill(R,e._op[L]),N&&e._pt&&(Ul=e,Wn.killTweensOf(R,Z,e.globalTime(t)),K=!e.parent,Ul=0),e._pt&&l&&(ZS[U.id]=1)}D&&g6(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!K,g&&t<=0&&O.render(Ra,!0,!0)},mY=function(e,t,i,s,a,r,o,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,m,g,_;if(!u)for(u=e._ptCache[t]=[],g=e._ptLookup,_=e._targets.length;_--;){if(h=g[_][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return sw=1,e.vars[t]="+=0",CC(e,o),sw=0,l?rp(t+" not eligible for reset"):1;u.push(h)}for(_=u.length;_--;)m=u[_],h=m._pt||m,h.s=(s||s===0)&&!a?s:h.s+(s||0)+r*h.c,h.c=i-h.s,m.e&&(m.e=ri(i)+Yi(m.e)),m.b&&(m.b=h.s+Yi(m.b))},pY=function(e,t){var i=e[0]?ou(e[0]).harness:0,s=i&&i.aliases,a,r,o,l;if(!s)return t;a=ch({},t);for(r in s)if(r in a)for(l=s[r].split(","),o=l.length;o--;)a[l[o]]=a[r];return a},gY=function(e,t,i,s){var a=t.ease||s||"power1.inOut",r,o;if(es(t))o=i[e]||(i[e]=[]),t.forEach(function(l,u){return o.push({t:u/(t.length-1)*100,v:l,e:a})});else for(r in t)o=i[r]||(i[r]=[]),r==="ease"||o.push({t:parseFloat(e),v:t[r],e:a})},Em=function(e,t,i,s,a){return Jn(e)?e.call(t,i,s,a):Pi(e)&&~e.indexOf("random(")?lp(e):e},d6=vC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",h6={};Is(d6+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return h6[n]=1});var yi=(function(n){L5(e,n);function e(i,s,a,r){var o;typeof s=="number"&&(a.duration=s,s=a,a=null),o=n.call(this,r?s:Pm(s))||this;var l=o.vars,u=l.duration,h=l.delay,m=l.immediateRender,g=l.stagger,_=l.overwrite,b=l.keyframes,x=l.defaults,v=l.scrollTrigger,C=l.yoyoEase,k=s.parent||Wn,N=(es(i)||R5(i)?Qo(i[0]):"length"in s)?[i]:Ea(i),O,T,L,M,P,R,D,U;if(o._targets=N.length?SC(N):rp("GSAP target "+i+" not found. https://gsap.com",!ha.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,b||g||X_(u)||X_(h)){if(s=o.vars,O=o.timeline=new ps({data:"nested",defaults:x||{},targets:k&&k.data==="nested"?k.vars.targets:N}),O.kill(),O.parent=O._dp=Eo(o),O._start=0,g||X_(u)||X_(h)){if(M=N.length,D=g&&Q5(g),$r(g))for(P in g)~d6.indexOf(P)&&(U||(U={}),U[P]=g[P]);for(T=0;T<M;T++)L=jy(s,h6),L.stagger=0,C&&(L.yoyoEase=C),U&&ch(L,U),R=N[T],L.duration=+Em(u,Eo(o),T,R,N),L.delay=(+Em(h,Eo(o),T,R,N)||0)-o._delay,!g&&M===1&&L.delay&&(o._delay=h=L.delay,o._start+=h,L.delay=0),O.to(R,L,D?D(T,R,N):0),O._ease=Jt.none;O.duration()?u=h=0:o.timeline=0}else if(b){Pm(pa(O.vars.defaults,{ease:"none"})),O._ease=cu(b.ease||s.ease||"none");var F=0,H,Z,Y;if(es(b))b.forEach(function(I){return O.to(N,I,">")}),O.duration();else{L={};for(P in b)P==="ease"||P==="easeEach"||gY(P,b[P],L,b.easeEach);for(P in L)for(H=L[P].sort(function(I,K){return I.t-K.t}),F=0,T=0;T<H.length;T++)Z=H[T],Y={ease:Z.e,duration:(Z.t-(T?H[T-1].t:0))/100*u},Y[P]=Z.v,O.to(N,Y,F),F+=Y.duration;O.duration()<u&&O.to({},{duration:u-O.duration()})}}u||o.duration(u=O.duration())}else o.timeline=0;return _===!0&&!pC&&(Ul=Eo(o),Wn.killTweensOf(N),Ul=0),Er(k,Eo(o),a),s.reversed&&o.reverse(),s.paused&&o.paused(!0),(m||!u&&!b&&o._start===Vn(k._time)&&Bs(m)&&GQ(Eo(o))&&k.data!=="nested")&&(o._tTime=-Tn,o.render(Math.max(0,-h)||0)),v&&W5(Eo(o),v),o}var t=e.prototype;return t.render=function(s,a,r){var o=this._time,l=this._tDur,u=this._dur,h=s<0,m=s>l-Tn&&!h?l:s<Tn?0:s,g,_,b,x,v,C,k,N,O;if(!u)$Q(this,s,a,r);else if(m!==this._tTime||!s||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(g=m,N=this.timeline,this._repeat){if(x=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(x*100+s,a,r);if(g=Vn(m%x),m===l?(b=this._repeat,g=u):(v=Vn(m/x),b=~~v,b&&b===v?(g=u,b--):g>u&&(g=u)),C=this._yoyo&&b&1,C&&(O=this._yEase,g=u-g),v=uh(this._tTime,x),g===o&&!r&&this._initted&&b===v)return this._tTime=m,this;b!==v&&(N&&this._yEase&&o6(N,C),this.vars.repeatRefresh&&!C&&!this._lock&&g!==x&&this._initted&&(this._lock=r=1,this.render(Vn(x*b),!0).invalidate()._lock=0))}if(!this._initted){if(G5(this,h?s:g,r,a,m))return this._tTime=0,this;if(o!==this._time&&!(r&&this.vars.repeatRefresh&&b!==v))return this;if(u!==this._dur)return this.render(s,a,r)}if(this._tTime=m,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(O||this._ease)(g/u),this._from&&(this.ratio=k=1-k),!o&&m&&!a&&!v&&(ca(this,"onStart"),this._tTime!==m))return this;for(_=this._pt;_;)_.r(k,_.d),_=_._next;N&&N.render(s<0?s:N._dur*N._ease(g/this._dur),a,r)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(h&&JS(this,s,a,r),ca(this,"onUpdate")),this._repeat&&b!==v&&this.vars.onRepeat&&!a&&this.parent&&ca(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&JS(this,s,!0,!0),(s||!u)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Zl(this,1),!a&&!(h&&!o)&&(m||o||C)&&(ca(this,m===l?"onComplete":"onReverseComplete",!0),this._prom&&!(m<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,a,r,o,l){cp||la.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||CC(this,u),h=this._ease(u/this._dur),mY(this,s,a,r,o,h,u,l)?this.resetTo(s,a,r,o,1):(Vb(this,0),this.parent||H5(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?hm(this):this.scrollTrigger&&this.scrollTrigger.kill(!!qi),this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,Ul&&Ul.vars.overwrite!==!0)._first||hm(this),this.parent&&r!==this.timeline.totalDuration()&&dh(this,this._dur*this.timeline._tDur/r,0,1),this}var o=this._targets,l=s?Ea(s):o,u=this._ptLookup,h=this._pt,m,g,_,b,x,v,C;if((!a||a==="all")&&VQ(o,l))return a==="all"&&(this._pt=0),hm(this);for(m=this._op=this._op||[],a!=="all"&&(Pi(a)&&(x={},Is(a,function(k){return x[k]=1}),a=x),a=pY(o,a)),C=o.length;C--;)if(~l.indexOf(o[C])){g=u[C],a==="all"?(m[C]=a,b=g,_={}):(_=m[C]=m[C]||{},b=a);for(x in b)v=g&&g[x],v&&((!("kill"in v.d)||v.d.kill(x)===!0)&&Kb(this,v,"_pt"),delete g[x]),_!=="all"&&(_[x]=1)}return this._initted&&!this._pt&&h&&hm(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return Rm(1,arguments)},e.delayedCall=function(s,a,r,o){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:o})},e.fromTo=function(s,a,r){return Rm(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,r){return Wn.killTweensOf(s,a,r)},e})(up);pa(yi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Is("staggerTo,staggerFrom,staggerFromTo",function(n){yi[n]=function(){var e=new ps,t=tw.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var AC=function(e,t,i){return e[t]=i},f6=function(e,t,i){return e[t](i)},_Y=function(e,t,i,s){return e[t](s.fp,i)},yY=function(e,t,i){return e.setAttribute(t,i)},TC=function(e,t){return Jn(e[t])?f6:gC(e[t])&&e.setAttribute?yY:AC},m6=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},bY=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},p6=function(e,t){var i=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+s,i=i._next;s+=t.c}t.set(t.t,t.p,s,t)},NC=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},xY=function(e,t,i,s){for(var a=this._pt,r;a;)r=a._next,a.p===s&&a.modifier(e,t,i),a=r},vY=function(e){for(var t=this._pt,i,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Kb(this,t,"_pt"):t.dep||(i=1),t=s;return!i},SY=function(e,t,i,s){s.mSet(e,t,s.m.call(s.tween,i,s.mt),s)},g6=function(e){for(var t=e._pt,i,s,a,r;t;){for(i=t._next,s=a;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:r)?t._prev._next=t:a=t,(t._next=s)?s._prev=t:r=t,t=i}e._pt=a},zs=(function(){function n(t,i,s,a,r,o,l,u,h){this.t=i,this.s=a,this.c=r,this.p=s,this.r=o||m6,this.d=l||this,this.set=u||AC,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,s,a){this.mSet=this.mSet||this.set,this.set=SY,this.m=i,this.mt=a,this.tween=s},n})();Is(vC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return xC[n]=1});ma.TweenMax=ma.TweenLite=yi;ma.TimelineLite=ma.TimelineMax=ps;Wn=new ps({sortChildren:!1,defaults:lh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ha.stringFilter=a6;var uu=[],sy={},wY=[],IP=0,kY=0,p2=function(e){return(sy[e]||wY).map(function(t){return t()})},aw=function(){var e=Date.now(),t=[];e-IP>2&&(p2("matchMediaInit"),uu.forEach(function(i){var s=i.queries,a=i.conditions,r,o,l,u;for(o in s)r=Pr.matchMedia(s[o]).matches,r&&(l=1),r!==a[o]&&(a[o]=r,u=1);u&&(i.revert(),l&&t.push(i))}),p2("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(s){return i.add(null,s)})}),IP=e,p2("matchMedia"))},_6=(function(){function n(t,i){this.selector=i&&nw(i),this.data=[],this._r=[],this.isReverted=!1,this.id=kY++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,s,a){Jn(i)&&(a=s,s=i,i=Jn);var r=this,o=function(){var u=qn,h=r.selector,m;return u&&u!==r&&u.data.push(r),a&&(r.selector=nw(a)),qn=r,m=s.apply(r,arguments),Jn(m)&&r._r.push(m),qn=u,r.selector=h,r.isReverted=!1,m};return r.last=o,i===Jn?o(r,function(l){return r.add(null,l)}):i?r[i]=o:o},e.ignore=function(i){var s=qn;qn=null,i(this),qn=s},e.getTweens=function(){var i=[];return this.data.forEach(function(s){return s instanceof n?i.push.apply(i,s.getTweens()):s instanceof yi&&!(s.parent&&s.parent.data==="nested")&&i.push(s)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,s){var a=this;if(i?(function(){for(var o=a.getTweens(),l=a.data.length,u;l--;)u=a.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return o.splice(o.indexOf(h),1)}));for(o.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,m){return m.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),l=a.data.length;l--;)u=a.data[l],u instanceof ps?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof yi)&&u.revert&&u.revert(i);a._r.forEach(function(h){return h(i,a)}),a.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),s)for(var r=uu.length;r--;)uu[r].id===this.id&&uu.splice(r,1)},e.revert=function(i){this.kill(i||{})},n})(),CY=(function(){function n(t){this.contexts=[],this.scope=t,qn&&qn.data.push(this)}var e=n.prototype;return e.add=function(i,s,a){$r(i)||(i={matches:i});var r=new _6(0,a||this.scope),o=r.conditions={},l,u,h;qn&&!r.selector&&(r.selector=qn.selector),this.contexts.push(r),s=r.add("onMatch",s),r.queries=i;for(u in i)u==="all"?h=1:(l=Pr.matchMedia(i[u]),l&&(uu.indexOf(r)<0&&uu.push(r),(o[u]=l.matches)&&(h=1),l.addListener?l.addListener(aw):l.addEventListener("change",aw)));return h&&s(r,function(m){return r.add(null,m)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(s){return s.kill(i,!0)})},n})(),Fy={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(s){return n6(s)})},timeline:function(e){return new ps(e)},getTweensOf:function(e,t){return Wn.getTweensOf(e,t)},getProperty:function(e,t,i,s){Pi(e)&&(e=Ea(e)[0]);var a=ou(e||{}).get,r=i?K5:q5;return i==="native"&&(i=""),e&&(t?r((ra[t]&&ra[t].get||a)(e,t,i,s)):function(o,l,u){return r((ra[o]&&ra[o].get||a)(e,o,l,u))})},quickSetter:function(e,t,i){if(e=Ea(e),e.length>1){var s=e.map(function(h){return Vs.quickSetter(h,t,i)}),a=s.length;return function(h){for(var m=a;m--;)s[m](h)}}e=e[0]||{};var r=ra[t],o=ou(e),l=o.harness&&(o.harness.aliases||{})[t]||t,u=r?function(h){var m=new r;Pd._pt=0,m.init(e,i?h+i:h,Pd,0,[e]),m.render(1,m),Pd._pt&&NC(1,Pd)}:o.set(e,l);return r?u:function(h){return u(e,l,i?h+i:h,o,1)}},quickTo:function(e,t,i){var s,a=Vs.to(e,pa((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),i||{})),r=function(l,u,h){return a.resetTo(t,l,u,h)};return r.tween=a,r},isTweening:function(e){return Wn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=cu(e.ease,lh.ease)),jP(lh,e||{})},config:function(e){return jP(ha,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.plugins,a=e.defaults,r=e.extendTimeline;(s||"").split(",").forEach(function(o){return o&&!ra[o]&&!ma[o]&&rp(t+" effect requires "+o+" plugin.")}),d2[t]=function(o,l,u){return i(Ea(o),pa(l||{},a),u)},r&&(ps.prototype[t]=function(o,l,u){return this.add(d2[t](o,$r(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){Jt[e]=cu(t)},parseEase:function(e,t){return arguments.length?cu(e,t):Jt},getById:function(e){return Wn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new ps(e),s,a;for(i.smoothChildTiming=Bs(e.smoothChildTiming),Wn.remove(i),i._dp=0,i._time=i._tTime=Wn._time,s=Wn._first;s;)a=s._next,(t||!(!s._dur&&s instanceof yi&&s.vars.onComplete===s._targets[0]))&&Er(i,s,s._start-s._delay),s=a;return Er(Wn,i,0),i},context:function(e,t){return e?new _6(e,t):qn},matchMedia:function(e){return new CY(e)},matchMediaRefresh:function(){return uu.forEach(function(e){var t=e.conditions,i,s;for(s in t)t[s]&&(t[s]=!1,i=1);i&&e.revert()})||aw()},addEventListener:function(e,t){var i=sy[e]||(sy[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=sy[e],s=i&&i.indexOf(t);s>=0&&i.splice(s,1)},utils:{wrap:iY,wrapYoyo:sY,distribute:Q5,random:Z5,snap:Y5,normalize:nY,getUnit:Yi,clamp:ZQ,splitColor:i6,toArray:Ea,selector:nw,mapRange:e6,pipe:eY,unitize:tY,interpolate:aY,shuffle:$5},install:F5,effects:d2,ticker:la,updateRoot:ps.updateRoot,plugins:ra,globalTimeline:Wn,core:{PropTween:zs,globals:U5,Tween:yi,Timeline:ps,Animation:up,getCache:ou,_removeLinkedListItem:Kb,reverting:function(){return qi},context:function(e){return e&&qn&&(qn.data.push(e),e._ctx=qn),qn},suppressOverwrites:function(e){return pC=e}}};Is("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Fy[n]=yi[n]});la.add(ps.updateRoot);Pd=Fy.to({},{duration:0});var AY=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},TY=function(e,t){var i=e._targets,s,a,r;for(s in t)for(a=i.length;a--;)r=e._ptLookup[a][s],r&&(r=r.d)&&(r._pt&&(r=AY(r,s)),r&&r.modifier&&r.modifier(t[s],e,i[a],s))},g2=function(e,t){return{name:e,headless:1,rawVars:1,init:function(s,a,r){r._onInit=function(o){var l,u;if(Pi(a)&&(l={},Is(a,function(h){return l[h]=1}),a=l),t){l={};for(u in a)l[u]=t(a[u]);a=l}TY(o,a)}}}},Vs=Fy.registerPlugin({name:"attr",init:function(e,t,i,s,a){var r,o,l;this.tween=i;for(r in t)l=e.getAttribute(r)||"",o=this.add(e,"setAttribute",(l||0)+"",t[r],s,a,0,0,r),o.op=r,o.b=l,this._props.push(r)},render:function(e,t){for(var i=t._pt;i;)qi?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},g2("roundProps",iw),g2("modifiers"),g2("snap",Y5))||Fy;yi.version=ps.version=Vs.version="3.14.2";D5=1;_C()&&hh();Jt.Power0;Jt.Power1;Jt.Power2;Jt.Power3;Jt.Power4;Jt.Linear;Jt.Quad;Jt.Cubic;Jt.Quart;Jt.Quint;Jt.Strong;Jt.Elastic;Jt.Back;Jt.SteppedEase;Jt.Bounce;Jt.Sine;Jt.Expo;Jt.Circ;var zP,Bl,Wd,MC,Zc,qP,OC,NY=function(){return typeof window<"u"},Yo={},Bc=180/Math.PI,Gd=Math.PI/180,_d=Math.atan2,KP=1e8,LC=/([A-Z])/g,MY=/(left|right|width|margin|padding|x)/i,OY=/[\s,\(]\S/,zr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rw=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},LY=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},PY=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},RY=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},EY=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},y6=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},b6=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},jY=function(e,t,i){return e.style[t]=i},DY=function(e,t,i){return e.style.setProperty(t,i)},FY=function(e,t,i){return e._gsap[t]=i},UY=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},BY=function(e,t,i,s,a){var r=e._gsap;r.scaleX=r.scaleY=i,r.renderTransform(a,r)},IY=function(e,t,i,s,a){var r=e._gsap;r[t]=i,r.renderTransform(a,r)},Gn="transform",qs=Gn+"Origin",zY=function n(e,t){var i=this,s=this.target,a=s.style,r=s._gsap;if(e in Yo&&a){if(this.tfm=this.tfm||{},e!=="transform")e=zr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=jo(s,o)}):this.tfm[e]=r.x?r[e]:jo(s,e),e===qs&&(this.tfm.zOrigin=r.zOrigin);else return zr.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(Gn)>=0)return;r.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(qs,t,"")),e=Gn}(a||t)&&this.props.push(e,t,a[e])},x6=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},qY=function(){var e=this.props,t=this.target,i=t.style,s=t._gsap,a,r;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?i[e[a]]=e[a+2]:i.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(LC,"-$1").toLowerCase());if(this.tfm){for(r in this.tfm)s[r]=this.tfm[r];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=OC(),(!a||!a.isStart)&&!i[Gn]&&(x6(i),s.zOrigin&&i[qs]&&(i[qs]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},v6=function(e,t){var i={target:e,props:[],revert:qY,save:zY};return e._gsap||Vs.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return i.save(s)}),i},S6,ow=function(e,t){var i=Bl.createElementNS?Bl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Bl.createElement(e);return i&&i.style?i:Bl.createElement(e)},ua=function n(e,t,i){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(LC,"-$1").toLowerCase())||s.getPropertyValue(t)||!i&&n(e,fh(t)||t,1)||""},HP="O,Moz,ms,Ms,Webkit".split(","),fh=function(e,t,i){var s=t||Zc,a=s.style,r=5;if(e in a&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);r--&&!(HP[r]+e in a););return r<0?null:(r===3?"ms":r>=0?HP[r]:"")+e},lw=function(){NY()&&window.document&&(zP=window,Bl=zP.document,Wd=Bl.documentElement,Zc=ow("div")||{style:{}},ow("div"),Gn=fh(Gn),qs=Gn+"Origin",Zc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",S6=!!fh("perspective"),OC=Vs.core.reverting,MC=1)},VP=function(e){var t=e.ownerSVGElement,i=ow("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",i.appendChild(s),Wd.appendChild(i);try{a=s.getBBox()}catch{}return i.removeChild(s),Wd.removeChild(i),a},WP=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},w6=function(e){var t,i;try{t=e.getBBox()}catch{t=VP(e),i=1}return t&&(t.width||t.height)||i||(t=VP(e)),t&&!t.width&&!t.x&&!t.y?{x:+WP(e,["x","cx","x1"])||0,y:+WP(e,["y","cy","y1"])||0,width:0,height:0}:t},k6=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&w6(e))},Jl=function(e,t){if(t){var i=e.style,s;t in Yo&&t!==qs&&(t=Gn),i.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(s==="--"?t:t.replace(LC,"-$1").toLowerCase())):i.removeAttribute(t)}},Il=function(e,t,i,s,a,r){var o=new zs(e._pt,t,i,0,1,r?b6:y6);return e._pt=o,o.b=s,o.e=a,e._props.push(i),o},GP={deg:1,rad:1,turn:1},KY={grid:1,flex:1},ec=function n(e,t,i,s){var a=parseFloat(i)||0,r=(i+"").trim().substr((a+"").length)||"px",o=Zc.style,l=MY.test(t),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),m=100,g=s==="px",_=s==="%",b,x,v,C;if(s===r||!a||GP[s]||GP[r])return a;if(r!=="px"&&!g&&(a=n(e,t,i,"px")),C=e.getCTM&&k6(e),(_||r==="%")&&(Yo[t]||~t.indexOf("adius")))return b=C?e.getBBox()[l?"width":"height"]:e[h],ri(_?a/b*m:a/100*b);if(o[l?"width":"height"]=m+(g?r:s),x=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,C&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===Bl||!x.appendChild)&&(x=Bl.body),v=x._gsap,v&&_&&v.width&&l&&v.time===la.time&&!v.uncache)return ri(a/v.width*m);if(_&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=m+s,b=e[h],k?e.style[t]=k:Jl(e,t)}else(_||r==="%")&&!KY[ua(x,"display")]&&(o.position=ua(e,"position")),x===e&&(o.position="static"),x.appendChild(Zc),b=Zc[h],x.removeChild(Zc),o.position="absolute";return l&&_&&(v=ou(x),v.time=la.time,v.width=x[h]),ri(g?b*a/m:b&&a?m/b*a:0)},jo=function(e,t,i,s){var a;return MC||lw(),t in zr&&t!=="transform"&&(t=zr[t],~t.indexOf(",")&&(t=t.split(",")[0])),Yo[t]&&t!=="transform"?(a=hp(e,s),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:By(ua(e,qs))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=Uy[t]&&Uy[t](e,t,i)||ua(e,t)||I5(e,t)||(t==="opacity"?1:0))),i&&!~(a+"").trim().indexOf(" ")?ec(e,t,a,i)+i:a},HY=function(e,t,i,s){if(!i||i==="none"){var a=fh(t,e,1),r=a&&ua(e,a,1);r&&r!==i?(t=a,i=r):t==="borderColor"&&(i=ua(e,"borderTopColor"))}var o=new zs(this._pt,e.style,t,0,1,p6),l=0,u=0,h,m,g,_,b,x,v,C,k,N,O,T;if(o.b=i,o.e=s,i+="",s+="",s.substring(0,6)==="var(--"&&(s=ua(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(x=e.style[t],e.style[t]=s,s=ua(e,t)||s,x?e.style[t]=x:Jl(e,t)),h=[i,s],a6(h),i=h[0],s=h[1],g=i.match(Ld)||[],T=s.match(Ld)||[],T.length){for(;m=Ld.exec(s);)v=m[0],k=s.substring(l,m.index),b?b=(b+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(b=1),v!==(x=g[u++]||"")&&(_=parseFloat(x)||0,O=x.substr((_+"").length),v.charAt(1)==="="&&(v=Vd(_,v)+O),C=parseFloat(v),N=v.substr((C+"").length),l=Ld.lastIndex-N.length,N||(N=N||ha.units[t]||O,l===s.length&&(s+=N,o.e+=N)),O!==N&&(_=ec(e,t,x,N)||0),o._pt={_next:o._pt,p:k||u===1?k:",",s:_,c:C-_,m:b&&b<4||t==="zIndex"?Math.round:0});o.c=l<s.length?s.substring(l,s.length):""}else o.r=t==="display"&&s==="none"?b6:y6;return j5.test(s)&&(o.e=0),this._pt=o,o},XP={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},VY=function(e){var t=e.split(" "),i=t[0],s=t[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),t[0]=XP[i]||i,t[1]=XP[s]||s,t.join(" ")},WY=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,s=i.style,a=t.u,r=i._gsap,o,l,u;if(a==="all"||a===!0)s.cssText="",l=1;else for(a=a.split(","),u=a.length;--u>-1;)o=a[u],Yo[o]&&(l=1,o=o==="transformOrigin"?qs:Gn),Jl(i,o);l&&(Jl(i,Gn),r&&(r.svg&&i.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",hp(i,1),r.uncache=1,x6(s)))}},Uy={clearProps:function(e,t,i,s,a){if(a.data!=="isFromStart"){var r=e._pt=new zs(e._pt,t,i,0,0,WY);return r.u=s,r.pr=-10,r.tween=a,e._props.push(i),1}}},dp=[1,0,0,1,0,0],C6={},A6=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},$P=function(e){var t=ua(e,Gn);return A6(t)?dp:t.substr(7).match(E5).map(ri)},PC=function(e,t){var i=e._gsap||ou(e),s=e.style,a=$P(e),r,o,l,u;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,a=[l.a,l.b,l.c,l.d,l.e,l.f],a.join(",")==="1,0,0,1,0,0"?dp:a):(a===dp&&!e.offsetParent&&e!==Wd&&!i.svg&&(l=s.display,s.display="block",r=e.parentNode,(!r||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,Wd.appendChild(e)),a=$P(e),l?s.display=l:Jl(e,"display"),u&&(o?r.insertBefore(e,o):r?r.appendChild(e):Wd.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},cw=function(e,t,i,s,a,r){var o=e._gsap,l=a||PC(e,!0),u=o.xOrigin||0,h=o.yOrigin||0,m=o.xOffset||0,g=o.yOffset||0,_=l[0],b=l[1],x=l[2],v=l[3],C=l[4],k=l[5],N=t.split(" "),O=parseFloat(N[0])||0,T=parseFloat(N[1])||0,L,M,P,R;i?l!==dp&&(M=_*v-b*x)&&(P=O*(v/M)+T*(-x/M)+(x*k-v*C)/M,R=O*(-b/M)+T*(_/M)-(_*k-b*C)/M,O=P,T=R):(L=w6(e),O=L.x+(~N[0].indexOf("%")?O/100*L.width:O),T=L.y+(~(N[1]||N[0]).indexOf("%")?T/100*L.height:T)),s||s!==!1&&o.smooth?(C=O-u,k=T-h,o.xOffset=m+(C*_+k*x)-C,o.yOffset=g+(C*b+k*v)-k):o.xOffset=o.yOffset=0,o.xOrigin=O,o.yOrigin=T,o.smooth=!!s,o.origin=t,o.originIsAbsolute=!!i,e.style[qs]="0px 0px",r&&(Il(r,o,"xOrigin",u,O),Il(r,o,"yOrigin",h,T),Il(r,o,"xOffset",m,o.xOffset),Il(r,o,"yOffset",g,o.yOffset)),e.setAttribute("data-svg-origin",O+" "+T)},hp=function(e,t){var i=e._gsap||new c6(e);if("x"in i&&!t&&!i.uncache)return i;var s=e.style,a=i.scaleX<0,r="px",o="deg",l=getComputedStyle(e),u=ua(e,qs)||"0",h,m,g,_,b,x,v,C,k,N,O,T,L,M,P,R,D,U,F,H,Z,Y,I,K,V,$,W,j,B,X,te,Q;return h=m=g=x=v=C=k=N=O=0,_=b=1,i.svg=!!(e.getCTM&&k6(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Gn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Gn]!=="none"?l[Gn]:"")),s.scale=s.rotate=s.translate="none"),M=PC(e,i.svg),i.svg&&(i.uncache?(V=e.getBBox(),u=i.xOrigin-V.x+"px "+(i.yOrigin-V.y)+"px",K=""):K=!t&&e.getAttribute("data-svg-origin"),cw(e,K||u,!!K||i.originIsAbsolute,i.smooth!==!1,M)),T=i.xOrigin||0,L=i.yOrigin||0,M!==dp&&(U=M[0],F=M[1],H=M[2],Z=M[3],h=Y=M[4],m=I=M[5],M.length===6?(_=Math.sqrt(U*U+F*F),b=Math.sqrt(Z*Z+H*H),x=U||F?_d(F,U)*Bc:0,k=H||Z?_d(H,Z)*Bc+x:0,k&&(b*=Math.abs(Math.cos(k*Gd))),i.svg&&(h-=T-(T*U+L*H),m-=L-(T*F+L*Z))):(Q=M[6],X=M[7],W=M[8],j=M[9],B=M[10],te=M[11],h=M[12],m=M[13],g=M[14],P=_d(Q,B),v=P*Bc,P&&(R=Math.cos(-P),D=Math.sin(-P),K=Y*R+W*D,V=I*R+j*D,$=Q*R+B*D,W=Y*-D+W*R,j=I*-D+j*R,B=Q*-D+B*R,te=X*-D+te*R,Y=K,I=V,Q=$),P=_d(-H,B),C=P*Bc,P&&(R=Math.cos(-P),D=Math.sin(-P),K=U*R-W*D,V=F*R-j*D,$=H*R-B*D,te=Z*D+te*R,U=K,F=V,H=$),P=_d(F,U),x=P*Bc,P&&(R=Math.cos(P),D=Math.sin(P),K=U*R+F*D,V=Y*R+I*D,F=F*R-U*D,I=I*R-Y*D,U=K,Y=V),v&&Math.abs(v)+Math.abs(x)>359.9&&(v=x=0,C=180-C),_=ri(Math.sqrt(U*U+F*F+H*H)),b=ri(Math.sqrt(I*I+Q*Q)),P=_d(Y,I),k=Math.abs(P)>2e-4?P*Bc:0,O=te?1/(te<0?-te:te):0),i.svg&&(K=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!A6(ua(e,Gn)),K&&e.setAttribute("transform",K))),Math.abs(k)>90&&Math.abs(k)<270&&(a?(_*=-1,k+=x<=0?180:-180,x+=x<=0?180:-180):(b*=-1,k+=k<=0?180:-180)),t=t||i.uncache,i.x=h-((i.xPercent=h&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+r,i.y=m-((i.yPercent=m&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+r,i.z=g+r,i.scaleX=ri(_),i.scaleY=ri(b),i.rotation=ri(x)+o,i.rotationX=ri(v)+o,i.rotationY=ri(C)+o,i.skewX=k+o,i.skewY=N+o,i.transformPerspective=O+r,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(s[qs]=By(u)),i.xOffset=i.yOffset=0,i.force3D=ha.force3D,i.renderTransform=i.svg?XY:S6?T6:GY,i.uncache=0,i},By=function(e){return(e=e.split(" "))[0]+" "+e[1]},_2=function(e,t,i){var s=Yi(t);return ri(parseFloat(t)+parseFloat(ec(e,"x",i+"px",s)))+s},GY=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,T6(e,t)},Lc="0deg",Vf="0px",Pc=") ",T6=function(e,t){var i=t||this,s=i.xPercent,a=i.yPercent,r=i.x,o=i.y,l=i.z,u=i.rotation,h=i.rotationY,m=i.rotationX,g=i.skewX,_=i.skewY,b=i.scaleX,x=i.scaleY,v=i.transformPerspective,C=i.force3D,k=i.target,N=i.zOrigin,O="",T=C==="auto"&&e&&e!==1||C===!0;if(N&&(m!==Lc||h!==Lc)){var L=parseFloat(h)*Gd,M=Math.sin(L),P=Math.cos(L),R;L=parseFloat(m)*Gd,R=Math.cos(L),r=_2(k,r,M*R*-N),o=_2(k,o,-Math.sin(L)*-N),l=_2(k,l,P*R*-N+N)}v!==Vf&&(O+="perspective("+v+Pc),(s||a)&&(O+="translate("+s+"%, "+a+"%) "),(T||r!==Vf||o!==Vf||l!==Vf)&&(O+=l!==Vf||T?"translate3d("+r+", "+o+", "+l+") ":"translate("+r+", "+o+Pc),u!==Lc&&(O+="rotate("+u+Pc),h!==Lc&&(O+="rotateY("+h+Pc),m!==Lc&&(O+="rotateX("+m+Pc),(g!==Lc||_!==Lc)&&(O+="skew("+g+", "+_+Pc),(b!==1||x!==1)&&(O+="scale("+b+", "+x+Pc),k.style[Gn]=O||"translate(0, 0)"},XY=function(e,t){var i=t||this,s=i.xPercent,a=i.yPercent,r=i.x,o=i.y,l=i.rotation,u=i.skewX,h=i.skewY,m=i.scaleX,g=i.scaleY,_=i.target,b=i.xOrigin,x=i.yOrigin,v=i.xOffset,C=i.yOffset,k=i.forceCSS,N=parseFloat(r),O=parseFloat(o),T,L,M,P,R;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=Gd,u*=Gd,T=Math.cos(l)*m,L=Math.sin(l)*m,M=Math.sin(l-u)*-g,P=Math.cos(l-u)*g,u&&(h*=Gd,R=Math.tan(u-h),R=Math.sqrt(1+R*R),M*=R,P*=R,h&&(R=Math.tan(h),R=Math.sqrt(1+R*R),T*=R,L*=R)),T=ri(T),L=ri(L),M=ri(M),P=ri(P)):(T=m,P=g,L=M=0),(N&&!~(r+"").indexOf("px")||O&&!~(o+"").indexOf("px"))&&(N=ec(_,"x",r,"px"),O=ec(_,"y",o,"px")),(b||x||v||C)&&(N=ri(N+b-(b*T+x*M)+v),O=ri(O+x-(b*L+x*P)+C)),(s||a)&&(R=_.getBBox(),N=ri(N+s/100*R.width),O=ri(O+a/100*R.height)),R="matrix("+T+","+L+","+M+","+P+","+N+","+O+")",_.setAttribute("transform",R),k&&(_.style[Gn]=R)},$Y=function(e,t,i,s,a){var r=360,o=Pi(a),l=parseFloat(a)*(o&&~a.indexOf("rad")?Bc:1),u=l-s,h=s+u+"deg",m,g;return o&&(m=a.split("_")[1],m==="short"&&(u%=r,u!==u%(r/2)&&(u+=u<0?r:-r)),m==="cw"&&u<0?u=(u+r*KP)%r-~~(u/r)*r:m==="ccw"&&u>0&&(u=(u-r*KP)%r-~~(u/r)*r)),e._pt=g=new zs(e._pt,t,i,s,u,LY),g.e=h,g.u="deg",e._props.push(i),g},QP=function(e,t){for(var i in t)e[i]=t[i];return e},QY=function(e,t,i){var s=QP({},i._gsap),a="perspective,force3D,transformOrigin,svgOrigin",r=i.style,o,l,u,h,m,g,_,b;s.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),r[Gn]=t,o=hp(i,1),Jl(i,Gn),i.setAttribute("transform",u)):(u=getComputedStyle(i)[Gn],r[Gn]=t,o=hp(i,1),r[Gn]=u);for(l in Yo)u=s[l],h=o[l],u!==h&&a.indexOf(l)<0&&(_=Yi(u),b=Yi(h),m=_!==b?ec(i,l,u,b):parseFloat(u),g=parseFloat(h),e._pt=new zs(e._pt,o,l,m,g-m,rw),e._pt.u=b||0,e._props.push(l));QP(o,s)};Is("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",s="Bottom",a="Left",r=(e<3?[t,i,s,a]:[t+a,t+i,s+i,s+a]).map(function(o){return e<2?n+o:"border"+o+n});Uy[e>1?"border"+n:n]=function(o,l,u,h,m){var g,_;if(arguments.length<4)return g=r.map(function(b){return jo(o,b,u)}),_=g.join(" "),_.split(g[0]).length===5?g[0]:_;g=(h+"").split(" "),_={},r.forEach(function(b,x){return _[b]=g[x]=g[x]||g[(x-1)/2|0]}),o.init(l,_,m)}});var N6={name:"css",register:lw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,s,a){var r=this._props,o=e.style,l=i.vars.startAt,u,h,m,g,_,b,x,v,C,k,N,O,T,L,M,P,R;MC||lw(),this.styles=this.styles||v6(e),P=this.styles.props,this.tween=i;for(x in t)if(x!=="autoRound"&&(h=t[x],!(ra[x]&&u6(x,t,i,s,e,a)))){if(_=typeof h,b=Uy[x],_==="function"&&(h=h.call(i,s,e,a),_=typeof h),_==="string"&&~h.indexOf("random(")&&(h=lp(h)),b)b(this,e,x,h,i)&&(M=1);else if(x.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(x)+"").trim(),h+="",Xl.lastIndex=0,Xl.test(u)||(v=Yi(u),C=Yi(h),C?v!==C&&(u=ec(e,x,u,C)+C):v&&(h+=v)),this.add(o,"setProperty",u,h,s,a,0,0,x),r.push(x),P.push(x,0,o[x]);else if(_!=="undefined"){if(l&&x in l?(u=typeof l[x]=="function"?l[x].call(i,s,e,a):l[x],Pi(u)&&~u.indexOf("random(")&&(u=lp(u)),Yi(u+"")||u==="auto"||(u+=ha.units[x]||Yi(jo(e,x))||""),(u+"").charAt(1)==="="&&(u=jo(e,x))):u=jo(e,x),g=parseFloat(u),k=_==="string"&&h.charAt(1)==="="&&h.substr(0,2),k&&(h=h.substr(2)),m=parseFloat(h),x in zr&&(x==="autoAlpha"&&(g===1&&jo(e,"visibility")==="hidden"&&m&&(g=0),P.push("visibility",0,o.visibility),Il(this,o,"visibility",g?"inherit":"hidden",m?"inherit":"hidden",!m)),x!=="scale"&&x!=="transform"&&(x=zr[x],~x.indexOf(",")&&(x=x.split(",")[0]))),N=x in Yo,N){if(this.styles.save(x),R=h,_==="string"&&h.substring(0,6)==="var(--"){if(h=ua(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var D=e.style.perspective;e.style.perspective=h,h=ua(e,"perspective"),D?e.style.perspective=D:Jl(e,"perspective")}m=parseFloat(h)}if(O||(T=e._gsap,T.renderTransform&&!t.parseTransform||hp(e,t.parseTransform),L=t.smoothOrigin!==!1&&T.smooth,O=this._pt=new zs(this._pt,o,Gn,0,1,T.renderTransform,T,0,-1),O.dep=1),x==="scale")this._pt=new zs(this._pt,T,"scaleY",T.scaleY,(k?Vd(T.scaleY,k+m):m)-T.scaleY||0,rw),this._pt.u=0,r.push("scaleY",x),x+="X";else if(x==="transformOrigin"){P.push(qs,0,o[qs]),h=VY(h),T.svg?cw(e,h,0,L,0,this):(C=parseFloat(h.split(" ")[2])||0,C!==T.zOrigin&&Il(this,T,"zOrigin",T.zOrigin,C),Il(this,o,x,By(u),By(h)));continue}else if(x==="svgOrigin"){cw(e,h,1,L,0,this);continue}else if(x in C6){$Y(this,T,x,g,k?Vd(g,k+h):h);continue}else if(x==="smoothOrigin"){Il(this,T,"smooth",T.smooth,h);continue}else if(x==="force3D"){T[x]=h;continue}else if(x==="transform"){QY(this,h,e);continue}}else x in o||(x=fh(x)||x);if(N||(m||m===0)&&(g||g===0)&&!OY.test(h)&&x in o)v=(u+"").substr((g+"").length),m||(m=0),C=Yi(h)||(x in ha.units?ha.units[x]:v),v!==C&&(g=ec(e,x,u,C)),this._pt=new zs(this._pt,N?T:o,x,g,(k?Vd(g,k+m):m)-g,!N&&(C==="px"||x==="zIndex")&&t.autoRound!==!1?EY:rw),this._pt.u=C||0,N&&R!==h?(this._pt.b=u,this._pt.e=R,this._pt.r=RY):v!==C&&C!=="%"&&(this._pt.b=u,this._pt.r=PY);else if(x in o)HY.call(this,e,x,u,k?k+h:h);else if(x in e)this.add(e,x,u||e[x],k?k+h:h,s,a);else if(x!=="parseTransform"){bC(x,h);continue}N||(x in o?P.push(x,0,o[x]):typeof e[x]=="function"?P.push(x,2,e[x]()):P.push(x,1,u||e[x])),r.push(x)}}M&&g6(this)},render:function(e,t){if(t.tween._time||!OC())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:jo,aliases:zr,getSetter:function(e,t,i){var s=zr[t];return s&&s.indexOf(",")<0&&(t=s),t in Yo&&t!==qs&&(e._gsap.x||jo(e,"x"))?i&&qP===i?t==="scale"?UY:FY:(qP=i||{})&&(t==="scale"?BY:IY):e.style&&!gC(e.style[t])?jY:~t.indexOf("-")?DY:TC(e,t)},core:{_removeProperty:Jl,_getMatrix:PC}};Vs.utils.checkPrefix=fh;Vs.core.getStyleSaver=v6;(function(n,e,t,i){var s=Is(n+","+e+","+t,function(a){Yo[a]=1});Is(e,function(a){ha.units[a]="deg",C6[a]=1}),zr[s[13]]=n+","+e,Is(i,function(a){var r=a.split(":");zr[r[1]]=s[r[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Is("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ha.units[n]="px"});Vs.registerPlugin(N6);var us=Vs.registerPlugin(N6)||Vs;us.core.Tween;const M6=w.createContext(null);function RC(){return w.useContext(M6)}const YP=.35,$_=60,ZP=.42,YY=100,ZY=-30,JY=100,eZ=-30,tZ=.72;function nZ({render:n,getRouteOrder:e,getTransitionVariant:t,scrollContainerRef:i}){const s=$n(),a=w.useRef(null),r=w.useRef(null),o=w.useRef("forward"),l=w.useRef("vertical"),u=w.useRef(0),h=w.useRef(0),m=w.useRef(new Map),g=w.useRef(null),[_,b]=w.useState(!1),[x,v]=w.useState(()=>[{key:s.key,location:s,status:"current"}]),C=x.find(T=>T.status==="current")??x[x.length-1],k=C?.key??s.key,N=C?.location.pathname,O=w.useCallback(()=>i?.current?i.current:typeof document>"u"?null:document.scrollingElement,[i]);return w.useLayoutEffect(()=>{if(_||s.key===k||N===s.pathname)return;const L=O()?.scrollTop??0;u.current=L,m.current.set(k,L),h.current=m.current.get(s.key)??0;const M=H=>{if(!e||!H)return null;const Z=e(H);return typeof Z=="number"&&Z>=0?Z:null},P=M(N),R=M(s.pathname),D=t?t(N??"",s.pathname):"vertical";let U=P===null||R===null||P===R||R>P?"forward":"backward";D==="ios"&&x.some(H=>H.key===s.key)&&(U="backward"),o.current=U,l.current=D;const F=(()=>{if(D!=="ios"||U!=="backward")return!1;const H=I=>I.split("/").filter(Boolean).filter(K=>K.length>0),Z=H(N??""),Y=H(s.pathname);return!Z.length||!Y.length?!1:Z[0]===Y[0]&&Y.length===1})();v(H=>{const Z=l.current,Y=o.current,I=H.findIndex(B=>B.status==="current"),K=I>=0?I:H.length-1,V=H[K],$=H.filter((B,X)=>X!==K).map(B=>({...B,status:"stacked"})),W={key:s.key,location:s,status:"current"};if(!V)return g.current=[W],[W];if(Z==="ios"){if(Y==="forward"){const X={...V,status:"exiting"},te={...V,status:"stacked"};return g.current=[...$,te,W],[...$,X,W]}const B=H.findIndex(X=>X.key===s.key);if(B!==-1){const X=H.slice(0,B+1).map((Q,G)=>{const ne=G===B;return{...Q,location:ne?s:Q.location,status:ne?"current":"stacked"}});if(F)return g.current=X,X;const te={...V,status:"exiting"};return g.current=X,[...X,te]}}if(F)return g.current=[W],[W];const j={...V,status:"exiting"};return g.current=[W],[j,W]}),b(!0)},[_,s,k,N,e,t,O,x]),w.useLayoutEffect(()=>{if(!_||!a.current)return;const T=a.current,L=r.current,M=l.current;us.set(T,{clearProps:"transform,opacity,boxShadow"}),L&&us.set(L,{clearProps:"transform,opacity,boxShadow"});const P=O(),R=u.current,D=h.current;P&&R!==D&&P.scrollTo({top:D,left:0,behavior:"auto"});const F=o.current==="forward",H=F?$_:-$_,Z=F?-$_:$_,Y=D-R,I=us.timeline({onComplete:()=>{const K=g.current;g.current=null,v(V=>K??V.filter($=>$.status!=="exiting")),b(!1),T&&us.set(T,{clearProps:"transform,opacity,boxShadow"}),L&&us.set(L,{clearProps:"transform,opacity,boxShadow"})}});if(M==="ios"){const K=F?ZY:JY,V=F?YY:eZ;L&&us.set(L,{y:Y,xPercent:0,opacity:1}),us.set(T,{xPercent:V,opacity:1});const $="-14px 0 24px rgba(0, 0, 0, 0.16)",W=F?T:L;W&&us.set(W,{boxShadow:$}),L&&I.to(L,{xPercent:K,opacity:F?tZ:1,duration:ZP,ease:"power2.out",force3D:!0},0),I.to(T,{xPercent:0,opacity:1,duration:ZP,ease:"power2.out",force3D:!0},0)}else L&&(us.set(L,{y:Y}),I.to(L,{y:Y+Z,opacity:0,duration:YP,ease:"circ.out",force3D:!0},0)),I.fromTo(T,{y:H,opacity:0},{y:0,opacity:1,duration:YP,ease:"circ.out",force3D:!0,onComplete:()=>{T&&us.set(T,{clearProps:"transform,opacity"})}},0);return()=>{I.kill(),us.killTweensOf([T,L])}},[_,O]),f.jsx("div",{className:`page-transition${_?" page-transition--animating":""}`,children:(()=>{const T=x.findIndex(P=>P.status==="current"),L=T===-1?x.length-1:T,M=x.slice(0,L).map((P,R)=>({layer:P,index:R})).reverse().find(({layer:P})=>P.status==="stacked")?.index;return x.map((P,R)=>{const D=P.status==="stacked"&&R===M;return f.jsx("div",{className:["page-transition__layer",P.status==="exiting"?"page-transition__layer--exit":"",P.status==="stacked"?"page-transition__layer--stacked":"",D?"page-transition__layer--stacked-keep":""].filter(Boolean).join(" "),"aria-hidden":P.status!=="current",inert:P.status!=="current",ref:P.status==="exiting"?r:P.status==="current"?a:void 0,children:f.jsx(M6.Provider,{value:{status:P.status},children:n(P.location)})},P.key)})})()})}const iZ="DashboardPage-module__dashboard___c-JEy",sZ="DashboardPage-module__header___DrpYQ",aZ="DashboardPage-module__title___aKMJy",rZ="DashboardPage-module__subtitle___o9pSe",oZ="DashboardPage-module__connectionCard___6o2zO",lZ="DashboardPage-module__connectionStatus___UhJ2s",cZ="DashboardPage-module__statusDot___4w7W-",uZ="DashboardPage-module__connected___CeELY",dZ="DashboardPage-module__connecting___j03PZ",hZ="DashboardPage-module__disconnected___3l11q",fZ="DashboardPage-module__statusText___QDIvv",mZ="DashboardPage-module__connectionInfo___oh7A1",pZ="DashboardPage-module__serverUrl___9-jgp",gZ="DashboardPage-module__serverVersion___fmQMs",_Z="DashboardPage-module__buildDate___zr4hY",yZ="DashboardPage-module__statsGrid___y7hZp",bZ="DashboardPage-module__statCard___Du41R",xZ="DashboardPage-module__statIcon___EmbpQ",vZ="DashboardPage-module__statContent___IJemf",SZ="DashboardPage-module__statValue___w491L",wZ="DashboardPage-module__statLabel___b-2c9",kZ="DashboardPage-module__statSublabel___0oB31",CZ="DashboardPage-module__section___i4jzh",AZ="DashboardPage-module__sectionTitle___uLbzI",TZ="DashboardPage-module__configGrid___5UhRW",NZ="DashboardPage-module__configItem___NBY1m",MZ="DashboardPage-module__configLabel___RoXI2",OZ="DashboardPage-module__configValue___6vWwa",LZ="DashboardPage-module__enabled___R3JFn",PZ="DashboardPage-module__disabled___ievwL",RZ="DashboardPage-module__configValueMono___tc-ax",EZ="DashboardPage-module__configBadge___TrJTP",jZ="DashboardPage-module__configBadgeRoundRobin___wgPLB",DZ="DashboardPage-module__configBadgeFillFirst___N5vai",FZ="DashboardPage-module__configBadgeUnknown___Jo3zP",UZ="DashboardPage-module__configItemFull___Apt9u",BZ="DashboardPage-module__viewMoreLink___wKvoJ",lt={dashboard:iZ,header:sZ,title:aZ,subtitle:rZ,connectionCard:oZ,connectionStatus:lZ,statusDot:cZ,connected:uZ,connecting:dZ,disconnected:hZ,statusText:fZ,connectionInfo:mZ,serverUrl:pZ,serverVersion:gZ,buildDate:_Z,statsGrid:yZ,statCard:bZ,statIcon:xZ,statContent:vZ,statValue:SZ,statLabel:wZ,statSublabel:kZ,section:CZ,sectionTitle:AZ,configGrid:TZ,configItem:NZ,configLabel:MZ,configValue:OZ,enabled:LZ,disabled:PZ,configValueMono:RZ,configBadge:EZ,configBadgeRoundRobin:jZ,configBadgeFillFirst:DZ,configBadgeUnknown:FZ,configItemFull:UZ,viewMoreLink:BZ};function JP(){const{t:n,i18n:e}=Ze(),t=Kt(U=>U.connectionStatus),i=Kt(U=>U.serverVersion),s=Kt(U=>U.serverBuildDate),a=Kt(U=>U.apiBase),r=Dt(U=>U.config),o=Yc(U=>U.models),l=Yc(U=>U.loading),u=Yc(U=>U.fetchModels),[h,m]=w.useState({apiKeys:null,authFiles:null}),[g,_]=w.useState({gemini:null,codex:null,claude:null,openai:null}),[b,x]=w.useState(!0),v=w.useRef([]);w.useEffect(()=>{v.current=[]},[a,r?.apiKeys]);const C=U=>{if(!Array.isArray(U))return[];const F=new Set,H=[];return U.forEach(Z=>{const Y=Z!==null&&typeof Z=="object"&&!Array.isArray(Z)?Z:null,I=typeof Z=="string"?Z:Y?Y["api-key"]??Y.apiKey??Y.key??Y.Key:"",K=String(I??"").trim();!K||F.has(K)||(F.add(K),H.push(K))}),H},k=w.useCallback(async()=>{if(v.current.length)return v.current;const U=C(r?.apiKeys);if(U.length)return v.current=U,U;try{const F=await XS.list(),H=C(F);return H.length&&(v.current=H),H}catch{return[]}},[r?.apiKeys]),N=w.useCallback(async()=>{if(!(t!=="connected"||!a))try{const F=(await k())[0];await u(a,F)}catch{}},[t,a,k,u]);w.useEffect(()=>{t==="connected"?((async()=>{x(!0);try{const[F,H,Z,Y,I,K]=await Promise.allSettled([XS.list(),At.list(),Si.getGeminiKeys(),Si.getCodexConfigs(),Si.getClaudeConfigs(),Si.getOpenAIProviders()]);m({apiKeys:F.status==="fulfilled"?F.value.length:null,authFiles:H.status==="fulfilled"?H.value.files.length:null}),_({gemini:Z.status==="fulfilled"?Z.value.length:null,codex:Y.status==="fulfilled"?Y.value.length:null,claude:I.status==="fulfilled"?I.value.length:null,openai:K.status==="fulfilled"?K.value.length:null})}finally{x(!1)}})(),N()):x(!1)},[t,N]);const O=g.gemini!==null&&g.codex!==null&&g.claude!==null&&g.openai!==null,T=g.gemini!==null||g.codex!==null||g.claude!==null||g.openai!==null,L=O?(g.gemini??0)+(g.codex??0)+(g.claude??0)+(g.openai??0):0,M=[{label:n("dashboard.management_keys"),value:h.apiKeys??"-",icon:f.jsx(WH,{size:24}),path:"/config",loading:b&&h.apiKeys===null,sublabel:n("nav.config_management")},{label:n("nav.ai_providers"),value:b?"-":O?L:"-",icon:f.jsx(Xk,{size:24}),path:"/ai-providers",loading:b,sublabel:T?n("dashboard.provider_keys_detail",{gemini:g.gemini??"-",codex:g.codex??"-",claude:g.claude??"-",openai:g.openai??"-"}):void 0},{label:n("nav.auth_files"),value:h.authFiles??"-",icon:f.jsx(RD,{size:24}),path:"/auth-files",loading:b&&h.authFiles===null,sublabel:n("dashboard.oauth_credentials")},{label:n("dashboard.available_models"),value:l?"-":o.length,icon:f.jsx(UD,{size:24}),path:"/system",loading:l,sublabel:n("dashboard.available_models_desc")}],P=r?.routingStrategy?.trim()||"",R=P?P==="round-robin"?n("basic_settings.routing_strategy_round_robin"):P==="fill-first"?n("basic_settings.routing_strategy_fill_first"):P:"-",D=P?P==="round-robin"?lt.configBadgeRoundRobin:P==="fill-first"?lt.configBadgeFillFirst:lt.configBadgeUnknown:lt.configBadgeUnknown;return f.jsxs("div",{className:lt.dashboard,children:[f.jsxs("div",{className:lt.header,children:[f.jsx("h1",{className:lt.title,children:n("dashboard.title")}),f.jsx("p",{className:lt.subtitle,children:n("dashboard.subtitle")})]}),f.jsxs("div",{className:lt.connectionCard,children:[f.jsxs("div",{className:lt.connectionStatus,children:[f.jsx("span",{className:`${lt.statusDot} ${t==="connected"?lt.connected:t==="connecting"?lt.connecting:lt.disconnected}`}),f.jsx("span",{className:lt.statusText,children:n(t==="connected"?"common.connected":t==="connecting"?"common.connecting":"common.disconnected")})]}),f.jsxs("div",{className:lt.connectionInfo,children:[f.jsx("span",{className:lt.serverUrl,children:a||"-"}),i&&f.jsxs("span",{className:lt.serverVersion,children:["v",i.trim().replace(/^[vV]+/,"")]}),s&&f.jsx("span",{className:lt.buildDate,children:new Date(s).toLocaleDateString(e.language)})]})]}),f.jsx("div",{className:lt.statsGrid,children:M.map(U=>f.jsxs(ky,{to:U.path,className:lt.statCard,children:[f.jsx("div",{className:lt.statIcon,children:U.icon}),f.jsxs("div",{className:lt.statContent,children:[f.jsx("span",{className:lt.statValue,children:U.loading?"...":U.value}),f.jsx("span",{className:lt.statLabel,children:U.label}),U.sublabel&&!U.loading&&f.jsx("span",{className:lt.statSublabel,children:U.sublabel})]})]},U.path))}),r&&f.jsxs("div",{className:lt.section,children:[f.jsx("h2",{className:lt.sectionTitle,children:n("dashboard.current_config")}),f.jsxs("div",{className:lt.configGrid,children:[f.jsxs("div",{className:lt.configItem,children:[f.jsx("span",{className:lt.configLabel,children:n("basic_settings.debug_enable")}),f.jsx("span",{className:`${lt.configValue} ${r.debug?lt.enabled:lt.disabled}`,children:r.debug?n("common.yes"):n("common.no")})]}),f.jsxs("div",{className:lt.configItem,children:[f.jsx("span",{className:lt.configLabel,children:n("basic_settings.usage_statistics_enable")}),f.jsx("span",{className:`${lt.configValue} ${r.usageStatisticsEnabled?lt.enabled:lt.disabled}`,children:r.usageStatisticsEnabled?n("common.yes"):n("common.no")})]}),f.jsxs("div",{className:lt.configItem,children:[f.jsx("span",{className:lt.configLabel,children:n("basic_settings.logging_to_file_enable")}),f.jsx("span",{className:`${lt.configValue} ${r.loggingToFile?lt.enabled:lt.disabled}`,children:r.loggingToFile?n("common.yes"):n("common.no")})]}),f.jsxs("div",{className:lt.configItem,children:[f.jsx("span",{className:lt.configLabel,children:n("basic_settings.retry_count_label")}),f.jsx("span",{className:lt.configValue,children:r.requestRetry??0})]}),f.jsxs("div",{className:lt.configItem,children:[f.jsx("span",{className:lt.configLabel,children:n("basic_settings.ws_auth_enable")}),f.jsx("span",{className:`${lt.configValue} ${r.wsAuth?lt.enabled:lt.disabled}`,children:r.wsAuth?n("common.yes"):n("common.no")})]}),f.jsxs("div",{className:lt.configItem,children:[f.jsx("span",{className:lt.configLabel,children:n("dashboard.routing_strategy")}),f.jsx("span",{className:`${lt.configBadge} ${D}`,children:R})]}),r.proxyUrl&&f.jsxs("div",{className:`${lt.configItem} ${lt.configItemFull}`,children:[f.jsx("span",{className:lt.configLabel,children:n("basic_settings.proxy_url_label")}),f.jsx("span",{className:lt.configValueMono,children:r.proxyUrl})]})]}),f.jsxs(ky,{to:"/config",className:lt.viewMoreLink,children:[n("dashboard.edit_settings")," "]})]})]})}function wt({title:n,extra:e,children:t,className:i}){return f.jsxs("div",{className:i?`card ${i}`:"card",children:[(n||e)&&f.jsxs("div",{className:"card-header",children:[f.jsx("div",{className:"title",children:n}),e]}),t]})}const O6="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9197%2013.61L17.3816%2026.566L14.242%2027.4049L11.2645%2016.2643L0.119926%2013.2906L0.957817%2010.15L13.9197%2013.61Z'%20fill='%23F34E3F'/%3e%3cpath%20d='M13.7391%2016.0892L4.88169%2024.9056L2.58872%2022.6019L11.4461%2013.7865L13.7391%2016.0892Z'%20fill='%23F34E3F'/%3e%3cpath%20d='M18.9386%208.58315L22.4005%2021.5392L19.2609%2022.3781L16.2833%2011.2374L5.13879%208.26381L5.97668%205.12318L18.9386%208.58315Z'%20fill='%23F34E3F'/%3e%3cpath%20d='M23.9803%203.55632L27.4422%2016.5124L24.3025%2017.3512L21.325%206.21062L10.1805%203.23698L11.0183%200.0963593L23.9803%203.55632Z'%20fill='%23F34E3F'/%3e%3c/svg%3e",IZ="AiProvidersPage-module__container___y-jfS",zZ="AiProvidersPage-module__cardTitle___vO4i3",qZ="AiProvidersPage-module__cardTitleIcon___-rTw0",KZ="AiProvidersPage-module__pageTitle___DoSv8",HZ="AiProvidersPage-module__content___E2Czu",VZ="AiProvidersPage-module__cardStats___rELY1",WZ="AiProvidersPage-module__statPill___d812A",GZ="AiProvidersPage-module__statSuccess___5dRtj",XZ="AiProvidersPage-module__statFailure___krDjY",$Z="AiProvidersPage-module__fieldRow___XK6hX",QZ="AiProvidersPage-module__fieldLabel___cLX9f",YZ="AiProvidersPage-module__fieldValue___VdFCH",ZZ="AiProvidersPage-module__headerBadgeList___kwkIM",JZ="AiProvidersPage-module__headerBadge___eN0Fd",eJ="AiProvidersPage-module__modelTagList___shUnj",tJ="AiProvidersPage-module__modelCountLabel___uV8s-",nJ="AiProvidersPage-module__modelTag___k-VuJ",iJ="AiProvidersPage-module__modelName___-6r4h",sJ="AiProvidersPage-module__modelAlias___ljQjM",aJ="AiProvidersPage-module__excludedModelTag___emTfi",rJ="AiProvidersPage-module__excludedModelsSection___XFykq",oJ="AiProvidersPage-module__excludedModelsLabel___Drdds",lJ="AiProvidersPage-module__apiKeyEntriesSection___60ydj",cJ="AiProvidersPage-module__apiKeyEntriesLabel___c5W8h",uJ="AiProvidersPage-module__apiKeyEntryList___-xrgk",dJ="AiProvidersPage-module__apiKeyEntryCard___Y5gRi",hJ="AiProvidersPage-module__apiKeyEntryIndex___h8oWW",fJ="AiProvidersPage-module__apiKeyEntryKey___JgU0c",mJ="AiProvidersPage-module__apiKeyEntryProxy___gy9Vu",pJ="AiProvidersPage-module__apiKeyEntryStats___Whq5E",gJ="AiProvidersPage-module__apiKeyEntryStat___rwvkB",_J="AiProvidersPage-module__apiKeyEntryStatSuccess___GXIwG",yJ="AiProvidersPage-module__apiKeyEntryStatFailure___XV9wg",bJ="AiProvidersPage-module__modelDiscoveryList___HKeOb",xJ="AiProvidersPage-module__modelDiscoveryRow___3J8pc",vJ="AiProvidersPage-module__modelDiscoveryRowSelected___VLfIp",SJ="AiProvidersPage-module__modelDiscoveryMeta___7D6Y5",wJ="AiProvidersPage-module__modelDiscoveryName___yf70V",kJ="AiProvidersPage-module__modelDiscoveryAlias___N2nU7",CJ="AiProvidersPage-module__modelDiscoveryDesc___nsrtd",AJ="AiProvidersPage-module__statusBar___gAS9s",TJ="AiProvidersPage-module__statusBlocks___RESqk",NJ="AiProvidersPage-module__statusBlockWrapper___crE7L",MJ="AiProvidersPage-module__statusBlock___nUV1s",OJ="AiProvidersPage-module__statusBlockActive___MgbMs",LJ="AiProvidersPage-module__statusBlockIdle___WEMXo",PJ="AiProvidersPage-module__statusTooltip___leV9X",RJ="AiProvidersPage-module__statusTooltipLeft___avU77",EJ="AiProvidersPage-module__statusTooltipRight___k2gcI",jJ="AiProvidersPage-module__tooltipTime___SU0zH",DJ="AiProvidersPage-module__tooltipStats___c6Xho",FJ="AiProvidersPage-module__tooltipSuccess___Nl3Pt",UJ="AiProvidersPage-module__tooltipFailure___1XMCP",BJ="AiProvidersPage-module__tooltipRate___YDCOe",IJ="AiProvidersPage-module__statusRate___mqcEs",zJ="AiProvidersPage-module__statusRateHigh___GpDhl",qJ="AiProvidersPage-module__statusRateMedium___hdtEj",KJ="AiProvidersPage-module__statusRateLow___mNI2c",HJ="AiProvidersPage-module__openaiEditForm___axTov",VJ="AiProvidersPage-module__modelConfigSection___0v-e8",WJ="AiProvidersPage-module__sectionHint___-aBFT",GJ="AiProvidersPage-module__openaiModelsContent___yEApy",XJ="AiProvidersPage-module__openaiModelsEndpointSection___FvBIQ",$J="AiProvidersPage-module__openaiModelsEndpointLabel___-rOEU",QJ="AiProvidersPage-module__openaiModelsEndpointControls___pLkMs",YJ="AiProvidersPage-module__openaiModelsEndpointInput___4xH3Y",ZJ="AiProvidersPage-module__modelConfigHeader___bXtq4",JJ="AiProvidersPage-module__modelConfigTitle___ppVRn",eee="AiProvidersPage-module__modelConfigToolbar___nrb6R",tee="AiProvidersPage-module__modelInputList___AbYq6",nee="AiProvidersPage-module__modelInputRow___j-ubV",iee="AiProvidersPage-module__modelInputField___QdqkU",see="AiProvidersPage-module__modelRowRemoveButton___lEFpT",aee="AiProvidersPage-module__modelTestPanel___SyW9P",ree="AiProvidersPage-module__modelTestMeta___XMH-g",oee="AiProvidersPage-module__modelTestLabel___HqcWx",lee="AiProvidersPage-module__modelTestHint___kUgyp",cee="AiProvidersPage-module__modelTestControls___yPmI0",uee="AiProvidersPage-module__keyEntriesSection___XD0xH",dee="AiProvidersPage-module__keyEntriesHeader___yZxok",hee="AiProvidersPage-module__keyEntriesTitle___MEybu",fee="AiProvidersPage-module__keyEntriesHint___gn0EN",mee="AiProvidersPage-module__keyEntriesList___Gtpin",pee="AiProvidersPage-module__keyEntriesToolbar___eSzyC",gee="AiProvidersPage-module__keyEntriesCount___e6jgL",_ee="AiProvidersPage-module__keyTableShell___0nNxe",yee="AiProvidersPage-module__keyTableHeader___ZbWah",bee="AiProvidersPage-module__keyTableRow___0MOQW",xee="AiProvidersPage-module__keyTableColIndex___U12X-",vee="AiProvidersPage-module__keyTableColStatus___Dzw88",See="AiProvidersPage-module__keyTableColKey___V9Md3",wee="AiProvidersPage-module__keyTableColProxy___9hcue",kee="AiProvidersPage-module__keyTableColAction___oZsbE",Cee="AiProvidersPage-module__keyTableInput___bo5JN",Aee="AiProvidersPage-module__addKeyButton___xuMah",Tee="AiProvidersPage-module__openaiTestSelect___7-Upw",Nee="AiProvidersPage-module__modelTestAllButton___SRL9M",Mee="AiProvidersPage-module__statusIconSpin___DC8Ww",z={container:IZ,cardTitle:zZ,cardTitleIcon:qZ,pageTitle:KZ,content:HZ,cardStats:VZ,statPill:WZ,statSuccess:GZ,statFailure:XZ,fieldRow:$Z,fieldLabel:QZ,fieldValue:YZ,headerBadgeList:ZZ,headerBadge:JZ,modelTagList:eJ,modelCountLabel:tJ,modelTag:nJ,modelName:iJ,modelAlias:sJ,excludedModelTag:aJ,excludedModelsSection:rJ,excludedModelsLabel:oJ,apiKeyEntriesSection:lJ,apiKeyEntriesLabel:cJ,apiKeyEntryList:uJ,apiKeyEntryCard:dJ,apiKeyEntryIndex:hJ,apiKeyEntryKey:fJ,apiKeyEntryProxy:mJ,apiKeyEntryStats:pJ,apiKeyEntryStat:gJ,apiKeyEntryStatSuccess:_J,apiKeyEntryStatFailure:yJ,modelDiscoveryList:bJ,modelDiscoveryRow:xJ,modelDiscoveryRowSelected:vJ,modelDiscoveryMeta:SJ,modelDiscoveryName:wJ,modelDiscoveryAlias:kJ,modelDiscoveryDesc:CJ,statusBar:AJ,statusBlocks:TJ,statusBlockWrapper:NJ,statusBlock:MJ,statusBlockActive:OJ,statusBlockIdle:LJ,statusTooltip:PJ,statusTooltipLeft:RJ,statusTooltipRight:EJ,tooltipTime:jJ,tooltipStats:DJ,tooltipSuccess:FJ,tooltipFailure:UJ,tooltipRate:BJ,statusRate:IJ,statusRateHigh:zJ,statusRateMedium:qJ,statusRateLow:KJ,openaiEditForm:HJ,modelConfigSection:VJ,sectionHint:WJ,openaiModelsContent:GJ,openaiModelsEndpointSection:XJ,openaiModelsEndpointLabel:$J,openaiModelsEndpointControls:QJ,openaiModelsEndpointInput:YJ,modelConfigHeader:ZJ,modelConfigTitle:JJ,modelConfigToolbar:eee,modelInputList:tee,modelInputRow:nee,modelInputField:iee,modelRowRemoveButton:see,modelTestPanel:aee,modelTestMeta:ree,modelTestLabel:oee,modelTestHint:lee,modelTestControls:cee,keyEntriesSection:uee,keyEntriesHeader:dee,keyEntriesTitle:hee,keyEntriesHint:fee,keyEntriesList:mee,keyEntriesToolbar:pee,keyEntriesCount:gee,keyTableShell:_ee,keyTableHeader:yee,keyTableRow:bee,keyTableColIndex:xee,keyTableColStatus:vee,keyTableColKey:See,keyTableColProxy:wee,keyTableColAction:kee,keyTableInput:Cee,addKeyButton:Aee,openaiTestSelect:Tee,modelTestAllButton:Nee,statusIconSpin:Mee};function Oee({config:n,loading:e,disableControls:t,isSwitching:i,onEdit:s}){const{t:a}=Ze(),r=e&&!n;return f.jsx(f.Fragment,{children:f.jsx(wt,{title:f.jsxs("span",{className:z.cardTitle,children:[f.jsx("img",{src:O6,alt:"",className:z.cardTitleIcon}),a("ai_providers.ampcode_title")]}),extra:f.jsx(he,{size:"sm",onClick:s,disabled:t||e||i,children:a("common.edit")}),children:r?f.jsx("div",{className:"hint",children:a("common.loading")}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[a("ai_providers.ampcode_upstream_url_label"),":"]}),f.jsx("span",{className:z.fieldValue,children:n?.upstreamUrl||a("common.not_set")})]}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[a("ai_providers.ampcode_upstream_api_key_label"),":"]}),f.jsx("span",{className:z.fieldValue,children:n?.upstreamApiKey?Xa(n.upstreamApiKey):a("common.not_set")})]}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[a("ai_providers.ampcode_force_model_mappings_label"),":"]}),f.jsx("span",{className:z.fieldValue,children:n?.forceModelMappings??!1?a("common.yes"):a("common.no")})]}),f.jsxs("div",{className:z.fieldRow,style:{marginTop:8},children:[f.jsxs("span",{className:z.fieldLabel,children:[a("ai_providers.ampcode_model_mappings_count"),":"]}),f.jsx("span",{className:z.fieldValue,children:n?.modelMappings?.length||0})]}),n?.modelMappings?.length?f.jsxs("div",{className:z.modelTagList,children:[n.modelMappings.slice(0,5).map(o=>f.jsxs("span",{className:z.modelTag,children:[f.jsx("span",{className:z.modelName,children:o.from}),f.jsx("span",{className:z.modelAlias,children:o.to})]},`${o.from}${o.to}`)),n.modelMappings.length>5&&f.jsx("span",{className:z.modelTag,children:f.jsxs("span",{className:z.modelName,children:["+",n.modelMappings.length-5]})})]}):null]})})})}const Lee="ToggleSwitch-module__root___IUqKD",Pee="ToggleSwitch-module__labelLeft___Pc6fJ",Ree="ToggleSwitch-module__label___4iQkR",Eee="ToggleSwitch-module__disabled___GNGHj",jee="ToggleSwitch-module__track___zFtXx",Dee="ToggleSwitch-module__thumb___gQ45C",yd={root:Lee,labelLeft:Pee,label:Ree,disabled:Eee,track:jee,thumb:Dee};function ts({checked:n,onChange:e,label:t,ariaLabel:i,disabled:s=!1,labelPosition:a="right"}){const r=l=>{e(l.target.checked)},o=[yd.root,a==="left"?yd.labelLeft:"",s?yd.disabled:""].filter(Boolean).join(" ");return f.jsxs("label",{className:o,children:[f.jsx("input",{type:"checkbox",checked:n,onChange:r,disabled:s,"aria-label":i}),f.jsx("span",{className:yd.track,children:f.jsx("span",{className:yd.thumb})}),t&&f.jsx("span",{className:yd.label,children:t})]})}const Wb="data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eClaude%3c/title%3e%3cpath%20d='M4.709%2015.955l4.72-2.647.08-.23-.08-.128H9.2l-.79-.048-2.698-.073-2.339-.097-2.266-.122-.571-.121L0%2011.784l.055-.352.48-.321.686.06%201.52.103%202.278.158%201.652.097%202.449.255h.389l.055-.157-.134-.098-.103-.097-2.358-1.596-2.552-1.688-1.336-.972-.724-.491-.364-.462-.158-1.008.656-.722.881.06.225.061.893.686%201.908%201.476%202.491%201.833.365.304.145-.103.019-.073-.164-.274-1.355-2.446-1.446-2.49-.644-1.032-.17-.619a2.97%202.97%200%2001-.104-.729L6.283.134%206.696%200l.996.134.42.364.62%201.414%201.002%202.229%201.555%203.03.456.898.243.832.091.255h.158V9.01l.128-1.706.237-2.095.23-2.695.08-.76.376-.91.747-.492.584.28.48.685-.067.444-.286%201.851-.559%202.903-.364%201.942h.212l.243-.242.985-1.306%201.652-2.064.73-.82.85-.904.547-.431h1.033l.76%201.129-.34%201.166-1.064%201.347-.881%201.142-1.264%201.7-.79%201.36.073.11.188-.02%202.856-.606%201.543-.28%201.841-.315.833.388.091.395-.328.807-1.969.486-2.309.462-3.439.813-.042.03.049.061%201.549.146.662.036h1.622l3.02.225.79.522.474.638-.079.485-1.215.62-1.64-.389-3.829-.91-1.312-.329h-.182v.11l1.093%201.068%202.006%201.81%202.509%202.33.127.578-.322.455-.34-.049-2.205-1.657-.851-.747-1.926-1.62h-.128v.17l.444.649%202.345%203.521.122%201.08-.17.353-.608.213-.668-.122-1.374-1.925-1.415-2.167-1.143-1.943-.14.08-.674%207.254-.316.37-.729.28-.607-.461-.322-.747.322-1.476.389-1.924.315-1.53.286-1.9.17-.632-.012-.042-.14.018-1.434%201.967-2.18%202.945-1.726%201.845-.414.164-.717-.37.067-.662.401-.589%202.388-3.036%201.44-1.882.93-1.086-.006-.158h-.055L4.132%2018.56l-1.13.146-.487-.456.061-.746.231-.243%201.908-1.312-.006.006z'%20fill='%23D97757'%20fill-rule='nonzero'%3e%3c/path%3e%3c/svg%3e";function ns({title:n,description:e,action:t}){return f.jsxs("div",{className:"empty-state",children:[f.jsxs("div",{className:"empty-content",children:[f.jsx("div",{className:"empty-icon","aria-hidden":"true",children:f.jsx(JH,{size:20})}),f.jsxs("div",{children:[f.jsx("div",{className:"empty-title",children:n}),e&&f.jsx("div",{className:"empty-desc",children:e})]})]}),t&&f.jsx("div",{className:"empty-action",children:t})]})}function tg({items:n,loading:e,keyField:t,renderContent:i,onEdit:s,onDelete:a,emptyTitle:r,emptyDescription:o,deleteLabel:l,actionsDisabled:u=!1,getRowDisabled:h,renderExtraActions:m}){const{t:g}=Ze();return e&&n.length===0?f.jsx("div",{className:"hint",children:g("common.loading")}):n.length?f.jsx("div",{className:"item-list",children:n.map((_,b)=>{const x=h?h(_,b):!1;return f.jsxs("div",{className:"item-row",style:x?{opacity:.6}:void 0,children:[f.jsx("div",{className:"item-meta",children:i(_,b)}),f.jsxs("div",{className:"item-actions",children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>s(b),disabled:u,children:g("common.edit")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>a(b),disabled:u,children:l||g("common.delete")}),m?m(_,b):null]})]},t(_,b))})}):f.jsx(ns,{title:r,description:o})}const eR=[{r:239,g:68,b:68},{r:250,g:204,b:21},{r:34,g:197,b:94}];function Fee(n){const e=Math.max(0,Math.min(1,n)),t=e<.5?0:1,i=t===0?e*2:(e-.5)*2,s=eR[t],a=eR[t+1],r=Math.round(s.r+(a.r-s.r)*i),o=Math.round(s.g+(a.g-s.g)*i),l=Math.round(s.b+(a.b-s.b)*i);return`rgb(${r}, ${o}, ${l})`}function tR(n){const e=new Date(n),t=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0");return`${t}:${i}`}function Rh({statusData:n,styles:e}){const{t}=Ze(),i=e||z,[s,a]=w.useState(null),r=w.useRef(null),o=n.totalSuccess+n.totalFailure>0,l=o?n.successRate>=90?i.statusRateHigh:n.successRate>=50?i.statusRateMedium:i.statusRateLow:"";w.useEffect(()=>{if(s===null)return;const b=x=>{r.current&&!r.current.contains(x.target)&&a(null)};return document.addEventListener("pointerdown",b),()=>document.removeEventListener("pointerdown",b)},[s]);const u=w.useCallback((b,x)=>{b.pointerType==="mouse"&&a(x)},[]),h=w.useCallback(b=>{b.pointerType==="mouse"&&a(null)},[]),m=w.useCallback((b,x)=>{b.pointerType==="touch"&&(b.preventDefault(),a(v=>v===x?null:x))},[]),g=(b,x)=>b<=2?i.statusTooltipLeft:b>=x-3?i.statusTooltipRight:"",_=(b,x)=>{const v=b.success+b.failure,C=g(x,n.blockDetails.length),k=`${tR(b.startTime)}  ${tR(b.endTime)}`;return f.jsxs("div",{className:`${i.statusTooltip} ${C}`,children:[f.jsx("span",{className:i.tooltipTime,children:k}),v>0?f.jsxs("span",{className:i.tooltipStats,children:[f.jsxs("span",{className:i.tooltipSuccess,children:[t("status_bar.success_short")," ",b.success]}),f.jsxs("span",{className:i.tooltipFailure,children:[t("status_bar.failure_short")," ",b.failure]}),f.jsxs("span",{className:i.tooltipRate,children:["(",(b.rate*100).toFixed(1),"%)"]})]}):f.jsx("span",{className:i.tooltipStats,children:t("status_bar.no_requests")})]})};return f.jsxs("div",{className:i.statusBar,children:[f.jsx("div",{className:i.statusBlocks,ref:r,children:n.blockDetails.map((b,x)=>{const v=b.rate===-1,C=v?void 0:{backgroundColor:Fee(b.rate)},k=s===x;return f.jsxs("div",{className:`${i.statusBlockWrapper} ${k?i.statusBlockActive:""}`,onPointerEnter:N=>u(N,x),onPointerLeave:h,onPointerDown:N=>m(N,x),children:[f.jsx("div",{className:`${i.statusBlock} ${v?i.statusBlockIdle:""}`,style:C}),k&&_(b,x)]},x)})}),f.jsx("span",{className:`${i.statusRate} ${l}`,children:o?`${n.successRate.toFixed(1)}%`:"--"})]})}function Uee({configs:n,keyStats:e,usageDetails:t,loading:i,disableControls:s,isSwitching:a,onAdd:r,onEdit:o,onDelete:l,onToggle:u}){const{t:h}=Ze(),m=s||i||a,g=s||i||a,_=w.useMemo(()=>{const b=new Map;return n.forEach(x=>{if(!x.apiKey)return;const v=bs({apiKey:x.apiKey,prefix:x.prefix});if(!v.length)return;const C=new Set(v),k=t.filter(N=>C.has(N.source));b.set(x.apiKey,Ka(k))}),b},[n,t]);return f.jsx(f.Fragment,{children:f.jsx(wt,{title:f.jsxs("span",{className:z.cardTitle,children:[f.jsx("img",{src:Wb,alt:"",className:z.cardTitleIcon}),h("ai_providers.claude_title")]}),extra:f.jsx(he,{size:"sm",onClick:r,disabled:m,children:h("ai_providers.claude_add_button")}),children:f.jsx(tg,{items:n,loading:i,keyField:b=>b.apiKey,emptyTitle:h("ai_providers.claude_empty_title"),emptyDescription:h("ai_providers.claude_empty_desc"),onEdit:o,onDelete:l,actionsDisabled:m,getRowDisabled:b=>Vo(b.excludedModels),renderExtraActions:(b,x)=>f.jsx(ts,{label:h("ai_providers.config_toggle_label"),checked:!Vo(b.excludedModels),disabled:g,onChange:v=>void u(x,v)}),renderContent:b=>{const x=Zp(b.apiKey,e,b.prefix),v=Object.entries(b.headers||{}),C=Vo(b.excludedModels),k=b.excludedModels??[],N=_.get(b.apiKey)||Ka([]);return f.jsxs(w.Fragment,{children:[f.jsx("div",{className:"item-title",children:h("ai_providers.claude_item_title")}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.api_key"),":"]}),f.jsx("span",{className:z.fieldValue,children:Xa(b.apiKey)})]}),b.priority!==void 0&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.priority"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.priority})]}),b.prefix&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.prefix"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.prefix})]}),b.baseUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.base_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.baseUrl})]}),b.proxyUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.proxy_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.proxyUrl})]}),b.cloak&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("ai_providers.claude_cloak_mode_label"),":"]}),f.jsx("span",{className:z.fieldValue,children:(()=>{const O=(b.cloak?.mode??"").trim().toLowerCase();return h(`ai_providers.claude_cloak_mode_${O==="always"||O==="never"?O:"auto"}`)})()})]}),b.cloak?.strictMode?f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("ai_providers.claude_cloak_strict_label"),":"]}),f.jsx("span",{className:z.fieldValue,children:h("common.yes")})]}):null,b.cloak?.sensitiveWords?.length?f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("ai_providers.claude_cloak_sensitive_words_count"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.cloak.sensitiveWords.length})]}):null,v.length>0&&f.jsx("div",{className:z.headerBadgeList,children:v.map(([O,T])=>f.jsxs("span",{className:z.headerBadge,children:[f.jsxs("strong",{children:[O,":"]})," ",T]},O))}),C&&f.jsx("div",{className:"status-badge warning",style:{marginTop:8,marginBottom:0},children:h("ai_providers.config_disabled_badge")}),b.models?.length?f.jsxs("div",{className:z.modelTagList,children:[f.jsxs("span",{className:z.modelCountLabel,children:[h("ai_providers.claude_models_count"),": ",b.models.length]}),b.models.map(O=>f.jsxs("span",{className:z.modelTag,children:[f.jsx("span",{className:z.modelName,children:O.name}),O.alias&&O.alias!==O.name&&f.jsx("span",{className:z.modelAlias,children:O.alias})]},O.name))]}):null,k.length?f.jsxs("div",{className:z.excludedModelsSection,children:[f.jsx("div",{className:z.excludedModelsLabel,children:h("ai_providers.excluded_models_count",{count:k.length})}),f.jsx("div",{className:z.modelTagList,children:k.map(O=>f.jsx("span",{className:`${z.modelTag} ${z.excludedModelTag}`,children:f.jsx("span",{className:z.modelName,children:O})},O))})]}):null,f.jsxs("div",{className:z.cardStats,children:[f.jsxs("span",{className:`${z.statPill} ${z.statSuccess}`,children:[h("stats.success"),": ",x.success]}),f.jsxs("span",{className:`${z.statPill} ${z.statFailure}`,children:[h("stats.failure"),": ",x.failure]})]}),f.jsx(Rh,{statusData:N})]})}})})})}const EC="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='256.000000pt'%20height='256.000000pt'%20viewBox='0%200%20256.000000%20256.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,256.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M1107%202290%20c-316%20-57%20-615%20-283%20-748%20-565%20-68%20-144%20-91%20-241%20-96%20-406%20-6%20-156%207%20-249%2049%20-374%2087%20-254%20291%20-478%20542%20-596%20146%20-68%20226%20-84%20426%20-84%20152%200%20186%203%20260%2023%20182%2050%20327%20136%20465%20277%20147%20150%20245%20334%20282%20529%2023%20123%2014%20344%20-20%20456%20-35%20116%20-69%20190%20-134%20290%20-131%20200%20-340%20354%20-578%20426%20-78%2023%20-111%2027%20-245%2030%20-85%201%20-177%20-1%20-203%20-6z%20m362%20-216%20c91%20-21%20224%20-86%20310%20-152%20133%20-101%20249%20-275%20293%20-439%2016%20-60%2021%20-108%2021%20-203%200%20-152%20-21%20-240%20-88%20-368%20-130%20-253%20-350%20-407%20-634%20-443%20-393%20-50%20-777%20214%20-882%20607%20-30%20110%20-30%20296%200%20408%2072%20270%20282%20489%20552%20576%20130%2041%20287%2047%20428%2014z'/%3e%3cpath%20d='M849%201637%20c-31%20-24%20-52%20-67%20-46%20-95%203%20-15%2035%20-78%2071%20-139%2036%20-61%2066%20-115%2066%20-119%200%20-5%20-30%20-58%20-66%20-119%20-36%20-60%20-68%20-123%20-70%20-140%20-7%20-42%2026%20-90%2070%20-105%2031%20-10%2042%20-9%2072%207%2031%2015%2051%2043%20125%20173%2093%20162%20101%20188%2073%20243%20-50%2097%20-169%20289%20-185%20297%20-25%2014%20-91%2012%20-110%20-3z'/%3e%3cpath%20d='M1353%201139%20c-42%20-12%20-73%20-53%20-73%20-96%200%20-27%208%20-43%2035%20-70%20l34%20-34%20216%203%20217%203%2030%2034%20c26%2029%2029%2040%2025%2073%20-7%2049%20-29%2075%20-76%2088%20-45%2012%20-364%2012%20-408%20-1z'/%3e%3c/g%3e%3c/svg%3e",jC="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='256.000000pt'%20height='256.000000pt'%20viewBox='0%200%20256.000000%20256.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,256.000000)%20scale(0.100000,-0.100000)'%20fill='%23FFFFFF'%20stroke='none'%3e%3cpath%20d='M1107%202290%20c-316%20-57%20-615%20-283%20-748%20-565%20-68%20-144%20-91%20-241%20-96%20-406%20-6%20-156%207%20-249%2049%20-374%2087%20-254%20291%20-478%20542%20-596%20146%20-68%20226%20-84%20426%20-84%20152%200%20186%203%20260%2023%20182%2050%20327%20136%20465%20277%20147%20150%20245%20334%20282%20529%2023%20123%2014%20344%20-20%20456%20-35%20116%20-69%20190%20-134%20290%20-131%20200%20-340%20354%20-578%20426%20-78%2023%20-111%2027%20-245%2030%20-85%201%20-177%20-1%20-203%20-6z%20m362%20-216%20c91%20-21%20224%20-86%20310%20-152%20133%20-101%20249%20-275%20293%20-439%2016%20-60%2021%20-108%2021%20-203%200%20-152%20-21%20-240%20-88%20-368%20-130%20-253%20-350%20-407%20-634%20-443%20-393%20-50%20-777%20214%20-882%20607%20-30%20110%20-30%20296%200%20408%2072%20270%20282%20489%20552%20576%20130%2041%20287%2047%20428%2014z'/%3e%3cpath%20d='M849%201637%20c-31%20-24%20-52%20-67%20-46%20-95%203%20-15%2035%20-78%2071%20-139%2036%20-61%2066%20-115%2066%20-119%200%20-5%20-30%20-58%20-66%20-119%20-36%20-60%20-68%20-123%20-70%20-140%20-7%20-42%2026%20-90%2070%20-105%2031%20-10%2042%20-9%2072%207%2031%2015%2051%2043%20125%20173%2093%20162%20101%20188%2073%20243%20-50%2097%20-169%20289%20-185%20297%20-25%2014%20-91%2012%20-110%20-3z'/%3e%3cpath%20d='M1353%201139%20c-42%20-12%20-73%20-53%20-73%20-96%200%20-27%208%20-43%2035%20-70%20l34%20-34%20216%203%20217%203%2030%2034%20c26%2029%2029%2040%2025%2073%20-7%2049%20-29%2075%20-76%2088%20-45%2012%20-364%2012%20-408%20-1z'/%3e%3c/g%3e%3c/svg%3e";function Bee({configs:n,keyStats:e,usageDetails:t,loading:i,disableControls:s,isSwitching:a,resolvedTheme:r,onAdd:o,onEdit:l,onDelete:u,onToggle:h}){const{t:m}=Ze(),g=s||i||a,_=s||i||a,b=w.useMemo(()=>{const x=new Map;return n.forEach(v=>{if(!v.apiKey)return;const C=bs({apiKey:v.apiKey,prefix:v.prefix});if(!C.length)return;const k=new Set(C),N=t.filter(O=>k.has(O.source));x.set(v.apiKey,Ka(N))}),x},[n,t]);return f.jsx(f.Fragment,{children:f.jsx(wt,{title:f.jsxs("span",{className:z.cardTitle,children:[f.jsx("img",{src:r==="dark"?jC:EC,alt:"",className:z.cardTitleIcon}),m("ai_providers.codex_title")]}),extra:f.jsx(he,{size:"sm",onClick:o,disabled:g,children:m("ai_providers.codex_add_button")}),children:f.jsx(tg,{items:n,loading:i,keyField:x=>x.apiKey,emptyTitle:m("ai_providers.codex_empty_title"),emptyDescription:m("ai_providers.codex_empty_desc"),onEdit:l,onDelete:u,actionsDisabled:g,getRowDisabled:x=>Vo(x.excludedModels),renderExtraActions:(x,v)=>f.jsx(ts,{label:m("ai_providers.config_toggle_label"),checked:!Vo(x.excludedModels),disabled:_,onChange:C=>void h(v,C)}),renderContent:x=>{const v=Zp(x.apiKey,e,x.prefix),C=Object.entries(x.headers||{}),k=Vo(x.excludedModels),N=x.excludedModels??[],O=b.get(x.apiKey)||Ka([]);return f.jsxs(w.Fragment,{children:[f.jsx("div",{className:"item-title",children:m("ai_providers.codex_item_title")}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[m("common.api_key"),":"]}),f.jsx("span",{className:z.fieldValue,children:Xa(x.apiKey)})]}),x.priority!==void 0&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[m("common.priority"),":"]}),f.jsx("span",{className:z.fieldValue,children:x.priority})]}),x.prefix&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[m("common.prefix"),":"]}),f.jsx("span",{className:z.fieldValue,children:x.prefix})]}),x.baseUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[m("common.base_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:x.baseUrl})]}),x.proxyUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[m("common.proxy_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:x.proxyUrl})]}),x.websockets!==void 0&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[m("ai_providers.codex_websockets_label"),":"]}),f.jsx("span",{className:z.fieldValue,children:x.websockets?m("common.yes"):m("common.no")})]}),C.length>0&&f.jsx("div",{className:z.headerBadgeList,children:C.map(([T,L])=>f.jsxs("span",{className:z.headerBadge,children:[f.jsxs("strong",{children:[T,":"]})," ",L]},T))}),k&&f.jsx("div",{className:"status-badge warning",style:{marginTop:8,marginBottom:0},children:m("ai_providers.config_disabled_badge")}),x.models?.length?f.jsxs("div",{className:z.modelTagList,children:[f.jsxs("span",{className:z.modelCountLabel,children:[m("ai_providers.codex_models_count"),": ",x.models.length]}),x.models.map(T=>f.jsxs("span",{className:z.modelTag,children:[f.jsx("span",{className:z.modelName,children:T.name}),T.alias&&T.alias!==T.name&&f.jsx("span",{className:z.modelAlias,children:T.alias})]},T.name))]}):null,N.length?f.jsxs("div",{className:z.excludedModelsSection,children:[f.jsx("div",{className:z.excludedModelsLabel,children:m("ai_providers.excluded_models_count",{count:N.length})}),f.jsx("div",{className:z.modelTagList,children:N.map(T=>f.jsx("span",{className:`${z.modelTag} ${z.excludedModelTag}`,children:f.jsx("span",{className:z.modelName,children:T})},T))})]}):null,f.jsxs("div",{className:z.cardStats,children:[f.jsxs("span",{className:`${z.statPill} ${z.statSuccess}`,children:[m("stats.success"),": ",v.success]}),f.jsxs("span",{className:`${z.statPill} ${z.statFailure}`,children:[m("stats.failure"),": ",v.failure]})]}),f.jsx(Rh,{statusData:O})]})}})})})}const Gb="data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGemini%3c/title%3e%3cpath%20d='M20.616%2010.835a14.147%2014.147%200%2001-4.45-3.001%2014.111%2014.111%200%2001-3.678-6.452.503.503%200%2000-.975%200%2014.134%2014.134%200%2001-3.679%206.452%2014.155%2014.155%200%2001-4.45%203.001c-.65.28-1.318.505-2.002.678a.502.502%200%20000%20.975c.684.172%201.35.397%202.002.677a14.147%2014.147%200%20014.45%203.001%2014.112%2014.112%200%20013.679%206.453.502.502%200%2000.975%200c.172-.685.397-1.351.677-2.003a14.145%2014.145%200%20013.001-4.45%2014.113%2014.113%200%20016.453-3.678.503.503%200%20000-.975%2013.245%2013.245%200%2001-2.003-.678z'%20fill='%233186FF'%3e%3c/path%3e%3cpath%20d='M20.616%2010.835a14.147%2014.147%200%2001-4.45-3.001%2014.111%2014.111%200%2001-3.678-6.452.503.503%200%2000-.975%200%2014.134%2014.134%200%2001-3.679%206.452%2014.155%2014.155%200%2001-4.45%203.001c-.65.28-1.318.505-2.002.678a.502.502%200%20000%20.975c.684.172%201.35.397%202.002.677a14.147%2014.147%200%20014.45%203.001%2014.112%2014.112%200%20013.679%206.453.502.502%200%2000.975%200c.172-.685.397-1.351.677-2.003a14.145%2014.145%200%20013.001-4.45%2014.113%2014.113%200%20016.453-3.678.503.503%200%20000-.975%2013.245%2013.245%200%2001-2.003-.678z'%20fill='url(%23lobe-icons-gemini-fill-0)'%3e%3c/path%3e%3cpath%20d='M20.616%2010.835a14.147%2014.147%200%2001-4.45-3.001%2014.111%2014.111%200%2001-3.678-6.452.503.503%200%2000-.975%200%2014.134%2014.134%200%2001-3.679%206.452%2014.155%2014.155%200%2001-4.45%203.001c-.65.28-1.318.505-2.002.678a.502.502%200%20000%20.975c.684.172%201.35.397%202.002.677a14.147%2014.147%200%20014.45%203.001%2014.112%2014.112%200%20013.679%206.453.502.502%200%2000.975%200c.172-.685.397-1.351.677-2.003a14.145%2014.145%200%20013.001-4.45%2014.113%2014.113%200%20016.453-3.678.503.503%200%20000-.975%2013.245%2013.245%200%2001-2.003-.678z'%20fill='url(%23lobe-icons-gemini-fill-1)'%3e%3c/path%3e%3cpath%20d='M20.616%2010.835a14.147%2014.147%200%2001-4.45-3.001%2014.111%2014.111%200%2001-3.678-6.452.503.503%200%2000-.975%200%2014.134%2014.134%200%2001-3.679%206.452%2014.155%2014.155%200%2001-4.45%203.001c-.65.28-1.318.505-2.002.678a.502.502%200%20000%20.975c.684.172%201.35.397%202.002.677a14.147%2014.147%200%20014.45%203.001%2014.112%2014.112%200%20013.679%206.453.502.502%200%2000.975%200c.172-.685.397-1.351.677-2.003a14.145%2014.145%200%20013.001-4.45%2014.113%2014.113%200%20016.453-3.678.503.503%200%20000-.975%2013.245%2013.245%200%2001-2.003-.678z'%20fill='url(%23lobe-icons-gemini-fill-2)'%3e%3c/path%3e%3cdefs%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-gemini-fill-0'%20x1='7'%20x2='11'%20y1='15.5'%20y2='12'%3e%3cstop%20stop-color='%2308B962'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%2308B962'%20stop-opacity='0'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-gemini-fill-1'%20x1='8'%20x2='11.5'%20y1='5.5'%20y2='11'%3e%3cstop%20stop-color='%23F94543'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%23F94543'%20stop-opacity='0'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-gemini-fill-2'%20x1='3.5'%20x2='17.5'%20y1='13.5'%20y2='12'%3e%3cstop%20stop-color='%23FABC12'%3e%3c/stop%3e%3cstop%20offset='.46'%20stop-color='%23FABC12'%20stop-opacity='0'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function Iee({configs:n,keyStats:e,usageDetails:t,loading:i,disableControls:s,isSwitching:a,onAdd:r,onEdit:o,onDelete:l,onToggle:u}){const{t:h}=Ze(),m=s||i||a,g=s||i||a,_=w.useMemo(()=>{const b=new Map;return n.forEach(x=>{if(!x.apiKey)return;const v=bs({apiKey:x.apiKey,prefix:x.prefix});if(!v.length)return;const C=new Set(v),k=t.filter(N=>C.has(N.source));b.set(x.apiKey,Ka(k))}),b},[n,t]);return f.jsx(f.Fragment,{children:f.jsx(wt,{title:f.jsxs("span",{className:z.cardTitle,children:[f.jsx("img",{src:Gb,alt:"",className:z.cardTitleIcon}),h("ai_providers.gemini_title")]}),extra:f.jsx(he,{size:"sm",onClick:r,disabled:m,children:h("ai_providers.gemini_add_button")}),children:f.jsx(tg,{items:n,loading:i,keyField:b=>b.apiKey,emptyTitle:h("ai_providers.gemini_empty_title"),emptyDescription:h("ai_providers.gemini_empty_desc"),onEdit:o,onDelete:l,actionsDisabled:m,getRowDisabled:b=>Vo(b.excludedModels),renderExtraActions:(b,x)=>f.jsx(ts,{label:h("ai_providers.config_toggle_label"),checked:!Vo(b.excludedModels),disabled:g,onChange:v=>void u(x,v)}),renderContent:(b,x)=>{const v=Zp(b.apiKey,e,b.prefix),C=Object.entries(b.headers||{}),k=Vo(b.excludedModels),N=b.excludedModels??[],O=_.get(b.apiKey)||Ka([]);return f.jsxs(w.Fragment,{children:[f.jsxs("div",{className:"item-title",children:[h("ai_providers.gemini_item_title")," #",x+1]}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.api_key"),":"]}),f.jsx("span",{className:z.fieldValue,children:Xa(b.apiKey)})]}),b.priority!==void 0&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.priority"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.priority})]}),b.prefix&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.prefix"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.prefix})]}),b.baseUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.base_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.baseUrl})]}),b.proxyUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.proxy_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:b.proxyUrl})]}),C.length>0&&f.jsx("div",{className:z.headerBadgeList,children:C.map(([T,L])=>f.jsxs("span",{className:z.headerBadge,children:[f.jsxs("strong",{children:[T,":"]})," ",L]},T))}),k&&f.jsx("div",{className:"status-badge warning",style:{marginTop:8,marginBottom:0},children:h("ai_providers.config_disabled_badge")}),b.models?.length?f.jsxs("div",{className:z.modelTagList,children:[f.jsxs("span",{className:z.modelCountLabel,children:[h("ai_providers.gemini_models_count"),": ",b.models.length]}),b.models.map(T=>f.jsxs("span",{className:z.modelTag,children:[f.jsx("span",{className:z.modelName,children:T.name}),T.alias&&T.alias!==T.name&&f.jsx("span",{className:z.modelAlias,children:T.alias})]},T.name))]}):null,N.length?f.jsxs("div",{className:z.excludedModelsSection,children:[f.jsx("div",{className:z.excludedModelsLabel,children:h("ai_providers.excluded_models_count",{count:N.length})}),f.jsx("div",{className:z.modelTagList,children:N.map(T=>f.jsx("span",{className:`${z.modelTag} ${z.excludedModelTag}`,children:f.jsx("span",{className:z.modelName,children:T})},T))})]}):null,f.jsxs("div",{className:z.cardStats,children:[f.jsxs("span",{className:`${z.statPill} ${z.statSuccess}`,children:[h("stats.success"),": ",v.success]}),f.jsxs("span",{className:`${z.statPill} ${z.statFailure}`,children:[h("stats.failure"),": ",v.failure]})]}),f.jsx(Rh,{statusData:O})]})}})})})}const DC="data:image/svg+xml,%3csvg%20fill='%23000000'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eOpenAI%3c/title%3e%3cpath%20d='M21.55%2010.004a5.416%205.416%200%2000-.478-4.501c-1.217-2.09-3.662-3.166-6.05-2.66A5.59%205.59%200%200010.831%201C8.39.995%206.224%202.546%205.473%204.838A5.553%205.553%200%20001.76%207.496a5.487%205.487%200%2000.691%206.5%205.416%205.416%200%2000.477%204.502c1.217%202.09%203.662%203.165%206.05%202.66A5.586%205.586%200%200013.168%2023c2.443.006%204.61-1.546%205.361-3.84a5.553%205.553%200%20003.715-2.66%205.488%205.488%200%2000-.693-6.497v.001zm-8.381%2011.558a4.199%204.199%200%2001-2.675-.954c.034-.018.093-.05.132-.074l4.44-2.53a.71.71%200%2000.364-.623v-6.176l1.877%201.069c.02.01.033.029.036.05v5.115c-.003%202.274-1.87%204.118-4.174%204.123zM4.192%2017.78a4.059%204.059%200%2001-.498-2.763c.032.02.09.055.131.078l4.44%202.53c.225.13.504.13.73%200l5.42-3.088v2.138a.068.068%200%2001-.027.057L9.9%2019.288c-1.999%201.136-4.552.46-5.707-1.51h-.001zM3.023%208.216A4.15%204.15%200%20015.198%206.41l-.002.151v5.06a.711.711%200%2000.364.624l5.42%203.087-1.876%201.07a.067.067%200%2001-.063.005l-4.489-2.559c-1.995-1.14-2.679-3.658-1.53-5.63h.001zm15.417%203.54l-5.42-3.088L14.896%207.6a.067.067%200%2001.063-.006l4.489%202.557c1.998%201.14%202.683%203.662%201.529%205.633a4.163%204.163%200%2001-2.174%201.807V12.38a.71.71%200%2000-.363-.623zm1.867-2.773a6.04%206.04%200%2000-.132-.078l-4.44-2.53a.731.731%200%2000-.729%200l-5.42%203.088V7.325a.068.068%200%2001.027-.057L14.1%204.713c2-1.137%204.555-.46%205.707%201.513.487.833.664%201.809.499%202.757h.001zm-11.741%203.81l-1.877-1.068a.065.065%200%2001-.036-.051V6.559c.001-2.277%201.873-4.122%204.181-4.12.976%200%201.92.338%202.671.954-.034.018-.092.05-.131.073l-4.44%202.53a.71.71%200%2000-.365.623l-.003%206.173v.002zm1.02-2.168L12%209.25l2.414%201.375v2.75L12%2014.75l-2.415-1.375v-2.75z'%3e%3c/path%3e%3c/svg%3e",FC="data:image/svg+xml,%3csvg%20fill='%23ffffff'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eOpenAI%3c/title%3e%3cpath%20d='M21.55%2010.004a5.416%205.416%200%2000-.478-4.501c-1.217-2.09-3.662-3.166-6.05-2.66A5.59%205.59%200%200010.831%201C8.39.995%206.224%202.546%205.473%204.838A5.553%205.553%200%20001.76%207.496a5.487%205.487%200%2000.691%206.5%205.416%205.416%200%2000.477%204.502c1.217%202.09%203.662%203.165%206.05%202.66A5.586%205.586%200%200013.168%2023c2.443.006%204.61-1.546%205.361-3.84a5.553%205.553%200%20003.715-2.66%205.488%205.488%200%2000-.693-6.497v.001zm-8.381%2011.558a4.199%204.199%200%2001-2.675-.954c.034-.018.093-.05.132-.074l4.44-2.53a.71.71%200%2000.364-.623v-6.176l1.877%201.069c.02.01.033.029.036.05v5.115c-.003%202.274-1.87%204.118-4.174%204.123zM4.192%2017.78a4.059%204.059%200%2001-.498-2.763c.032.02.09.055.131.078l4.44%202.53c.225.13.504.13.73%200l5.42-3.088v2.138a.068.068%200%2001-.027.057L9.9%2019.288c-1.999%201.136-4.552.46-5.707-1.51h-.001zM3.023%208.216A4.15%204.15%200%20015.198%206.41l-.002.151v5.06a.711.711%200%2000.364.624l5.42%203.087-1.876%201.07a.067.067%200%2001-.063.005l-4.489-2.559c-1.995-1.14-2.679-3.658-1.53-5.63h.001zm15.417%203.54l-5.42-3.088L14.896%207.6a.067.067%200%2001.063-.006l4.489%202.557c1.998%201.14%202.683%203.662%201.529%205.633a4.163%204.163%200%2001-2.174%201.807V12.38a.71.71%200%2000-.363-.623zm1.867-2.773a6.04%206.04%200%2000-.132-.078l-4.44-2.53a.731.731%200%2000-.729%200l-5.42%203.088V7.325a.068.068%200%2001.027-.057L14.1%204.713c2-1.137%204.555-.46%205.707%201.513.487.833.664%201.809.499%202.757h.001zm-11.741%203.81l-1.877-1.068a.065.065%200%2001-.036-.051V6.559c.001-2.277%201.873-4.122%204.181-4.12.976%200%201.92.338%202.671.954-.034.018-.092.05-.131.073l-4.44%202.53a.71.71%200%2000-.365.623l-.003%206.173v.002zm1.02-2.168L12%209.25l2.414%201.375v2.75L12%2014.75l-2.415-1.375v-2.75z'%3e%3c/path%3e%3c/svg%3e";function zee({configs:n,keyStats:e,usageDetails:t,loading:i,disableControls:s,isSwitching:a,resolvedTheme:r,onAdd:o,onEdit:l,onDelete:u}){const{t:h}=Ze(),m=s||i||a,g=w.useMemo(()=>{const _=new Map;return n.forEach(b=>{const x=new Set;bs({prefix:b.prefix}).forEach(C=>x.add(C)),(b.apiKeyEntries||[]).forEach(C=>{bs({apiKey:C.apiKey}).forEach(k=>x.add(k))});const v=x.size?t.filter(C=>x.has(C.source)):[];_.set(b.name,Ka(v))}),_},[n,t]);return f.jsx(f.Fragment,{children:f.jsx(wt,{title:f.jsxs("span",{className:z.cardTitle,children:[f.jsx("img",{src:r==="dark"?FC:DC,alt:"",className:z.cardTitleIcon}),h("ai_providers.openai_title")]}),extra:f.jsx(he,{size:"sm",onClick:o,disabled:m,children:h("ai_providers.openai_add_button")}),children:f.jsx(tg,{items:n,loading:i,keyField:(_,b)=>`openai-provider-${b}`,emptyTitle:h("ai_providers.openai_empty_title"),emptyDescription:h("ai_providers.openai_empty_desc"),onEdit:l,onDelete:u,actionsDisabled:m,renderContent:_=>{const b=I$(_.apiKeyEntries,e,_.prefix),x=Object.entries(_.headers||{}),v=_.apiKeyEntries||[],C=g.get(_.name)||Ka([]);return f.jsxs(w.Fragment,{children:[f.jsx("div",{className:"item-title",children:_.name}),_.priority!==void 0&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.priority"),":"]}),f.jsx("span",{className:z.fieldValue,children:_.priority})]}),_.prefix&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.prefix"),":"]}),f.jsx("span",{className:z.fieldValue,children:_.prefix})]}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[h("common.base_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:_.baseUrl})]}),x.length>0&&f.jsx("div",{className:z.headerBadgeList,children:x.map(([k,N])=>f.jsxs("span",{className:z.headerBadge,children:[f.jsxs("strong",{children:[k,":"]})," ",N]},k))}),v.length>0&&f.jsxs("div",{className:z.apiKeyEntriesSection,children:[f.jsxs("div",{className:z.apiKeyEntriesLabel,children:[h("ai_providers.openai_keys_count"),": ",v.length]}),f.jsx("div",{className:z.apiKeyEntryList,children:v.map((k,N)=>{const O=Zp(k.apiKey,e);return f.jsxs("div",{className:z.apiKeyEntryCard,children:[f.jsx("span",{className:z.apiKeyEntryIndex,children:N+1}),f.jsx("span",{className:z.apiKeyEntryKey,children:Xa(k.apiKey)}),k.proxyUrl&&f.jsx("span",{className:z.apiKeyEntryProxy,children:k.proxyUrl}),f.jsxs("div",{className:z.apiKeyEntryStats,children:[f.jsxs("span",{className:`${z.apiKeyEntryStat} ${z.apiKeyEntryStatSuccess}`,children:[f.jsx(Yk,{size:12})," ",O.success]}),f.jsxs("span",{className:`${z.apiKeyEntryStat} ${z.apiKeyEntryStatFailure}`,children:[f.jsx(Mu,{size:12})," ",O.failure]})]})]},N)})})]}),f.jsxs("div",{className:z.fieldRow,style:{marginTop:"8px"},children:[f.jsxs("span",{className:z.fieldLabel,children:[h("ai_providers.openai_models_count"),":"]}),f.jsx("span",{className:z.fieldValue,children:_.models?.length||0})]}),_.models?.length?f.jsx("div",{className:z.modelTagList,children:_.models.map(k=>f.jsxs("span",{className:z.modelTag,children:[f.jsx("span",{className:z.modelName,children:k.name}),k.alias&&k.alias!==k.name&&f.jsx("span",{className:z.modelAlias,children:k.alias})]},k.name))}):null,_.testModel&&f.jsxs("div",{className:z.fieldRow,children:[f.jsx("span",{className:z.fieldLabel,children:"Test Model:"}),f.jsx("span",{className:z.fieldValue,children:_.testModel})]}),f.jsxs("div",{className:z.cardStats,children:[f.jsxs("span",{className:`${z.statPill} ${z.statSuccess}`,children:[h("stats.success"),": ",b.success]}),f.jsxs("span",{className:`${z.statPill} ${z.statFailure}`,children:[h("stats.failure"),": ",b.failure]})]}),f.jsx(Rh,{statusData:C})]})}})})})}const UC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M20,13.89A.77.77,0,0,0,19,13.73l-7,5.14v.22a.72.72,0,1,1,0,1.43v0a.74.74,0,0,0,.45-.15l7.41-5.47A.76.76,0,0,0,20,13.89Z'%20style='fill:%23669df6'/%3e%3cpath%20d='M12,20.52a.72.72,0,0,1,0-1.43h0v-.22L5,13.73a.76.76,0,0,0-1,.16.74.74,0,0,0,.16,1l7.41,5.47a.73.73,0,0,0,.44.15v0Z'%20style='fill:%23aecbfa'/%3e%3cpath%20d='M12,18.34a1.47,1.47,0,1,0,1.47,1.47A1.47,1.47,0,0,0,12,18.34Zm0,2.18a.72.72,0,1,1,.72-.71A.71.71,0,0,1,12,20.52Z'%20style='fill:%234285f4'/%3e%3cpath%20d='M6,6.11a.76.76,0,0,1-.75-.75V3.48a.76.76,0,1,1,1.51,0V5.36A.76.76,0,0,1,6,6.11Z'%20style='fill:%23aecbfa'/%3e%3ccircle%20cx='5.98'%20cy='12'%20r='0.76'%20style='fill:%23aecbfa'/%3e%3ccircle%20cx='5.98'%20cy='9.79'%20r='0.76'%20style='fill:%23aecbfa'/%3e%3ccircle%20cx='5.98'%20cy='7.57'%20r='0.76'%20style='fill:%23aecbfa'/%3e%3cpath%20d='M18,8.31a.76.76,0,0,1-.75-.76V5.67a.75.75,0,1,1,1.5,0V7.55A.75.75,0,0,1,18,8.31Z'%20style='fill:%234285f4'/%3e%3ccircle%20cx='18.02'%20cy='12.01'%20r='0.76'%20style='fill:%234285f4'/%3e%3ccircle%20cx='18.02'%20cy='9.76'%20r='0.76'%20style='fill:%234285f4'/%3e%3ccircle%20cx='18.02'%20cy='3.48'%20r='0.76'%20style='fill:%234285f4'/%3e%3cpath%20d='M12,15a.76.76,0,0,1-.75-.75V12.34a.76.76,0,0,1,1.51,0v1.89A.76.76,0,0,1,12,15Z'%20style='fill:%23669df6'/%3e%3ccircle%20cx='12'%20cy='16.45'%20r='0.76'%20style='fill:%23669df6'/%3e%3ccircle%20cx='12'%20cy='10.14'%20r='0.76'%20style='fill:%23669df6'/%3e%3ccircle%20cx='12'%20cy='7.92'%20r='0.76'%20style='fill:%23669df6'/%3e%3cpath%20d='M15,10.54a.76.76,0,0,1-.75-.75V7.91a.76.76,0,1,1,1.51,0V9.79A.76.76,0,0,1,15,10.54Z'%20style='fill:%234285f4'/%3e%3ccircle%20cx='15.01'%20cy='5.69'%20r='0.76'%20style='fill:%234285f4'/%3e%3ccircle%20cx='15.01'%20cy='14.19'%20r='0.76'%20style='fill:%234285f4'/%3e%3ccircle%20cx='15.01'%20cy='11.97'%20r='0.76'%20style='fill:%234285f4'/%3e%3ccircle%20cx='8.99'%20cy='14.19'%20r='0.76'%20style='fill:%23aecbfa'/%3e%3ccircle%20cx='8.99'%20cy='7.92'%20r='0.76'%20style='fill:%23aecbfa'/%3e%3ccircle%20cx='8.99'%20cy='5.69'%20r='0.76'%20style='fill:%23aecbfa'/%3e%3cpath%20d='M9,12.73A.76.76,0,0,1,8.24,12V10.1a.75.75,0,1,1,1.5,0V12A.75.75,0,0,1,9,12.73Z'%20style='fill:%23aecbfa'/%3e%3c/svg%3e";function qee({configs:n,keyStats:e,usageDetails:t,loading:i,disableControls:s,isSwitching:a,onAdd:r,onEdit:o,onDelete:l}){const{t:u}=Ze(),h=s||i||a,m=w.useMemo(()=>{const g=new Map;return n.forEach(_=>{if(!_.apiKey)return;const b=bs({apiKey:_.apiKey,prefix:_.prefix});if(!b.length)return;const x=new Set(b),v=t.filter(C=>x.has(C.source));g.set(_.apiKey,Ka(v))}),g},[n,t]);return f.jsx(f.Fragment,{children:f.jsx(wt,{title:f.jsxs("span",{className:z.cardTitle,children:[f.jsx("img",{src:UC,alt:"",className:z.cardTitleIcon}),u("ai_providers.vertex_title")]}),extra:f.jsx(he,{size:"sm",onClick:r,disabled:h,children:u("ai_providers.vertex_add_button")}),children:f.jsx(tg,{items:n,loading:i,keyField:g=>g.apiKey,emptyTitle:u("ai_providers.vertex_empty_title"),emptyDescription:u("ai_providers.vertex_empty_desc"),onEdit:o,onDelete:l,actionsDisabled:h,renderContent:(g,_)=>{const b=Zp(g.apiKey,e,g.prefix),x=Object.entries(g.headers||{}),v=m.get(g.apiKey)||Ka([]);return f.jsxs(w.Fragment,{children:[f.jsxs("div",{className:"item-title",children:[u("ai_providers.vertex_item_title")," #",_+1]}),f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[u("common.api_key"),":"]}),f.jsx("span",{className:z.fieldValue,children:Xa(g.apiKey)})]}),g.prefix&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[u("common.prefix"),":"]}),f.jsx("span",{className:z.fieldValue,children:g.prefix})]}),g.baseUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[u("common.base_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:g.baseUrl})]}),g.proxyUrl&&f.jsxs("div",{className:z.fieldRow,children:[f.jsxs("span",{className:z.fieldLabel,children:[u("common.proxy_url"),":"]}),f.jsx("span",{className:z.fieldValue,children:g.proxyUrl})]}),x.length>0&&f.jsx("div",{className:z.headerBadgeList,children:x.map(([C,k])=>f.jsxs("span",{className:z.headerBadge,children:[f.jsxs("strong",{children:[C,":"]})," ",k]},C))}),g.models?.length?f.jsxs("div",{className:z.modelTagList,children:[f.jsxs("span",{className:z.modelCountLabel,children:[u("ai_providers.vertex_models_count"),": ",g.models.length]}),g.models.map(C=>f.jsxs("span",{className:z.modelTag,children:[f.jsx("span",{className:z.modelName,children:C.name}),C.alias&&f.jsx("span",{className:z.modelAlias,children:C.alias})]},`${C.name}-${C.alias||"default"}`))]}):null,f.jsxs("div",{className:z.cardStats,children:[f.jsxs("span",{className:`${z.statPill} ${z.statSuccess}`,children:[u("stats.success"),": ",b.success]}),f.jsxs("span",{className:`${z.statPill} ${z.statFailure}`,children:[u("stats.failure"),": ",b.failure]})]}),f.jsx(Rh,{statusData:v})]})}})})})}const Kee="ProviderNav-module__navContainer___Ym-Eg",Hee="ProviderNav-module__navList___7nsum",Vee="ProviderNav-module__indicator___Ta8ib",Wee="ProviderNav-module__indicatorVisible___U7LEL",Gee="ProviderNav-module__indicatorNoTransition___dtZdn",Xee="ProviderNav-module__navItem___LRkPI",$ee="ProviderNav-module__active___Jo0X6",Qee="ProviderNav-module__icon___X-NJQ",Tl={navContainer:Kee,navList:Hee,indicator:Vee,indicatorVisible:Wee,indicatorNoTransition:Gee,navItem:Xee,active:$ee,icon:Qee},y2=[{id:"gemini",label:"Gemini",getIcon:()=>Gb},{id:"codex",label:"Codex",getIcon:n=>n==="dark"?jC:EC},{id:"claude",label:"Claude",getIcon:()=>Wb},{id:"vertex",label:"Vertex",getIcon:()=>UC},{id:"ampcode",label:"Ampcode",getIcon:()=>O6},{id:"openai",label:"OpenAI",getIcon:n=>n==="dark"?FC:DC}],b2=24;function Yee(){const n=$n(),e=RC(),t=e?e.status==="current":!0,i=qa(P=>P.resolvedTheme),[s,a]=w.useState(null),r=w.useRef(null),o=w.useRef(null),l=w.useRef(null),u=w.useRef({gemini:null,codex:null,claude:null,vertex:null,ampcode:null,openai:null}),[h,m]=w.useState(null),[g,_]=w.useState(!1),b=w.useRef(!1),x=n.pathname.length>1&&n.pathname.endsWith("/")?n.pathname.slice(0,-1):n.pathname,v=t&&x==="/ai-providers",C=w.useCallback(()=>{const P=document.querySelector(".main-header");if(P)return P.getBoundingClientRect().height;const R=getComputedStyle(document.documentElement).getPropertyValue("--header-height"),D=Number.parseFloat(R);return Number.isFinite(D)?D:0},[]),k=w.useCallback(()=>{if(r.current&&document.contains(r.current))return r.current;const P=document.querySelector(".content");return r.current=P,P},[]),N=w.useCallback(()=>window.matchMedia("(max-width: 768px)").matches?window:k()??window,[k]),O=w.useCallback(()=>{const P=N();if(!P)return;const R=P instanceof HTMLElement,D=R?0:C(),F=(R?P.getBoundingClientRect().top:0)+D+b2+1;let H=null;for(const Z of y2){const Y=document.getElementById(`provider-${Z.id}`);if(!Y)continue;if(Y.getBoundingClientRect().top<=F){H=Z.id;continue}if(H)break}H||(H=y2.find(Y=>document.getElementById(`provider-${Y.id}`))?.id??null),a(H)},[C,N]);w.useEffect(()=>{if(!v)return;const P=k();window.addEventListener("scroll",O,{passive:!0}),P?.addEventListener("scroll",O,{passive:!0}),window.addEventListener("resize",O);const R=requestAnimationFrame(O);return()=>{cancelAnimationFrame(R),window.removeEventListener("scroll",O),window.removeEventListener("resize",O),P?.removeEventListener("scroll",O)}},[k,O,v]);const T=w.useCallback(P=>{if(!P){m(null);return}const R=u.current[P];R&&(m({x:R.offsetLeft,y:R.offsetTop,width:R.offsetWidth,height:R.offsetHeight}),b.current||(b.current=!0,requestAnimationFrame(()=>_(!0))))},[]);w.useLayoutEffect(()=>{if(!v)return;const P=requestAnimationFrame(()=>T(s));return()=>cancelAnimationFrame(P)},[s,v,T]),w.useLayoutEffect(()=>{if(!v)return;const P=l.current;if(!P)return;const R=()=>{const U=P.getBoundingClientRect().height;document.documentElement.style.setProperty("--provider-nav-height",`${U}px`)};R(),window.addEventListener("resize",R);const D=typeof ResizeObserver>"u"?null:new ResizeObserver(R);return D?.observe(P),()=>{D?.disconnect(),window.removeEventListener("resize",R),document.documentElement.style.removeProperty("--provider-nav-height")}},[v]);const L=P=>{const R=N(),D=document.getElementById(`provider-${P}`);if(!D||!R)return;if(a(P),T(P),!(R instanceof HTMLElement)){const Z=C(),Y=D.getBoundingClientRect().top+window.scrollY,I=Math.max(0,Y-Z-b2);window.scrollTo({top:I,behavior:"smooth"});return}const U=R.getBoundingClientRect(),F=D.getBoundingClientRect(),H=R.scrollTop+(F.top-U.top)-b2;R.scrollTo({top:H,behavior:"smooth"})};w.useEffect(()=>{if(!v)return;const P=()=>T(s);return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}},[s,v,T]);const M=f.jsx("div",{className:Tl.navContainer,ref:l,children:f.jsxs("div",{className:Tl.navList,ref:o,children:[f.jsx("div",{className:[Tl.indicator,h?Tl.indicatorVisible:"",g?"":Tl.indicatorNoTransition].filter(Boolean).join(" "),style:h?{transform:`translate3d(${h.x}px, ${h.y}px, 0)`,width:h.width,height:h.height}:void 0}),y2.map(P=>{const R=s===P.id;return f.jsx("button",{className:`${Tl.navItem} ${R?Tl.active:""}`,ref:D=>{u.current[P.id]=D},onClick:()=>L(P.id),title:P.label,type:"button","aria-label":P.label,"aria-pressed":R,children:f.jsx("img",{src:P.getIcon(i),alt:P.label,className:Tl.icon})},P.id)})]})});return typeof document>"u"||!v?null:Nu.createPortal(M,document.body)}function uw(n,e){const t=w.useRef(null);w.useEffect(()=>{t.current=n},[n]),w.useEffect(()=>{if(e===null)return;const s=setInterval(()=>{t.current?.()},e);return()=>clearInterval(s)},[e])}const Zee=()=>{const n=ms(r=>r.keyStats),e=ms(r=>r.usageDetails),t=ms(r=>r.loading),i=ms(r=>r.loadUsageStats),s=w.useCallback(async()=>{await i({staleTimeMs:Wo})},[i]),a=w.useCallback(async()=>{await i({force:!0,staleTimeMs:Wo})},[i]);return uw(()=>{a().catch(()=>{})},24e4),{keyStats:n,usageDetails:e,loadKeyStats:s,refreshKeyStats:a,isLoading:t}};let jm=null;const L6=async()=>{jm&&await jm()},ng=n=>{w.useEffect(()=>{if(n)return jm=n,()=>{jm===n&&(jm=null)}},[n])};function nR(){const{t:n}=Ze(),e=Ri(),{showNotification:t,showConfirmation:i}=un(),s=qa(G=>G.resolvedTheme),a=Kt(G=>G.connectionStatus),r=Dt(G=>G.config),o=Dt(G=>G.fetchConfig),l=Dt(G=>G.updateConfigValue),u=Dt(G=>G.clearCache),h=Dt(G=>G.isCacheValid),m=w.useRef(!1),[g,_]=w.useState(()=>!h()),[b,x]=w.useState(""),[v,C]=w.useState(()=>r?.geminiApiKeys||[]),[k,N]=w.useState(()=>r?.codexApiKeys||[]),[O,T]=w.useState(()=>r?.claudeApiKeys||[]),[L,M]=w.useState(()=>r?.vertexApiKeys||[]),[P,R]=w.useState(()=>r?.openaiCompatibility||[]),[D,U]=w.useState(null),F=a!=="connected",H=!!D,{keyStats:Z,usageDetails:Y,loadKeyStats:I,refreshKeyStats:K}=Zee(),V=G=>G instanceof Error?G.message:typeof G=="string"?G:"",$=w.useCallback(async()=>{h()||_(!0),x("");try{const[ne,J,re]=await Promise.allSettled([o(),Si.getVertexConfigs(),Lo.getAmpcode()]);if(ne.status!=="fulfilled")throw ne.reason;const de=ne.value;C(de?.geminiApiKeys||[]),N(de?.codexApiKeys||[]),T(de?.claudeApiKeys||[]),M(de?.vertexApiKeys||[]),R(de?.openaiCompatibility||[]),J.status==="fulfilled"&&(M(J.value||[]),l("vertex-api-key",J.value||[]),u("vertex-api-key")),re.status==="fulfilled"&&(l("ampcode",re.value),u("ampcode"))}catch(ne){const J=V(ne)||n("notification.refresh_failed");x(J)}finally{_(!1)}},[u,o,h,n,l]);w.useEffect(()=>{m.current||(m.current=!0,$(),I().catch(()=>{}))},[$,I]),w.useEffect(()=>{r?.geminiApiKeys&&C(r.geminiApiKeys),r?.codexApiKeys&&N(r.codexApiKeys),r?.claudeApiKeys&&T(r.claudeApiKeys),r?.vertexApiKeys&&M(r.vertexApiKeys),r?.openaiCompatibility&&R(r.openaiCompatibility)},[r?.geminiApiKeys,r?.codexApiKeys,r?.claudeApiKeys,r?.vertexApiKeys,r?.openaiCompatibility]),ng(K);const W=w.useCallback(G=>{e(G,{state:{fromAiProviders:!0}})},[e]),j=async G=>{const ne=v[G];ne&&i({title:n("ai_providers.gemini_delete_title",{defaultValue:"Delete Gemini Key"}),message:n("ai_providers.gemini_delete_confirm"),variant:"danger",confirmText:n("common.confirm"),onConfirm:async()=>{try{await Si.deleteGeminiKey(ne.apiKey);const J=v.filter((re,de)=>de!==G);C(J),l("gemini-api-key",J),u("gemini-api-key"),t(n("notification.gemini_key_deleted"),"success")}catch(J){const re=V(J);t(`${n("notification.delete_failed")}: ${re}`,"error")}}})},B=async(G,ne,J)=>{if(G==="gemini"){const Ee=v[ne];if(!Ee)return;const Ye=`${G}:${Ee.apiKey}`;U(Ye);const Lt=v,me=J?CP(Ee.excludedModels):kP(Ee.excludedModels),Ie={...Ee,excludedModels:me},Je=Lt.map((ct,le)=>le===ne?Ie:ct);C(Je),l("gemini-api-key",Je),u("gemini-api-key");try{await Si.saveGeminiKeys(Je),t(n(J?"notification.config_enabled":"notification.config_disabled"),"success")}catch(ct){const le=V(ct);C(Lt),l("gemini-api-key",Lt),u("gemini-api-key"),t(`${n("notification.update_failed")}: ${le}`,"error")}finally{U(null)}return}const re=G==="codex"?k:O,de=re[ne];if(!de)return;const Le=`${G}:${de.apiKey}`;U(Le);const ke=re,nt=J?CP(de.excludedModels):kP(de.excludedModels),_t={...de,excludedModels:nt},Ft=ke.map((Ee,Ye)=>Ye===ne?_t:Ee);G==="codex"?(N(Ft),l("codex-api-key",Ft),u("codex-api-key")):(T(Ft),l("claude-api-key",Ft),u("claude-api-key"));try{G==="codex"?await Si.saveCodexConfigs(Ft):await Si.saveClaudeConfigs(Ft),t(n(J?"notification.config_enabled":"notification.config_disabled"),"success")}catch(Ee){const Ye=V(Ee);G==="codex"?(N(ke),l("codex-api-key",ke),u("codex-api-key")):(T(ke),l("claude-api-key",ke),u("claude-api-key")),t(`${n("notification.update_failed")}: ${Ye}`,"error")}finally{U(null)}},X=async(G,ne)=>{const re=(G==="codex"?k:O)[ne];re&&i({title:n(`ai_providers.${G}_delete_title`,{defaultValue:`Delete ${G==="codex"?"Codex":"Claude"} Config`}),message:n(`ai_providers.${G}_delete_confirm`),variant:"danger",confirmText:n("common.confirm"),onConfirm:async()=>{try{if(G==="codex"){await Si.deleteCodexConfig(re.apiKey);const de=k.filter((Le,ke)=>ke!==ne);N(de),l("codex-api-key",de),u("codex-api-key"),t(n("notification.codex_config_deleted"),"success")}else{await Si.deleteClaudeConfig(re.apiKey);const de=O.filter((Le,ke)=>ke!==ne);T(de),l("claude-api-key",de),u("claude-api-key"),t(n("notification.claude_config_deleted"),"success")}}catch(de){const Le=V(de);t(`${n("notification.delete_failed")}: ${Le}`,"error")}}})},te=async G=>{const ne=L[G];ne&&i({title:n("ai_providers.vertex_delete_title",{defaultValue:"Delete Vertex Config"}),message:n("ai_providers.vertex_delete_confirm"),variant:"danger",confirmText:n("common.confirm"),onConfirm:async()=>{try{await Si.deleteVertexConfig(ne.apiKey);const J=L.filter((re,de)=>de!==G);M(J),l("vertex-api-key",J),u("vertex-api-key"),t(n("notification.vertex_config_deleted"),"success")}catch(J){const re=V(J);t(`${n("notification.delete_failed")}: ${re}`,"error")}}})},Q=async G=>{const ne=P[G];ne&&i({title:n("ai_providers.openai_delete_title",{defaultValue:"Delete OpenAI Provider"}),message:n("ai_providers.openai_delete_confirm"),variant:"danger",confirmText:n("common.confirm"),onConfirm:async()=>{try{await Si.deleteOpenAIProvider(ne.name);const J=P.filter((re,de)=>de!==G);R(J),l("openai-compatibility",J),u("openai-compatibility"),t(n("notification.openai_provider_deleted"),"success")}catch(J){const re=V(J);t(`${n("notification.delete_failed")}: ${re}`,"error")}}})};return f.jsxs("div",{className:z.container,children:[f.jsx("h1",{className:z.pageTitle,children:n("ai_providers.title")}),f.jsxs("div",{className:z.content,children:[b&&f.jsx("div",{className:"error-box",children:b}),f.jsx("div",{id:"provider-gemini",children:f.jsx(Iee,{configs:v,keyStats:Z,usageDetails:Y,loading:g,disableControls:F,isSwitching:H,onAdd:()=>W("/ai-providers/gemini/new"),onEdit:G=>W(`/ai-providers/gemini/${G}`),onDelete:j,onToggle:(G,ne)=>void B("gemini",G,ne)})}),f.jsx("div",{id:"provider-codex",children:f.jsx(Bee,{configs:k,keyStats:Z,usageDetails:Y,loading:g,disableControls:F,isSwitching:H,resolvedTheme:s,onAdd:()=>W("/ai-providers/codex/new"),onEdit:G=>W(`/ai-providers/codex/${G}`),onDelete:G=>void X("codex",G),onToggle:(G,ne)=>void B("codex",G,ne)})}),f.jsx("div",{id:"provider-claude",children:f.jsx(Uee,{configs:O,keyStats:Z,usageDetails:Y,loading:g,disableControls:F,isSwitching:H,onAdd:()=>W("/ai-providers/claude/new"),onEdit:G=>W(`/ai-providers/claude/${G}`),onDelete:G=>void X("claude",G),onToggle:(G,ne)=>void B("claude",G,ne)})}),f.jsx("div",{id:"provider-vertex",children:f.jsx(qee,{configs:L,keyStats:Z,usageDetails:Y,loading:g,disableControls:F,isSwitching:H,onAdd:()=>W("/ai-providers/vertex/new"),onEdit:G=>W(`/ai-providers/vertex/${G}`),onDelete:te})}),f.jsx("div",{id:"provider-ampcode",children:f.jsx(Oee,{config:r?.ampcode,loading:g,disableControls:F,isSwitching:H,onEdit:()=>W("/ai-providers/ampcode")})}),f.jsx("div",{id:"provider-openai",children:f.jsx(zee,{configs:P,keyStats:Z,usageDetails:Y,loading:g,disableControls:F,isSwitching:H,resolvedTheme:s,onAdd:()=>W("/ai-providers/openai/new"),onEdit:G=>W(`/ai-providers/openai/${G}`),onDelete:Q})})]}),f.jsx(Yee,{})]})}function Eh({entries:n,onChange:e,addLabel:t,disabled:i=!1,namePlaceholder:s="model-name",aliasPlaceholder:a="alias (optional)",hideAddButton:r=!1,onAdd:o,className:l="",rowClassName:u="",inputClassName:h="",removeButtonClassName:m="",removeButtonTitle:g="Remove",removeButtonAriaLabel:_="Remove"}){const b=n.length?n:[{name:"",alias:""}],x=["header-input-list",l].filter(Boolean).join(" "),v=["input",h].filter(Boolean).join(" "),C=["header-input-row",u].filter(Boolean).join(" "),k=(T,L,M)=>{const P=b.map((R,D)=>D===T?{...R,[L]:M}:R);e(P)},N=()=>{o?o():e([...b,{name:"",alias:""}])},O=T=>{const L=b.filter((M,P)=>P!==T);e(L.length?L:[{name:"",alias:""}])};return f.jsxs("div",{className:x,children:[b.map((T,L)=>f.jsx(w.Fragment,{children:f.jsxs("div",{className:C,children:[f.jsx("input",{className:v,placeholder:s,value:T.name,onChange:M=>k(L,"name",M.target.value),disabled:i}),f.jsx("span",{className:"header-separator",children:""}),f.jsx("input",{className:v,placeholder:a,value:T.alias,onChange:M=>k(L,"alias",M.target.value),disabled:i}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>O(L),disabled:i||b.length<=1,className:m,title:g,"aria-label":_,children:f.jsx(Mu,{size:14})})]})},L)),!r&&t&&f.jsx(he,{variant:"secondary",size:"sm",onClick:N,disabled:i,className:"align-start",children:t})]})}const Jee=28,ete=90,iR=1.2;function eo({enabled:n=!0,edgeSize:e=Jee,threshold:t=ete,onBack:i}){const s=w.useRef(null),a=w.useRef(null);return w.useEffect(()=>{if(!n)return;const r=s.current;if(!r)return;const o=()=>{a.current=null},l=g=>{const _=a.current;if(!_?.active||g.pointerId!==_.pointerId)return;const b=g.clientX-_.startX,x=g.clientY-_.startY;Math.abs(x)>Math.abs(b)*iR&&o()},u=g=>{const _=a.current;if(!_?.active||g.pointerId!==_.pointerId)return;const b=g.clientX-_.startX,x=g.clientY-_.startY,v=Math.abs(b)>Math.abs(x)*iR;o(),b>=t&&v&&i()},h=g=>{const _=a.current;_?.active&&g.pointerId===_.pointerId&&o()},m=g=>{g.pointerType==="touch"&&g.isPrimary&&(g.clientX>e||(a.current={pointerId:g.pointerId,startX:g.clientX,startY:g.clientY,active:!0}))};return r.addEventListener("pointerdown",m,{passive:!0}),window.addEventListener("pointermove",l,{passive:!0}),window.addEventListener("pointerup",u,{passive:!0}),window.addEventListener("pointercancel",h,{passive:!0}),()=>{r.removeEventListener("pointerdown",m),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h)}},[e,n,i,t]),s}function jh(n){const{enabled:e=!0,shouldBlock:t,dialog:i}=n,{showConfirmation:s}=un(),a=w.useRef(""),r=w.useRef(0),o=w.useRef(""),l=$n(),u=w.useCallback(()=>{r.current=Date.now()+2e3,o.current=""},[]),h=w.useCallback(_=>{if(!e)return!1;const b=Date.now();if(r.current>b){const x=`${_.nextLocation.pathname}${_.nextLocation.search}${_.nextLocation.hash}`;if(o.current||(o.current=x),o.current===x)return!1}else r.current!==0&&(r.current=0,o.current="");return typeof t=="function"?t(_):t},[e,t]),m=eK(h);w.useEffect(()=>{r.current!==0&&(r.current=0,o.current="")},[l.key]);const g=w.useMemo(()=>m.state!=="blocked"||!m.location?"":`${m.location.pathname}${m.location.search}${m.location.hash}`,[m.location,m.state]);return w.useEffect(()=>{if(m.state!=="blocked"){a.current="";return}!g||a.current===g||(a.current=g,s({title:i.title,message:i.message,confirmText:i.confirmText,cancelText:i.cancelText,variant:i.variant??"danger",onConfirm:()=>m.proceed(),onCancel:()=>m.reset()}))},[g,m,i,s]),{allowNextNavigation:u}}function _u({size:n=20,className:e=""}){return f.jsx("div",{className:`loading-spinner${e?` ${e}`:""}`,style:{width:n,height:n,borderWidth:n/7},role:"status","aria-live":"polite"})}const tte="SecondaryScreenShell-module__container___9DAwq",nte="SecondaryScreenShell-module__topBar___vHzq4",ite="SecondaryScreenShell-module__topBarTitle___Q8LCy",ste="SecondaryScreenShell-module__backButton___d6Zgy",ate="SecondaryScreenShell-module__backIcon___R8Iyn",rte="SecondaryScreenShell-module__backText___CODk7",ote="SecondaryScreenShell-module__rightSlot___ZvWJR",lte="SecondaryScreenShell-module__loadingState___4Jbsa",cte="SecondaryScreenShell-module__content___nVk3R",ute="SecondaryScreenShell-module__contentWithFloatingAction___4gXgb",dte="SecondaryScreenShell-module__floatingActionContainer___sSKk-",hte="SecondaryScreenShell-module__floatingActionSurface___Wfab-",Na={container:tte,topBar:nte,topBarTitle:ite,backButton:ste,backIcon:ate,backText:rte,rightSlot:ote,loadingState:lte,content:cte,contentWithFloatingAction:ute,floatingActionContainer:dte,floatingActionSurface:hte},to=w.forwardRef(function({title:e,onBack:t,backLabel:i="Back",backAriaLabel:s,rightAction:a,hideTopBarBackButton:r=!1,hideTopBarRightAction:o=!1,floatingAction:l,isLoading:u=!1,loadingLabel:h="Loading...",className:m="",contentClassName:g="",children:_},b){const x=[Na.container,m].filter(Boolean).join(" "),v=[Na.content,l?Na.contentWithFloatingAction:"",g].filter(Boolean).join(" "),C=typeof e=="string"?e:void 0,k=s??i,N=RC(),O=N?N.status==="current":!0,T=!!l&&O,L=w.useRef(null);return w.useLayoutEffect(()=>{if(!T)return;const M=L.current;if(!M)return;const P=()=>{const D=M.getBoundingClientRect().height;document.documentElement.style.setProperty("--secondary-shell-floating-action-height",`${D}px`)};P(),window.addEventListener("resize",P);const R=typeof ResizeObserver>"u"?null:new ResizeObserver(P);return R?.observe(M),()=>{R?.disconnect(),window.removeEventListener("resize",P),document.documentElement.style.removeProperty("--secondary-shell-floating-action-height")}},[T]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:x,ref:b,children:[f.jsxs("div",{className:Na.topBar,children:[t&&!r?f.jsxs(he,{variant:"ghost",size:"sm",onClick:t,className:Na.backButton,"aria-label":k,children:[f.jsx("span",{className:Na.backIcon,children:f.jsx(YH,{size:18})}),f.jsx("span",{className:Na.backText,children:i})]}):f.jsx("div",{}),f.jsx("div",{className:Na.topBarTitle,title:C,children:e}),f.jsx("div",{className:Na.rightSlot,children:o?null:a})]}),u?f.jsxs("div",{className:Na.loadingState,children:[f.jsx(_u,{size:16}),f.jsx("span",{children:h})]}):f.jsx("div",{className:v,children:_})]}),T&&typeof document<"u"?Nu.createPortal(f.jsx("div",{className:Na.floatingActionContainer,children:f.jsx("div",{className:Na.floatingActionSurface,ref:L,children:l})}),document.body):null]})}),fte="AiProvidersEditLayout-module__content___v2E8m",mte="AiProvidersEditLayout-module__floatingActions___PxOCK",pte="AiProvidersEditLayout-module__floatingBackButton___8aBq-",gte="AiProvidersEditLayout-module__floatingSaveButton___mkAOu",_te="AiProvidersEditLayout-module__upstreamApiKeyRow___z09Am",yte="AiProvidersEditLayout-module__upstreamApiKeyHint___xz0n6",tn={content:fte,floatingActions:mte,floatingBackButton:pte,floatingSaveButton:gte,upstreamApiKeyRow:_te,upstreamApiKeyHint:yte},x2=n=>n instanceof Error?n.message:typeof n=="string"?n:"",bte=n=>(n??[]).reduce((e,t)=>{const i=String(t?.name??"").trim(),s=String(t?.alias??"").trim();return!i&&!s||e.push({from:i,to:s}),e},[]),Wf=n=>JSON.stringify({upstreamUrl:String(n.upstreamUrl??"").trim(),upstreamApiKey:String(n.upstreamApiKey??"").trim(),forceModelMappings:!!n.forceModelMappings,modelMappings:bte(n.mappingEntries)});function xte(){const{t:n}=Ze(),e=Ri(),t=$n(),{showNotification:i,showConfirmation:s}=un(),r=Kt(j=>j.connectionStatus)!=="connected",o=Dt(j=>j.config),l=Dt(j=>j.updateConfigValue),u=Dt(j=>j.clearCache),[h,m]=w.useState(()=>z_(null)),[g,_]=w.useState(!1),[b,x]=w.useState(!1),[v,C]=w.useState(!1),[k,N]=w.useState(""),[O,T]=w.useState(!1),[L,M]=w.useState(()=>Wf(z_(null))),P=w.useRef(!1),R=w.useRef(!1),D=w.useMemo(()=>n("ai_providers.ampcode_modal_title"),[n]),U=w.useCallback(()=>{if(t.state?.fromAiProviders){e(-1);return}e("/ai-providers",{replace:!0})},[t.state,e]),F=eo({onBack:U});w.useEffect(()=>{const j=B=>{B.key==="Escape"&&U()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[U]),w.useEffect(()=>(R.current=!0,()=>{R.current=!1}),[]),w.useEffect(()=>{if(P.current)return;P.current=!0,_(!0),x(!1),C(!1),N("");const j=z_(Dt.getState().config?.ampcode??null);m(j),M(Wf(j)),(async()=>{try{const B=await Lo.getAmpcode();if(!R.current)return;x(!0),l("ampcode",B),u("ampcode");const X=z_(B);m(X),M(Wf(X))}catch(B){if(!R.current)return;N(x2(B)||n("notification.refresh_failed"))}finally{R.current&&_(!1)}})()},[u,n,l]);const H=w.useMemo(()=>Wf(h),[h]),Z=L!==H,Y=!g&&!O,{allowNextNavigation:I}=jh({enabled:Y,shouldBlock:({currentLocation:j,nextLocation:B})=>Z&&j.pathname!==B.pathname,dialog:{title:n("common.unsaved_changes_title"),message:n("common.unsaved_changes_message"),confirmText:n("common.leave"),cancelText:n("common.stay"),variant:"danger"}}),K=async()=>{s({title:n("ai_providers.ampcode_clear_upstream_api_key_title",{defaultValue:"Clear Upstream API Key"}),message:n("ai_providers.ampcode_clear_upstream_api_key_confirm"),variant:"danger",confirmText:n("common.confirm"),onConfirm:async()=>{T(!0),N("");try{await Lo.clearUpstreamApiKey();const B={...o?.ampcode??{}};delete B.upstreamApiKey,l("ampcode",B),u("ampcode"),i(n("notification.ampcode_upstream_api_key_cleared"),"success")}catch(j){const B=x2(j);N(B),i(`${n("notification.update_failed")}: ${B}`,"error")}finally{T(!1)}}})},V=async()=>{T(!0),N("");try{const j=h.upstreamUrl.trim(),B=h.upstreamApiKey.trim(),X=q$(h.mappingEntries);j?await Lo.updateUpstreamUrl(j):await Lo.clearUpstreamUrl(),await Lo.updateForceModelMappings(h.forceModelMappings),(b||v)&&(X.length?await Lo.saveModelMappings(X):await Lo.clearModelMappings()),B&&await Lo.updateUpstreamApiKey(B);const te=o?.ampcode??{},Q={upstreamUrl:j||void 0,forceModelMappings:h.forceModelMappings};te.upstreamApiKey&&(Q.upstreamApiKey=te.upstreamApiKey),Array.isArray(te.modelMappings)&&(Q.modelMappings=te.modelMappings),B&&(Q.upstreamApiKey=B),(b||v)&&(X.length?Q.modelMappings=X:delete Q.modelMappings),l("ampcode",Q),u("ampcode"),i(n("notification.ampcode_updated"),"success"),I(),M(Wf(h)),U()}catch(j){const B=x2(j);N(B),i(`${n("notification.update_failed")}: ${B}`,"error")}finally{T(!1)}},$=async()=>{if(!b&&v){s({title:n("ai_providers.ampcode_mappings_overwrite_title",{defaultValue:"Overwrite Mappings"}),message:n("ai_providers.ampcode_mappings_overwrite_confirm"),variant:"secondary",confirmText:n("common.confirm"),onConfirm:V});return}await V()},W=!r&&!O&&!g;return f.jsx(to,{ref:F,contentClassName:tn.content,title:D,onBack:U,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:U,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:()=>void $(),loading:O,disabled:!W,className:tn.floatingSaveButton,children:n("common.save")})]}),isLoading:g,loadingLabel:n("common.loading"),children:f.jsxs(wt,{children:[k&&f.jsx("div",{className:"error-box",children:k}),f.jsx(st,{label:n("ai_providers.ampcode_upstream_url_label"),placeholder:n("ai_providers.ampcode_upstream_url_placeholder"),value:h.upstreamUrl,onChange:j=>m(B=>({...B,upstreamUrl:j.target.value})),disabled:g||O||r,hint:n("ai_providers.ampcode_upstream_url_hint")}),f.jsx(st,{label:n("ai_providers.ampcode_upstream_api_key_label"),placeholder:n("ai_providers.ampcode_upstream_api_key_placeholder"),type:"password",value:h.upstreamApiKey,onChange:j=>m(B=>({...B,upstreamApiKey:j.target.value})),disabled:g||O||r,hint:n("ai_providers.ampcode_upstream_api_key_hint")}),f.jsxs("div",{className:tn.upstreamApiKeyRow,children:[f.jsx("div",{className:tn.upstreamApiKeyHint,children:n("ai_providers.ampcode_upstream_api_key_current",{key:o?.ampcode?.upstreamApiKey?Xa(o.ampcode.upstreamApiKey):n("common.not_set")})}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>void K(),disabled:g||O||r||!o?.ampcode?.upstreamApiKey,children:n("ai_providers.ampcode_clear_upstream_api_key")})]}),f.jsxs("div",{className:"form-group",children:[f.jsx(ts,{label:n("ai_providers.ampcode_force_model_mappings_label"),checked:h.forceModelMappings,onChange:j=>m(B=>({...B,forceModelMappings:j})),disabled:g||O||r}),f.jsx("div",{className:"hint",children:n("ai_providers.ampcode_force_model_mappings_hint")})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.ampcode_model_mappings_label")}),f.jsx(Eh,{entries:h.mappingEntries,onChange:j=>{C(!0),m(B=>({...B,mappingEntries:j}))},addLabel:n("ai_providers.ampcode_model_mappings_add_btn"),namePlaceholder:n("ai_providers.ampcode_model_mappings_from_placeholder"),aliasPlaceholder:n("ai_providers.ampcode_model_mappings_to_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:g||O||r}),f.jsx("div",{className:"hint",children:n("ai_providers.ampcode_model_mappings_hint")})]})]})})}const ig=n=>!Array.isArray(n)||n.length===0?[{name:"",alias:""}]:n.map(e=>({name:e.name||"",alias:e.alias||""})),BC=n=>n.filter(e=>e.name.trim()).map(e=>{const t={name:e.name.trim()},i=e.alias.trim();return i&&i!==t.name&&(t.alias=i),t}),sR=()=>({apiKey:"",priority:void 0,prefix:"",baseUrl:"",proxyUrl:"",headers:[],models:[],excludedModels:[],modelEntries:[{name:"",alias:""}],excludedText:""}),vte=n=>{if(!n)return null;const e=Number.parseInt(n,10);return Number.isFinite(e)?e:null},aR=n=>n instanceof Error?n.message:typeof n=="string"?n:"",Ste=n=>(n??[]).reduce((e,t)=>{const i=String(t?.name??"").trim();let s=String(t?.alias??"").trim();return i&&(s=s||i),!i&&!s||e.push({name:i,alias:s}),e},[]),wte=n=>{if(!n)return null;const e=String(n.mode??"").trim().toLowerCase()||"auto",t=!!n.strictMode,i=Array.isArray(n.sensitiveWords)?n.sensitiveWords.map(s=>String(s??"").trim()).filter(Boolean):[];return{mode:e,strictMode:t,sensitiveWords:i.length?i:null}},Q_=n=>JSON.stringify({apiKey:String(n.apiKey??"").trim(),priority:n.priority!==void 0&&Number.isFinite(n.priority)?Math.trunc(n.priority):null,prefix:String(n.prefix??"").trim(),baseUrl:String(n.baseUrl??"").trim(),proxyUrl:String(n.proxyUrl??"").trim(),headers:Qp(n.headers),models:Ste(n.modelEntries),excludedModels:Ph(n.excludedText??""),cloak:wte(n.cloak)});function rR(){const{t:n}=Ze(),e=Ri(),t=$n(),{showNotification:i}=un(),s=qp(),a=typeof s.index=="string",r=w.useMemo(()=>vte(s.index),[s.index]),o=a&&r===null,u=Kt(Ee=>Ee.connectionStatus)!=="connected",h=Dt(Ee=>Ee.config),m=Dt(Ee=>Ee.fetchConfig),g=Dt(Ee=>Ee.isCacheValid),_=Dt(Ee=>Ee.updateConfigValue),b=Dt(Ee=>Ee.clearCache),[x,v]=w.useState(()=>h?.claudeApiKeys??[]),[C,k]=w.useState(()=>!g("claude-api-key")),[N,O]=w.useState(!1),T=w.useMemo(()=>o?`claude:invalid:${s.index??"unknown"}`:r===null?"claude:new":`claude:${r}`,[r,o,s.index]),L=ko(Ee=>Ee.drafts[T]),M=ko(Ee=>Ee.acquireDraft),P=ko(Ee=>Ee.releaseDraft),R=ko(Ee=>Ee.initDraft),D=ko(Ee=>Ee.setDraftBaselineSignature),U=ko(Ee=>Ee.setDraftForm),F=ko(Ee=>Ee.setDraftTestModel),H=ko(Ee=>Ee.setDraftTestStatus),Z=ko(Ee=>Ee.setDraftTestMessage),Y=L?.form??sR(),I=L?.testModel??"",K=L?.testStatus??"idle",V=L?.testMessage??"",$=w.useCallback(Ee=>{U(T,Ee)},[T,U]),W=w.useCallback(Ee=>{F(T,Ee)},[T,F]),j=w.useCallback(Ee=>{H(T,Ee)},[T,H]),B=w.useCallback(Ee=>{Z(T,Ee)},[T,Z]),X=w.useMemo(()=>{if(r!==null)return x[r]},[x,r]),te=r!==null&&!X,Q=w.useMemo(()=>Y.modelEntries.map(Ee=>Ee.name.trim()).filter(Boolean),[Y.modelEntries]);w.useEffect(()=>(M(T),()=>P(T)),[M,T,P]);const G=w.useCallback(()=>{if(t.state?.fromAiProviders){e(-1);return}e("/ai-providers",{replace:!0})},[t.state,e]);w.useEffect(()=>{let Ee=!1;return g("claude-api-key")||k(!0),m("claude-api-key").then(Lt=>{Ee||v(Array.isArray(Lt)?Lt:[])}).catch(Lt=>{if(Ee)return;const me=aR(Lt)||n("notification.refresh_failed");i(`${n("notification.load_failed")}: ${me}`,"error")}).finally(()=>{Ee||k(!1)}),()=>{Ee=!0}},[m,g,i,n]),w.useEffect(()=>{if(C||L?.initialized)return;if(X){const Ye={...X,headers:$p(X.headers),modelEntries:ig(X.models),excludedText:fC(X.excludedModels)},Lt=Ye.modelEntries.map(Ie=>Ie.name.trim()).filter(Boolean),me=Q_(Ye);R(T,{baselineSignature:me,form:Ye,testModel:Lt[0]||"",testStatus:"idle",testMessage:""});return}const Ee=sR();R(T,{baselineSignature:Q_(Ee),form:Ee,testModel:"",testStatus:"idle",testMessage:""})},[L?.initialized,T,R,X,C]);const ne=!L?.initialized,J=w.useMemo(()=>Q_(Y),[Y]),re=L?.baselineSignature??"",de=!!L?.initialized&&re!==J,Le=w.useMemo(()=>a?`/ai-providers/claude/${s.index??""}`:"/ai-providers/claude/new",[a,s.index]),ke=!ne&&!N&&!o&&!te,{allowNextNavigation:nt}=jh({enabled:ke,shouldBlock:({nextLocation:Ee})=>{const Ye=Ee.pathname,Lt=Ye===Le||Ye.startsWith(`${Le}/`);return de&&!Lt},dialog:{title:n("common.unsaved_changes_title"),message:n("common.unsaved_changes_message"),confirmText:n("common.leave"),cancelText:n("common.stay"),variant:"danger"}});w.useEffect(()=>{if(!ne){if(Q.length===0){I&&(W(""),j("idle"),B(""));return}(!I||!Q.includes(I))&&(W(Q[0]),j("idle"),B(""))}},[Q,ne,B,W,j,I]);const _t=w.useCallback(Ee=>{if(!Ee.length)return;let Ye=0;$(Lt=>{const me=new Map;Lt.modelEntries.forEach(Je=>{const ct=Je.name.trim();ct&&me.set(ct,{name:ct,alias:Je.alias?.trim()||""})}),Ee.forEach(Je=>{const ct=Je.name.trim();!ct||me.has(ct)||(me.set(ct,{name:ct,alias:Je.alias??""}),Ye+=1)});const Ie=Array.from(me.values());return{...Lt,modelEntries:Ie.length?Ie:[{name:"",alias:""}]}}),Ye>0&&i(n("ai_providers.claude_models_fetch_added",{count:Ye}),"success")},[$,i,n]),Ft=w.useCallback(async()=>{if(!u&&!N&&!ne&&!o&&!te){O(!0);try{const Ye={apiKey:Y.apiKey.trim(),priority:Y.priority!==void 0?Math.trunc(Y.priority):void 0,prefix:Y.prefix?.trim()||void 0,baseUrl:(Y.baseUrl??"").trim()||void 0,proxyUrl:Y.proxyUrl?.trim()||void 0,headers:ys(Y.headers),models:Y.modelEntries.map(me=>{const Ie=me.name.trim();if(!Ie)return null;const Je=me.alias.trim();return{name:Ie,alias:Je||Ie}}).filter(Boolean),excludedModels:Ph(Y.excludedText),cloak:Y.cloak},Lt=r!==null?x.map((me,Ie)=>Ie===r?Ye:me):[...x,Ye];await Si.saveClaudeConfigs(Lt),v(Lt),_("claude-api-key",Lt),b("claude-api-key"),i(n(r!==null?"notification.claude_config_updated":"notification.claude_config_added"),"success"),nt(),D(T,Q_(Y)),G()}catch(Ye){i(`${n("notification.update_failed")}: ${aR(Ye)}`,"error")}finally{O(!1)}}},[nt,b,x,T,u,r,Y,G,te,o,ne,D,N,i,n,_]);return f.jsx(Hk,{context:{hasIndexParam:a,editIndex:r,invalidIndexParam:o,invalidIndex:te,disableControls:u,loading:ne,saving:N,form:Y,setForm:$,testModel:I,setTestModel:W,testStatus:K,setTestStatus:j,testMessage:V,setTestMessage:B,availableModels:Q,handleBack:G,handleSave:Ft,mergeDiscoveredModels:_t}})}const kte="Select-module__wrap___8GKsa",Cte="Select-module__wrapFullWidth___uQ1gt",Ate="Select-module__trigger___nKY0l",Tte="Select-module__triggerText___zQEIp",Nte="Select-module__placeholder___N04iW",Mte="Select-module__triggerIcon___ipYKn",Ote="Select-module__dropdown___6YdcD",Lte="Select-module__option___EKsSG",Pte="Select-module__optionActive___y280o",Co={wrap:kte,wrapFullWidth:Cte,trigger:Ate,triggerText:Tte,placeholder:Nte,triggerIcon:Mte,dropdown:Ote,option:Lte,optionActive:Pte};function Ks({value:n,options:e,onChange:t,placeholder:i,className:s,disabled:a=!1,ariaLabel:r,fullWidth:o=!0}){const[l,u]=w.useState(!1),h=w.useRef(null);w.useEffect(()=>{if(!l||a)return;const x=v=>{h.current?.contains(v.target)||u(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[a,l]);const m=l&&!a,g=e.find(x=>x.value===n),_=g?.label??i??"",b=!g&&i;return f.jsxs("div",{className:`${Co.wrap} ${o?Co.wrapFullWidth:""} ${s??""}`,ref:h,children:[f.jsxs("button",{type:"button",className:Co.trigger,onClick:a?void 0:()=>u(x=>!x),"aria-haspopup":"listbox","aria-expanded":m,"aria-label":r,disabled:a,children:[f.jsx("span",{className:`${Co.triggerText} ${b?Co.placeholder:""}`,children:_}),f.jsx("span",{className:Co.triggerIcon,"aria-hidden":"true",children:f.jsx(Qk,{size:14})})]}),m&&f.jsx("div",{className:Co.dropdown,role:"listbox","aria-label":r,children:e.map(x=>{const v=x.value===n;return f.jsx("button",{type:"button",role:"option","aria-selected":v,className:`${Co.option} ${v?Co.optionActive:""}`,onClick:()=>{t(x.value),u(!1)},children:x.label},x.value)})})]})}function sg({entries:n,onChange:e,addLabel:t,disabled:i=!1,keyPlaceholder:s="X-Custom-Header",valuePlaceholder:a="value",removeButtonTitle:r="Remove",removeButtonAriaLabel:o="Remove"}){const l=n.length?n:[{key:"",value:""}],u=(g,_,b)=>{const x=l.map((v,C)=>C===g?{...v,[_]:b}:v);e(x)},h=()=>{e([...l,{key:"",value:""}])},m=g=>{const _=l.filter((b,x)=>x!==g);e(_.length?_:[{key:"",value:""}])};return f.jsxs("div",{className:"header-input-list",children:[l.map((g,_)=>f.jsx(w.Fragment,{children:f.jsxs("div",{className:"header-input-row",children:[f.jsx("input",{className:"input",placeholder:s,value:g.key,onChange:b=>u(_,"key",b.target.value),disabled:i}),f.jsx("span",{className:"header-separator",children:":"}),f.jsx("input",{className:"input",placeholder:a,value:g.value,onChange:b=>u(_,"value",b.target.value),disabled:i}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>m(_),disabled:i||l.length<=1,title:r,"aria-label":o,children:f.jsx(Mu,{size:14})})]})},_)),f.jsx(he,{variant:"secondary",size:"sm",onClick:h,disabled:i,className:"align-start",children:t})]})}const oR=3e4,lR="2023-06-01",Rte=n=>n instanceof Error?n.message:typeof n=="string"?n:"",cR=(n,e)=>{const t=e.toLowerCase();return Object.keys(n).some(i=>i.toLowerCase()===t)},Ete=n=>{const e=Object.entries(n).find(([s])=>s.toLowerCase()==="authorization");if(!e)return"";const t=String(e[1]??"").trim();return t&&t.match(/^Bearer\s+(.+)$/i)?.[1]?.trim()||""};function uR(){const{t:n}=Ze(),e=Ri(),{showNotification:t}=un(),{hasIndexParam:i,invalidIndexParam:s,invalidIndex:a,disableControls:r,loading:o,saving:l,form:u,setForm:h,testModel:m,setTestModel:g,testStatus:_,setTestStatus:b,testMessage:x,setTestMessage:v,availableModels:C,handleBack:k,handleSave:N}=Ob(),O=n(i?"ai_providers.claude_edit_modal_title":"ai_providers.claude_add_modal_title"),T=eo({onBack:k}),[L,M]=w.useState(!1),P=w.useRef(null);w.useEffect(()=>{const K=V=>{V.key==="Escape"&&k()};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[k]),w.useEffect(()=>{u.cloak&&(P.current=u.cloak)},[u.cloak]);const R=!r&&!o&&!l&&!s&&!a&&!L,D=w.useMemo(()=>{const K=new Set;return u.modelEntries.reduce((V,$)=>{const W=$.name.trim();if(!W||K.has(W))return V;K.add(W);const j=$.alias.trim();return V.push({value:W,label:j&&j!==W?`${W} (${j})`:W}),V},[])},[u.modelEntries]),U=w.useMemo(()=>[{value:"auto",label:n("ai_providers.claude_cloak_mode_auto")},{value:"always",label:n("ai_providers.claude_cloak_mode_always")},{value:"never",label:n("ai_providers.claude_cloak_mode_never")}],[n]),F=w.useMemo(()=>{const K=(u.cloak?.mode??"").trim().toLowerCase();return!K||K==="provider"?"auto":K==="auto"||K==="always"||K==="never"?K:"auto"},[u.cloak?.mode]),H=w.useMemo(()=>{const K=u.headers.map($=>`${$.key.trim()}:${$.value.trim()}`).join("|"),V=u.modelEntries.map($=>`${$.name.trim()}:${$.alias.trim()}`).join("|");return[u.apiKey.trim(),u.baseUrl?.trim()??"",m.trim(),K,V].join("||")},[u.apiKey,u.baseUrl,u.headers,u.modelEntries,m]),Z=w.useRef(H);w.useEffect(()=>{Z.current!==H&&(Z.current=H,b("idle"),v(""))},[H,v,b]);const Y=()=>{e("models")},I=w.useCallback(async()=>{if(L)return;const K=m.trim()||C[0]||"";if(!K){const Q=n("ai_providers.claude_test_model_required");b("error"),v(Q),t(Q,"error");return}const V=ys(u.headers),$=u.apiKey.trim(),W=cR(V,"x-api-key"),j=Ete(V),B=$||j;if(!B&&!W){const Q=n("ai_providers.claude_test_key_required");b("error"),v(Q),t(Q,"error");return}const X=B$(u.baseUrl??"");if(!X){const Q=n("ai_providers.claude_test_endpoint_invalid");b("error"),v(Q),t(Q,"error");return}const te={"Content-Type":"application/json",...V};cR(te,"anthropic-version")||(te["anthropic-version"]=lR),Object.prototype.hasOwnProperty.call(te,"Anthropic-Version")||(te["Anthropic-Version"]=te["anthropic-version"]??lR),!W&&B&&(te["x-api-key"]=B),!Object.prototype.hasOwnProperty.call(te,"X-Api-Key")&&B&&(te["X-Api-Key"]=B),M(!0),b("loading"),v(n("ai_providers.claude_test_running"));try{const Q=await Ir.request({method:"POST",url:X,header:te,data:JSON.stringify({model:K,max_tokens:8,messages:[{role:"user",content:"Hi"}]})},{timeout:oR});if(Q.statusCode<200||Q.statusCode>=300)throw new Error(Br(Q));const G=n("ai_providers.claude_test_success");b("success"),v(G),t(G,"success")}catch(Q){const G=Rte(Q),re=(typeof Q=="object"&&Q!==null&&"code"in Q?String(Q.code):"")==="ECONNABORTED"||G.toLowerCase().includes("timeout")?n("ai_providers.claude_test_timeout",{seconds:oR/1e3}):`${n("ai_providers.claude_test_failed")}: ${G||n("common.unknown_error")}`;b("error"),v(re),t(re,"error")}finally{M(!1)}},[C,u.apiKey,u.baseUrl,u.headers,L,v,b,t,n,m]);return f.jsx(to,{ref:T,contentClassName:tn.content,title:O,onBack:k,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:k,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:()=>void N(),loading:l,disabled:!R,className:tn.floatingSaveButton,children:n("common.save")})]}),isLoading:o,loadingLabel:n("common.loading"),children:f.jsx(wt,{children:s||a?f.jsx("div",{className:z.sectionHint,children:n("common.invalid_provider_index")}):f.jsxs("div",{className:z.openaiEditForm,children:[f.jsx(st,{label:n("ai_providers.claude_add_modal_key_label"),value:u.apiKey,onChange:K=>h(V=>({...V,apiKey:K.target.value})),disabled:l||r||L}),f.jsx(st,{label:n("ai_providers.priority_label"),hint:n("ai_providers.priority_hint"),type:"number",step:1,value:u.priority??"",onChange:K=>{const V=K.target.value,$=V.trim()===""?void 0:Number(V);h(W=>({...W,priority:$!==void 0&&Number.isFinite($)?$:void 0}))},disabled:l||r||L}),f.jsx(st,{label:n("ai_providers.prefix_label"),placeholder:n("ai_providers.prefix_placeholder"),value:u.prefix??"",onChange:K=>h(V=>({...V,prefix:K.target.value})),hint:n("ai_providers.prefix_hint"),disabled:l||r||L}),f.jsx(st,{label:n("ai_providers.claude_add_modal_url_label"),value:u.baseUrl??"",onChange:K=>h(V=>({...V,baseUrl:K.target.value})),disabled:l||r||L}),f.jsx(st,{label:n("ai_providers.claude_add_modal_proxy_label"),value:u.proxyUrl??"",onChange:K=>h(V=>({...V,proxyUrl:K.target.value})),disabled:l||r||L}),f.jsx(sg,{entries:u.headers,onChange:K=>h(V=>({...V,headers:K})),addLabel:n("common.custom_headers_add"),keyPlaceholder:n("common.custom_headers_key_placeholder"),valuePlaceholder:n("common.custom_headers_value_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:l||r||L}),f.jsxs("div",{className:z.modelConfigSection,children:[f.jsxs("div",{className:z.modelConfigHeader,children:[f.jsx("label",{className:z.modelConfigTitle,children:n("ai_providers.claude_models_label")}),f.jsxs("div",{className:z.modelConfigToolbar,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>h(K=>({...K,modelEntries:[...K.modelEntries,{name:"",alias:""}]})),disabled:l||r||L,children:n("ai_providers.claude_models_add_btn")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:Y,disabled:l||r||L,children:n("ai_providers.claude_models_fetch_button")})]})]}),f.jsx("div",{className:z.sectionHint,children:n("ai_providers.claude_models_hint")}),f.jsx(Eh,{entries:u.modelEntries,onChange:K=>h(V=>({...V,modelEntries:K})),namePlaceholder:n("common.model_name_placeholder"),aliasPlaceholder:n("common.model_alias_placeholder"),disabled:l||r||L,hideAddButton:!0,className:z.modelInputList,rowClassName:z.modelInputRow,inputClassName:z.modelInputField,removeButtonClassName:z.modelRowRemoveButton,removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete")}),f.jsxs("div",{className:z.modelTestPanel,children:[f.jsxs("div",{className:z.modelTestMeta,children:[f.jsx("label",{className:z.modelTestLabel,children:n("ai_providers.claude_test_title")}),f.jsx("span",{className:z.modelTestHint,children:n("ai_providers.claude_test_hint")})]}),f.jsxs("div",{className:z.modelTestControls,children:[f.jsx(Ks,{value:m,options:D,onChange:K=>{g(K),b("idle"),v("")},placeholder:C.length?n("ai_providers.claude_test_select_placeholder"):n("ai_providers.claude_test_select_empty"),className:z.openaiTestSelect,ariaLabel:n("ai_providers.claude_test_title"),disabled:l||r||L||_==="loading"||C.length===0}),f.jsx(he,{variant:_==="error"?"danger":"secondary",size:"sm",onClick:()=>void I(),loading:_==="loading",disabled:l||r||L||_==="loading"||C.length===0,className:z.modelTestAllButton,children:n("ai_providers.claude_test_action")})]})]}),x&&f.jsx("div",{className:`status-badge ${_==="error"?"error":_==="success"?"success":"muted"}`,children:x})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.excluded_models_label")}),f.jsx("textarea",{className:"input",placeholder:n("ai_providers.excluded_models_placeholder"),value:u.excludedText,onChange:K=>h(V=>({...V,excludedText:K.target.value})),rows:4,disabled:l||r||L}),f.jsx("div",{className:"hint",children:n("ai_providers.excluded_models_hint")})]}),f.jsxs("div",{className:z.modelConfigSection,children:[f.jsxs("div",{className:z.modelConfigHeader,children:[f.jsx("label",{className:z.modelConfigTitle,children:n("ai_providers.claude_cloak_title")}),f.jsx("div",{className:z.modelConfigToolbar,children:f.jsx(ts,{checked:!!u.cloak,onChange:K=>h(V=>{if(!K)return V.cloak&&(P.current=V.cloak),{...V,cloak:void 0};const $=V.cloak??P.current??{mode:"auto",strictMode:!1,sensitiveWords:[]},W=String($.mode??"auto").trim()||"auto";return{...V,cloak:{mode:W,strictMode:$.strictMode??!1,sensitiveWords:$.sensitiveWords??[]}}}),disabled:l||r||L,ariaLabel:n("ai_providers.claude_cloak_toggle_aria"),label:n("ai_providers.claude_cloak_toggle_label")})})]}),f.jsx("div",{className:z.sectionHint,children:n("ai_providers.claude_cloak_hint")}),u.cloak?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.claude_cloak_mode_label")}),f.jsx(Ks,{value:F,options:U,onChange:K=>h(V=>({...V,cloak:{...V.cloak??{},mode:K}})),ariaLabel:n("ai_providers.claude_cloak_mode_label"),disabled:l||r||L}),f.jsx("div",{className:"hint",children:n("ai_providers.claude_cloak_mode_hint")})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.claude_cloak_strict_label")}),f.jsx(ts,{checked:!!u.cloak.strictMode,onChange:K=>h(V=>({...V,cloak:{...V.cloak??{},strictMode:K}})),disabled:l||r||L,ariaLabel:n("ai_providers.claude_cloak_strict_label")}),f.jsx("div",{className:"hint",children:n("ai_providers.claude_cloak_strict_hint")})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.claude_cloak_sensitive_words_label")}),f.jsx("textarea",{className:"input",placeholder:n("ai_providers.claude_cloak_sensitive_words_placeholder"),value:(u.cloak.sensitiveWords??[]).join(`
`),onChange:K=>{const V=M5(K.target.value);h($=>({...$,cloak:{...$.cloak??{},sensitiveWords:V.length?V:void 0}}))},rows:3,disabled:l||r||L}),f.jsx("div",{className:"hint",children:n("ai_providers.claude_cloak_sensitive_words_hint")})]})]}):null]})]})})})}const jte=n=>n instanceof Error?n.message:typeof n=="string"?n:"";function dR(){const{t:n}=Ze(),e=Ri(),{disableControls:t,loading:i,saving:s,form:a,mergeDiscoveredModels:r}=Ob(),[o,l]=w.useState(""),[u,h]=w.useState([]),[m,g]=w.useState(!1),[_,b]=w.useState(""),[x,v]=w.useState(""),[C,k]=w.useState(new Set),N=w.useRef(""),O=w.useMemo(()=>{const U=x.trim().toLowerCase();return U?u.filter(F=>{const H=(F.name||"").toLowerCase(),Z=(F.alias||"").toLowerCase(),Y=(F.description||"").toLowerCase();return H.includes(U)||Z.includes(U)||Y.includes(U)}):u},[u,x]),T=w.useCallback(async()=>{g(!0),b("");const U=ys(a.headers);try{const F=await $o.fetchClaudeModelsViaApiCall(a.baseUrl??"",a.apiKey.trim()||void 0,U);h(F)}catch(F){h([]);const H=jte(F),Z=Object.keys(U).some(V=>V.toLowerCase()==="x-api-key"),Y=Object.keys(U).some(V=>V.toLowerCase()==="authorization"),K=H.toLowerCase().includes("x-api-key")||H.includes("401")?` [diag: apiKeyField=${a.apiKey.trim()?"yes":"no"}, customXApiKey=${Z?"yes":"no"}, customAuthorization=${Y?"yes":"no"}]`:"";b(`${n("ai_providers.claude_models_fetch_error")}: ${H}${K}`)}finally{g(!1)}},[a.apiKey,a.baseUrl,a.headers,n]);w.useEffect(()=>{if(i)return;const U=$o.buildClaudeModelsEndpoint(a.baseUrl??"");l(U),h([]),v(""),k(new Set),b("");const F=ys(a.headers),H=Object.keys(F).some($=>$.toLowerCase()==="x-api-key"),Z=Object.keys(F).some($=>$.toLowerCase()==="authorization");if(!(!!a.apiKey.trim()||H||Z))return;const K=Object.entries(F).sort(([$],[W])=>$.toLowerCase().localeCompare(W.toLowerCase())).map(([$,W])=>`${$}:${W}`).join("|"),V=`${U}||${a.apiKey.trim()}||${K}`;N.current!==V&&(N.current=V,T())},[T,a.apiKey,a.baseUrl,a.headers,i]);const L=w.useCallback(()=>{e(-1)},[e]),M=eo({onBack:L});w.useEffect(()=>{const U=F=>{F.key==="Escape"&&L()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[L]);const P=U=>{k(F=>{const H=new Set(F);return H.has(U)?H.delete(U):H.add(U),H})},R=()=>{const U=u.filter(F=>C.has(F.name));U.length&&r(U),L()},D=!t&&!s&&!m;return f.jsx(to,{ref:M,contentClassName:tn.content,title:n("ai_providers.claude_models_fetch_title"),onBack:L,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:L,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:R,disabled:!D,className:tn.floatingSaveButton,children:n("ai_providers.claude_models_fetch_apply")})]}),isLoading:i,loadingLabel:n("common.loading"),children:f.jsx(wt,{children:f.jsxs("div",{className:z.openaiModelsContent,children:[f.jsx("div",{className:z.sectionHint,children:n("ai_providers.claude_models_fetch_hint")}),f.jsxs("div",{className:z.openaiModelsEndpointSection,children:[f.jsx("label",{className:z.openaiModelsEndpointLabel,children:n("ai_providers.claude_models_fetch_url_label")}),f.jsxs("div",{className:z.openaiModelsEndpointControls,children:[f.jsx("input",{className:`input ${z.openaiModelsEndpointInput}`,readOnly:!0,value:o}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>void T(),loading:m,disabled:t||s,children:n("ai_providers.claude_models_fetch_refresh")})]})]}),f.jsx(st,{label:n("ai_providers.claude_models_search_label"),placeholder:n("ai_providers.claude_models_search_placeholder"),value:x,onChange:U=>v(U.target.value),disabled:m}),_&&f.jsx("div",{className:"error-box",children:_}),m?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.claude_models_fetch_loading")}):u.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.claude_models_fetch_empty")}):O.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.claude_models_search_empty")}):f.jsx("div",{className:z.modelDiscoveryList,children:O.map(U=>{const F=C.has(U.name);return f.jsxs("label",{className:`${z.modelDiscoveryRow} ${F?z.modelDiscoveryRowSelected:""}`,children:[f.jsx("input",{type:"checkbox",checked:F,onChange:()=>P(U.name)}),f.jsxs("div",{className:z.modelDiscoveryMeta,children:[f.jsxs("div",{className:z.modelDiscoveryName,children:[U.name,U.alias&&f.jsx("span",{className:z.modelDiscoveryAlias,children:U.alias})]}),U.description&&f.jsx("div",{className:z.modelDiscoveryDesc,children:U.description})]})]},U.name)})})]})})})}const v2=()=>({apiKey:"",priority:void 0,prefix:"",baseUrl:"",websockets:!1,proxyUrl:"",headers:[],models:[],excludedModels:[],modelEntries:[{name:"",alias:""}],excludedText:""}),Dte=n=>{if(!n)return null;const e=Number.parseInt(n,10);return Number.isFinite(e)?e:null},Fte=n=>n instanceof Error?n.message:typeof n=="string"?n:"",Ute=n=>(n??[]).reduce((e,t)=>{const i=String(t?.name??"").trim();let s=String(t?.alias??"").trim();return i&&s===i&&(s=""),!i&&!s||e.push({name:i,alias:s}),e},[]),Gf=n=>JSON.stringify({apiKey:String(n.apiKey??"").trim(),priority:n.priority!==void 0&&Number.isFinite(n.priority)?Math.trunc(n.priority):null,prefix:String(n.prefix??"").trim(),baseUrl:String(n.baseUrl??"").trim(),websockets:!!n.websockets,proxyUrl:String(n.proxyUrl??"").trim(),headers:Qp(n.headers),models:Ute(n.modelEntries),excludedModels:Ph(n.excludedText??"")});function hR(){const{t:n}=Ze(),e=Ri(),t=$n(),i=qp(),{showNotification:s}=un(),r=Kt(le=>le.connectionStatus)!=="connected",o=Dt(le=>le.fetchConfig),l=Dt(le=>le.updateConfigValue),u=Dt(le=>le.clearCache),[h,m]=w.useState([]),[g,_]=w.useState(!0),[b,x]=w.useState(!1),[v,C]=w.useState(""),[k,N]=w.useState(()=>v2()),[O,T]=w.useState(()=>Gf(v2())),[L,M]=w.useState(!1),[P,R]=w.useState(""),[D,U]=w.useState([]),[F,H]=w.useState(!1),[Z,Y]=w.useState(""),[I,K]=w.useState(""),[V,$]=w.useState(new Set),W=w.useRef(""),j=w.useRef(0),B=typeof i.index=="string",X=w.useMemo(()=>Dte(i.index),[i.index]),te=B&&X===null,Q=w.useMemo(()=>{if(X!==null)return h[X]},[h,X]),G=X!==null&&!Q,ne=n(X!==null?"ai_providers.codex_edit_modal_title":"ai_providers.codex_add_modal_title"),J=w.useCallback(()=>{if(t.state?.fromAiProviders){e(-1);return}e("/ai-providers",{replace:!0})},[t.state,e]),re=eo({onBack:J});w.useEffect(()=>{const le=_e=>{_e.key==="Escape"&&J()};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[J]),w.useEffect(()=>{let le=!1;return _(!0),C(""),o("codex-api-key").then(_e=>{le||m(Array.isArray(_e)?_e:[])}).catch(_e=>{if(le)return;const Pe=_e instanceof Error?_e.message:"";C(Pe||n("notification.refresh_failed"))}).finally(()=>{le||_(!1)}),()=>{le=!0}},[o,n]),w.useEffect(()=>{if(g)return;if(Q){const _e={...Q,websockets:!!Q.websockets,headers:$p(Q.headers),modelEntries:ig(Q.models),excludedText:fC(Q.excludedModels)};N(_e),T(Gf(_e));return}const le=v2();N(le),T(Gf(le))},[Q,g]);const de=w.useMemo(()=>Gf(k),[k]),Le=O!==de,ke=!g&&!b&&!te&&!G,{allowNextNavigation:nt}=jh({enabled:ke,shouldBlock:({currentLocation:le,nextLocation:_e})=>Le&&le.pathname!==_e.pathname,dialog:{title:n("common.unsaved_changes_title"),message:n("common.unsaved_changes_message"),confirmText:n("common.leave"),cancelText:n("common.stay"),variant:"danger"}}),_t=!r&&!b&&!g&&!te&&!G,Ft=w.useMemo(()=>{const le=I.trim().toLowerCase();return le?D.filter(_e=>{const Pe=(_e.name||"").toLowerCase(),$e=(_e.alias||"").toLowerCase(),yt=(_e.description||"").toLowerCase();return Pe.includes(le)||$e.includes(le)||yt.includes(le)}):D},[D,I]),Ee=w.useCallback(le=>{if(!le.length)return;let _e=0;N(Pe=>{const $e=new Map;Pe.modelEntries.forEach(bt=>{const pt=bt.name.trim();pt&&$e.set(pt.toLowerCase(),{name:pt,alias:bt.alias?.trim()||""})}),le.forEach(bt=>{const pt=String(bt.name??"").trim();if(!pt)return;const hn=pt.toLowerCase();$e.has(hn)||($e.set(hn,{name:pt,alias:bt.alias??""}),_e+=1)});const yt=Array.from($e.values());return{...Pe,modelEntries:yt.length?yt:[{name:"",alias:""}]}}),_e>0&&s(n("ai_providers.codex_models_fetch_added",{count:_e}),"success")},[N,s,n]),Ye=w.useCallback(async()=>{const le=j.current+=1;H(!0),Y("");try{const _e=ys(k.headers),Pe=Object.keys(_e).some(bt=>bt.toLowerCase()==="authorization"),$e=k.apiKey.trim()||void 0,yt=await $o.fetchV1ModelsViaApiCall(k.baseUrl??"",Pe?void 0:$e,_e);if(j.current!==le)return;U(yt)}catch(_e){if(j.current!==le)return;U([]);const Pe=Fte(_e);Y(`${n("ai_providers.codex_models_fetch_error")}: ${Pe}`)}finally{j.current===le&&H(!1)}},[k.apiKey,k.baseUrl,k.headers,n]);w.useEffect(()=>{if(!L){W.current="",j.current+=1,H(!1);return}const le=$o.buildV1ModelsEndpoint(k.baseUrl??"");if(R(le),U([]),K(""),$(new Set),Y(""),!le)return;const _e=ys(k.headers),Pe=Object.keys(_e).some(hn=>hn.toLowerCase()==="authorization");if(!(!!k.apiKey.trim()||Pe))return;const bt=Object.entries(_e).sort(([hn],[ce])=>hn.toLowerCase().localeCompare(ce.toLowerCase())).map(([hn,ce])=>`${hn}:${ce}`).join("|"),pt=`${le}||${k.apiKey.trim()}||${bt}`;W.current!==pt&&(W.current=pt,Ye())},[Ye,k.apiKey,k.baseUrl,k.headers,L]);const Lt=le=>{$(_e=>{const Pe=new Set(_e);return Pe.has(le)?Pe.delete(le):Pe.add(le),Pe})},me=()=>{const le=D.filter(_e=>V.has(_e.name));le.length&&Ee(le),M(!1)},Ie=w.useCallback(async()=>{if(!_t)return;const _e=(k.baseUrl??"").trim()||void 0;if(!_e){s(n("notification.codex_base_url_required"),"error");return}x(!0),C("");try{const Pe={apiKey:k.apiKey.trim(),priority:k.priority!==void 0?Math.trunc(k.priority):void 0,prefix:k.prefix?.trim()||void 0,baseUrl:_e,websockets:!!k.websockets,proxyUrl:k.proxyUrl?.trim()||void 0,headers:ys(k.headers),models:BC(k.modelEntries),excludedModels:Ph(k.excludedText)},$e=X!==null?h.map((yt,bt)=>bt===X?Pe:yt):[...h,Pe];await Si.saveCodexConfigs($e),l("codex-api-key",$e),u("codex-api-key"),s(n(X!==null?"notification.codex_config_updated":"notification.codex_config_added"),"success"),nt(),T(Gf(k)),J()}catch(Pe){const $e=Pe instanceof Error?Pe.message:"";C($e),s(`${n("notification.update_failed")}: ${$e}`,"error")}finally{x(!1)}},[nt,_t,u,h,X,k,J,s,n,l]),Je=!r&&!b&&!g&&!te&&!G&&!!(k.baseUrl??"").trim(),ct=!r&&!b&&!F;return f.jsx(to,{ref:re,contentClassName:tn.content,title:ne,onBack:J,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:J,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:Ie,loading:b,disabled:!_t,className:tn.floatingSaveButton,children:n("common.save")})]}),isLoading:g,loadingLabel:n("common.loading"),children:f.jsxs(wt,{children:[v&&f.jsx("div",{className:"error-box",children:v}),te||G?f.jsx("div",{className:"hint",children:n("common.invalid_provider_index")}):f.jsxs(f.Fragment,{children:[f.jsx(st,{label:n("ai_providers.codex_add_modal_key_label"),value:k.apiKey,onChange:le=>N(_e=>({..._e,apiKey:le.target.value})),disabled:r||b}),f.jsx(st,{label:n("ai_providers.priority_label"),hint:n("ai_providers.priority_hint"),type:"number",step:1,value:k.priority??"",onChange:le=>{const _e=le.target.value,Pe=_e.trim()===""?void 0:Number(_e);N($e=>({...$e,priority:Pe!==void 0&&Number.isFinite(Pe)?Pe:void 0}))},disabled:r||b}),f.jsx(st,{label:n("ai_providers.prefix_label"),placeholder:n("ai_providers.prefix_placeholder"),value:k.prefix??"",onChange:le=>N(_e=>({..._e,prefix:le.target.value})),hint:n("ai_providers.prefix_hint"),disabled:r||b}),f.jsx(st,{label:n("ai_providers.codex_add_modal_url_label"),value:k.baseUrl??"",onChange:le=>N(_e=>({..._e,baseUrl:le.target.value})),disabled:r||b}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.codex_websockets_label")}),f.jsx(ts,{checked:!!k.websockets,onChange:le=>N(_e=>({..._e,websockets:le})),disabled:r||b,ariaLabel:n("ai_providers.codex_websockets_label")}),f.jsx("div",{className:"hint",children:n("ai_providers.codex_websockets_hint")})]}),f.jsx(st,{label:n("ai_providers.codex_add_modal_proxy_label"),value:k.proxyUrl??"",onChange:le=>N(_e=>({..._e,proxyUrl:le.target.value})),disabled:r||b}),f.jsx(sg,{entries:k.headers,onChange:le=>N(_e=>({..._e,headers:le})),addLabel:n("common.custom_headers_add"),keyPlaceholder:n("common.custom_headers_key_placeholder"),valuePlaceholder:n("common.custom_headers_value_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:r||b}),f.jsxs("div",{className:z.modelConfigSection,children:[f.jsxs("div",{className:z.modelConfigHeader,children:[f.jsx("label",{className:z.modelConfigTitle,children:n("ai_providers.codex_models_label")}),f.jsxs("div",{className:z.modelConfigToolbar,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>N(le=>({...le,modelEntries:[...le.modelEntries,{name:"",alias:""}]})),disabled:r||b,children:n("ai_providers.codex_models_add_btn")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>M(!0),disabled:!Je,children:n("ai_providers.codex_models_fetch_button")})]})]}),f.jsx("div",{className:z.sectionHint,children:n("ai_providers.codex_models_hint")}),f.jsx(Eh,{entries:k.modelEntries,onChange:le=>N(_e=>({..._e,modelEntries:le})),namePlaceholder:n("common.model_name_placeholder"),aliasPlaceholder:n("common.model_alias_placeholder"),disabled:r||b,hideAddButton:!0,className:z.modelInputList,rowClassName:z.modelInputRow,inputClassName:z.modelInputField,removeButtonClassName:z.modelRowRemoveButton,removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete")})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.excluded_models_label")}),f.jsx("textarea",{className:"input",placeholder:n("ai_providers.excluded_models_placeholder"),value:k.excludedText,onChange:le=>N(_e=>({..._e,excludedText:le.target.value})),rows:4,disabled:r||b}),f.jsx("div",{className:"hint",children:n("ai_providers.excluded_models_hint")})]}),f.jsx(is,{open:L,title:n("ai_providers.codex_models_fetch_title"),onClose:()=>M(!1),width:720,footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>M(!1),disabled:F,children:n("common.cancel")}),f.jsx(he,{size:"sm",onClick:me,disabled:!ct,children:n("ai_providers.codex_models_fetch_apply")})]}),children:f.jsxs("div",{className:z.openaiModelsContent,children:[f.jsx("div",{className:z.sectionHint,children:n("ai_providers.codex_models_fetch_hint")}),f.jsxs("div",{className:z.openaiModelsEndpointSection,children:[f.jsx("label",{className:z.openaiModelsEndpointLabel,children:n("ai_providers.codex_models_fetch_url_label")}),f.jsxs("div",{className:z.openaiModelsEndpointControls,children:[f.jsx("input",{className:`input ${z.openaiModelsEndpointInput}`,readOnly:!0,value:P}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>void Ye(),loading:F,disabled:r||b,children:n("ai_providers.codex_models_fetch_refresh")})]})]}),f.jsx(st,{label:n("ai_providers.codex_models_search_label"),placeholder:n("ai_providers.codex_models_search_placeholder"),value:I,onChange:le=>K(le.target.value),disabled:F}),Z&&f.jsx("div",{className:"error-box",children:Z}),F?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.codex_models_fetch_loading")}):D.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.codex_models_fetch_empty")}):Ft.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.codex_models_search_empty")}):f.jsx("div",{className:z.modelDiscoveryList,children:Ft.map(le=>{const _e=V.has(le.name);return f.jsxs("label",{className:`${z.modelDiscoveryRow} ${_e?z.modelDiscoveryRowSelected:""}`,children:[f.jsx("input",{type:"checkbox",checked:_e,onChange:()=>Lt(le.name)}),f.jsxs("div",{className:z.modelDiscoveryMeta,children:[f.jsxs("div",{className:z.modelDiscoveryName,children:[le.name,le.alias&&f.jsx("span",{className:z.modelDiscoveryAlias,children:le.alias})]}),le.description&&f.jsx("div",{className:z.modelDiscoveryDesc,children:le.description})]})]},le.name)})})]})})]})]})})}const S2=()=>({apiKey:"",priority:void 0,prefix:"",baseUrl:"",proxyUrl:"",headers:[],modelEntries:[{name:"",alias:""}],excludedModels:[],excludedText:""}),Bte=n=>{if(!n)return null;const e=Number.parseInt(n,10);return Number.isFinite(e)?e:null},mm=n=>String(n??"").trim().replace(/^\/?models\//i,""),Ite=n=>(n??[]).reduce((e,t)=>{const i=mm(t?.name??"").trim();let s=String(t?.alias??"").trim();return i&&s===i&&(s=""),!i&&!s||e.push({name:i,alias:s}),e},[]),Xf=n=>JSON.stringify({apiKey:String(n.apiKey??"").trim(),priority:n.priority!==void 0&&Number.isFinite(n.priority)?Math.trunc(n.priority):null,prefix:String(n.prefix??"").trim(),baseUrl:String(n.baseUrl??"").trim(),proxyUrl:String(n.proxyUrl??"").trim(),headers:Qp(n.headers),models:Ite(n.modelEntries),excludedModels:Ph(n.excludedText??"")});function fR(){const{t:n}=Ze(),e=Ri(),t=$n(),i=qp(),{showNotification:s}=un(),r=Kt(le=>le.connectionStatus)!=="connected",o=Dt(le=>le.fetchConfig),l=Dt(le=>le.updateConfigValue),u=Dt(le=>le.clearCache),[h,m]=w.useState([]),[g,_]=w.useState(!0),[b,x]=w.useState(!1),[v,C]=w.useState(""),[k,N]=w.useState(()=>S2()),[O,T]=w.useState(()=>Xf(S2())),[L,M]=w.useState(!1),[P,R]=w.useState(""),[D,U]=w.useState([]),[F,H]=w.useState(!1),[Z,Y]=w.useState(""),[I,K]=w.useState(""),[V,$]=w.useState(new Set),W=w.useRef(""),j=w.useRef(0),B=typeof i.index=="string",X=w.useMemo(()=>Bte(i.index),[i.index]),te=B&&X===null,Q=w.useMemo(()=>{if(X!==null)return h[X]},[h,X]),G=X!==null&&!Q,ne=n(X!==null?"ai_providers.gemini_edit_modal_title":"ai_providers.gemini_add_modal_title"),J=w.useCallback(()=>{if(t.state?.fromAiProviders){e(-1);return}e("/ai-providers",{replace:!0})},[t.state,e]),re=eo({onBack:J});w.useEffect(()=>{const le=_e=>{_e.key==="Escape"&&J()};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[J]),w.useEffect(()=>{let le=!1;return _(!0),C(""),o("gemini-api-key").then(_e=>{le||m(Array.isArray(_e)?_e:[])}).catch(_e=>{if(le)return;const Pe=_e instanceof Error?_e.message:"";C(Pe||n("notification.refresh_failed"))}).finally(()=>{le||_(!1)}),()=>{le=!0}},[o,n]),w.useEffect(()=>{if(g)return;if(Q){const{headers:_e,models:Pe,...$e}=Q,yt={...$e,headers:$p(_e),modelEntries:ig(Pe).map(bt=>({...bt,name:mm(bt.name)})),excludedText:fC(Q.excludedModels)};N(yt),T(Xf(yt));return}const le=S2();N(le),T(Xf(le))},[Q,g]);const de=!r&&!b&&!g&&!te&&!G,Le=w.useMemo(()=>{const le=I.trim().toLowerCase();return le?D.filter(_e=>{const Pe=(_e.name||"").toLowerCase(),$e=(_e.alias||"").toLowerCase(),yt=(_e.description||"").toLowerCase();return Pe.includes(le)||$e.includes(le)||yt.includes(le)}):D},[D,I]),ke=w.useCallback(le=>{if(!le.length)return;let _e=0;N(Pe=>{const $e=new Map;Pe.modelEntries.forEach(bt=>{const pt=mm(bt.name);pt&&$e.set(pt,{name:pt,alias:bt.alias?.trim()||""})}),le.forEach(bt=>{const pt=mm(bt.name);!pt||$e.has(pt)||($e.set(pt,{name:pt,alias:bt.alias??""}),_e+=1)});const yt=Array.from($e.values());return{...Pe,modelEntries:yt.length?yt:[{name:"",alias:""}]}}),_e>0&&s(n("ai_providers.gemini_models_fetch_added",{count:_e}),"success")},[N,s,n]),nt=w.useCallback(async()=>{const le=j.current+=1;H(!0),Y("");const _e=ys(k.headers);try{const Pe=await $o.fetchGeminiModelsViaApiCall(k.baseUrl??"",k.apiKey.trim()||void 0,_e);if(j.current!==le)return;U(Pe)}catch(Pe){if(j.current!==le)return;U([]);const $e=Pe instanceof Error?Pe.message:typeof Pe=="string"?Pe:"",yt=Object.keys(_e).some(ce=>ce.toLowerCase()==="x-goog-api-key"),bt=Object.keys(_e).some(ce=>ce.toLowerCase()==="authorization"),hn=$e.toLowerCase().includes("api key")||$e.includes("401")?` [diag: apiKeyField=${k.apiKey.trim()?"yes":"no"}, customXGoogApiKey=${yt?"yes":"no"}, customAuthorization=${bt?"yes":"no"}]`:"";Y(`${n("ai_providers.gemini_models_fetch_error")}: ${$e}${hn}`)}finally{j.current===le&&H(!1)}},[k.apiKey,k.baseUrl,k.headers,n]);w.useEffect(()=>{if(!L){W.current="",j.current+=1,H(!1);return}const le=$o.buildGeminiModelsEndpoint(k.baseUrl??"");R(le),U([]),K(""),$(new Set),Y("");const _e=ys(k.headers),Pe=Object.keys(_e).some(ce=>ce.toLowerCase()==="x-goog-api-key"),$e=Object.keys(_e).some(ce=>ce.toLowerCase()==="authorization");if(!(!!k.apiKey.trim()||Pe||$e))return;const pt=Object.entries(_e).sort(([ce],[He])=>ce.toLowerCase().localeCompare(He.toLowerCase())).map(([ce,He])=>`${ce}:${He}`).join("|"),hn=`${le}||${k.apiKey.trim()}||${pt}`;W.current!==hn&&(W.current=hn,nt())},[nt,k.apiKey,k.baseUrl,k.headers,L]);const _t=le=>{$(_e=>{const Pe=new Set(_e);return Pe.has(le)?Pe.delete(le):Pe.add(le),Pe})},Ft=()=>{const le=D.filter(_e=>V.has(_e.name));le.length&&ke(le),M(!1)},Ee=w.useMemo(()=>Xf(k),[k]),Ye=O!==Ee,Lt=!g&&!b&&!te&&!G,{allowNextNavigation:me}=jh({enabled:Lt,shouldBlock:({currentLocation:le,nextLocation:_e})=>Ye&&le.pathname!==_e.pathname,dialog:{title:n("common.unsaved_changes_title"),message:n("common.unsaved_changes_message"),confirmText:n("common.leave"),cancelText:n("common.stay"),variant:"danger"}}),Ie=w.useCallback(async()=>{if(de){x(!0),C("");try{const le=k.modelEntries.map($e=>({...$e,name:mm($e.name)})),_e={apiKey:k.apiKey.trim(),priority:k.priority!==void 0?Math.trunc(k.priority):void 0,prefix:k.prefix?.trim()||void 0,baseUrl:k.baseUrl?.trim()||void 0,proxyUrl:k.proxyUrl?.trim()||void 0,headers:ys(k.headers),models:BC(le),excludedModels:Ph(k.excludedText)},Pe=X!==null?h.map(($e,yt)=>yt===X?_e:$e):[...h,_e];await Si.saveGeminiKeys(Pe),l("gemini-api-key",Pe),u("gemini-api-key"),s(n(X!==null?"notification.gemini_key_updated":"notification.gemini_key_added"),"success"),me(),T(Xf(k)),J()}catch(le){const _e=le instanceof Error?le.message:"";C(_e),s(`${n("notification.update_failed")}: ${_e}`,"error")}finally{x(!1)}}},[me,de,u,h,X,k,J,s,n,l]),Je=!r&&!b&&!g&&!te&&!G,ct=!r&&!b&&!F;return f.jsx(to,{ref:re,contentClassName:tn.content,title:ne,onBack:J,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:J,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:Ie,loading:b,disabled:!de,className:tn.floatingSaveButton,children:n("common.save")})]}),isLoading:g,loadingLabel:n("common.loading"),children:f.jsxs(wt,{children:[v&&f.jsx("div",{className:"error-box",children:v}),te||G?f.jsx("div",{className:"hint",children:n("common.invalid_provider_index")}):f.jsxs(f.Fragment,{children:[f.jsx(st,{label:n("ai_providers.gemini_add_modal_key_label"),placeholder:n("ai_providers.gemini_add_modal_key_placeholder"),value:k.apiKey,onChange:le=>N(_e=>({..._e,apiKey:le.target.value})),disabled:r||b}),f.jsx(st,{label:n("ai_providers.priority_label"),hint:n("ai_providers.priority_hint"),type:"number",step:1,value:k.priority??"",onChange:le=>{const _e=le.target.value,Pe=_e.trim()===""?void 0:Number(_e);N($e=>({...$e,priority:Pe!==void 0&&Number.isFinite(Pe)?Pe:void 0}))},disabled:r||b}),f.jsx(st,{label:n("ai_providers.prefix_label"),placeholder:n("ai_providers.prefix_placeholder"),value:k.prefix??"",onChange:le=>N(_e=>({..._e,prefix:le.target.value})),hint:n("ai_providers.prefix_hint"),disabled:r||b}),f.jsx(st,{label:n("ai_providers.gemini_base_url_label"),placeholder:n("ai_providers.gemini_base_url_placeholder"),value:k.baseUrl??"",onChange:le=>N(_e=>({..._e,baseUrl:le.target.value})),disabled:r||b}),f.jsx(st,{label:n("ai_providers.gemini_add_modal_proxy_label"),placeholder:n("ai_providers.gemini_add_modal_proxy_placeholder"),value:k.proxyUrl??"",onChange:le=>N(_e=>({..._e,proxyUrl:le.target.value})),disabled:r||b}),f.jsx(sg,{entries:k.headers,onChange:le=>N(_e=>({..._e,headers:le})),addLabel:n("common.custom_headers_add"),keyPlaceholder:n("common.custom_headers_key_placeholder"),valuePlaceholder:n("common.custom_headers_value_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:r||b}),f.jsxs("div",{className:z.modelConfigSection,children:[f.jsxs("div",{className:z.modelConfigHeader,children:[f.jsx("label",{className:z.modelConfigTitle,children:n("ai_providers.gemini_models_label")}),f.jsxs("div",{className:z.modelConfigToolbar,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>N(le=>({...le,modelEntries:[...le.modelEntries,{name:"",alias:""}]})),disabled:r||b,children:n("ai_providers.gemini_models_add_btn")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>M(!0),disabled:!Je,children:n("ai_providers.gemini_models_fetch_button")})]})]}),f.jsx("div",{className:z.sectionHint,children:n("ai_providers.gemini_models_hint")}),f.jsx(Eh,{entries:k.modelEntries,onChange:le=>N(_e=>({..._e,modelEntries:le})),namePlaceholder:n("common.model_name_placeholder"),aliasPlaceholder:n("common.model_alias_placeholder"),disabled:r||b,hideAddButton:!0,className:z.modelInputList,rowClassName:z.modelInputRow,inputClassName:z.modelInputField,removeButtonClassName:z.modelRowRemoveButton,removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete")})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.excluded_models_label")}),f.jsx("textarea",{className:"input",placeholder:n("ai_providers.excluded_models_placeholder"),value:k.excludedText,onChange:le=>N(_e=>({..._e,excludedText:le.target.value})),rows:4,disabled:r||b}),f.jsx("div",{className:"hint",children:n("ai_providers.excluded_models_hint")})]}),f.jsx(is,{open:L,title:n("ai_providers.gemini_models_fetch_title"),onClose:()=>M(!1),width:720,footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>M(!1),disabled:F,children:n("common.cancel")}),f.jsx(he,{size:"sm",onClick:Ft,disabled:!ct,children:n("ai_providers.gemini_models_fetch_apply")})]}),children:f.jsxs("div",{className:z.openaiModelsContent,children:[f.jsx("div",{className:z.sectionHint,children:n("ai_providers.gemini_models_fetch_hint")}),f.jsxs("div",{className:z.openaiModelsEndpointSection,children:[f.jsx("label",{className:z.openaiModelsEndpointLabel,children:n("ai_providers.gemini_models_fetch_url_label")}),f.jsxs("div",{className:z.openaiModelsEndpointControls,children:[f.jsx("input",{className:`input ${z.openaiModelsEndpointInput}`,readOnly:!0,value:P}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>void nt(),loading:F,disabled:r||b,children:n("ai_providers.gemini_models_fetch_refresh")})]})]}),f.jsx(st,{label:n("ai_providers.gemini_models_search_label"),placeholder:n("ai_providers.gemini_models_search_placeholder"),value:I,onChange:le=>K(le.target.value),disabled:F}),Z&&f.jsx("div",{className:"error-box",children:Z}),F?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.gemini_models_fetch_loading")}):D.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.gemini_models_fetch_empty")}):Le.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.gemini_models_search_empty")}):f.jsx("div",{className:z.modelDiscoveryList,children:Le.map(le=>{const _e=V.has(le.name);return f.jsxs("label",{className:`${z.modelDiscoveryRow} ${_e?z.modelDiscoveryRowSelected:""}`,children:[f.jsx("input",{type:"checkbox",checked:_e,onChange:()=>_t(le.name)}),f.jsxs("div",{className:z.modelDiscoveryMeta,children:[f.jsxs("div",{className:z.modelDiscoveryName,children:[le.name,le.alias&&f.jsx("span",{className:z.modelDiscoveryAlias,children:le.alias})]}),le.description&&f.jsx("div",{className:z.modelDiscoveryDesc,children:le.description})]})]},le.name)})})]})})]})]})})}const mR=()=>({name:"",priority:void 0,prefix:"",baseUrl:"",headers:[],apiKeyEntries:[Hd()],modelEntries:[{name:"",alias:""}],testModel:void 0}),zte=n=>{if(!n)return null;const e=Number.parseInt(n,10);return Number.isFinite(e)?e:null},pR=n=>n instanceof Error?n.message:typeof n=="string"?n:"",qte=n=>(n??[]).reduce((e,t)=>{const i=String(t?.name??"").trim();let s=String(t?.alias??"").trim();return i&&(s===""||s===i)&&(s=""),!i&&!s||e.push({name:i,alias:s}),e},[]),Kte=n=>!n||typeof n!="object"?[]:Object.entries(n).map(([e,t])=>({key:String(e??"").trim(),value:String(t??"").trim()})).filter(e=>e.key||e.value).sort((e,t)=>{const i=e.key.toLowerCase().localeCompare(t.key.toLowerCase());return i!==0?i:e.value.localeCompare(t.value)}),Hte=n=>(n??[]).reduce((e,t)=>{const i=String(t?.apiKey??"").trim(),s=String(t?.proxyUrl??"").trim(),a=Kte(t?.headers);return!i&&!s&&a.length===0||e.push({apiKey:i,proxyUrl:s,headers:a}),e},[]),Y_=(n,e)=>JSON.stringify({name:String(n.name??"").trim(),priority:n.priority!==void 0&&Number.isFinite(n.priority)?Math.trunc(n.priority):null,prefix:String(n.prefix??"").trim(),baseUrl:String(n.baseUrl??"").trim(),headers:Qp(n.headers),apiKeyEntries:Hte(n.apiKeyEntries),models:qte(n.modelEntries),testModel:String(e??"").trim()});function gR(){const{t:n}=Ze(),e=Ri(),t=$n(),{showNotification:i}=un(),s=qp(),a=typeof s.index=="string",r=w.useMemo(()=>zte(s.index),[s.index]),o=a&&r===null,u=Kt(me=>me.connectionStatus)!=="connected",h=Dt(me=>me.config),m=Dt(me=>me.fetchConfig),g=Dt(me=>me.isCacheValid),[_,b]=w.useState(()=>h?.openaiCompatibility??[]),[x,v]=w.useState(()=>!g("openai-compatibility")),[C,k]=w.useState(!1),N=w.useMemo(()=>o?`openai:invalid:${s.index??"unknown"}`:r===null?"openai:new":`openai:${r}`,[r,o,s.index]),O=sr(me=>me.drafts[N]),T=sr(me=>me.acquireDraft),L=sr(me=>me.releaseDraft),M=sr(me=>me.initDraft),P=sr(me=>me.setDraftBaselineSignature),R=sr(me=>me.setDraftForm),D=sr(me=>me.setDraftTestModel),U=sr(me=>me.setDraftTestStatus),F=sr(me=>me.setDraftTestMessage),H=sr(me=>me.setDraftKeyTestStatus),Z=sr(me=>me.resetDraftKeyTestStatuses),Y=O?.form??mR(),I=O?.testModel??"",K=O?.testStatus??"idle",V=O?.testMessage??"",$=O?.keyTestStatuses??[],W=w.useCallback(me=>{R(N,me)},[N,R]),j=w.useCallback(me=>{D(N,me)},[N,D]),B=w.useCallback(me=>{U(N,me)},[N,U]),X=w.useCallback(me=>{F(N,me)},[N,F]),te=w.useCallback((me,Ie)=>{H(N,me,Ie)},[N,H]),Q=w.useCallback(me=>{Z(N,me)},[N,Z]),G=w.useMemo(()=>{if(r!==null)return _[r]},[r,_]),ne=r!==null&&!G,J=w.useMemo(()=>Y.modelEntries.map(me=>me.name.trim()).filter(Boolean),[Y.modelEntries]);w.useEffect(()=>(T(N),()=>L(N)),[T,N,L]);const re=w.useCallback(()=>{if(t.state?.fromAiProviders){e(-1);return}e("/ai-providers",{replace:!0})},[t.state,e]);w.useEffect(()=>{let me=!1;return g("openai-compatibility")||v(!0),m("openai-compatibility").then(Je=>{me||b(Array.isArray(Je)?Je:[])}).catch(Je=>{if(me)return;const ct=pR(Je)||n("notification.refresh_failed");i(`${n("notification.load_failed")}: ${ct}`,"error")}).finally(()=>{me||v(!1)}),()=>{me=!0}},[m,g,i,n]),w.useEffect(()=>{if(!x&&!O?.initialized)if(G){const me=ig(G.models),Ie={name:G.name,priority:G.priority,prefix:G.prefix??"",baseUrl:G.baseUrl,headers:$p(G.headers),testModel:G.testModel,modelEntries:me,apiKeyEntries:G.apiKeyEntries?.length?G.apiKeyEntries:[Hd()]},Je=me.map(_e=>_e.name.trim()).filter(Boolean),ct=G.testModel&&Je.includes(G.testModel)?G.testModel:Je[0]||"",le=Y_(Ie,ct);M(N,{baselineSignature:le,form:Ie,testModel:ct,testStatus:"idle",testMessage:"",keyTestStatuses:[]})}else{const me=mR();M(N,{baselineSignature:Y_(me,""),form:me,testModel:"",testStatus:"idle",testMessage:"",keyTestStatuses:[]})}},[O?.initialized,N,M,G,x]),w.useEffect(()=>{if(!x){if(J.length===0){I&&(j(""),B("idle"),X(""));return}(!I||!J.includes(I))&&(j(J[0]),B("idle"),X(""))}},[J,x,X,j,B,I]);const de=w.useCallback(me=>{if(!me.length)return;let Ie=0;W(Je=>{const ct=new Map;Je.modelEntries.forEach(_e=>{const Pe=_e.name.trim();Pe&&ct.set(Pe,{name:Pe,alias:_e.alias?.trim()||""})}),me.forEach(_e=>{const Pe=_e.name.trim();!Pe||ct.has(Pe)||(ct.set(Pe,{name:Pe,alias:_e.alias??""}),Ie+=1)});const le=Array.from(ct.values());return{...Je,modelEntries:le.length?le:[{name:"",alias:""}]}}),Ie>0&&i(n("ai_providers.openai_models_fetch_added",{count:Ie}),"success")},[W,i,n]),Le=!O?.initialized,ke=w.useMemo(()=>Y_(Y,I),[Y,I]),nt=O?.baselineSignature??"",_t=!!O?.initialized&&nt!==ke,Ft=w.useMemo(()=>a?`/ai-providers/openai/${s.index??""}`:"/ai-providers/openai/new",[a,s.index]),Ee=!Le&&!C&&!o&&!ne,{allowNextNavigation:Ye}=jh({enabled:Ee,shouldBlock:({nextLocation:me})=>{const Ie=me.pathname,Je=Ie===Ft||Ie.startsWith(`${Ft}/`);return _t&&!Je},dialog:{title:n("common.unsaved_changes_title"),message:n("common.unsaved_changes_message"),confirmText:n("common.leave"),cancelText:n("common.stay"),variant:"danger"}}),Lt=w.useCallback(async()=>{const me=Y.name.trim(),Ie=Y.baseUrl.trim();if(!me||!Ie){i(n("notification.openai_provider_required"),"error");return}k(!0);try{const Je={name:me,prefix:Y.prefix?.trim()||void 0,baseUrl:Ie,headers:ys(Y.headers),apiKeyEntries:Y.apiKeyEntries.map($e=>({apiKey:$e.apiKey.trim(),proxyUrl:$e.proxyUrl?.trim()||void 0,headers:$e.headers}))};Y.priority!==void 0&&Number.isFinite(Y.priority)&&(Je.priority=Math.trunc(Y.priority));const ct=I.trim();ct&&(Je.testModel=ct);const le=BC(Y.modelEntries);le.length&&(Je.models=le);const _e=r!==null?_.map(($e,yt)=>yt===r?Je:$e):[..._,Je];await Si.saveOpenAIProviders(_e);let Pe=_e;try{const $e=await m("openai-compatibility",!0);Array.isArray($e)&&(Pe=$e)}catch{}b(Pe),i(n(r!==null?"notification.openai_provider_updated":"notification.openai_provider_added"),"success"),Ye(),P(N,Y_(Y,I)),re()}catch(Je){i(`${n("notification.update_failed")}: ${pR(Je)}`,"error")}finally{k(!1)}},[Ye,N,r,m,Y,re,_,P,i,n,I]);return f.jsx(Hk,{context:{hasIndexParam:a,editIndex:r,invalidIndexParam:o,invalidIndex:ne,disableControls:u,loading:Le,saving:C,form:Y,setForm:W,testModel:I,setTestModel:j,testStatus:K,setTestStatus:B,testMessage:V,setTestMessage:X,keyTestStatuses:$,setDraftKeyTestStatus:te,resetDraftKeyTestStatuses:Q,availableModels:J,handleBack:re,handleSave:Lt,mergeDiscoveredModels:de}})}const _R=3e4,Vte=n=>n instanceof Error?n.message:typeof n=="string"?n:"";function Wte(){return f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:z.statusIconSpin,children:[f.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeOpacity:"0.25",strokeWidth:"2"}),f.jsx("path",{d:"M8 1A7 7 0 0 1 8 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function Gte(){return f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[f.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"var(--success-color, #22c55e)"}),f.jsx("path",{d:"M4.5 8L7 10.5L11.5 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Xte(){return f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[f.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"var(--danger-color, #c65746)"}),f.jsx("path",{d:"M5 5L11 11M11 5L5 11",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function $te(){return f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:f.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"var(--text-tertiary, #9ca3af)",strokeWidth:"2"})})}function Qte({status:n}){switch(n){case"loading":return f.jsx(Wte,{});case"success":return f.jsx(Gte,{});case"error":return f.jsx(Xte,{});default:return f.jsx($te,{})}}function yR(){const{t:n}=Ze(),e=Ri(),{showNotification:t}=un(),{hasIndexParam:i,invalidIndexParam:s,invalidIndex:a,disableControls:r,loading:o,saving:l,form:u,setForm:h,testModel:m,setTestModel:g,testStatus:_,setTestStatus:b,testMessage:x,setTestMessage:v,keyTestStatuses:C,setDraftKeyTestStatus:k,resetDraftKeyTestStatuses:N,availableModels:O,handleBack:T,handleSave:L}=Ob(),M=n(i?"ai_providers.openai_edit_modal_title":"ai_providers.openai_add_modal_title"),P=eo({onBack:T}),[R,D]=w.useState(!1);w.useEffect(()=>{const B=X=>{X.key==="Escape"&&T()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[T]);const U=!r&&!o&&!l&&!s&&!a&&!R,F=u.modelEntries.some(B=>B.name.trim()),H=u.apiKeyEntries.some(B=>B.apiKey?.trim()),Z=w.useMemo(()=>{const B=new Set;return u.modelEntries.reduce((X,te)=>{const Q=te.name.trim();if(!Q||B.has(Q))return X;B.add(Q);const G=te.alias.trim();return X.push({value:Q,label:G&&G!==Q?`${Q} (${G})`:Q}),X},[])},[u.modelEntries]),Y=w.useMemo(()=>{const B=u.headers.map(te=>`${te.key.trim()}:${te.value.trim()}`).join("|"),X=u.modelEntries.map(te=>`${te.name.trim()}:${te.alias.trim()}`).join("|");return[u.baseUrl.trim(),m.trim(),B,X].join("||")},[u.baseUrl,u.headers,u.modelEntries,m]),I=w.useRef(Y);w.useEffect(()=>{I.current!==Y&&(I.current=Y,N(u.apiKeyEntries.length),b("idle"),v(""))},[Y,u.apiKeyEntries.length,N,b,v]);const K=w.useCallback(async B=>{const X=u.baseUrl.trim();if(!X)return t(n("notification.openai_test_url_required"),"error"),!1;const te=AP(X);if(!te)return t(n("notification.openai_test_url_required"),"error"),!1;const Q=u.apiKeyEntries[B];if(!Q?.apiKey?.trim())return k(B,{status:"error",message:n("notification.openai_test_key_required")}),!1;const G=m.trim()||O[0]||"";if(!G)return t(n("notification.openai_test_model_required"),"error"),!1;const J={"Content-Type":"application/json",...ys(u.headers)};!J.Authorization&&!J.authorization&&(J.Authorization=`Bearer ${Q.apiKey.trim()}`),k(B,{status:"loading",message:""});try{const re=await Ir.request({method:"POST",url:te,header:Object.keys(J).length?J:void 0,data:JSON.stringify({model:G,messages:[{role:"user",content:"Hi"}],stream:!1,max_tokens:5})},{timeout:_R});if(re.statusCode<200||re.statusCode>=300)throw new Error(Br(re));return k(B,{status:"success",message:""}),!0}catch(re){const de=Vte(re),nt=(typeof re=="object"&&re!==null&&"code"in re?String(re.code):"")==="ECONNABORTED"||de.toLowerCase().includes("timeout")?n("ai_providers.openai_test_timeout",{seconds:_R/1e3}):de;return k(B,{status:"error",message:nt}),!1}},[u.baseUrl,u.apiKeyEntries,u.headers,m,O,n,k,t]),V=w.useCallback(async B=>{if(R)return!1;D(!0);try{return await K(B)}finally{D(!1)}},[R,K]),$=w.useCallback(async()=>{if(R)return;const B=u.baseUrl.trim();if(!B){const G=n("notification.openai_test_url_required");b("error"),v(G),t(G,"error");return}if(!AP(B)){const G=n("notification.openai_test_url_required");b("error"),v(G),t(G,"error");return}if(!(m.trim()||O[0]||"")){const G=n("notification.openai_test_model_required");b("error"),v(G),t(G,"error");return}const Q=u.apiKeyEntries.map((G,ne)=>G.apiKey?.trim()?ne:-1).filter(G=>G>=0);if(Q.length===0){const G=n("notification.openai_test_key_required");b("error"),v(G),t(G,"error");return}D(!0),b("loading"),v(n("ai_providers.openai_test_running")),N(u.apiKeyEntries.length);try{const ne=(await Promise.all(Q.map(re=>K(re)))).filter(Boolean).length,J=Q.length-ne;if(J===0){const re=n("ai_providers.openai_test_all_success",{count:ne});b("success"),v(re),t(re,"success")}else if(ne===0){const re=n("ai_providers.openai_test_all_failed",{count:J});b("error"),v(re),t(re,"error")}else{const re=n("ai_providers.openai_test_all_partial",{success:ne,failed:J});b("error"),v(re),t(re,"warning")}}finally{D(!1)}},[R,u.baseUrl,u.apiKeyEntries,m,O,n,b,v,N,K,t]),W=()=>{if(!u.baseUrl.trim()){t(n("ai_providers.openai_models_fetch_invalid_url"),"error");return}e("models")},j=B=>{const X=B.length?B:[Hd()],te=(ne,J,re)=>{const de=X.map((Le,ke)=>ke===ne?{...Le,[J]:re}:Le);h(Le=>({...Le,apiKeyEntries:de})),k(ne,{status:"idle",message:""}),b("idle"),v("")},Q=ne=>{const J=X.filter((de,Le)=>Le!==ne),re=J.length?J.length:1;h(de=>({...de,apiKeyEntries:J.length?J:[Hd()]})),N(re),b("idle"),v("")},G=()=>{h(ne=>({...ne,apiKeyEntries:[...X,Hd()]})),N(X.length+1),b("idle"),v("")};return f.jsxs("div",{className:z.keyEntriesList,children:[f.jsxs("div",{className:z.keyEntriesToolbar,children:[f.jsxs("span",{className:z.keyEntriesCount,children:[n("ai_providers.openai_keys_count"),": ",X.length]}),f.jsx(he,{variant:"secondary",size:"sm",onClick:G,disabled:l||r||R,className:z.addKeyButton,children:n("ai_providers.openai_keys_add_btn")})]}),f.jsxs("div",{className:z.keyTableShell,children:[f.jsxs("div",{className:z.keyTableHeader,children:[f.jsx("div",{className:z.keyTableColIndex,children:"#"}),f.jsx("div",{className:z.keyTableColStatus,children:n("common.status")}),f.jsx("div",{className:z.keyTableColKey,children:n("common.api_key")}),f.jsx("div",{className:z.keyTableColProxy,children:n("common.proxy_url")}),f.jsx("div",{className:z.keyTableColAction,children:n("common.action")})]}),X.map((ne,J)=>{const re=C[J]?.status??"idle",de=!!ne.apiKey?.trim()&&F;return f.jsxs("div",{className:z.keyTableRow,children:[f.jsx("div",{className:z.keyTableColIndex,children:J+1}),f.jsx("div",{className:z.keyTableColStatus,title:C[J]?.message||"",children:f.jsx(Qte,{status:re})}),f.jsx("div",{className:z.keyTableColKey,children:f.jsx("input",{type:"text",value:ne.apiKey,onChange:Le=>te(J,"apiKey",Le.target.value),disabled:l||r||R,className:`input ${z.keyTableInput}`,placeholder:n("ai_providers.openai_key_placeholder")})}),f.jsx("div",{className:z.keyTableColProxy,children:f.jsx("input",{type:"text",value:ne.proxyUrl??"",onChange:Le=>te(J,"proxyUrl",Le.target.value),disabled:l||r||R,className:`input ${z.keyTableInput}`,placeholder:n("ai_providers.openai_proxy_placeholder")})}),f.jsxs("div",{className:z.keyTableColAction,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>void V(J),disabled:l||r||R||!de,loading:re==="loading",children:n("ai_providers.openai_test_single_action")}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>Q(J),disabled:l||r||R||X.length<=1,children:n("common.delete")})]})]},J)})]})]})};return f.jsx(to,{ref:P,contentClassName:tn.content,title:M,onBack:T,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:T,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:()=>void L(),loading:l,disabled:!U,className:tn.floatingSaveButton,children:n("common.save")})]}),isLoading:o,loadingLabel:n("common.loading"),children:f.jsx(wt,{children:s||a?f.jsx("div",{className:z.sectionHint,children:n("common.invalid_provider_index")}):f.jsxs("div",{className:z.openaiEditForm,children:[f.jsx(st,{label:n("ai_providers.openai_add_modal_name_label"),value:u.name,onChange:B=>h(X=>({...X,name:B.target.value})),disabled:l||r||R}),f.jsx(st,{label:n("ai_providers.priority_label"),hint:n("ai_providers.priority_hint"),type:"number",step:1,value:u.priority??"",onChange:B=>{const X=B.target.value,te=X.trim()===""?void 0:Number(X);h(Q=>({...Q,priority:te!==void 0&&Number.isFinite(te)?te:void 0}))},disabled:l||r||R}),f.jsx(st,{label:n("ai_providers.prefix_label"),placeholder:n("ai_providers.prefix_placeholder"),value:u.prefix??"",onChange:B=>h(X=>({...X,prefix:B.target.value})),hint:n("ai_providers.prefix_hint"),disabled:l||r||R}),f.jsx(st,{label:n("ai_providers.openai_add_modal_url_label"),value:u.baseUrl,onChange:B=>h(X=>({...X,baseUrl:B.target.value})),disabled:l||r||R}),f.jsx(sg,{entries:u.headers,onChange:B=>h(X=>({...X,headers:B})),addLabel:n("common.custom_headers_add"),keyPlaceholder:n("common.custom_headers_key_placeholder"),valuePlaceholder:n("common.custom_headers_value_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:l||r||R}),f.jsxs("div",{className:z.modelConfigSection,children:[f.jsxs("div",{className:z.modelConfigHeader,children:[f.jsx("label",{className:z.modelConfigTitle,children:n(i?"ai_providers.openai_edit_modal_models_label":"ai_providers.openai_add_modal_models_label")}),f.jsxs("div",{className:z.modelConfigToolbar,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>h(B=>({...B,modelEntries:[...B.modelEntries,{name:"",alias:""}]})),disabled:l||r||R,children:n("ai_providers.openai_models_add_btn")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:W,disabled:l||r||R,children:n("ai_providers.openai_models_fetch_button")})]})]}),f.jsx("div",{className:z.sectionHint,children:n("ai_providers.openai_models_hint")}),f.jsx(Eh,{entries:u.modelEntries,onChange:B=>h(X=>({...X,modelEntries:B})),namePlaceholder:n("common.model_name_placeholder"),aliasPlaceholder:n("common.model_alias_placeholder"),disabled:l||r||R,hideAddButton:!0,className:z.modelInputList,rowClassName:z.modelInputRow,inputClassName:z.modelInputField,removeButtonClassName:z.modelRowRemoveButton,removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete")}),f.jsxs("div",{className:z.modelTestPanel,children:[f.jsxs("div",{className:z.modelTestMeta,children:[f.jsx("label",{className:z.modelTestLabel,children:n("ai_providers.openai_test_title")}),f.jsx("span",{className:z.modelTestHint,children:n("ai_providers.openai_test_hint")})]}),f.jsxs("div",{className:z.modelTestControls,children:[f.jsx(Ks,{value:m,options:Z,onChange:B=>{g(B),b("idle"),v("")},placeholder:O.length?n("ai_providers.openai_test_select_placeholder"):n("ai_providers.openai_test_select_empty"),className:z.openaiTestSelect,ariaLabel:n("ai_providers.openai_test_title"),disabled:l||r||R||_==="loading"||O.length===0}),f.jsx(he,{variant:_==="error"?"danger":"secondary",size:"sm",onClick:()=>void $(),loading:_==="loading",disabled:l||r||R||_==="loading"||!F||!H,title:n("ai_providers.openai_test_all_hint"),className:z.modelTestAllButton,children:n("ai_providers.openai_test_all_action")})]})]}),x&&f.jsx("div",{className:`status-badge ${_==="error"?"error":_==="success"?"success":"muted"}`,children:x})]}),f.jsxs("div",{className:z.keyEntriesSection,children:[f.jsxs("div",{className:z.keyEntriesHeader,children:[f.jsx("label",{className:z.keyEntriesTitle,children:n("ai_providers.openai_add_modal_keys_label")}),f.jsx("span",{className:z.keyEntriesHint,children:n("ai_providers.openai_keys_hint")})]}),j(u.apiKeyEntries)]})]})})})}const w2=n=>n instanceof Error?n.message:typeof n=="string"?n:"";function bR(){const{t:n}=Ze(),e=Ri(),{disableControls:t,loading:i,saving:s,form:a,mergeDiscoveredModels:r}=Ob(),[o,l]=w.useState(""),[u,h]=w.useState([]),[m,g]=w.useState(!1),[_,b]=w.useState(""),[x,v]=w.useState(""),[C,k]=w.useState(new Set),N=w.useMemo(()=>{const D=x.trim().toLowerCase();return D?u.filter(U=>{const F=(U.name||"").toLowerCase(),H=(U.alias||"").toLowerCase(),Z=(U.description||"").toLowerCase();return F.includes(D)||H.includes(D)||Z.includes(D)}):u},[u,x]),O=w.useCallback(async({allowFallback:D=!0}={})=>{const U=a.baseUrl.trim();if(U){g(!0),b("");try{const F=ys(a.headers),H=a.apiKeyEntries.find(I=>I.apiKey?.trim())?.apiKey?.trim(),Z=!!(F.Authorization||F.authorization),Y=await $o.fetchModelsViaApiCall(U,Z?void 0:H,F);h(Y)}catch(F){if(D)try{const H=await $o.fetchModelsViaApiCall(U);h(H);return}catch(H){const Z=w2(H)||w2(F);h([]),b(`${n("ai_providers.openai_models_fetch_error")}: ${Z}`)}else h([]),b(`${n("ai_providers.openai_models_fetch_error")}: ${w2(F)}`)}finally{g(!1)}}},[a.apiKeyEntries,a.baseUrl,a.headers,n]);w.useEffect(()=>{i||(l(U$(a.baseUrl)),h([]),v(""),k(new Set),b(""),O())},[O,a.baseUrl,i]);const T=w.useCallback(()=>{e(-1)},[e]),L=eo({onBack:T});w.useEffect(()=>{const D=U=>{U.key==="Escape"&&T()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[T]);const M=D=>{k(U=>{const F=new Set(U);return F.has(D)?F.delete(D):F.add(D),F})},P=()=>{const D=u.filter(U=>C.has(U.name));D.length&&r(D),T()},R=!t&&!s&&!m;return f.jsx(to,{ref:L,contentClassName:tn.content,title:n("ai_providers.openai_models_fetch_title"),onBack:T,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:T,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:P,disabled:!R,className:tn.floatingSaveButton,children:n("ai_providers.openai_models_fetch_apply")})]}),isLoading:i,loadingLabel:n("common.loading"),children:f.jsx(wt,{children:f.jsxs("div",{className:z.openaiModelsContent,children:[f.jsx("div",{className:z.sectionHint,children:n("ai_providers.openai_models_fetch_hint")}),f.jsxs("div",{className:z.openaiModelsEndpointSection,children:[f.jsx("label",{className:z.openaiModelsEndpointLabel,children:n("ai_providers.openai_models_fetch_url_label")}),f.jsxs("div",{className:z.openaiModelsEndpointControls,children:[f.jsx("input",{className:`input ${z.openaiModelsEndpointInput}`,readOnly:!0,value:o}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>void O({allowFallback:!0}),loading:m,disabled:t||s,children:n("ai_providers.openai_models_fetch_refresh")})]})]}),f.jsx(st,{label:n("ai_providers.openai_models_search_label"),placeholder:n("ai_providers.openai_models_search_placeholder"),value:x,onChange:D=>v(D.target.value),disabled:m}),_&&f.jsx("div",{className:"error-box",children:_}),m?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.openai_models_fetch_loading")}):u.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.openai_models_fetch_empty")}):N.length===0?f.jsx("div",{className:z.sectionHint,children:n("ai_providers.openai_models_search_empty")}):f.jsx("div",{className:z.modelDiscoveryList,children:N.map(D=>{const U=C.has(D.name);return f.jsxs("label",{className:`${z.modelDiscoveryRow} ${U?z.modelDiscoveryRowSelected:""}`,children:[f.jsx("input",{type:"checkbox",checked:U,onChange:()=>M(D.name)}),f.jsxs("div",{className:z.modelDiscoveryMeta,children:[f.jsxs("div",{className:z.modelDiscoveryName,children:[D.name,D.alias&&f.jsx("span",{className:z.modelDiscoveryAlias,children:D.alias})]}),D.description&&f.jsx("div",{className:z.modelDiscoveryDesc,children:D.description})]})]},D.name)})})]})})})}const k2=()=>({apiKey:"",prefix:"",baseUrl:"",proxyUrl:"",headers:[],models:[],modelEntries:[{name:"",alias:""}]}),Yte=n=>{if(!n)return null;const e=Number.parseInt(n,10);return Number.isFinite(e)?e:null},Zte=n=>(n??[]).reduce((e,t)=>{const i=String(t?.name??"").trim(),s=String(t?.alias??"").trim();return!i&&!s||e.push({name:i,alias:s}),e},[]),$f=n=>JSON.stringify({apiKey:String(n.apiKey??"").trim(),priority:n.priority!==void 0&&Number.isFinite(n.priority)?Math.trunc(n.priority):null,prefix:String(n.prefix??"").trim(),baseUrl:String(n.baseUrl??"").trim(),proxyUrl:String(n.proxyUrl??"").trim(),headers:Qp(n.headers),models:Zte(n.modelEntries)});function xR(){const{t:n}=Ze(),e=Ri(),t=$n(),i=qp(),{showNotification:s}=un(),r=Kt(W=>W.connectionStatus)!=="connected",o=Dt(W=>W.fetchConfig),l=Dt(W=>W.updateConfigValue),u=Dt(W=>W.clearCache),[h,m]=w.useState([]),[g,_]=w.useState(!0),[b,x]=w.useState(!1),[v,C]=w.useState(""),[k,N]=w.useState(()=>k2()),[O,T]=w.useState(()=>$f(k2())),L=typeof i.index=="string",M=w.useMemo(()=>Yte(i.index),[i.index]),P=L&&M===null,R=w.useMemo(()=>{if(M!==null)return h[M]},[h,M]),D=M!==null&&!R,U=n(M!==null?"ai_providers.vertex_edit_modal_title":"ai_providers.vertex_add_modal_title"),F=w.useCallback(()=>{if(t.state?.fromAiProviders){e(-1);return}e("/ai-providers",{replace:!0})},[t.state,e]),H=eo({onBack:F});w.useEffect(()=>{const W=j=>{j.key==="Escape"&&F()};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[F]),w.useEffect(()=>{let W=!1;return _(!0),C(""),Promise.all([o("vertex-api-key"),Si.getVertexConfigs()]).then(([j,B])=>{if(W)return;const X=Array.isArray(B)?B:Array.isArray(j)?j:[];m(X),l("vertex-api-key",X),u("vertex-api-key")}).catch(j=>{if(W)return;const B=j instanceof Error?j.message:"";C(B||n("notification.refresh_failed"))}).finally(()=>{W||_(!1)}),()=>{W=!0}},[u,o,n,l]),w.useEffect(()=>{if(g)return;if(R){const j={...R,headers:$p(R.headers),modelEntries:ig(R.models)};N(j),T($f(j));return}const W=k2();N(W),T($f(W))},[R,g]);const Z=!r&&!b&&!g&&!P&&!D,Y=w.useMemo(()=>$f(k),[k]),I=O!==Y,K=!g&&!b&&!P&&!D,{allowNextNavigation:V}=jh({enabled:K,shouldBlock:({currentLocation:W,nextLocation:j})=>I&&W.pathname!==j.pathname,dialog:{title:n("common.unsaved_changes_title"),message:n("common.unsaved_changes_message"),confirmText:n("common.leave"),cancelText:n("common.stay"),variant:"danger"}}),$=w.useCallback(async()=>{if(!Z)return;const j=(k.baseUrl??"").trim()||void 0;if(!j){s(n("notification.vertex_base_url_required"),"error");return}x(!0),C("");try{const B={apiKey:k.apiKey.trim(),priority:k.priority!==void 0&&Number.isFinite(k.priority)?Math.trunc(k.priority):void 0,prefix:k.prefix?.trim()||void 0,baseUrl:j,proxyUrl:k.proxyUrl?.trim()||void 0,headers:ys(k.headers),models:k.modelEntries.map(te=>{const Q=te.name.trim(),G=te.alias.trim();return!Q||!G?null:{name:Q,alias:G}}).filter(Boolean)},X=M!==null?h.map((te,Q)=>Q===M?B:te):[...h,B];await Si.saveVertexConfigs(X),l("vertex-api-key",X),u("vertex-api-key"),s(n(M!==null?"notification.vertex_config_updated":"notification.vertex_config_added"),"success"),V(),T($f(k)),F()}catch(B){const X=B instanceof Error?B.message:"";C(X),s(`${n("notification.update_failed")}: ${X}`,"error")}finally{x(!1)}},[V,Z,u,h,M,k,F,s,n,l]);return f.jsx(to,{ref:H,contentClassName:tn.content,title:U,onBack:F,backLabel:n("common.back"),backAriaLabel:n("common.back"),hideTopBarBackButton:!0,hideTopBarRightAction:!0,floatingAction:f.jsxs("div",{className:tn.floatingActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:F,className:tn.floatingBackButton,children:n("common.back")}),f.jsx(he,{size:"sm",onClick:$,loading:b,disabled:!Z,className:tn.floatingSaveButton,children:n("common.save")})]}),isLoading:g,loadingLabel:n("common.loading"),children:f.jsxs(wt,{children:[v&&f.jsx("div",{className:"error-box",children:v}),P||D?f.jsx("div",{className:"hint",children:n("common.invalid_provider_index")}):f.jsxs(f.Fragment,{children:[f.jsx(st,{label:n("ai_providers.vertex_add_modal_key_label"),placeholder:n("ai_providers.vertex_add_modal_key_placeholder"),value:k.apiKey,onChange:W=>N(j=>({...j,apiKey:W.target.value})),disabled:r||b}),f.jsx(st,{label:n("ai_providers.prefix_label"),placeholder:n("ai_providers.prefix_placeholder"),value:k.prefix??"",onChange:W=>N(j=>({...j,prefix:W.target.value})),hint:n("ai_providers.prefix_hint"),disabled:r||b}),f.jsx(st,{label:n("ai_providers.vertex_add_modal_url_label"),placeholder:n("ai_providers.vertex_add_modal_url_placeholder"),value:k.baseUrl??"",onChange:W=>N(j=>({...j,baseUrl:W.target.value})),disabled:r||b}),f.jsx(st,{label:n("ai_providers.vertex_add_modal_proxy_label"),placeholder:n("ai_providers.vertex_add_modal_proxy_placeholder"),value:k.proxyUrl??"",onChange:W=>N(j=>({...j,proxyUrl:W.target.value})),disabled:r||b}),f.jsx(sg,{entries:k.headers,onChange:W=>N(j=>({...j,headers:W})),addLabel:n("common.custom_headers_add"),keyPlaceholder:n("common.custom_headers_key_placeholder"),valuePlaceholder:n("common.custom_headers_value_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:r||b}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:n("ai_providers.vertex_models_label")}),f.jsx(Eh,{entries:k.modelEntries,onChange:W=>N(j=>({...j,modelEntries:W})),addLabel:n("ai_providers.vertex_models_add_btn"),namePlaceholder:n("common.model_name_placeholder"),aliasPlaceholder:n("common.model_alias_placeholder"),removeButtonTitle:n("common.delete"),removeButtonAriaLabel:n("common.delete"),disabled:r||b}),f.jsx("div",{className:"hint",children:n("ai_providers.vertex_models_hint")})]})]})]})})}async function Xb(n){try{if(typeof navigator<"u"&&navigator.clipboard?.writeText)return await navigator.clipboard.writeText(n),!0}catch{}try{if(typeof document>"u"||!document.body)return!1;const e=document.activeElement,t=document.createElement("textarea");t.value=n,t.setAttribute("readonly",""),t.style.position="fixed",t.style.opacity="0",t.style.pointerEvents="none",t.style.left="-9999px",t.style.top="0",t.style.width="1px",t.style.height="1px",t.style.padding="0",t.style.border="0",document.body.appendChild(t),t.focus(),t.select(),t.setSelectionRange(0,t.value.length);const i=document.execCommand("copy");if(document.body.removeChild(t),e?.focus)try{e.focus()}catch{}return i}catch{return!1}}const P6=new Set(["antigravity","codex","gemini-cli"]),dw=3,hw=30,Jte=1440*60*1e3,ene=/^[+-]?\d+$/,tne=new Set(["true","1","yes","y","on"]),nne=new Set(["false","0","no","n","off"]),vR={qwen:{light:{bg:"#e8f5e9",text:"#2e7d32"},dark:{bg:"#1b5e20",text:"#81c784"}},kimi:{light:{bg:"#fff4e5",text:"#ad6800"},dark:{bg:"#7c4a03",text:"#ffd591"}},gemini:{light:{bg:"#e3f2fd",text:"#1565c0"},dark:{bg:"#0d47a1",text:"#64b5f6"}},"gemini-cli":{light:{bg:"#e7efff",text:"#1e4fa3"},dark:{bg:"#1c3f73",text:"#a8c7ff"}},aistudio:{light:{bg:"#f0f2f5",text:"#2f343c"},dark:{bg:"#373c42",text:"#cfd3db"}},claude:{light:{bg:"#fce4ec",text:"#c2185b"},dark:{bg:"#880e4f",text:"#f48fb1"}},codex:{light:{bg:"#fff3e0",text:"#ef6c00"},dark:{bg:"#e65100",text:"#ffb74d"}},antigravity:{light:{bg:"#e0f7fa",text:"#006064"},dark:{bg:"#004d40",text:"#80deea"}},iflow:{light:{bg:"#f3e5f5",text:"#7b1fa2"},dark:{bg:"#4a148c",text:"#ce93d8"}},empty:{light:{bg:"#f5f5f5",text:"#616161"},dark:{bg:"#424242",text:"#bdbdbd"}},unknown:{light:{bg:"#f0f0f0",text:"#666666",border:"1px dashed #999999"},dark:{bg:"#3a3a3a",text:"#aaaaaa",border:"1px dashed #666666"}}},SR=n=>Math.min(hw,Math.max(dw,Math.round(n))),ine=(n,e,t)=>e===404?n("common.quota_update_required"):e===403?n("common.quota_check_credential"):t,Or=n=>n.trim().toLowerCase(),Iy=(n,e)=>{const t=`auth_files.filter_${e}`,i=n(t);return i!==t?i:e.toLowerCase()==="iflow"?"iFlow":e.charAt(0).toUpperCase()+e.slice(1)},R6=(n,e)=>{const t=vR[n]||vR.unknown;return e==="dark"&&t.dark?t.dark:t.light},E6=n=>{if(typeof n=="number")return Number.isInteger(n)?n:void 0;if(typeof n!="string")return;const e=n.trim();if(!e||!ene.test(e))return;const t=Number.parseInt(e,10);return Number.isSafeInteger(t)?t:void 0},j6=n=>{if(!Array.isArray(n))return[];const e=new Set,t=[];return n.forEach(i=>{const s=String(i??"").trim().toLowerCase();!s||e.has(s)||(e.add(s),t.push(s))}),t.sort((i,s)=>i.localeCompare(s))},sne=n=>j6(n.split(/[\n,]+/)),D6=n=>{if(typeof n=="boolean")return n;if(typeof n=="number"&&Number.isFinite(n))return n!==0;if(typeof n!="string")return;const e=n.trim().toLowerCase();if(e){if(tne.has(e))return!0;if(nne.has(e))return!1}};function Xd(n){const e=n.runtime_only??n.runtimeOnly;return typeof e=="boolean"?e:typeof e=="string"?e.trim().toLowerCase()==="true":!1}function ane(n,e){const t={success:0,failure:0},i=n?.name||"",s=n.auth_index??n.authIndex,a=ws(s);if(a&&e.byAuthIndex?.[a])return e.byAuthIndex[a];const r=i?ap(i):"";if(r&&e.bySource?.[r]){const o=e.bySource[r];if(o.success>0||o.failure>0)return o}if(i){const o=i.replace(/\.[^/.]+$/,"");if(o&&o!==i){const l=ap(o),u=l?e.bySource?.[l]:void 0;if(u&&(u.success>0||u.failure>0))return u}}return t}const rne=n=>{const e=n.modtime??n.modified;if(!e)return"-";const t=Number(e),i=Number.isFinite(t)&&!Number.isNaN(t)?new Date(t<1e12?t*1e3:t):new Date(String(e));return Number.isNaN(i.getTime())?"-":i.toLocaleString()},one=(n,e,t)=>{const i=Or(e);return(t[i]||t[e]||[]).some(a=>{if(a.includes("*")){const r=a.split("*").map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join(".*");return new RegExp(`^${r}$`,"i").test(n)}return a.toLowerCase()===n.toLowerCase()})},wR={qwen:{light:{bg:"#e8f5e9",text:"#2e7d32"},dark:{bg:"#1b5e20",text:"#81c784"}},gemini:{light:{bg:"#e3f2fd",text:"#1565c0"},dark:{bg:"#0d47a1",text:"#64b5f6"}},"gemini-cli":{light:{bg:"#e7efff",text:"#1e4fa3"},dark:{bg:"#1c3f73",text:"#a8c7ff"}},aistudio:{light:{bg:"#f0f2f5",text:"#2f343c"},dark:{bg:"#373c42",text:"#cfd3db"}},claude:{light:{bg:"#fce4ec",text:"#c2185b"},dark:{bg:"#880e4f",text:"#f48fb1"}},codex:{light:{bg:"#fff3e0",text:"#ef6c00"},dark:{bg:"#e65100",text:"#ffb74d"}},antigravity:{light:{bg:"#e0f7fa",text:"#006064"},dark:{bg:"#004d40",text:"#80deea"}},iflow:{light:{bg:"#f3e5f5",text:"#7b1fa2"},dark:{bg:"#4a148c",text:"#ce93d8"}},empty:{light:{bg:"#f5f5f5",text:"#616161"},dark:{bg:"#424242",text:"#bdbdbd"}},unknown:{light:{bg:"#f0f0f0",text:"#666666",border:"1px dashed #999999"},dark:{bg:"#3a3a3a",text:"#aaaaaa",border:"1px dashed #666666"}}},lne=["https://daily-cloudcode-pa.googleapis.com/v1internal:fetchAvailableModels","https://daily-cloudcode-pa.sandbox.googleapis.com/v1internal:fetchAvailableModels","https://cloudcode-pa.googleapis.com/v1internal:fetchAvailableModels"],cne={Authorization:"Bearer $TOKEN$","Content-Type":"application/json","User-Agent":"antigravity/1.11.5 windows/amd64"},une=[{id:"claude-gpt",label:"Claude/GPT",identifiers:["claude-sonnet-4-5-thinking","claude-opus-4-5-thinking","claude-sonnet-4-5","gpt-oss-120b-medium"]},{id:"gemini-3-pro",label:"Gemini 3 Pro",identifiers:["gemini-3-pro-high","gemini-3-pro-low"]},{id:"gemini-2-5-flash",label:"Gemini 2.5 Flash",identifiers:["gemini-2.5-flash","gemini-2.5-flash-thinking"]},{id:"gemini-2-5-flash-lite",label:"Gemini 2.5 Flash Lite",identifiers:["gemini-2.5-flash-lite"]},{id:"gemini-2-5-cu",label:"Gemini 2.5 CU",identifiers:["rev19-uic3-1p"]},{id:"gemini-3-flash",label:"Gemini 3 Flash",identifiers:["gemini-3-flash"]},{id:"gemini-image",label:"gemini-3-pro-image",identifiers:["gemini-3-pro-image"],labelFromModel:!0}],dne="https://cloudcode-pa.googleapis.com/v1internal:retrieveUserQuota",hne={Authorization:"Bearer $TOKEN$","Content-Type":"application/json"},F6=[{id:"gemini-flash-lite-series",label:"Gemini Flash Lite Series",preferredModelId:"gemini-2.5-flash-lite",modelIds:["gemini-2.5-flash-lite"]},{id:"gemini-flash-series",label:"Gemini Flash Series",preferredModelId:"gemini-3-flash-preview",modelIds:["gemini-3-flash-preview","gemini-2.5-flash"]},{id:"gemini-pro-series",label:"Gemini Pro Series",preferredModelId:"gemini-3.1-pro-preview",modelIds:["gemini-3.1-pro-preview","gemini-3-pro-preview","gemini-2.5-pro"]}],fne=new Map(F6.map((n,e)=>[n.id,e])),mne=new Map(F6.flatMap(n=>n.modelIds.map(e=>[e,n]))),pne=["gemini-2.0-flash"],gne="https://api.anthropic.com/api/oauth/usage",_ne={Authorization:"Bearer $TOKEN$","Content-Type":"application/json","anthropic-beta":"oauth-2025-04-20"},yne=[{key:"five_hour",id:"five-hour",labelKey:"claude_quota.five_hour"},{key:"seven_day",id:"seven-day",labelKey:"claude_quota.seven_day"},{key:"seven_day_oauth_apps",id:"seven-day-oauth-apps",labelKey:"claude_quota.seven_day_oauth_apps"},{key:"seven_day_opus",id:"seven-day-opus",labelKey:"claude_quota.seven_day_opus"},{key:"seven_day_sonnet",id:"seven-day-sonnet",labelKey:"claude_quota.seven_day_sonnet"},{key:"seven_day_cowork",id:"seven-day-cowork",labelKey:"claude_quota.seven_day_cowork"},{key:"iguana_necktie",id:"iguana-necktie",labelKey:"claude_quota.iguana_necktie"}],bne="https://chatgpt.com/backend-api/wham/usage",xne={Authorization:"Bearer $TOKEN$","Content-Type":"application/json","User-Agent":"codex_cli_rs/0.76.0 (Debian 13.0.0; x86_64) WindowsTerminal"},kR="_vertex";function Vr(n){if(typeof n=="string"){const e=n.trim();return e||null}return typeof n=="number"&&Number.isFinite(n)?n.toString():null}function vne(n){const e=Vr(n);return e?e.endsWith(kR)?e.slice(0,-kR.length):e:null}function yu(n){if(typeof n=="number"&&Number.isFinite(n))return n;if(typeof n=="string"){const e=n.trim();if(!e)return null;const t=Number(e);return Number.isFinite(t)?t:null}return null}function U6(n){const e=yu(n);if(e!==null)return e;if(typeof n=="string"){const t=n.trim();if(!t)return null;if(t.endsWith("%")){const i=Number(t.slice(0,-1));return Number.isFinite(i)?i/100:null}}return null}function IC(n){const e=Vr(n);return e?e.toLowerCase():null}function Sne(n){const e=n.trim();if(!e)return null;try{const t=e.replace(/-/g,"+").replace(/_/g,"/"),i=t.padEnd(Math.ceil(t.length/4)*4,"=");if(typeof window<"u"&&typeof window.atob=="function")return window.atob(i);if(typeof atob=="function")return atob(i)}catch{return null}return null}function wne(n){if(!n)return null;if(typeof n=="object")return Array.isArray(n)?null:n;if(typeof n!="string")return null;const e=n.trim();if(!e)return null;try{const s=JSON.parse(e);if(s&&typeof s=="object")return s}catch{}const t=e.split(".");if(t.length<2)return null;const i=Sne(t[1]);if(!i)return null;try{const s=JSON.parse(i);if(s&&typeof s=="object")return s}catch{return null}return null}function kne(n){if(n==null)return null;if(typeof n=="string"){const e=n.trim();if(!e)return null;try{return JSON.parse(e)}catch{return null}}return typeof n=="object"?n:null}function Cne(n){if(n==null)return null;if(typeof n=="string"){const e=n.trim();if(!e)return null;try{return JSON.parse(e)}catch{return null}}return typeof n=="object"?n:null}function Ane(n){if(n==null)return null;if(typeof n=="string"){const e=n.trim();if(!e)return null;try{return JSON.parse(e)}catch{return null}}return typeof n=="object"?n:null}function Tne(n){if(n==null)return null;if(typeof n=="string"){const e=n.trim();if(!e)return null;try{return JSON.parse(e)}catch{return null}}return typeof n=="object"?n:null}function Nne(n){const e=wne(n);return e?Vr(e.chatgpt_account_id??e.chatgptAccountId):null}function Mne(n){const e=n&&typeof n.metadata=="object"&&n.metadata!==null?n.metadata:null,t=n&&typeof n.attributes=="object"&&n.attributes!==null?n.attributes:null,i=[n.id_token,e?.id_token,t?.id_token];for(const s of i){const a=Nne(s);if(a)return a}return null}function One(n){const e=n&&typeof n.metadata=="object"&&n.metadata!==null?n.metadata:null,t=n&&typeof n.attributes=="object"&&n.attributes!==null?n.attributes:null,i=n&&typeof n.id_token=="object"&&n.id_token!==null?n.id_token:null,s=e&&typeof e.id_token=="object"&&e.id_token!==null?e.id_token:null,a=[n.plan_type,n.planType,n.plan_type,n.planType,n.id_token,i?.plan_type,i?.planType,e?.plan_type,e?.planType,e?.id_token,s?.plan_type,s?.planType,t?.plan_type,t?.planType,t?.id_token];for(const r of a){const o=IC(r);if(o)return o}return null}function Lne(n){if(typeof n!="string")return null;const e=Array.from(n.matchAll(/\(([^()]+)\)/g));if(e.length===0)return null;const t=e[e.length-1]?.[1]?.trim();return t||null}function Pne(n){const e=n&&typeof n.metadata=="object"&&n.metadata!==null?n.metadata:null,t=n&&typeof n.attributes=="object"&&n.attributes!==null?n.attributes:null,i=[n.account,n.account,e?.account,t?.account];for(const s of i){const a=Lne(s);if(a)return a}return null}function zC(n){if(!n)return"-";const e=new Date(n);return Number.isNaN(e.getTime())?"-":e.toLocaleString(void 0,{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}function CR(n){if(!n)return"-";const e=new Date(n*1e3);return Number.isNaN(e.getTime())?"-":e.toLocaleString(void 0,{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}function Rne(n){if(!n)return"-";const e=yu(n.reset_at??n.resetAt);if(e!==null&&e>0)return CR(e);const t=yu(n.reset_after_seconds??n.resetAfterSeconds);if(t!==null&&t>0){const i=Math.floor(Date.now()/1e3+t);return CR(i)}return"-"}function $b(n,e){const t=new Error(n);return e!==void 0&&(t.status=e),t}function qC(n){if(typeof n=="object"&&n!==null&&"status"in n){const e=n.status;if(typeof e=="number"&&Number.isFinite(e))return e;const t=Number(e);if(Number.isFinite(t)&&t>0)return t}}function ag(n){const e=n.provider??n.type??"";return String(e).trim().toLowerCase()}function Ene(n){return ag(n)==="antigravity"}function jne(n){return ag(n)==="claude"}function Dne(n){return ag(n)==="codex"}function Fne(n){return ag(n)==="gemini-cli"}function Une(n){const e=n.runtime_only??n.runtimeOnly;return typeof e=="boolean"?e:typeof e=="string"?e.trim().toLowerCase()==="true":!1}function Qb(n){const e=n.disabled;return typeof e=="boolean"?e:typeof e=="number"?e!==0:typeof e=="string"?e.trim().toLowerCase()==="true":!1}function Bne(n){return pne.some(e=>n===e||n.startsWith(`${e}-`))}function Ine(n,e){if(!n)return e;if(!e)return n;const t=new Date(n).getTime(),i=new Date(e).getTime();return Number.isNaN(t)?e:Number.isNaN(i)||t<=i?n:e}function AR(n,e){return n===null?e:e===null?n:Math.min(n,e)}function zne(n){if(n.length===0)return[];const e=new Map;n.forEach(i=>{if(Bne(i.modelId))return;const s=mne.get(i.modelId),a=s?.id??i.modelId,r=s?.label??i.modelId,o=i.tokenType??"",l=`${a}::${o}`,u=e.get(l);if(!u){const h=s?.preferredModelId,m=h&&i.modelId===h?i:void 0;e.set(l,{id:`${a}${o?`-${o}`:""}`,label:r,tokenType:i.tokenType,modelIds:[i.modelId],preferredModelId:h,preferredBucket:m,fallbackRemainingFraction:i.remainingFraction,fallbackRemainingAmount:i.remainingAmount,fallbackResetTime:i.resetTime});return}u.fallbackRemainingFraction=AR(u.fallbackRemainingFraction,i.remainingFraction),u.fallbackRemainingAmount=AR(u.fallbackRemainingAmount,i.remainingAmount),u.fallbackResetTime=Ine(u.fallbackResetTime,i.resetTime),u.modelIds.push(i.modelId),u.preferredModelId&&i.modelId===u.preferredModelId&&(u.preferredBucket=i)});const t=i=>{const s=i.tokenType?`-${i.tokenType}`:"",a=i.id.endsWith(s)?i.id.slice(0,i.id.length-s.length):i.id;return fne.get(a)??Number.MAX_SAFE_INTEGER};return Array.from(e.values()).sort((i,s)=>{const a=t(i)-t(s);if(a!==0)return a;const r=i.tokenType??"",o=s.tokenType??"";return r.localeCompare(o)}).map(i=>{const s=Array.from(new Set(i.modelIds)),a=i.preferredBucket,r=a?a.remainingFraction:i.fallbackRemainingFraction,o=a?a.remainingAmount:i.fallbackRemainingAmount,l=a?a.resetTime:i.fallbackResetTime;return{id:i.id,label:i.label,remainingFraction:r,remainingAmount:o,resetTime:l,tokenType:i.tokenType,modelIds:s}})}function qne(n){if(!n)return{remainingFraction:null};const e=n.quotaInfo??n.quota_info??{},t=e.remainingFraction??e.remaining_fraction??e.remaining,i=U6(t),s=e.resetTime??e.reset_time,a=typeof s=="string"?s:void 0,r=typeof n.displayName=="string"?n.displayName:void 0;return{remainingFraction:i,resetTime:a,displayName:r}}function Kne(n,e){const t=n[e];if(t)return{id:e,entry:t};const i=Object.entries(n).find(([,s])=>(typeof s?.displayName=="string"?s.displayName:"").toLowerCase()===e.toLowerCase());return i?{id:i[0],entry:i[1]}:null}function Hne(n){const e=[];let t;const[i,s,a,r,o,l,u]=une,h=(k,N)=>{const T=k.identifiers.map(D=>Kne(n,D)).filter(D=>!!D).map(({id:D,entry:U})=>{const F=qne(U),H=F.remainingFraction??(F.resetTime?0:null);return H===null?null:{id:D,remainingFraction:H,resetTime:F.resetTime,displayName:F.displayName}}).filter(D=>D!==null);if(T.length===0)return null;const L=Math.min(...T.map(D=>D.remainingFraction)),M=N??T.map(D=>D.resetTime).find(Boolean),P=T.map(D=>D.displayName).find(Boolean),R=k.labelFromModel&&P?P:k.label;return{id:k.id,label:R,models:T.map(D=>D.id),remainingFraction:L,resetTime:M}},m=h(i);m&&e.push(m);const g=h(s);g&&(t=g.resetTime,e.push(g));const _=h(a);_&&e.push(_);const b=h(r);b&&e.push(b);const x=h(o);x&&e.push(x);const v=h(l);v&&e.push(v);const C=h(u,t);return C&&e.push(C),e}const Vne="QuotaPage-module__container___CkTNE",Wne="QuotaPage-module__pageHeader___7RVAE",Gne="QuotaPage-module__pageTitle___c6BF7",Xne="QuotaPage-module__description___qDPuI",$ne="QuotaPage-module__headerActions___Jfu3A",Qne="QuotaPage-module__titleWrapper___lHVCF",Yne="QuotaPage-module__countBadge___tuPLs",Zne="QuotaPage-module__errorBox___Ub2Qs",Jne="QuotaPage-module__pageSizeSelect___1AaaU",eie="QuotaPage-module__statsInfo___coFxw",tie="QuotaPage-module__antigravityGrid___d29-f",nie="QuotaPage-module__claudeGrid___g3N0r",iie="QuotaPage-module__codexGrid___gQjcK",sie="QuotaPage-module__geminiCliGrid___R6KEW",aie="QuotaPage-module__antigravityControls___jdhuf",rie="QuotaPage-module__claudeControls___CJ9XX",oie="QuotaPage-module__codexControls___ZabMA",lie="QuotaPage-module__geminiCliControls___aWZsx",cie="QuotaPage-module__antigravityControl___Z2Ti6",uie="QuotaPage-module__claudeControl___4J9Tz",die="QuotaPage-module__codexControl___P4r4g",hie="QuotaPage-module__geminiCliControl___SIXi-",fie="QuotaPage-module__viewModeToggle___BHo1O",mie="QuotaPage-module__claudeCard___z9zBZ",pie="QuotaPage-module__antigravityCard___0jKaG",gie="QuotaPage-module__codexCard___2xhZX",_ie="QuotaPage-module__geminiCliCard___i8Qjn",yie="QuotaPage-module__quotaSection___Yb6bk",bie="QuotaPage-module__quotaRow___uNjD0",xie="QuotaPage-module__quotaRowHeader___jr9zd",vie="QuotaPage-module__quotaModel___-3mcR",Sie="QuotaPage-module__quotaBar___ATY20",wie="QuotaPage-module__quotaBarFill___arMGf",kie="QuotaPage-module__quotaBarFillHigh___yfdzz",Cie="QuotaPage-module__quotaBarFillMedium___PbU2j",Aie="QuotaPage-module__quotaBarFillLow___1dvgT",Tie="QuotaPage-module__quotaMeta___2Gr-S",Nie="QuotaPage-module__quotaPercent___dwFKN",Mie="QuotaPage-module__quotaReset___AQC0c",Oie="QuotaPage-module__quotaAmount___liJkK",Lie="QuotaPage-module__quotaMessage___tXEKQ",Pie="QuotaPage-module__quotaError___rIKP-",Rie="QuotaPage-module__quotaWarning___phfIc",Eie="QuotaPage-module__codexPlan___cNsir",jie="QuotaPage-module__codexPlanLabel___NR4tn",Die="QuotaPage-module__codexPlanValue___TZDzO",Fie="QuotaPage-module__fileCard___7ZTk-",Uie="QuotaPage-module__cardHeader___vBGld",Bie="QuotaPage-module__typeBadge___ubtCA",Iie="QuotaPage-module__fileName___ATlvN",zie="QuotaPage-module__pagination___W2eGv",qie="QuotaPage-module__pageInfo___yNU7E",Kie="QuotaPage-module__warningOverlay___lVjB7",Hie="QuotaPage-module__warningModal___2pPNd",vt={container:Vne,pageHeader:Wne,pageTitle:Gne,description:Xne,headerActions:$ne,titleWrapper:Qne,countBadge:Yne,errorBox:Zne,pageSizeSelect:Jne,statsInfo:eie,antigravityGrid:tie,claudeGrid:nie,codexGrid:iie,geminiCliGrid:sie,antigravityControls:aie,claudeControls:rie,codexControls:oie,geminiCliControls:lie,antigravityControl:cie,claudeControl:uie,codexControl:die,geminiCliControl:hie,viewModeToggle:fie,claudeCard:mie,antigravityCard:pie,codexCard:gie,geminiCliCard:_ie,quotaSection:yie,quotaRow:bie,quotaRowHeader:xie,quotaModel:vie,quotaBar:Sie,quotaBarFill:wie,quotaBarFillHigh:kie,quotaBarFillMedium:Cie,quotaBarFillLow:Aie,quotaMeta:Tie,quotaPercent:Nie,quotaReset:Mie,quotaAmount:Oie,quotaMessage:Lie,quotaError:Pie,quotaWarning:Rie,codexPlan:Eie,codexPlanLabel:jie,codexPlanValue:Die,fileCard:Fie,cardHeader:Uie,typeBadge:Bie,fileName:Iie,pagination:zie,pageInfo:qie,warningOverlay:Kie,warningModal:Hie};function Vie({percent:n,highThreshold:e,mediumThreshold:t}){const s=n===null?null:((o,l,u)=>Math.min(u,Math.max(l,o)))(n,0,100),a=s===null?vt.quotaBarFillMedium:s>=e?vt.quotaBarFillHigh:s>=t?vt.quotaBarFillMedium:vt.quotaBarFillLow,r=Math.round(s??0);return f.jsx("div",{className:vt.quotaBar,children:f.jsx("div",{className:`${vt.quotaBarFill} ${a}`,style:{width:`${r}%`}})})}function Wie({item:n,quota:e,resolvedTheme:t,i18nPrefix:i,cardIdleMessageKey:s,cardClassName:a,defaultType:r,renderQuotaItems:o}){const{t:l}=Ze(),u=n.type||n.provider||r,h=wR[u]||wR.unknown,m=t==="dark"&&h.dark?h.dark:h.light,g=e?.status??"idle",_=Gie(l,e?.errorStatus,e?.error||l("common.unknown_error")),b=s??`${i}.idle`,x=v=>{const C=`auth_files.filter_${v}`,k=l(C);return k!==C?k:v.toLowerCase()==="iflow"?"iFlow":v.charAt(0).toUpperCase()+v.slice(1)};return f.jsxs("div",{className:`${vt.fileCard} ${a}`,children:[f.jsxs("div",{className:vt.cardHeader,children:[f.jsx("span",{className:vt.typeBadge,style:{backgroundColor:m.bg,color:m.text,...m.border?{border:m.border}:{}},children:x(u)}),f.jsx("span",{className:vt.fileName,children:n.name})]}),f.jsx("div",{className:vt.quotaSection,children:g==="loading"?f.jsx("div",{className:vt.quotaMessage,children:l(`${i}.loading`)}):g==="idle"?f.jsx("div",{className:vt.quotaMessage,children:l(b)}):g==="error"?f.jsx("div",{className:vt.quotaError,children:l(`${i}.load_failed`,{message:_})}):e?o(e,l,{styles:vt,QuotaProgressBar:Vie}):f.jsx("div",{className:vt.quotaMessage,children:l(b)})})]})}const Gie=(n,e,t)=>e===404?n("common.quota_update_required"):e===403?n("common.quota_check_credential"):t;function Xie(n){const{t:e}=Ze(),t=sp(n.storeSelector),i=sp(o=>o[n.storeSetter]),s=w.useRef(!1),a=w.useRef(0),r=w.useCallback(async(o,l,u)=>{if(s.current)return;s.current=!0;const h=++a.current;u(!0,l);try{if(o.length===0)return;i(g=>{const _={...g};return o.forEach(b=>{_[b.name]=n.buildLoadingState()}),_});const m=await Promise.all(o.map(async g=>{try{const _=await n.fetchQuota(g,e);return{name:g.name,status:"success",data:_}}catch(_){const b=_ instanceof Error?_.message:e("common.unknown_error"),x=qC(_);return{name:g.name,status:"error",error:b,errorStatus:x}}}));if(h!==a.current)return;i(g=>{const _={...g};return m.forEach(b=>{b.status==="success"?_[b.name]=n.buildSuccessState(b.data):_[b.name]=n.buildErrorState(b.error||e("common.unknown_error"),b.errorStatus)}),_})}finally{h===a.current&&(u(!1),s.current=!1)}},[n,i,e]);return{quota:t,loadQuota:r}}function $ie(n,e=16){const[t,i]=w.useState(1),[s,a]=w.useState(null),r=w.useCallback(o=>{a(o)},[]);return w.useEffect(()=>{if(!s)return;const o=()=>{const u=s.clientWidth,h=n+e,m=Math.floor((u+e)/h);i(Math.max(1,m))};o();const l=new ResizeObserver(()=>{o()});return l.observe(s),()=>l.disconnect()},[s,n,e]),[t,r]}const Qie=25,TR=30,Yie=(n,e=6)=>{const[t,i]=w.useState(1),[s,a]=w.useState(e),[r,o]=w.useState(!1),[l,u]=w.useState(null),h=w.useMemo(()=>Math.max(1,Math.ceil(n.length/s)),[n.length,s]),m=w.useMemo(()=>Math.min(t,h),[t,h]),g=w.useMemo(()=>{const C=(m-1)*s;return n.slice(C,C+s)},[n,m,s]),_=w.useCallback(C=>{a(C),i(1)},[]),b=w.useCallback(()=>{i(C=>Math.max(1,C-1))},[]),x=w.useCallback(()=>{i(C=>Math.min(h,C+1))},[h]),v=w.useCallback((C,k)=>{o(C),u(C?k??null:null)},[]);return{pageSize:s,totalPages:h,currentPage:m,pageItems:g,setPageSize:_,goToPrev:b,goToNext:x,loading:r,loadingScope:l,setLoading:v}};function Z_({config:n,files:e,loading:t,disabled:i}){const{t:s}=Ze(),a=qa(I=>I.resolvedTheme),r=sp(I=>I[n.storeSetter]),[o,l]=$ie(380),[u,h]=w.useState("paged"),[m,g]=w.useState(!1),_=w.useMemo(()=>e.filter(I=>n.filterFn(I)),[e,n]),b=_.length<=TR,x=u==="all"&&!b?"paged":u,{pageSize:v,totalPages:C,currentPage:k,pageItems:N,setPageSize:O,goToPrev:T,goToNext:L,loading:M,setLoading:P}=Yie(_);w.useEffect(()=>{if(b||u!=="all")return;let I=!1;return queueMicrotask(()=>{I||(h("paged"),g(!0))}),()=>{I=!0}},[b,u]),w.useEffect(()=>{O(x==="all"?Math.max(1,_.length):Math.min(o*3,Qie))},[x,o,_.length,O]);const{quota:R,loadQuota:D}=Xie(n),U=w.useRef(!1),F=w.useRef(t),H=w.useCallback(()=>{U.current=!0,L6()},[]);w.useEffect(()=>{const I=F.current;if(F.current=t,!U.current||t||!I)return;U.current=!1;const K=x==="all"?"all":"page",V=x==="all"?_:N;V.length!==0&&D(V,K,P)},[t,x,_,N,D,P]),w.useEffect(()=>{if(!t){if(_.length===0){r({});return}r(I=>{const K={};return _.forEach(V=>{const $=I[V.name];$&&(K[V.name]=$)}),K})}},[_,t,r]);const Z=f.jsxs("div",{className:vt.titleWrapper,children:[f.jsx("span",{children:s(`${n.i18nPrefix}.title`)}),_.length>0&&f.jsx("span",{className:vt.countBadge,children:_.length})]}),Y=M||t;return f.jsxs(wt,{title:Z,extra:f.jsxs("div",{className:vt.headerActions,children:[f.jsxs("div",{className:vt.viewModeToggle,children:[f.jsx(he,{variant:x==="paged"?"primary":"secondary",size:"sm",onClick:()=>h("paged"),children:s("auth_files.view_mode_paged")}),f.jsx(he,{variant:x==="all"?"primary":"secondary",size:"sm",onClick:()=>{_.length>TR?g(!0):h("all")},children:s("auth_files.view_mode_all")})]}),f.jsx(he,{variant:"secondary",size:"sm",onClick:H,disabled:i||Y,loading:Y,title:s("quota_management.refresh_files_and_quota"),"aria-label":s("quota_management.refresh_files_and_quota"),children:!Y&&f.jsx($k,{size:16})})]}),children:[_.length===0?f.jsx(ns,{title:s(`${n.i18nPrefix}.empty_title`),description:s(`${n.i18nPrefix}.empty_desc`)}):f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:l,className:n.gridClassName,children:N.map(I=>f.jsx(Wie,{item:I,quota:R[I.name],resolvedTheme:a,i18nPrefix:n.i18nPrefix,cardIdleMessageKey:n.cardIdleMessageKey,cardClassName:n.cardClassName,defaultType:n.type,renderQuotaItems:n.renderQuotaItems},I.name))}),_.length>v&&x==="paged"&&f.jsxs("div",{className:vt.pagination,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:T,disabled:k<=1,children:s("auth_files.pagination_prev")}),f.jsx("div",{className:vt.pageInfo,children:s("auth_files.pagination_info",{current:k,total:C,count:_.length})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:L,disabled:k>=C,children:s("auth_files.pagination_next")})]})]}),m&&f.jsx("div",{className:vt.warningOverlay,onClick:()=>g(!1),children:f.jsxs("div",{className:vt.warningModal,onClick:I=>I.stopPropagation(),children:[f.jsx("p",{children:s("auth_files.too_many_files_warning")}),f.jsx(he,{variant:"primary",size:"sm",onClick:()=>g(!1),children:s("common.confirm")})]})})]})}const C2="bamboo-precept-lgxtn",Zie=async n=>{try{const t=(await At.downloadText(n.name)).trim();if(!t)return C2;const i=JSON.parse(t),s=Vr(i.project_id??i.projectId);if(s)return s;const a=i.installed&&typeof i.installed=="object"&&i.installed!==null?i.installed:null,r=a?Vr(a.project_id??a.projectId):null;if(r)return r;const o=i.web&&typeof i.web=="object"&&i.web!==null?i.web:null,l=o?Vr(o.project_id??o.projectId):null;if(l)return l}catch{return C2}return C2},Jie=async(n,e)=>{const t=n.auth_index??n.authIndex,i=ws(t);if(!i)throw new Error(e("antigravity_quota.missing_auth_index"));const s=await Zie(n),a=JSON.stringify({project:s});let r="",o,l,u=!1;for(const h of lne)try{const m=await Ir.request({authIndex:i,method:"POST",url:h,header:{...cne},data:a});if(m.statusCode<200||m.statusCode>=300){r=Br(m),o=m.statusCode,(m.statusCode===403||m.statusCode===404)&&(l??(l=m.statusCode));continue}u=!0;const _=kne(m.body??m.bodyText)?.models;if(!_||typeof _!="object"||Array.isArray(_)){r=e("antigravity_quota.empty_models");continue}const b=Hne(_);if(b.length===0){r=e("antigravity_quota.empty_models");continue}return b}catch(m){r=m instanceof Error?m.message:e("common.unknown_error");const g=qC(m);g&&(o=g,(g===403||g===404)&&(l??(l=g)))}if(u)return[];throw $b(r||e("common.unknown_error"),l??o)},ese=(n,e)=>{const s={codeFiveHour:{id:"five-hour",labelKey:"codex_quota.primary_window"},codeWeekly:{id:"weekly",labelKey:"codex_quota.secondary_window"},codeReviewFiveHour:{id:"code-review-five-hour",labelKey:"codex_quota.code_review_primary_window"},codeReviewWeekly:{id:"code-review-weekly",labelKey:"codex_quota.code_review_secondary_window"}},a=n.rate_limit??n.rateLimit??void 0,r=n.code_review_rate_limit??n.codeReviewRateLimit??void 0,o=n.additional_rate_limits??n.additionalRateLimits??[],l=[],u=(N,O,T,L,M,P,R)=>{if(!M)return;const D=Rne(M),H=yu(M.used_percent??M.usedPercent)??((!!P||R===!1)&&D!=="-"?100:null);l.push({id:N,label:O,labelKey:T,labelParams:L,usedPercent:H,resetLabel:D})},h=N=>N?yu(N.limit_window_seconds??N.limitWindowSeconds):null,m=a?.limit_reached??a?.limitReached,g=a?.allowed,_=(N,O)=>{const T=N?.primary_window??N?.primaryWindow??null,L=N?.secondary_window??N?.secondaryWindow??null,M=[T,L];let P=null,R=null;for(const D of M){if(!D)continue;const U=h(D);U===18e3&&!P?P=D:U===604800&&!R&&(R=D)}return P||(P=T&&T!==R?T:null),R||(R=L&&L!==P?L:null),{fiveHourWindow:P,weeklyWindow:R}},b=_(a);u(s.codeFiveHour.id,e(s.codeFiveHour.labelKey),s.codeFiveHour.labelKey,void 0,b.fiveHourWindow,m,g),u(s.codeWeekly.id,e(s.codeWeekly.labelKey),s.codeWeekly.labelKey,void 0,b.weeklyWindow,m,g);const x=_(r),v=r?.limit_reached??r?.limitReached,C=r?.allowed;u(s.codeReviewFiveHour.id,e(s.codeReviewFiveHour.labelKey),s.codeReviewFiveHour.labelKey,void 0,x.fiveHourWindow,v,C),u(s.codeReviewWeekly.id,e(s.codeReviewWeekly.labelKey),s.codeReviewWeekly.labelKey,void 0,x.weeklyWindow,v,C);const k=N=>N.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return Array.isArray(o)&&o.forEach((N,O)=>{const T=N?.rate_limit??N?.rateLimit??null;if(!T)return;const L=Vr(N?.limit_name??N?.limitName)??Vr(N?.metered_feature??N?.meteredFeature)??`additional-${O+1}`,M=k(L)||`additional-${O+1}`,P=T.primary_window??T.primaryWindow??null,R=T.secondary_window??T.secondaryWindow??null,D=T.limit_reached??T.limitReached,U=T.allowed;u(`${M}-five-hour-${O}`,e("codex_quota.additional_primary_window",{name:L}),"codex_quota.additional_primary_window",{name:L},P,D,U),u(`${M}-weekly-${O}`,e("codex_quota.additional_secondary_window",{name:L}),"codex_quota.additional_secondary_window",{name:L},R,D,U)}),l},tse=async(n,e)=>{const t=n.auth_index??n.authIndex,i=ws(t);if(!i)throw new Error(e("codex_quota.missing_auth_index"));const s=One(n),a=Mne(n);if(!a)throw new Error(e("codex_quota.missing_account_id"));const r={...xne,"Chatgpt-Account-Id":a},o=await Ir.request({authIndex:i,method:"GET",url:bne,header:r});if(o.statusCode<200||o.statusCode>=300)throw $b(Br(o),o.statusCode);const l=Ane(o.body??o.bodyText);if(!l)throw new Error(e("codex_quota.empty_windows"));const u=IC(l.plan_type??l.planType),h=ese(l,e);return{planType:u??s,windows:h}},nse=async(n,e)=>{const t=n.auth_index??n.authIndex,i=ws(t);if(!i)throw new Error(e("gemini_cli_quota.missing_auth_index"));const s=Pne(n);if(!s)throw new Error(e("gemini_cli_quota.missing_project_id"));const a=await Ir.request({authIndex:i,method:"POST",url:dne,header:{...hne},data:JSON.stringify({project:s})});if(a.statusCode<200||a.statusCode>=300)throw $b(Br(a),a.statusCode);const r=Tne(a.body??a.bodyText),o=Array.isArray(r?.buckets)?r?.buckets:[];if(o.length===0)return[];const l=o.map(u=>{const h=vne(u.modelId??u.model_id);if(!h)return null;const m=Vr(u.tokenType??u.token_type),g=U6(u.remainingFraction??u.remaining_fraction),_=yu(u.remainingAmount??u.remaining_amount),b=Vr(u.resetTime??u.reset_time)??void 0;let x=null;return _!==null?x=_<=0?0:null:b&&(x=0),{modelId:h,tokenType:m,remainingFraction:g??x,remainingAmount:_,resetTime:b}}).filter(u=>u!==null);return zne(l)},ise=(n,e,t)=>{const{styles:i,QuotaProgressBar:s}=t,{createElement:a}=zo,r=n.groups??[];return r.length===0?a("div",{className:i.quotaMessage},e("antigravity_quota.empty_models")):r.map(o=>{const l=Math.max(0,Math.min(1,o.remainingFraction)),u=Math.round(l*100),h=zC(o.resetTime);return a("div",{key:o.id,className:i.quotaRow},a("div",{className:i.quotaRowHeader},a("span",{className:i.quotaModel,title:o.models.join(", ")},o.label),a("div",{className:i.quotaMeta},a("span",{className:i.quotaPercent},`${u}%`),a("span",{className:i.quotaReset},h))),a(s,{percent:u,highThreshold:60,mediumThreshold:20}))})},sse=(n,e,t)=>{const{styles:i,QuotaProgressBar:s}=t,{createElement:a,Fragment:r}=zo,o=n.windows??[],l=n.planType??null,h=(g=>{const _=IC(g);return _?_==="plus"?e("codex_quota.plan_plus"):_==="team"?e("codex_quota.plan_team"):_==="free"?e("codex_quota.plan_free"):g||_:null})(l),m=[];return h&&m.push(a("div",{key:"plan",className:i.codexPlan},a("span",{className:i.codexPlanLabel},e("codex_quota.plan_label")),a("span",{className:i.codexPlanValue},h))),o.length===0?(m.push(a("div",{key:"empty",className:i.quotaMessage},e("codex_quota.empty_windows"))),a(r,null,...m)):(m.push(...o.map(g=>{const _=g.usedPercent,b=_===null?null:Math.max(0,Math.min(100,_)),x=b===null?null:Math.max(0,Math.min(100,100-b)),v=x===null?"--":`${Math.round(x)}%`,C=g.labelKey?e(g.labelKey,g.labelParams):g.label;return a("div",{key:g.id,className:i.quotaRow},a("div",{className:i.quotaRowHeader},a("span",{className:i.quotaModel},C),a("div",{className:i.quotaMeta},a("span",{className:i.quotaPercent},v),a("span",{className:i.quotaReset},g.resetLabel))),a(s,{percent:x,highThreshold:80,mediumThreshold:50}))})),a(r,null,...m))},ase=(n,e,t)=>{const{styles:i,QuotaProgressBar:s}=t,{createElement:a}=zo,r=n.buckets??[];return r.length===0?a("div",{className:i.quotaMessage},e("gemini_cli_quota.empty_buckets")):r.map(o=>{const l=o.remainingFraction,u=l===null?null:Math.max(0,Math.min(1,l)),h=u===null?null:Math.round(u*100),m=h===null?"--":`${h}%`,g=o.remainingAmount===null||o.remainingAmount===void 0?null:e("gemini_cli_quota.remaining_amount",{count:o.remainingAmount}),_=o.modelIds&&o.modelIds.length>0?o.modelIds.join(", "):o.label,b=o.tokenType?`${_} (${o.tokenType})`:_,x=zC(o.resetTime);return a("div",{key:o.id,className:i.quotaRow},a("div",{className:i.quotaRowHeader},a("span",{className:i.quotaModel,title:b},o.label),a("div",{className:i.quotaMeta},a("span",{className:i.quotaPercent},m),g?a("span",{className:i.quotaAmount},g):null,a("span",{className:i.quotaReset},x))),a(s,{percent:h,highThreshold:60,mediumThreshold:20}))})},rse=(n,e)=>{const t=[];for(const{key:i,id:s,labelKey:a}of yne){const r=n[i];if(!r||typeof r!="object"||!("utilization"in r))continue;const o=r,l=yu(o.utilization),u=zC(o.resets_at);t.push({id:s,label:e(a),labelKey:a,usedPercent:l,resetLabel:u})}return t},ose=async(n,e)=>{const t=n.auth_index??n.authIndex,i=ws(t);if(!i)throw new Error(e("claude_quota.missing_auth_index"));const s=await Ir.request({authIndex:i,method:"GET",url:gne,header:{..._ne}});if(s.statusCode<200||s.statusCode>=300)throw $b(Br(s),s.statusCode);const a=Cne(s.body??s.bodyText);if(!a)throw new Error(e("claude_quota.empty_windows"));return{windows:rse(a,e),extraUsage:a.extra_usage}},lse=(n,e,t)=>{const{styles:i,QuotaProgressBar:s}=t,{createElement:a,Fragment:r}=zo,o=n.windows??[],l=n.extraUsage??null,u=[];if(l&&l.is_enabled){const h=`$${(l.used_credits/100).toFixed(2)} / $${(l.monthly_limit/100).toFixed(2)}`;u.push(a("div",{key:"extra",className:i.codexPlan},a("span",{className:i.codexPlanLabel},e("claude_quota.extra_usage_label")),a("span",{className:i.codexPlanValue},h)))}return o.length===0?(u.push(a("div",{key:"empty",className:i.quotaMessage},e("claude_quota.empty_windows"))),a(r,null,...u)):(u.push(...o.map(h=>{const m=h.usedPercent,g=m===null?null:Math.max(0,Math.min(100,m)),_=g===null?null:Math.max(0,Math.min(100,100-g)),b=_===null?"--":`${Math.round(_)}%`,x=h.labelKey?e(h.labelKey):h.label;return a("div",{key:h.id,className:i.quotaRow},a("div",{className:i.quotaRowHeader},a("span",{className:i.quotaModel},x),a("div",{className:i.quotaMeta},a("span",{className:i.quotaPercent},b),a("span",{className:i.quotaReset},h.resetLabel))),a(s,{percent:_,highThreshold:80,mediumThreshold:50}))})),a(r,null,...u))},cse={type:"claude",i18nPrefix:"claude_quota",cardIdleMessageKey:"quota_management.card_idle_hint",filterFn:n=>jne(n)&&!Qb(n),fetchQuota:ose,storeSelector:n=>n.claudeQuota,storeSetter:"setClaudeQuota",buildLoadingState:()=>({status:"loading",windows:[]}),buildSuccessState:n=>({status:"success",windows:n.windows,extraUsage:n.extraUsage}),buildErrorState:(n,e)=>({status:"error",windows:[],error:n,errorStatus:e}),cardClassName:vt.claudeCard,controlsClassName:vt.claudeControls,controlClassName:vt.claudeControl,gridClassName:vt.claudeGrid,renderQuotaItems:lse},B6={type:"antigravity",i18nPrefix:"antigravity_quota",cardIdleMessageKey:"quota_management.card_idle_hint",filterFn:n=>Ene(n)&&!Qb(n),fetchQuota:Jie,storeSelector:n=>n.antigravityQuota,storeSetter:"setAntigravityQuota",buildLoadingState:()=>({status:"loading",groups:[]}),buildSuccessState:n=>({status:"success",groups:n}),buildErrorState:(n,e)=>({status:"error",groups:[],error:n,errorStatus:e}),cardClassName:vt.antigravityCard,controlsClassName:vt.antigravityControls,controlClassName:vt.antigravityControl,gridClassName:vt.antigravityGrid,renderQuotaItems:ise},I6={type:"codex",i18nPrefix:"codex_quota",cardIdleMessageKey:"quota_management.card_idle_hint",filterFn:n=>Dne(n)&&!Qb(n),fetchQuota:tse,storeSelector:n=>n.codexQuota,storeSetter:"setCodexQuota",buildLoadingState:()=>({status:"loading",windows:[]}),buildSuccessState:n=>({status:"success",windows:n.windows,planType:n.planType}),buildErrorState:(n,e)=>({status:"error",windows:[],error:n,errorStatus:e}),cardClassName:vt.codexCard,controlsClassName:vt.codexControls,controlClassName:vt.codexControl,gridClassName:vt.codexGrid,renderQuotaItems:sse},z6={type:"gemini-cli",i18nPrefix:"gemini_cli_quota",cardIdleMessageKey:"quota_management.card_idle_hint",filterFn:n=>Fne(n)&&!Une(n)&&!Qb(n),fetchQuota:nse,storeSelector:n=>n.geminiCliQuota,storeSetter:"setGeminiCliQuota",buildLoadingState:()=>({status:"loading",buckets:[]}),buildSuccessState:n=>({status:"success",buckets:n}),buildErrorState:(n,e)=>({status:"error",buckets:[],error:n,errorStatus:e}),cardClassName:vt.geminiCliCard,controlsClassName:vt.geminiCliControls,controlClassName:vt.geminiCliControl,gridClassName:vt.geminiCliGrid,renderQuotaItems:ase},use="AuthFilesPage-module__container___u1c4k",dse="AuthFilesPage-module__pageHeader___DVV58",hse="AuthFilesPage-module__pageTitle___1TOZn",fse="AuthFilesPage-module__description___N3RjR",mse="AuthFilesPage-module__headerActions___j0ROO",pse="AuthFilesPage-module__titleWrapper___PLYyj",gse="AuthFilesPage-module__countBadge___DQWug",_se="AuthFilesPage-module__errorBox___A9vF2",yse="AuthFilesPage-module__filterSection___qQ3Zo",bse="AuthFilesPage-module__filterTags___A24A3",xse="AuthFilesPage-module__filterTag___-YnCU",vse="AuthFilesPage-module__filterTagActive___Rnbcs",Sse="AuthFilesPage-module__filterTagLabel___pP8yh",wse="AuthFilesPage-module__filterTagCount___RxSVk",kse="AuthFilesPage-module__filterControls___PfZDU",Cse="AuthFilesPage-module__filterItem___Kko4o",Ase="AuthFilesPage-module__pageSizeSelect___yEBvp",Tse="AuthFilesPage-module__fileGrid___ajvi5",Nse="AuthFilesPage-module__fileGridQuotaManaged___kOhRx",Mse="AuthFilesPage-module__antigravityGrid___N7Got",Ose="AuthFilesPage-module__codexGrid___vLB3H",Lse="AuthFilesPage-module__geminiCliGrid___5IwI3",Pse="AuthFilesPage-module__antigravityControls___gn3rt",Rse="AuthFilesPage-module__antigravityControl___rQ8wo",Ese="AuthFilesPage-module__codexControls___Clxl6",jse="AuthFilesPage-module__codexControl___E7Mtk",Dse="AuthFilesPage-module__geminiCliControls___Y3V2-",Fse="AuthFilesPage-module__geminiCliControl___ZOIpb",Use="AuthFilesPage-module__antigravityCard___rt36l",Bse="AuthFilesPage-module__codexCard___FiEQ6",Ise="AuthFilesPage-module__geminiCliCard___4PuI5",zse="AuthFilesPage-module__quotaSection___hXy5f",qse="AuthFilesPage-module__quotaRow___P2dUi",Kse="AuthFilesPage-module__quotaRowHeader___IKu7H",Hse="AuthFilesPage-module__quotaModel___huwv6",Vse="AuthFilesPage-module__quotaBar___ex7am",Wse="AuthFilesPage-module__quotaBarFill___KqH7M",Gse="AuthFilesPage-module__quotaBarFillHigh___F8WGP",Xse="AuthFilesPage-module__quotaBarFillMedium___ae0Pi",$se="AuthFilesPage-module__quotaBarFillLow___dX4lb",Qse="AuthFilesPage-module__quotaMeta___HcbUH",Yse="AuthFilesPage-module__quotaPercent___6J9UR",Zse="AuthFilesPage-module__quotaReset___bmEse",Jse="AuthFilesPage-module__quotaAmount___k3Wx6",eae="AuthFilesPage-module__quotaMessage___1w3oM",tae="AuthFilesPage-module__quotaMessageAction___9r9cq",nae="AuthFilesPage-module__quotaError___dEV4B",iae="AuthFilesPage-module__quotaWarning___G1Tvc",sae="AuthFilesPage-module__codexPlan___4IbAU",aae="AuthFilesPage-module__codexPlanLabel___RZN4K",rae="AuthFilesPage-module__codexPlanValue___Z0Kgr",oae="AuthFilesPage-module__fileCard___j9Jtq",lae="AuthFilesPage-module__fileCardSelected___9i7m1",cae="AuthFilesPage-module__fileCardDisabled___hbSbQ",uae="AuthFilesPage-module__fileCardLayout___HRpBj",dae="AuthFilesPage-module__fileCardMain___6JwC7",hae="AuthFilesPage-module__cardHeader___uJMtL",fae="AuthFilesPage-module__selectionToggle___jgHb0",mae="AuthFilesPage-module__selectionToggleActive___aj1-w",pae="AuthFilesPage-module__typeBadge___Dtm6A",gae="AuthFilesPage-module__fileName___DZ39s",_ae="AuthFilesPage-module__cardMeta___H6kAQ",yae="AuthFilesPage-module__cardHealthRow___H4OPL",bae="AuthFilesPage-module__healthStatusBadge___gqOdA",xae="AuthFilesPage-module__healthStatusHealthy___GGNFg",vae="AuthFilesPage-module__healthStatusWarning___9gQm4",Sae="AuthFilesPage-module__healthStatusDisabled___ns7K7",wae="AuthFilesPage-module__healthStatusUnknown___A2oFj",kae="AuthFilesPage-module__lastRefreshText___l-VYO",Cae="AuthFilesPage-module__lastRefreshStale___eITq5",Aae="AuthFilesPage-module__healthStatusMessage___KKfW-",Tae="AuthFilesPage-module__cardStats___JQ4ig",Nae="AuthFilesPage-module__statPill___wFsBu",Mae="AuthFilesPage-module__statSuccess___mh8iR",Oae="AuthFilesPage-module__statFailure___ivDGu",Lae="AuthFilesPage-module__statusBar___n-3Gp",Pae="AuthFilesPage-module__statusBlocks___DpQaY",Rae="AuthFilesPage-module__statusBlockWrapper___XCgvC",Eae="AuthFilesPage-module__statusBlock___RPMAs",jae="AuthFilesPage-module__statusBlockActive___pjNyd",Dae="AuthFilesPage-module__statusBlockIdle___6Uc0C",Fae="AuthFilesPage-module__statusTooltip___skNaB",Uae="AuthFilesPage-module__statusTooltipLeft___ZK0OM",Bae="AuthFilesPage-module__statusTooltipRight___MrcVP",Iae="AuthFilesPage-module__tooltipTime___6rx7A",zae="AuthFilesPage-module__tooltipStats___rDF8h",qae="AuthFilesPage-module__tooltipSuccess___DygUj",Kae="AuthFilesPage-module__tooltipFailure___Som0h",Hae="AuthFilesPage-module__tooltipRate___gbhZZ",Vae="AuthFilesPage-module__statusRate___LZm5e",Wae="AuthFilesPage-module__statusRateHigh___seYyb",Gae="AuthFilesPage-module__statusRateMedium___aNblo",Xae="AuthFilesPage-module__statusRateLow___BxxBi",$ae="AuthFilesPage-module__prefixProxyEditor___QyoN1",Qae="AuthFilesPage-module__prefixProxyLoading___pipJw",Yae="AuthFilesPage-module__prefixProxyError___HNtOZ",Zae="AuthFilesPage-module__prefixProxyJsonWrapper___j237Y",Jae="AuthFilesPage-module__prefixProxyLabel___IJHtd",ere="AuthFilesPage-module__prefixProxyTextarea___wcym6",tre="AuthFilesPage-module__prefixProxyFields___da72p",nre="AuthFilesPage-module__cardActions___mJgkW",ire="AuthFilesPage-module__statusToggle___H8bxD",sre="AuthFilesPage-module__iconButton___XT5TY",are="AuthFilesPage-module__actionIcon___F2TRI",rre="AuthFilesPage-module__virtualBadge___s32vc",ore="AuthFilesPage-module__pagination___Hwpg2",lre="AuthFilesPage-module__batchActionContainer___qPwxN",cre="AuthFilesPage-module__batchActionBar___YEJju",ure="AuthFilesPage-module__batchActionLeft___g851y",dre="AuthFilesPage-module__batchActionRight___NDPeh",hre="AuthFilesPage-module__batchSelectionText___rSTLk",fre="AuthFilesPage-module__pageInfo___Fkfbg",mre="AuthFilesPage-module__excludedList___9OGiS",pre="AuthFilesPage-module__excludedItem___J3Xxa",gre="AuthFilesPage-module__excludedInfo___0hKQa",_re="AuthFilesPage-module__excludedProvider___6pkYz",yre="AuthFilesPage-module__excludedModels___QdpJB",bre="AuthFilesPage-module__excludedActions___jP49M",xre="AuthFilesPage-module__providerField___end0y",vre="AuthFilesPage-module__providerTagList___dCCYW",Sre="AuthFilesPage-module__providerTag___RADdc",wre="AuthFilesPage-module__providerTagActive___j4vQJ",kre="AuthFilesPage-module__aliasChartSection___uS-yX",Cre="AuthFilesPage-module__aliasChartHeader___ABhkk",Are="AuthFilesPage-module__aliasChartTitle___OSz75",Tre="AuthFilesPage-module__aliasChart___XbONn",Nre="AuthFilesPage-module__cardExtraButtons___P-fL4",Mre="AuthFilesPage-module__viewModeSwitch___CxLpP",Ore="AuthFilesPage-module__mappingRow___b1MBs",Lre="AuthFilesPage-module__mappingSeparator___Wx18F",Pre="AuthFilesPage-module__mappingFork___nRhwu",Rre="AuthFilesPage-module__detailContent___K3wet",Ere="AuthFilesPage-module__jsonContent___5lYBo",jre="AuthFilesPage-module__formGroup___1YGlp",Dre="AuthFilesPage-module__textarea___IAg4a",Fre="AuthFilesPage-module__hint___YExGS",Ure="AuthFilesPage-module__modelsList___KKhRE",Bre="AuthFilesPage-module__modelItem___VMfPD",Ire="AuthFilesPage-module__modelId___4wMUh",zre="AuthFilesPage-module__modelDisplayName___znKrk",qre="AuthFilesPage-module__modelType___B0C7D",Kre="AuthFilesPage-module__modelItemExcluded___I5sBn",Hre="AuthFilesPage-module__modelExcludedBadge___FyRdH",Vre="AuthFilesPage-module__excludedCheckList___8T3-H",Wre="AuthFilesPage-module__excludedCheckItem___2z42k",Gre="AuthFilesPage-module__excludedCheckLabel___tg4BJ",Xre="AuthFilesPage-module__excludedCheckDisplayName___Cno8d",Ae={container:use,pageHeader:dse,pageTitle:hse,description:fse,headerActions:mse,titleWrapper:pse,countBadge:gse,errorBox:_se,filterSection:yse,filterTags:bse,filterTag:xse,filterTagActive:vse,filterTagLabel:Sse,filterTagCount:wse,filterControls:kse,filterItem:Cse,pageSizeSelect:Ase,fileGrid:Tse,fileGridQuotaManaged:Nse,antigravityGrid:Mse,codexGrid:Ose,geminiCliGrid:Lse,antigravityControls:Pse,antigravityControl:Rse,codexControls:Ese,codexControl:jse,geminiCliControls:Dse,geminiCliControl:Fse,antigravityCard:Use,codexCard:Bse,geminiCliCard:Ise,quotaSection:zse,quotaRow:qse,quotaRowHeader:Kse,quotaModel:Hse,quotaBar:Vse,quotaBarFill:Wse,quotaBarFillHigh:Gse,quotaBarFillMedium:Xse,quotaBarFillLow:$se,quotaMeta:Qse,quotaPercent:Yse,quotaReset:Zse,quotaAmount:Jse,quotaMessage:eae,quotaMessageAction:tae,quotaError:nae,quotaWarning:iae,codexPlan:sae,codexPlanLabel:aae,codexPlanValue:rae,fileCard:oae,fileCardSelected:lae,fileCardDisabled:cae,fileCardLayout:uae,fileCardMain:dae,cardHeader:hae,selectionToggle:fae,selectionToggleActive:mae,typeBadge:pae,fileName:gae,cardMeta:_ae,cardHealthRow:yae,healthStatusBadge:bae,healthStatusHealthy:xae,healthStatusWarning:vae,healthStatusDisabled:Sae,healthStatusUnknown:wae,lastRefreshText:kae,lastRefreshStale:Cae,healthStatusMessage:Aae,cardStats:Tae,statPill:Nae,statSuccess:Mae,statFailure:Oae,statusBar:Lae,statusBlocks:Pae,statusBlockWrapper:Rae,statusBlock:Eae,statusBlockActive:jae,statusBlockIdle:Dae,statusTooltip:Fae,statusTooltipLeft:Uae,statusTooltipRight:Bae,tooltipTime:Iae,tooltipStats:zae,tooltipSuccess:qae,tooltipFailure:Kae,tooltipRate:Hae,statusRate:Vae,statusRateHigh:Wae,statusRateMedium:Gae,statusRateLow:Xae,prefixProxyEditor:$ae,prefixProxyLoading:Qae,prefixProxyError:Yae,prefixProxyJsonWrapper:Zae,prefixProxyLabel:Jae,prefixProxyTextarea:ere,prefixProxyFields:tre,cardActions:nre,statusToggle:ire,iconButton:sre,actionIcon:are,virtualBadge:rre,pagination:ore,batchActionContainer:lre,batchActionBar:cre,batchActionLeft:ure,batchActionRight:dre,batchSelectionText:hre,pageInfo:fre,excludedList:mre,excludedItem:pre,excludedInfo:gre,excludedProvider:_re,excludedModels:yre,excludedActions:bre,providerField:xre,providerTagList:vre,providerTag:Sre,providerTagActive:wre,aliasChartSection:kre,aliasChartHeader:Cre,aliasChartTitle:Are,aliasChart:Tre,cardExtraButtons:Nre,viewModeSwitch:Mre,mappingRow:Ore,mappingSeparator:Lre,mappingFork:Pre,detailContent:Rre,jsonContent:Ere,formGroup:jre,textarea:Dre,hint:Fre,modelsList:Ure,modelItem:Bre,modelId:Ire,modelDisplayName:zre,modelType:qre,modelItemExcluded:Kre,modelExcludedBadge:Hre,excludedCheckList:Vre,excludedCheckItem:Wre,excludedCheckLabel:Gre,excludedCheckDisplayName:Xre};function $re({percent:n,highThreshold:e,mediumThreshold:t}){const s=n===null?null:((o,l,u)=>Math.min(u,Math.max(l,o)))(n,0,100),a=s===null?Ae.quotaBarFillMedium:s>=e?Ae.quotaBarFillHigh:s>=t?Ae.quotaBarFillMedium:Ae.quotaBarFillLow,r=Math.round(s??0);return f.jsx("div",{className:Ae.quotaBar,children:f.jsx("div",{className:`${Ae.quotaBarFill} ${a}`,style:{width:`${r}%`}})})}const NR=n=>n==="antigravity"?B6:n==="codex"?I6:z6;function Qre(n){const{file:e,quotaType:t,disableControls:i}=n,{t:s}=Ze(),a=un(_=>_.showNotification),r=sp(_=>t==="antigravity"?_.antigravityQuota[e.name]:t==="codex"?_.codexQuota[e.name]:_.geminiCliQuota[e.name]),o=sp(_=>t==="antigravity"?_.setAntigravityQuota:t==="codex"?_.setCodexQuota:_.setGeminiCliQuota),l=w.useCallback(async()=>{if(i||Xd(e)||e.disabled||r?.status==="loading")return;const _=NR(t);o(b=>({...b,[e.name]:_.buildLoadingState()}));try{const b=await _.fetchQuota(e,s);o(x=>({...x,[e.name]:_.buildSuccessState(b)})),a(s("auth_files.quota_refresh_success",{name:e.name}),"success")}catch(b){const x=b instanceof Error?b.message:s("common.unknown_error"),v=qC(b);o(C=>({...C,[e.name]:_.buildErrorState(x,v)})),a(s("auth_files.quota_refresh_failed",{name:e.name,message:x}),"error")}},[i,e,r?.status,t,a,s,o]),u=NR(t),h=r?.status??"idle",m=!i&&!e.disabled,g=ine(s,r?.errorStatus,r?.error||s("common.unknown_error"));return f.jsx("div",{className:Ae.quotaSection,children:h==="loading"?f.jsx("div",{className:Ae.quotaMessage,children:s(`${u.i18nPrefix}.loading`)}):h==="idle"?f.jsx("button",{type:"button",className:`${Ae.quotaMessage} ${Ae.quotaMessageAction}`,onClick:()=>void l(),disabled:!m,children:s(`${u.i18nPrefix}.idle`)}):h==="error"?f.jsx("div",{className:Ae.quotaError,children:s(`${u.i18nPrefix}.load_failed`,{message:g})}):r?u.renderQuotaItems(r,s,{styles:Ae,QuotaProgressBar:$re}):f.jsx("div",{className:Ae.quotaMessage,children:s(`${u.i18nPrefix}.idle`)})})}const Yre=new Set(["ok","healthy","ready","success","available"]),Zre=new Set(["","ok","ready","healthy","available"]),Jre=n=>{if(n==null||n==="")return null;const e=Number(n),t=Number.isFinite(e)&&!Number.isNaN(e)?new Date(Math.abs(e)<1e12?e*1e3:e):new Date(String(n));return Number.isNaN(t.getTime())?null:t},eoe=n=>{const e=ag(n);return P6.has(e)?e:null};function toe(n){const{t:e,i18n:t}=Ze(),{file:i,selected:s,resolvedTheme:a,disableControls:r,deleting:o,statusUpdating:l,quotaFilterType:u,keyStats:h,statusBarCache:m,nowMs:g,onShowModels:_,onShowDetails:b,onDownload:x,onOpenPrefixProxyEditor:v,onDelete:C,onToggleStatus:k,onToggleSelect:N}=n,O=ane(i,h),T=Xd(i),L=(i.type||"").toLowerCase()==="aistudio",M=!T||L,P=R6(i.type||"unknown",a),R=u&&eoe(i)===u?u:null,D=!!R&&!T,U=R==="antigravity"?Ae.antigravityCard:R==="codex"?Ae.codexCard:R==="gemini-cli"?Ae.geminiCliCard:"",F=i.auth_index??i.authIndex,H=ws(F),Z=H&&m.get(H)||Ka([]),Y=String(i.status??i.status??"").trim().toLowerCase(),I=String(i.status_message??i.statusMessage??"").trim(),K=I.toLowerCase(),V=i.disabled===!0||Y==="disabled",$=i.unavailable===!0||Y==="unavailable",W=Jre(i.last_refresh??i.lastRefresh),j=W?g-W.getTime()>Jte:!1,B=!!I&&!Yre.has(K),te=V?"disabled":B||(Y==="error"||Y==="failed"||Y==="warning")||$||j?"warning":W&&!j&&Zre.has(Y)?"healthy":"unknown",Q=te==="healthy"?Ae.healthStatusHealthy:te==="warning"?Ae.healthStatusWarning:te==="disabled"?Ae.healthStatusDisabled:Ae.healthStatusUnknown,G=e(`auth_files.health_status_${te}`),ne=(()=>{if(!W)return e("auth_files.refresh_not_available");const de=W.getTime()-g,Le=Math.abs(de);if(Le<30*1e3)return e("auth_files.refresh_just_now");const ke=[{unit:"day",ms:1440*60*1e3},{unit:"hour",ms:3600*1e3},{unit:"minute",ms:60*1e3},{unit:"second",ms:1e3}],nt=ke.find(({ms:Ee})=>Le>=Ee)||ke[ke.length-1],_t=Math.round(de/nt.ms);return typeof Intl>"u"||typeof Intl.RelativeTimeFormat!="function"?W.toLocaleString(t.language):new Intl.RelativeTimeFormat(t.language,{numeric:"auto"}).format(_t,nt.unit)})(),J=W?W.toLocaleString(t.language):e("auth_files.refresh_not_available"),re=I||e("auth_files.health_status_no_message");return f.jsx("div",{className:`${Ae.fileCard} ${U} ${s?Ae.fileCardSelected:""} ${i.disabled?Ae.fileCardDisabled:""}`,children:f.jsx("div",{className:Ae.fileCardLayout,children:f.jsxs("div",{className:Ae.fileCardMain,children:[f.jsxs("div",{className:Ae.cardHeader,children:[!T&&f.jsx("button",{type:"button",className:`${Ae.selectionToggle} ${s?Ae.selectionToggleActive:""}`,onClick:()=>N(i.name),"aria-label":e(s?"auth_files.batch_deselect":"auth_files.batch_select_all"),"aria-pressed":s,title:e(s?"auth_files.batch_deselect":"auth_files.batch_select_all"),children:s&&f.jsx(Yk,{size:12})}),f.jsx("span",{className:Ae.typeBadge,style:{backgroundColor:P.bg,color:P.text,...P.border?{border:P.border}:{}},children:Iy(e,i.type||"unknown")}),f.jsx("span",{className:Ae.fileName,children:i.name})]}),f.jsxs("div",{className:Ae.cardMeta,children:[f.jsxs("span",{children:[e("auth_files.file_size"),": ",i.size?cC(i.size):"-"]}),f.jsxs("span",{children:[e("auth_files.file_modified"),": ",rne(i)]})]}),f.jsxs("div",{className:Ae.cardHealthRow,children:[f.jsxs("span",{className:`${Ae.healthStatusBadge} ${Q}`,title:re,children:[e("auth_files.health_status_label"),": ",G]}),f.jsxs("span",{className:`${Ae.lastRefreshText} ${j?Ae.lastRefreshStale:""}`,title:J,children:[e("auth_files.last_refresh_label"),": ",ne]})]}),I&&B&&f.jsx("div",{className:Ae.healthStatusMessage,title:I,children:I}),f.jsxs("div",{className:Ae.cardStats,children:[f.jsxs("span",{className:`${Ae.statPill} ${Ae.statSuccess}`,children:[e("stats.success"),": ",O.success]}),f.jsxs("span",{className:`${Ae.statPill} ${Ae.statFailure}`,children:[e("stats.failure"),": ",O.failure]})]}),f.jsx(Rh,{statusData:Z,styles:Ae}),D&&R&&f.jsx(Qre,{file:i,quotaType:R,disableControls:r}),f.jsxs("div",{className:Ae.cardActions,children:[M&&f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>_(i),className:Ae.iconButton,title:e("auth_files.models_button",{defaultValue:""}),disabled:r,children:f.jsx(Xk,{className:Ae.actionIcon,size:16})}),!T&&f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>b(i),className:Ae.iconButton,title:e("common.info",{defaultValue:""}),disabled:r,children:f.jsx(Eb,{className:Ae.actionIcon,size:16})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>x(i.name),className:Ae.iconButton,title:e("auth_files.download_button"),disabled:r,children:f.jsx(ED,{className:Ae.actionIcon,size:16})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>v(i.name),className:Ae.iconButton,title:e("auth_files.prefix_proxy_button"),disabled:r,children:f.jsx(Jk,{className:Ae.actionIcon,size:16})}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>C(i.name),className:Ae.iconButton,title:e("auth_files.delete_button"),disabled:r||o===i.name,children:o===i.name?f.jsx(_u,{size:14}):f.jsx(jb,{className:Ae.actionIcon,size:16})})]}),!T&&f.jsx("div",{className:Ae.statusToggle,children:f.jsx(ts,{ariaLabel:e("auth_files.status_toggle_label"),checked:!i.disabled,disabled:r||l[i.name]===!0,onChange:de=>k(i,de)})}),T&&f.jsx("div",{className:Ae.virtualBadge,children:e("auth_files.type_virtual")||""})]})]})})})}function noe({open:n,file:e,onClose:t,onCopyText:i}){const{t:s}=Ze();return f.jsx(is,{open:n,onClose:t,title:e?.name||s("auth_files.title_section"),footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:t,children:s("common.close")}),f.jsx(he,{onClick:()=>{if(!e)return;const a=JSON.stringify(e,null,2);i(a)},children:s("common.copy")})]}),children:e&&f.jsx("div",{className:Ae.detailContent,children:f.jsx("pre",{className:Ae.jsonContent,children:JSON.stringify(e,null,2)})})})}function ioe(n){const{t:e}=Ze(),{open:t,fileName:i,fileType:s,loading:a,error:r,models:o,excluded:l,onClose:u,onCopyText:h}=n;return f.jsx(is,{open:t,onClose:u,title:e("auth_files.models_title",{defaultValue:""})+` - ${i}`,footer:f.jsx(he,{variant:"secondary",onClick:u,children:e("common.close")}),children:a?f.jsx("div",{className:Ae.hint,children:e("auth_files.models_loading",{defaultValue:"..."})}):r==="unsupported"?f.jsx(ns,{title:e("auth_files.models_unsupported",{defaultValue:""}),description:e("auth_files.models_unsupported_desc",{defaultValue:" CLI Proxy API "})}):o.length===0?f.jsx(ns,{title:e("auth_files.models_empty",{defaultValue:""}),description:e("auth_files.models_empty_desc",{defaultValue:""})}):f.jsx("div",{className:Ae.modelsList,children:o.map(m=>{const g=one(m.id,s,l);return f.jsxs("div",{className:`${Ae.modelItem} ${g?Ae.modelItemExcluded:""}`,onClick:()=>{h(m.id)},title:g?e("auth_files.models_excluded_hint",{defaultValue:" OAuth "}):e("common.copy",{defaultValue:""}),children:[f.jsx("span",{className:Ae.modelId,children:m.id}),m.display_name&&m.display_name!==m.id&&f.jsx("span",{className:Ae.modelDisplayName,children:m.display_name}),m.type&&f.jsx("span",{className:Ae.modelType,children:m.type}),g&&f.jsx("span",{className:Ae.modelExcludedBadge,children:e("auth_files.models_excluded_badge",{defaultValue:""})})]},m.id)})})})}function soe(n){const{t:e}=Ze(),{disableControls:t,editor:i,updatedText:s,dirty:a,onClose:r,onSave:o,onChange:l}=n;return f.jsx(is,{open:!!i,onClose:r,closeDisabled:i?.saving===!0,width:720,title:i?.fileName?e("auth_files.auth_field_editor_title",{name:i.fileName}):e("auth_files.prefix_proxy_button"),footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:r,disabled:i?.saving===!0,children:e("common.cancel")}),f.jsx(he,{onClick:o,loading:i?.saving===!0,disabled:t||i?.saving===!0||!a||!i?.json,children:e("common.save")})]}),children:i&&f.jsx("div",{className:Ae.prefixProxyEditor,children:i.loading?f.jsxs("div",{className:Ae.prefixProxyLoading,children:[f.jsx(_u,{size:14}),f.jsx("span",{children:e("auth_files.prefix_proxy_loading")})]}):f.jsxs(f.Fragment,{children:[i.error&&f.jsx("div",{className:Ae.prefixProxyError,children:i.error}),f.jsxs("div",{className:Ae.prefixProxyJsonWrapper,children:[f.jsx("label",{className:Ae.prefixProxyLabel,children:e("auth_files.prefix_proxy_source_label")}),f.jsx("textarea",{className:Ae.prefixProxyTextarea,rows:10,readOnly:!0,value:s})]}),f.jsxs("div",{className:Ae.prefixProxyFields,children:[f.jsx(st,{label:e("auth_files.prefix_label"),value:i.prefix,disabled:t||i.saving||!i.json,onChange:u=>l("prefix",u.target.value)}),f.jsx(st,{label:e("auth_files.proxy_url_label"),value:i.proxyUrl,placeholder:e("auth_files.proxy_url_placeholder"),disabled:t||i.saving||!i.json,onChange:u=>l("proxyUrl",u.target.value)}),f.jsx(st,{label:e("auth_files.priority_label"),value:i.priority,placeholder:e("auth_files.priority_placeholder"),hint:e("auth_files.priority_hint"),disabled:t||i.saving||!i.json,onChange:u=>l("priority",u.target.value)}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:e("auth_files.excluded_models_label")}),f.jsx("textarea",{className:"input",value:i.excludedModelsText,placeholder:e("auth_files.excluded_models_placeholder"),rows:4,disabled:t||i.saving||!i.json,onChange:u=>l("excludedModelsText",u.target.value)}),f.jsx("div",{className:"hint",children:e("auth_files.excluded_models_hint")})]}),f.jsx(st,{label:e("auth_files.disable_cooling_label"),value:i.disableCooling,placeholder:e("auth_files.disable_cooling_placeholder"),hint:e("auth_files.disable_cooling_hint"),disabled:t||i.saving||!i.json,onChange:u=>l("disableCooling",u.target.value)})]})]})})})}function aoe(n){const{t:e}=Ze(),{disableControls:t,excludedError:i,excluded:s,onAdd:a,onEdit:r,onDelete:o}=n;return f.jsx(wt,{title:e("oauth_excluded.title"),extra:f.jsx(he,{size:"sm",onClick:a,disabled:t||i==="unsupported",children:e("oauth_excluded.add")}),children:i==="unsupported"?f.jsx(ns,{title:e("oauth_excluded.upgrade_required_title"),description:e("oauth_excluded.upgrade_required_desc")}):Object.keys(s).length===0?f.jsx(ns,{title:e("oauth_excluded.list_empty_all")}):f.jsx("div",{className:Ae.excludedList,children:Object.entries(s).map(([l,u])=>f.jsxs("div",{className:Ae.excludedItem,children:[f.jsxs("div",{className:Ae.excludedInfo,children:[f.jsx("div",{className:Ae.excludedProvider,children:l}),f.jsx("div",{className:Ae.excludedModels,children:u?.length?e("oauth_excluded.model_count",{count:u.length}):e("oauth_excluded.no_models")})]}),f.jsxs("div",{className:Ae.excludedActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>r(l),children:e("common.edit")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>o(l),children:e("oauth_excluded.delete")})]})]},l))})})}const roe="ModelMappingDiagram-module__scrollContainer___CVtMl",ooe="ModelMappingDiagram-module__tapHint___WVg9j",loe="ModelMappingDiagram-module__container___5GMeJ",coe="ModelMappingDiagram-module__connections___-pgzq",uoe="ModelMappingDiagram-module__column___Guf-v",doe="ModelMappingDiagram-module__providers___n0NN6",hoe="ModelMappingDiagram-module__sources___N646E",foe="ModelMappingDiagram-module__aliases___zg5ma",moe="ModelMappingDiagram-module__columnHeader___QAC6y",poe="ModelMappingDiagram-module__item___KBTKp",goe="ModelMappingDiagram-module__dropTarget___dAYPB",_oe="ModelMappingDiagram-module__selected___r3Gyz",yoe="ModelMappingDiagram-module__providerItem___4PZQM",boe="ModelMappingDiagram-module__providerLabel___E2vNu",xoe="ModelMappingDiagram-module__collapseBtn___RXanB",voe="ModelMappingDiagram-module__chevronDown___AP7zK",Soe="ModelMappingDiagram-module__chevronRight___bbMVy",woe="ModelMappingDiagram-module__providerGroup___5JNQu",koe="ModelMappingDiagram-module__sourceItem___TjDG6",Coe="ModelMappingDiagram-module__aliasItem___h6w7D",Aoe="ModelMappingDiagram-module__dragging___lhx9y",Toe="ModelMappingDiagram-module__dot___AOWIN",Noe="ModelMappingDiagram-module__dotLeft___BKXAm",Moe="ModelMappingDiagram-module__itemName___MjfSv",Ooe="ModelMappingDiagram-module__itemCount___B-gtl",Loe="ModelMappingDiagram-module__contextMenu___VHX-s",Poe="ModelMappingDiagram-module__menuItem___e-LvI",Roe="ModelMappingDiagram-module__danger___klXxM",Eoe="ModelMappingDiagram-module__menuDivider___XtoCo",joe="ModelMappingDiagram-module__settingsEmpty___N0gFF",Doe="ModelMappingDiagram-module__settingsList___ovuWo",Foe="ModelMappingDiagram-module__settingsRow___wH-TW",Uoe="ModelMappingDiagram-module__settingsNames___QDn9j",Boe="ModelMappingDiagram-module__settingsSource___Hz9zo",Ioe="ModelMappingDiagram-module__settingsAlias___Ov9zt",zoe="ModelMappingDiagram-module__settingsArrow___SKvFd",qoe="ModelMappingDiagram-module__settingsActions___PYXMU",Koe="ModelMappingDiagram-module__settingsLabel___R--i-",Hoe="ModelMappingDiagram-module__settingsDelete___PDG7z",Ve={scrollContainer:roe,tapHint:ooe,container:loe,connections:coe,column:uoe,providers:doe,sources:hoe,aliases:foe,columnHeader:moe,item:poe,dropTarget:goe,selected:_oe,providerItem:yoe,providerLabel:boe,collapseBtn:xoe,chevronDown:voe,chevronRight:Soe,providerGroup:woe,sourceItem:koe,aliasItem:Coe,dragging:Aoe,dot:Toe,dotLeft:Noe,itemName:Moe,itemCount:Ooe,contextMenu:Loe,menuItem:Poe,danger:Roe,menuDivider:Eoe,settingsEmpty:joe,settingsList:Doe,settingsRow:Foe,settingsNames:Uoe,settingsSource:Boe,settingsAlias:Ioe,settingsArrow:zoe,settingsActions:qoe,settingsLabel:Koe,settingsDelete:Hoe};function Voe({providerNodes:n,collapsedProviders:e,getProviderColor:t,providerGroupHeights:i={},providerRefs:s,onToggleCollapse:a,onContextMenu:r,label:o,expandLabel:l,collapseLabel:u}){return f.jsxs("div",{className:`${Ve.column} ${Ve.providers}`,onContextMenu:h=>{h.preventDefault(),h.stopPropagation(),r(h,"background")},children:[f.jsx("div",{className:Ve.columnHeader,children:o}),n.map(({provider:h,sources:m})=>{const g=e.has(h),_=g?void 0:i[h];return f.jsx("div",{className:Ve.providerGroup,style:_?{height:_}:void 0,children:f.jsxs("div",{ref:b=>{b?s.current?.set(h,b):s.current?.delete(h)},className:`${Ve.item} ${Ve.providerItem}`,style:{borderLeftColor:t(h)},onContextMenu:b=>{b.preventDefault(),b.stopPropagation(),r(b,"provider",h)},children:[f.jsx("button",{type:"button",className:Ve.collapseBtn,onClick:()=>a(h),"aria-label":g?l:u,title:g?l:u,children:f.jsx("span",{className:g?Ve.chevronRight:Ve.chevronDown})}),f.jsx("span",{className:Ve.providerLabel,style:{color:t(h)},children:h}),f.jsx("span",{className:Ve.itemCount,children:m.length})]})},h)})]})}function Woe({providerNodes:n,collapsedProviders:e,sourceRefs:t,getProviderColor:i,selectedSourceId:s,onSelectSource:a,draggedSource:r,dropTargetSource:o,draggable:l,onDragStart:u,onDragEnd:h,onDragOver:m,onDragLeave:g,onDrop:_,onContextMenu:b,label:x}){return f.jsxs("div",{className:`${Ve.column} ${Ve.sources}`,onContextMenu:v=>{v.preventDefault(),v.stopPropagation(),b(v,"background")},children:[f.jsx("div",{className:Ve.columnHeader,children:x}),n.flatMap(({provider:v,sources:C})=>e.has(v)?[]:C.map(k=>f.jsxs("div",{ref:N=>{N?t.current?.set(k.id,N):t.current?.delete(k.id)},className:`${Ve.item} ${Ve.sourceItem} ${r?.id===k.id?Ve.dragging:""} ${o===k.id?Ve.dropTarget:""} ${s===k.id?Ve.selected:""}`,onClick:()=>a?.(k),draggable:l,onDragStart:N=>u(N,k),onDragEnd:h,onDragOver:N=>m(N,k),onDragLeave:g,onDrop:N=>_(N,k),onContextMenu:N=>{N.preventDefault(),N.stopPropagation(),b(N,"source",k.id)},children:[f.jsx("span",{className:Ve.itemName,title:k.name,children:k.name}),f.jsx("div",{className:Ve.dot,style:{background:i(k.provider),opacity:k.aliases.length>0?1:.3}})]},k.id)))]})}function Goe({aliasNodes:n,aliasRefs:e,dropTargetAlias:t,draggedAlias:i,selectedAlias:s,onSelectAlias:a,draggable:r,onDragStart:o,onDragEnd:l,onDragOver:u,onDragLeave:h,onDrop:m,onContextMenu:g,label:_}){return f.jsxs("div",{className:`${Ve.column} ${Ve.aliases}`,onContextMenu:b=>{b.preventDefault(),b.stopPropagation(),g(b,"background")},children:[f.jsx("div",{className:Ve.columnHeader,children:_}),n.map(b=>f.jsxs("div",{ref:x=>{x?e.current?.set(b.id,x):e.current?.delete(b.id)},className:`${Ve.item} ${Ve.aliasItem} ${t===b.alias?Ve.dropTarget:""} ${i===b.alias?Ve.dragging:""} ${s===b.alias?Ve.selected:""}`,onClick:()=>a?.(b.alias),draggable:r,onDragStart:x=>o(x,b.alias),onDragEnd:l,onDragOver:x=>u(x,b.alias),onDragLeave:h,onDrop:x=>m(x,b.alias),onContextMenu:x=>{x.preventDefault(),x.stopPropagation(),g(x,"alias",b.alias)},children:[f.jsx("div",{className:`${Ve.dot} ${Ve.dotLeft}`}),f.jsx("span",{className:Ve.itemName,title:b.alias,children:b.alias}),f.jsx("span",{className:Ve.itemCount,children:b.sources.length})]},b.id))]})}function Xoe({contextMenu:n,t:e,onRequestClose:t,onAddAlias:i,onRenameAlias:s,onOpenAliasSettings:a,onDeleteAlias:r,onEditProvider:o,onDeleteProvider:l,onOpenSourceSettings:u}){const h=w.useRef(null);if(w.useEffect(()=>{if(!n)return;const C=k=>{h.current?.contains(k.target)||t()};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[n,t]),!n)return null;const{type:m,data:g}=n,_=()=>f.jsx("div",{className:Ve.menuItem,onClick:i,children:f.jsx("span",{children:e("oauth_model_alias.diagram_add_alias")})}),b=()=>g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Ve.menuItem,onClick:()=>s(g),children:f.jsx("span",{children:e("oauth_model_alias.diagram_rename")})}),f.jsx("div",{className:Ve.menuItem,onClick:()=>a(g),children:f.jsx("span",{children:e("oauth_model_alias.diagram_settings")})}),f.jsx("div",{className:Ve.menuDivider}),f.jsx("div",{className:`${Ve.menuItem} ${Ve.danger}`,onClick:()=>r(g),children:f.jsx("span",{children:e("oauth_model_alias.diagram_delete_alias")})})]}):null,x=()=>g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Ve.menuItem,onClick:()=>o(g),children:f.jsx("span",{children:e("common.edit")})}),f.jsx("div",{className:Ve.menuDivider}),f.jsx("div",{className:`${Ve.menuItem} ${Ve.danger}`,onClick:()=>l(g),children:f.jsx("span",{children:e("oauth_model_alias.delete")})})]}):null,v=()=>g?f.jsx("div",{className:Ve.menuItem,onClick:()=>u(g),children:f.jsx("span",{children:e("oauth_model_alias.diagram_settings")})}):null;return Nu.createPortal(f.jsxs("div",{ref:h,className:Ve.contextMenu,style:{top:n.y,left:n.x},onClick:C=>C.stopPropagation(),children:[m==="background"&&_(),m==="alias"&&b(),m==="provider"&&x(),m==="source"&&v()]}),document.body)}function $oe({open:n,t:e,value:t,error:i,onChange:s,onClose:a,onSubmit:r}){return f.jsx(is,{open:n,onClose:a,title:e("oauth_model_alias.diagram_rename_alias_title"),width:400,footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:a,children:e("common.cancel")}),f.jsx(he,{onClick:r,children:e("oauth_model_alias.diagram_rename_btn")})]}),children:f.jsx(st,{label:e("oauth_model_alias.diagram_rename_alias_label"),value:t,onChange:o=>s(o.target.value),onKeyDown:o=>{o.key==="Enter"&&r()},error:i,placeholder:e("oauth_model_alias.diagram_rename_placeholder"),autoFocus:!0})})}function Qoe({open:n,t:e,value:t,error:i,onChange:s,onClose:a,onSubmit:r}){return f.jsx(is,{open:n,onClose:a,title:e("oauth_model_alias.diagram_add_alias_title"),width:400,footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:a,children:e("common.cancel")}),f.jsx(he,{onClick:r,children:e("oauth_model_alias.diagram_add_btn")})]}),children:f.jsx(st,{label:e("oauth_model_alias.diagram_add_alias_label"),value:t,onChange:o=>s(o.target.value),onKeyDown:o=>{o.key==="Enter"&&r()},error:i,placeholder:e("oauth_model_alias.diagram_add_placeholder"),autoFocus:!0})})}function Yoe({open:n,t:e,alias:t,aliasNodes:i,onClose:s,onToggleFork:a,onUnlink:r}){return f.jsx(is,{open:n,onClose:s,title:e("oauth_model_alias.diagram_settings_title",{alias:t??""}),width:720,footer:f.jsx(he,{variant:"secondary",onClick:s,children:e("common.close")}),children:t?(()=>{const o=i.find(l=>l.alias===t);return!o||o.sources.length===0?f.jsx("div",{className:Ve.settingsEmpty,children:e("oauth_model_alias.diagram_settings_empty")}):f.jsx("div",{className:Ve.settingsList,children:o.sources.map(l=>{const h=l.aliases.find(m=>m.alias===t)?.fork===!0;return f.jsxs("div",{className:Ve.settingsRow,children:[f.jsxs("div",{className:Ve.settingsNames,children:[f.jsx("span",{className:Ve.settingsSource,children:l.name}),f.jsx("span",{className:Ve.settingsArrow,children:""}),f.jsx("span",{className:Ve.settingsAlias,children:t})]}),f.jsxs("div",{className:Ve.settingsActions,children:[f.jsx("span",{className:Ve.settingsLabel,children:e("oauth_model_alias.alias_fork_label")}),f.jsx(ts,{checked:h,onChange:m=>a(l.provider,l.name,t,m),ariaLabel:e("oauth_model_alias.alias_fork_label")}),f.jsx("button",{type:"button",className:Ve.settingsDelete,onClick:()=>r(l.provider,l.name,t),"aria-label":e("oauth_model_alias.diagram_delete_link",{provider:l.provider,name:l.name}),title:e("oauth_model_alias.diagram_delete_link",{provider:l.provider,name:l.name}),children:f.jsx(jb,{size:14})})]})]},l.id)})})})():null})}function Zoe({open:n,t:e,source:t,onClose:i,onToggleFork:s,onUnlink:a}){return f.jsx(is,{open:n,onClose:i,title:e("oauth_model_alias.diagram_settings_source_title"),width:720,footer:f.jsx(he,{variant:"secondary",onClick:i,children:e("common.close")}),children:t?t.aliases.length===0?f.jsx("div",{className:Ve.settingsEmpty,children:e("oauth_model_alias.diagram_settings_empty")}):f.jsx("div",{className:Ve.settingsList,children:t.aliases.map(r=>f.jsxs("div",{className:Ve.settingsRow,children:[f.jsxs("div",{className:Ve.settingsNames,children:[f.jsx("span",{className:Ve.settingsSource,children:t.name}),f.jsx("span",{className:Ve.settingsArrow,children:""}),f.jsx("span",{className:Ve.settingsAlias,children:r.alias})]}),f.jsxs("div",{className:Ve.settingsActions,children:[f.jsx("span",{className:Ve.settingsLabel,children:e("oauth_model_alias.alias_fork_label")}),f.jsx(ts,{checked:r.fork===!0,onChange:o=>s(t.provider,t.name,r.alias,o),ariaLabel:e("oauth_model_alias.alias_fork_label")}),f.jsx("button",{type:"button",className:Ve.settingsDelete,onClick:()=>a(t.provider,t.name,r.alias),"aria-label":e("oauth_model_alias.diagram_delete_link",{provider:t.provider,name:t.name}),title:e("oauth_model_alias.diagram_delete_link",{provider:t.provider,name:t.name}),children:f.jsx(jb,{size:14})})]})]},`${t.id}-${r.alias}`))}):null})}const MR=["#8b8680","#10b981","#f59e0b","#c65746","#8b5cf6","#ec4899","#06b6d4","#84cc16"];function A2(n){const e=n.split("").reduce((t,i)=>t+i.charCodeAt(0),0);return MR[e%MR.length]}const Joe=w.forwardRef(function({modelAlias:e,allProviderModels:t={},onUpdate:i,onDeleteLink:s,onToggleFork:a,onRenameAlias:r,onDeleteAlias:o,onEditProvider:l,onDeleteProvider:u,className:h},m){const{t:g}=Ze(),b=qa(Te=>Te.resolvedTheme)==="dark",x=w.useMemo(()=>typeof window>"u"||typeof window.matchMedia>"u"?!1:window.matchMedia("(any-pointer: coarse)").matches&&!window.matchMedia("(any-pointer: fine)").matches,[]),v=w.useRef(null),[C,k]=w.useState([]),[N,O]=w.useState(null),[T,L]=w.useState(null),[M,P]=w.useState(null),[R,D]=w.useState(null),[U,F]=w.useState(null),[H,Z]=w.useState(null),[Y,I]=w.useState([]),[K,V]=w.useState(null),[$,W]=w.useState(new Set),[j,B]=w.useState({}),[X,te]=w.useState(null),[Q,G]=w.useState(""),[ne,J]=w.useState(""),[re,de]=w.useState(!1),[Le,ke]=w.useState(""),[nt,_t]=w.useState(""),[Ft,Ee]=w.useState(null),[Ye,Lt]=w.useState(null),{aliasNodes:me,providerNodes:Ie}=w.useMemo(()=>{const Te=new Map,Qe=new Set;Object.entries(e).forEach(([ee,ae])=>{(ae??[]).forEach(fe=>{const Ne=(fe?.name||"").trim(),Re=(fe?.alias||"").trim();if(!Ne||!Re)return;const Ge=`${ee.toLowerCase()}::${Ne.toLowerCase()}`;Te.has(Ge)||Te.set(Ge,{provider:ee,name:Ne,aliases:new Map}),Te.get(Ge).aliases.set(Re,fe?.fork===!0),Qe.add(Re)})}),Object.entries(t).forEach(([ee,ae])=>{(ae??[]).forEach(fe=>{const Ne=(fe.id||"").trim();if(!Ne)return;const Re=`${ee.toLowerCase()}::${Ne.toLowerCase()}`;Te.has(Re)||Te.set(Re,{provider:ee,name:Ne,aliases:new Map})})});const dt=Array.from(Te.entries()).map(([ee,ae])=>({id:ee,provider:ae.provider,name:ae.name,aliases:Array.from(ae.aliases.entries()).map(([fe,Ne])=>({alias:fe,fork:Ne}))})).sort((ee,ae)=>ee.provider!==ae.provider?ee.provider.localeCompare(ae.provider):ee.name.localeCompare(ae.name));Y.forEach(ee=>Qe.add(ee));const ei=Array.from(Qe).map(ee=>({id:ee,alias:ee,sources:dt.filter(ae=>ae.aliases.some(fe=>fe.alias===ee))})).sort((ee,ae)=>ae.sources.length!==ee.sources.length?ae.sources.length-ee.sources.length:ee.alias.localeCompare(ae.alias)),en=new Map;dt.forEach(ee=>{en.has(ee.provider)||en.set(ee.provider,[]),en.get(ee.provider).push(ee)});const ti=Array.from(en.entries()).map(([ee,ae])=>({provider:ee,sources:ae})).sort((ee,ae)=>ee.provider.localeCompare(ae.provider));return{aliasNodes:ei,providerNodes:ti}},[e,t,Y]),Je=w.useRef(new Map),ct=w.useRef(new Map),le=w.useRef(new Map),_e=Te=>{W(Qe=>{const dt=new Set(Qe);return dt.has(Te)?dt.delete(Te):dt.add(Te),dt})},Pe=w.useCallback(()=>{if(!v.current)return;const Te=v.current.getBoundingClientRect(),Qe=[],dt={},ei=(en,ti,ee,ae)=>{const fe=en+(ee-en)*.5,Ne=ee-(ee-en)*.5;return`M ${en} ${ti} C ${fe} ${ti}, ${Ne} ${ae}, ${ee} ${ae}`};Ie.forEach(({provider:en,sources:ti})=>{if($.has(en))return;if(ti.length>0){const Fe=ct.current.get(ti[0].id),je=ct.current.get(ti[ti.length-1].id);if(Fe&&je){const Ue=Math.max(0,Math.round(je.getBoundingClientRect().bottom-Fe.getBoundingClientRect().top));Ue>0&&(dt[en]=Ue)}}const ae=Je.current.get(en);if(!ae)return;const fe=ae.getBoundingClientRect(),Ne=fe.right-Te.left,Re=fe.top+fe.height/2-Te.top,Ge=A2(en);ti.forEach(Fe=>{const je=ct.current.get(Fe.id);if(!je)return;const Ue=je.getBoundingClientRect(),Xe=Ue.left-Te.left,tt=Ue.top+Ue.height/2-Te.top;Qe.push({id:`provider-${en}-source-${Fe.id}`,path:ei(Ne,Re,Xe,tt),color:Ge})}),ti.forEach(Fe=>{!Fe.aliases||Fe.aliases.length===0||Fe.aliases.forEach(je=>{const Ue=ct.current.get(Fe.id),Xe=le.current.get(je.alias);if(!Ue||!Xe)return;const tt=Ue.getBoundingClientRect(),it=Xe.getBoundingClientRect(),kt=tt.right-Te.left,jt=tt.top+tt.height/2-Te.top,gn=it.left-Te.left,Sn=it.top+it.height/2-Te.top;Qe.push({id:`${Fe.id}-${je.alias}`,path:ei(kt,jt,gn,Sn),color:Ge})})})}),k(Qe),B(en=>{const ti=Object.keys(en),ee=Object.keys(dt);if(ti.length!==ee.length)return dt;for(const ae of ee)if(!(ae in en)||en[ae]!==dt[ae])return dt;return en})},[Ie,$]);w.useImperativeHandle(m,()=>({collapseAll:()=>W(new Set(Ie.map(Te=>Te.provider))),refreshLayout:()=>Pe()}),[Ie,Pe]),w.useLayoutEffect(()=>{const Te=requestAnimationFrame(Pe);return window.addEventListener("resize",Pe),()=>{cancelAnimationFrame(Te),window.removeEventListener("resize",Pe)}},[Pe,me]),w.useLayoutEffect(()=>{const Te=requestAnimationFrame(Pe);return()=>cancelAnimationFrame(Te)},[j,Pe]),w.useEffect(()=>{if(!v.current||typeof ResizeObserver>"u")return;const Te=new ResizeObserver(()=>Pe());return Te.observe(v.current),()=>Te.disconnect()},[Pe]);const $e=(Te,Qe)=>{F(null),Z(null),O(Qe),Te.dataTransfer.setData("text/plain",Qe.id),Te.dataTransfer.effectAllowed="link"},yt=(Te,Qe)=>{!N||N.aliases.some(dt=>dt.alias===Qe)||(Te.preventDefault(),Te.dataTransfer.dropEffect="link",P(Qe))},bt=()=>{P(null)},pt=(Te,Qe)=>{Te.preventDefault(),N&&!N.aliases.some(dt=>dt.alias===Qe)&&i&&i(N.provider,N.name,Qe),O(null),P(null)},hn=(Te,Qe)=>{F(null),Z(null),L(Qe),Te.dataTransfer.setData("text/plain",Qe),Te.dataTransfer.effectAllowed="link"},ce=(Te,Qe)=>{!T||Qe.aliases.some(dt=>dt.alias===T)||(Te.preventDefault(),Te.dataTransfer.dropEffect="link",D(Qe.id))},He=()=>{D(null)},Nt=(Te,Qe)=>{Te.preventDefault(),T&&!Qe.aliases.some(dt=>dt.alias===T)&&i&&i(Qe.provider,Qe.name,T),L(null),D(null)},Ut=(Te,Qe,dt)=>{Te.preventDefault(),Te.stopPropagation(),V({x:Te.clientX,y:Te.clientY,type:Qe,data:dt})},Mn=()=>V(null),Rn=w.useCallback(Te=>{if(!Te)return null;for(const{sources:Qe}of Ie){const dt=Qe.find(ei=>ei.id===Te);if(dt)return dt}return null},[Ie]),Vi=Te=>{if(i){if(U===Te.id){F(null);return}if(H){i(Te.provider,Te.name,H),F(null),Z(null);return}F(Te.id),Z(null)}},Ya=Te=>{if(i){if(H===Te){Z(null);return}if(U){const Qe=Rn(U);Qe&&i(Qe.provider,Qe.name,Te),F(null),Z(null);return}Z(Te),F(null)}},Gs=(Te,Qe,dt)=>{s&&s(Te,Qe,dt)},Ai=(Te,Qe,dt,ei)=>{a&&a(Te,Qe,dt,ei)},ks=()=>{Mn(),de(!0),ke(""),_t("")},os=()=>{const Te=Le.trim();if(!Te){_t(g("oauth_model_alias.diagram_please_enter_alias"));return}if(me.some(Qe=>Qe.alias===Te)){_t(g("oauth_model_alias.diagram_alias_exists"));return}I(Qe=>[...Qe,Te]),de(!1)},Xs=Te=>{Mn(),te({oldAlias:Te}),G(Te),J("")},Za=()=>{const Te=Q.trim();if(!Te){J(g("oauth_model_alias.diagram_please_enter_alias"));return}if(Te===X?.oldAlias){te(null);return}if(me.some(Qe=>Qe.alias===Te)){J(g("oauth_model_alias.diagram_alias_exists"));return}r&&X&&r(X.oldAlias,Te),Y.includes(X?.oldAlias??"")&&I(Qe=>Qe.map(dt=>dt===X?.oldAlias?Te:dt)),te(null)},Ja=Te=>{Mn();const Qe=me.find(dt=>dt.alias===Te);Qe&&(Qe.sources.length===0?I(dt=>dt.filter(ei=>ei!==Te)):o&&o(Te))};return f.jsxs("div",{className:[Ve.scrollContainer,h].filter(Boolean).join(" "),children:[x&&i&&f.jsx("div",{className:Ve.tapHint,children:g("oauth_model_alias.diagram_tap_hint")}),f.jsxs("div",{className:Ve.container,ref:v,onContextMenu:Te=>{Te.preventDefault(),Te.stopPropagation(),Ut(Te,"background")},children:[f.jsx("svg",{className:Ve.connections,children:C.map(Te=>f.jsx("path",{d:Te.path,stroke:Te.color,strokeOpacity:b?.4:.3},Te.id))}),f.jsx(Voe,{providerNodes:Ie,collapsedProviders:$,getProviderColor:A2,providerGroupHeights:j,providerRefs:Je,onToggleCollapse:_e,onContextMenu:(Te,Qe,dt)=>Ut(Te,Qe,dt),label:g("oauth_model_alias.diagram_providers"),expandLabel:g("oauth_model_alias.diagram_expand"),collapseLabel:g("oauth_model_alias.diagram_collapse")}),f.jsx(Woe,{providerNodes:Ie,collapsedProviders:$,sourceRefs:ct,getProviderColor:A2,selectedSourceId:x?U:null,onSelectSource:x?Vi:void 0,draggedSource:N,dropTargetSource:R,draggable:!!i,onDragStart:$e,onDragEnd:()=>{O(null),P(null)},onDragOver:ce,onDragLeave:He,onDrop:Nt,onContextMenu:(Te,Qe,dt)=>Ut(Te,Qe,dt),label:g("oauth_model_alias.diagram_source_models")}),f.jsx(Goe,{aliasNodes:me,aliasRefs:le,dropTargetAlias:M,draggedAlias:T,selectedAlias:x?H:null,onSelectAlias:x?Ya:void 0,draggable:!!i,onDragStart:hn,onDragEnd:()=>{L(null),D(null)},onDragOver:yt,onDragLeave:bt,onDrop:pt,onContextMenu:(Te,Qe,dt)=>Ut(Te,Qe,dt),label:g("oauth_model_alias.diagram_aliases")})]}),f.jsx(Xoe,{contextMenu:K,t:g,onRequestClose:()=>V(null),onAddAlias:ks,onRenameAlias:Xs,onOpenAliasSettings:Te=>{V(null),Ee(Te)},onDeleteAlias:Ja,onEditProvider:Te=>{V(null),l?.(Te)},onDeleteProvider:Te=>{V(null),u?.(Te)},onOpenSourceSettings:Te=>{V(null),Lt(Te)}}),f.jsx($oe,{open:!!X,t:g,value:Q,error:ne,onChange:Te=>{G(Te),J("")},onClose:()=>te(null),onSubmit:Za}),f.jsx(Qoe,{open:re,t:g,value:Le,error:nt,onChange:Te=>{ke(Te),_t("")},onClose:()=>de(!1),onSubmit:os}),f.jsx(Yoe,{open:!!Ft,t:g,alias:Ft,aliasNodes:me,onClose:()=>Ee(null),onToggleFork:Ai,onUnlink:Gs}),f.jsx(Zoe,{open:!!Ye,t:g,source:Rn(Ye),onClose:()=>Lt(null),onToggleFork:Ai,onUnlink:Gs})]})});function ele(n){const{t:e}=Ze(),t=w.useRef(null),{disableControls:i,viewMode:s,onViewModeChange:a,onAdd:r,onEditProvider:o,onDeleteProvider:l,modelAliasError:u,modelAlias:h,allProviderModels:m,onUpdate:g,onDeleteLink:_,onToggleFork:b,onRenameAlias:x,onDeleteAlias:v}=n;return f.jsx(wt,{title:e("oauth_model_alias.title"),extra:f.jsxs("div",{className:Ae.cardExtraButtons,children:[f.jsxs("div",{className:Ae.viewModeSwitch,children:[f.jsx(he,{variant:s==="list"?"secondary":"ghost",size:"sm",onClick:()=>a("list"),disabled:i||u==="unsupported",children:e("oauth_model_alias.view_mode_list")}),f.jsx(he,{variant:s==="diagram"?"secondary":"ghost",size:"sm",onClick:()=>a("diagram"),disabled:i||u==="unsupported",children:e("oauth_model_alias.view_mode_diagram")})]}),f.jsx(he,{size:"sm",onClick:r,disabled:i||u==="unsupported",children:e("oauth_model_alias.add")})]}),children:u==="unsupported"?f.jsx(ns,{title:e("oauth_model_alias.upgrade_required_title"),description:e("oauth_model_alias.upgrade_required_desc")}):s==="diagram"?Object.keys(h).length===0?f.jsx(ns,{title:e("oauth_model_alias.list_empty_all")}):f.jsxs("div",{className:Ae.aliasChartSection,children:[f.jsxs("div",{className:Ae.aliasChartHeader,children:[f.jsx("h4",{className:Ae.aliasChartTitle,children:e("oauth_model_alias.chart_title")}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>t.current?.collapseAll(),disabled:i||u==="unsupported",title:e("oauth_model_alias.diagram_collapse"),"aria-label":e("oauth_model_alias.diagram_collapse"),children:f.jsx(jD,{size:16})})]}),f.jsx(Joe,{ref:t,modelAlias:h,allProviderModels:m,onUpdate:g,onDeleteLink:_,onToggleFork:b,onRenameAlias:x,onDeleteAlias:v,onEditProvider:o,onDeleteProvider:l,className:Ae.aliasChart})]}):Object.keys(h).length===0?f.jsx(ns,{title:e("oauth_model_alias.list_empty_all")}):f.jsx("div",{className:Ae.excludedList,children:Object.entries(h).map(([C,k])=>f.jsxs("div",{className:Ae.excludedItem,children:[f.jsxs("div",{className:Ae.excludedInfo,children:[f.jsx("div",{className:Ae.excludedProvider,children:C}),f.jsx("div",{className:Ae.excludedModels,children:k?.length?e("oauth_model_alias.model_count",{count:k.length}):e("oauth_model_alias.no_models")})]}),f.jsxs("div",{className:Ae.excludedActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>o(C),children:e("common.edit")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>l(C),children:e("oauth_model_alias.delete")})]})]},C))})})}function du({filename:n,blob:e,revokeDelayMs:t=1e3}){const i=window.URL.createObjectURL(e),s=document.createElement("a");s.href=i,s.download=n,s.rel="noopener",s.style.display="none",document.body.appendChild(s),s.click(),window.setTimeout(()=>{window.URL.revokeObjectURL(i),s.remove()},t)}function tle(n){const{refreshKeyStats:e}=n,{t}=Ze(),{showNotification:i,showConfirmation:s}=un(),[a,r]=w.useState([]),[o,l]=w.useState(!0),[u,h]=w.useState(""),[m,g]=w.useState(!1),[_,b]=w.useState(null),[x,v]=w.useState(!1),[C,k]=w.useState({}),[N,O]=w.useState(new Set),T=w.useRef(null),L=N.size,M=w.useCallback($=>{O(W=>{const j=new Set(W);return j.has($)?j.delete($):j.add($),j})},[]),P=w.useCallback($=>{const W=$.filter(j=>!Xd(j)).map(j=>j.name);O(new Set(W))},[]),R=w.useCallback(()=>{O(new Set)},[]);w.useEffect(()=>{if(N.size===0)return;const $=new Set(a.map(W=>W.name));O(W=>{let j=!1;const B=new Set;return W.forEach(X=>{$.has(X)?B.add(X):j=!0}),j?B:W})},[a,N.size]);const D=w.useCallback(async()=>{l(!0),h("");try{const $=await At.list();r($?.files||[])}catch($){const W=$ instanceof Error?$.message:t("notification.refresh_failed");h(W)}finally{l(!1)}},[t]),U=w.useCallback(()=>{T.current?.click()},[]),F=w.useCallback(async $=>{const W=$.target.files;if(!W||W.length===0)return;const j=Array.from(W),B=[],X=[],te=[];if(j.forEach(ne=>{if(!ne.name.endsWith(".json")){X.push(ne.name);return}if(ne.size>My){te.push(ne.name);return}B.push(ne)}),X.length>0&&i(t("auth_files.upload_error_json"),"error"),te.length>0&&i(t("auth_files.upload_error_size",{maxSize:cC(My)}),"error"),B.length===0){$.target.value="";return}g(!0);let Q=0;const G=[];for(const ne of B)try{await At.upload(ne),Q++}catch(J){const re=J instanceof Error?J.message:"Unknown error";G.push({name:ne.name,message:re})}if(Q>0){const ne=B.length>1?` (${Q}/${B.length})`:"";i(`${t("auth_files.upload_success")}${ne}`,G.length?"warning":"success"),await D(),await e()}if(G.length>0){const ne=G.map(J=>`${J.name}: ${J.message}`).join("; ");i(`${t("notification.upload_failed")}: ${ne}`,"error")}g(!1),$.target.value=""},[D,e,i,t]),H=w.useCallback($=>{s({title:t("auth_files.delete_title",{defaultValue:"Delete File"}),message:`${t("auth_files.delete_confirm")} "${$}" ?`,variant:"danger",confirmText:t("common.confirm"),onConfirm:async()=>{b($);try{await At.deleteFile($),i(t("auth_files.delete_success"),"success"),r(W=>W.filter(j=>j.name!==$)),O(W=>{if(!W.has($))return W;const j=new Set(W);return j.delete($),j})}catch(W){const j=W instanceof Error?W.message:"";i(`${t("notification.delete_failed")}: ${j}`,"error")}finally{b(null)}}})},[s,i,t]),Z=w.useCallback($=>{const{filter:W,onResetFilterToAll:j}=$,B=W!=="all",X=B?Iy(t,W):t("auth_files.filter_all"),te=B?t("auth_files.delete_filtered_confirm",{type:X}):t("auth_files.delete_all_confirm");s({title:t("auth_files.delete_all_title",{defaultValue:"Delete All Files"}),message:te,variant:"danger",confirmText:t("common.confirm"),onConfirm:async()=>{v(!0);try{if(!B)await At.deleteAll(),i(t("auth_files.delete_all_success"),"success"),r(Q=>Q.filter(G=>Xd(G))),R();else{const Q=a.filter(re=>re.type===W&&!Xd(re));if(Q.length===0){i(t("auth_files.delete_filtered_none",{type:X}),"info"),v(!1);return}let G=0,ne=0;const J=[];for(const re of Q)try{await At.deleteFile(re.name),G++,J.push(re.name)}catch{ne++}r(re=>re.filter(de=>!J.includes(de.name))),O(re=>{if(re.size===0)return re;const de=new Set(J);let Le=!1;const ke=new Set;return re.forEach(nt=>{de.has(nt)?Le=!0:ke.add(nt)}),Le?ke:re}),ne===0?i(t("auth_files.delete_filtered_success",{count:G,type:X}),"success"):i(t("auth_files.delete_filtered_partial",{success:G,failed:ne,type:X}),"warning"),j()}}catch(Q){const G=Q instanceof Error?Q.message:"";i(`${t("notification.delete_failed")}: ${G}`,"error")}finally{v(!1)}}})},[R,a,s,i,t]),Y=w.useCallback(async $=>{try{const W=await De.getRaw(`/auth-files/download?name=${encodeURIComponent($)}`,{responseType:"blob"}),j=new Blob([W.data]);du({filename:$,blob:j}),i(t("auth_files.download_success"),"success")}catch(W){const j=W instanceof Error?W.message:"";i(`${t("notification.download_failed")}: ${j}`,"error")}},[i,t]),I=w.useCallback(async($,W)=>{const j=$.name,B=!W,X=$.disabled===!0;k(te=>({...te,[j]:!0})),r(te=>te.map(Q=>Q.name===j?{...Q,disabled:B}:Q));try{const te=await At.setStatus(j,B);r(Q=>Q.map(G=>G.name===j?{...G,disabled:te.disabled}:G)),i(W?t("auth_files.status_enabled_success",{name:j}):t("auth_files.status_disabled_success",{name:j}),"success")}catch(te){const Q=te instanceof Error?te.message:"";r(G=>G.map(ne=>ne.name===j?{...ne,disabled:X}:ne)),i(`${t("notification.update_failed")}: ${Q}`,"error")}finally{k(te=>{if(!te[j])return te;const Q={...te};return delete Q[j],Q})}},[i,t]),K=w.useCallback(async($,W)=>{const j=Array.from(new Set($));if(j.length===0)return;const B=new Set(j),X=!W;r(re=>re.map(de=>B.has(de.name)?{...de,disabled:X}:de));const te=await Promise.allSettled(j.map(re=>At.setStatus(re,X)));let Q=0,G=0;const ne=new Set,J=new Map;te.forEach((re,de)=>{const Le=j[de];re.status==="fulfilled"?(Q++,J.set(Le,re.value.disabled)):(G++,ne.add(Le))}),r(re=>re.map(de=>ne.has(de.name)?{...de,disabled:!X}:J.has(de.name)?{...de,disabled:J.get(de.name)}:de)),G===0?i(t("auth_files.batch_status_success",{count:Q}),"success"):i(t("auth_files.batch_status_partial",{success:Q,failed:G}),"warning"),R()},[R,i,t]),V=w.useCallback($=>{const W=Array.from(new Set($));W.length!==0&&s({title:t("auth_files.batch_delete_title"),message:t("auth_files.batch_delete_confirm",{count:W.length}),variant:"danger",confirmText:t("common.confirm"),onConfirm:async()=>{const j=await Promise.allSettled(W.map(te=>At.deleteFile(te))),B=[];let X=0;if(j.forEach((te,Q)=>{te.status==="fulfilled"?B.push(W[Q]):X++}),B.length>0){const te=new Set(B);r(Q=>Q.filter(G=>!te.has(G.name)))}O(te=>{if(te.size===0)return te;const Q=new Set(B);let G=!1;const ne=new Set;return te.forEach(J=>{Q.has(J)?G=!0:ne.add(J)}),G?ne:te}),X===0?i(`${t("auth_files.delete_all_success")} (${B.length})`,"success"):i(t("auth_files.delete_filtered_partial",{success:B.length,failed:X,type:t("auth_files.filter_all")}),"warning")}})},[s,i,t]);return{files:a,selectedFiles:N,selectionCount:L,loading:o,error:u,uploading:m,deleting:_,deletingAll:x,statusUpdating:C,fileInputRef:T,loadFiles:D,handleUploadClick:U,handleFileChange:F,handleDelete:H,handleDeleteAll:Z,handleDownload:Y,handleStatusToggle:I,toggleSelect:M,selectAllVisible:P,deselectAll:R,batchSetStatus:K,batchDelete:V}}function nle(){const{t:n}=Ze(),e=un(C=>C.showNotification),[t,i]=w.useState(!1),[s,a]=w.useState(!1),[r,o]=w.useState([]),[l,u]=w.useState(""),[h,m]=w.useState(""),[g,_]=w.useState(null),b=w.useRef(new Map),x=w.useCallback(()=>{i(!1)},[]),v=w.useCallback(async C=>{u(C.name),m(C.type||""),o([]),_(null),i(!0);const k=b.current.get(C.name);if(k){o(k),a(!1);return}a(!0);try{const N=await At.getModelsForAuthFile(C.name);b.current.set(C.name,N),o(N)}catch(N){const O=N instanceof Error?N.message:"";O.includes("404")||O.includes("not found")||O.includes("Not Found")?_("unsupported"):e(`${n("notification.load_failed")}: ${O}`,"error")}finally{a(!1)}},[e,n]);return{modelsModalOpen:t,modelsLoading:s,modelsList:r,modelsFileName:l,modelsFileType:h,modelsError:g,showModels:v,closeModelsModal:x}}function ile(n){const{viewMode:e,files:t}=n,{t:i}=Ze(),{showNotification:s,showConfirmation:a}=un(),[r,o]=w.useState({}),[l,u]=w.useState(null),[h,m]=w.useState({}),[g,_]=w.useState(null),[b,x]=w.useState({}),v=w.useRef(!1),C=w.useRef(!1),k=w.useMemo(()=>{const F=new Set;return Object.keys(h).forEach(H=>{const Z=H.trim().toLowerCase();Z&&F.add(Z)}),t.forEach(H=>{if(typeof H.type=="string"){const Z=H.type.trim().toLowerCase();Z&&F.add(Z)}if(typeof H.provider=="string"){const Z=H.provider.trim().toLowerCase();Z&&F.add(Z)}}),Array.from(F)},[t,h]);w.useEffect(()=>{if(e!=="diagram")return;let F=!1;return(async()=>{if(k.length===0){F||x({});return}const Z=await Promise.all(k.map(async I=>{try{const K=await At.getModelDefinitions(I);return{provider:I,models:K}}catch{return{provider:I,models:[]}}}));if(F)return;const Y={};Z.forEach(({provider:I,models:K})=>{K.length>0&&(Y[I]=K)}),x(Y)})(),()=>{F=!0}},[k,e]);const N=w.useCallback(async()=>{try{const F=await At.getOauthExcludedModels();v.current=!1,o(F||{}),u(null)}catch(F){if((typeof F=="object"&&F!==null&&"status"in F?F.status:void 0)===404){o({}),u("unsupported"),v.current||(v.current=!0,s(i("oauth_excluded.upgrade_required"),"warning"));return}}},[s,i]),O=w.useCallback(async()=>{try{const F=await At.getOauthModelAlias();C.current=!1,m(F||{}),_(null)}catch(F){if((typeof F=="object"&&F!==null&&"status"in F?F.status:void 0)===404){m({}),_("unsupported"),C.current||(C.current=!0,s(i("oauth_model_alias.upgrade_required"),"warning"));return}}},[s,i]),T=w.useCallback(F=>{const H=F.trim()||F;a({title:i("oauth_excluded.delete_title",{defaultValue:"Delete Exclusion"}),message:i("oauth_excluded.delete_confirm",{provider:H}),variant:"danger",confirmText:i("common.confirm"),onConfirm:async()=>{const Z=Or(F);if(!Z){s(i("oauth_excluded.provider_required"),"error");return}try{await At.deleteOauthExcludedEntry(Z),await N(),s(i("oauth_excluded.delete_success"),"success")}catch(Y){try{const I=await At.getOauthExcludedModels(),K={};Object.entries(I).forEach(([V,$])=>{Or(V)!==Z&&(K[V]=$)}),await At.replaceOauthExcludedModels(K),await N(),s(i("oauth_excluded.delete_success"),"success")}catch(I){const K=I instanceof Error?I.message:Y instanceof Error?Y.message:"";s(`${i("oauth_excluded.delete_failed")}: ${K}`,"error")}}}})},[N,a,s,i]),L=w.useCallback(F=>{a({title:i("oauth_model_alias.delete_title",{defaultValue:"Delete Mappings"}),message:i("oauth_model_alias.delete_confirm",{provider:F}),variant:"danger",confirmText:i("common.confirm"),onConfirm:async()=>{try{await At.deleteOauthModelAlias(F),await O(),s(i("oauth_model_alias.delete_success"),"success")}catch(H){const Z=H instanceof Error?H.message:"";s(`${i("oauth_model_alias.delete_failed")}: ${Z}`,"error")}}})},[O,a,s,i]),M=w.useCallback(async(F,H,Z)=>{if(!F||!H||!Z)return;const Y=Or(F);if(!Y)return;const I=Object.keys(h).find(X=>Or(X)===Y),K=(I?h[I]:null)??[],V=H.trim(),$=Z.trim(),W=V.toLowerCase(),j=$.toLowerCase();if(K.some(X=>(X.name??"").trim().toLowerCase()===W&&(X.alias??"").trim().toLowerCase()===j))return;const B=[...K,{name:V,alias:$,fork:!0}];try{await At.saveOauthModelAlias(Y,B),await O(),s(i("oauth_model_alias.save_success"),"success")}catch(X){const te=X instanceof Error?X.message:"";s(`${i("oauth_model_alias.save_failed")}: ${te}`,"error")}},[O,h,s,i]),P=w.useCallback((F,H,Z)=>{const Y=H.trim(),I=Z.trim();!F||!Y||!I||a({title:i("oauth_model_alias.delete_link_title",{defaultValue:"Unlink mapping"}),message:f.jsx(zL,{i18nKey:"oauth_model_alias.delete_link_confirm",values:{provider:F,sourceModel:Y,alias:I},components:{code:f.jsx("code",{})}}),variant:"danger",confirmText:i("common.confirm"),onConfirm:async()=>{const K=Or(F),V=Object.keys(h).find(X=>Or(X)===K),$=(V?h[V]:null)??[],W=Y.toLowerCase(),j=I.toLowerCase(),B=$.filter(X=>(X.name??"").trim().toLowerCase()!==W||(X.alias??"").trim().toLowerCase()!==j);if(B.length!==$.length)try{B.length===0?await At.deleteOauthModelAlias(K):await At.saveOauthModelAlias(K,B),await O(),s(i("oauth_model_alias.save_success"),"success")}catch(X){const te=X instanceof Error?X.message:"";s(`${i("oauth_model_alias.save_failed")}: ${te}`,"error")}}})},[O,h,a,s,i]),R=w.useCallback(async(F,H,Z,Y)=>{const I=Or(F);if(!I)return;const K=Object.keys(h).find(X=>Or(X)===I),V=(K?h[K]:null)??[],$=H.trim().toLowerCase(),W=Z.trim().toLowerCase();let j=!1;const B=V.map(X=>{const te=(X.name??"").trim().toLowerCase(),Q=(X.alias??"").trim().toLowerCase();return te===$&&Q===W?(j=!0,Y?{...X,fork:!0}:{name:X.name,alias:X.alias}):X});if(j)try{await At.saveOauthModelAlias(I,B),await O(),s(i("oauth_model_alias.save_success"),"success")}catch(X){const te=X instanceof Error?X.message:"";s(`${i("oauth_model_alias.save_failed")}: ${te}`,"error")}},[O,h,s,i]),D=w.useCallback(async(F,H)=>{const Z=F.trim(),Y=H.trim();if(!Z||!Y||Z===Y)return;const I=Z.toLowerCase(),K=Object.entries(h).filter(([W,j])=>j.some(B=>(B.alias??"").trim().toLowerCase()===I));if(K.length===0)return;let V=!1,$="";try{const j=(await Promise.allSettled(K.map(([B,X])=>{const te=X.map(Q=>(Q.alias??"").trim().toLowerCase()===I?{...Q,alias:Y}:Q);return At.saveOauthModelAlias(B,te)}))).filter(B=>B.status==="rejected");if(j.length>0){V=!0;const B=j[0].reason;$=B instanceof Error?B.message:String(B??"")}}finally{await O()}V?s($?`${i("oauth_model_alias.save_failed")}: ${$}`:i("oauth_model_alias.save_failed"),"error"):s(i("oauth_model_alias.save_success"),"success")},[O,h,s,i]),U=w.useCallback(F=>{const H=F.trim();if(!H)return;const Z=H.toLowerCase(),Y=Object.entries(h).filter(([I,K])=>K.some(V=>(V.alias??"").trim().toLowerCase()===Z));Y.length!==0&&a({title:i("oauth_model_alias.delete_alias_title",{defaultValue:"Delete Alias"}),message:f.jsx(zL,{i18nKey:"oauth_model_alias.delete_alias_confirm",values:{alias:H},components:{code:f.jsx("code",{})}}),variant:"danger",confirmText:i("common.confirm"),onConfirm:async()=>{let I=!1,K="";try{const $=(await Promise.allSettled(Y.map(([W,j])=>{const B=j.filter(X=>(X.alias??"").trim().toLowerCase()!==Z);return B.length===0?At.deleteOauthModelAlias(W):At.saveOauthModelAlias(W,B)}))).filter(W=>W.status==="rejected");if($.length>0){I=!0;const W=$[0].reason;K=W instanceof Error?W.message:String(W??"")}}finally{await O()}I?s(K?`${i("oauth_model_alias.delete_failed")}: ${K}`:i("oauth_model_alias.delete_failed"),"error"):s(i("oauth_model_alias.delete_success"),"success")}})},[O,h,a,s,i]);return{excluded:r,excludedError:l,modelAlias:h,modelAliasError:g,allProviderModels:b,providerList:k,loadExcluded:N,loadModelAlias:O,deleteExcluded:T,deleteModelAlias:L,handleMappingUpdate:M,handleDeleteLink:P,handleToggleFork:R,handleRenameAlias:D,handleDeleteAlias:U}}const sle=n=>{if(!n?.json)return n?.rawText??"";const e={...n.json};("prefix"in e||n.prefix.trim())&&(e.prefix=n.prefix),("proxy_url"in e||n.proxyUrl.trim())&&(e.proxy_url=n.proxyUrl);const t=E6(n.priority);t!==void 0?e.priority=t:"priority"in e&&delete e.priority;const i=sne(n.excludedModelsText);i.length>0?e.excluded_models=i:"excluded_models"in e&&delete e.excluded_models;const s=D6(n.disableCooling);return s!==void 0?e.disable_cooling=s:"disable_cooling"in e&&delete e.disable_cooling,JSON.stringify(e)};function ale(n){const{disableControls:e,loadFiles:t,loadKeyStats:i}=n,{t:s}=Ze(),a=un(b=>b.showNotification),[r,o]=w.useState(null),l=sle(r),u=!!r?.json&&!!r?.originalText&&l!==r?.originalText;return{prefixProxyEditor:r,prefixProxyUpdatedText:l,prefixProxyDirty:u,openPrefixProxyEditor:async b=>{if(!e){if(r?.fileName===b){o(null);return}o({fileName:b,loading:!0,saving:!1,error:null,originalText:"",rawText:"",json:null,prefix:"",proxyUrl:"",priority:"",excludedModelsText:"",disableCooling:""});try{const v=(await At.downloadText(b)).trim();let C;try{C=JSON.parse(v)}catch{o(R=>!R||R.fileName!==b?R:{...R,loading:!1,error:s("auth_files.prefix_proxy_invalid_json"),rawText:v,originalText:v});return}if(!C||typeof C!="object"||Array.isArray(C)){o(R=>!R||R.fileName!==b?R:{...R,loading:!1,error:s("auth_files.prefix_proxy_invalid_json"),rawText:v,originalText:v});return}const k=C,N=JSON.stringify(k),O=typeof k.prefix=="string"?k.prefix:"",T=typeof k.proxy_url=="string"?k.proxy_url:"",L=E6(k.priority),M=j6(k.excluded_models),P=D6(k.disable_cooling);o(R=>!R||R.fileName!==b?R:{...R,loading:!1,originalText:N,rawText:N,json:k,prefix:O,proxyUrl:T,priority:L!==void 0?String(L):"",excludedModelsText:M.join(`
`),disableCooling:P===void 0?"":P?"true":"false",error:null})}catch(x){const v=x instanceof Error?x.message:s("notification.download_failed");o(C=>!C||C.fileName!==b?C:{...C,loading:!1,error:v,rawText:""}),a(`${s("notification.download_failed")}: ${v}`,"error")}}},closePrefixProxyEditor:()=>{o(null)},handlePrefixProxyChange:(b,x)=>{o(v=>v&&(b==="prefix"?{...v,prefix:x}:b==="proxyUrl"?{...v,proxyUrl:x}:b==="priority"?{...v,priority:x}:b==="excludedModelsText"?{...v,excludedModelsText:x}:{...v,disableCooling:x}))},handlePrefixProxySave:async()=>{if(!r?.json||!u)return;const b=r.fileName,x=l;if(new Blob([x]).size>My){a(s("auth_files.upload_error_size",{maxSize:cC(My)}),"error");return}o(C=>!C||C.fileName!==b?C:{...C,saving:!0});try{const C=new File([x],b,{type:"application/json"});await At.upload(C),a(s("auth_files.prefix_proxy_saved_success",{name:b}),"success"),await t(),await i(),o(null)}catch(C){const k=C instanceof Error?C.message:"";a(`${s("notification.upload_failed")}: ${k}`,"error"),o(N=>!N||N.fileName!==b?N:{...N,saving:!1})}}}}function rle(){const n=ms(a=>a.keyStats),e=ms(a=>a.usageDetails),t=ms(a=>a.loadUsageStats),i=w.useCallback(async()=>{await t({staleTimeMs:Wo})},[t]),s=w.useCallback(async()=>{await t({force:!0,staleTimeMs:Wo})},[t]);return{keyStats:n,usageDetails:e,loadKeyStats:i,refreshKeyStats:s}}function ole(n,e){return w.useMemo(()=>{const t=new Map;return n.forEach(i=>{const s=i.auth_index??i.authIndex,a=ws(s);if(a){const r=e.filter(o=>{const l=ws(o.auth_index);return l!==null&&l===a});t.set(a,Ka(r))}}),t},[n,e])}const q6="authFilesPage.uiState",lle=()=>{if(typeof window>"u")return null;try{const n=window.sessionStorage.getItem(q6);if(!n)return null;const e=JSON.parse(n);return e&&typeof e=="object"?e:null}catch{return null}},cle=n=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(q6,JSON.stringify(n))}catch{}};function ule(){const{t:n}=Ze(),e=un(Be=>Be.showNotification),t=Kt(Be=>Be.connectionStatus),i=qa(Be=>Be.resolvedTheme),s=RC(),a=s?s.status==="current":!0,r=Ri(),[o,l]=w.useState("all"),[u,h]=w.useState(""),[m,g]=w.useState(1),[_,b]=w.useState(9),[x,v]=w.useState("9"),[C,k]=w.useState(!1),[N,O]=w.useState(null),[T,L]=w.useState("list"),[M,P]=w.useState(!1),[R,D]=w.useState(()=>Date.now()),U=w.useRef(null),F=w.useRef(0),H=w.useRef(0),{keyStats:Z,usageDetails:Y,loadKeyStats:I,refreshKeyStats:K}=rle(),{files:V,selectedFiles:$,selectionCount:W,loading:j,error:B,uploading:X,deleting:te,deletingAll:Q,statusUpdating:G,fileInputRef:ne,loadFiles:J,handleUploadClick:re,handleFileChange:de,handleDelete:Le,handleDeleteAll:ke,handleDownload:nt,handleStatusToggle:_t,toggleSelect:Ft,selectAllVisible:Ee,deselectAll:Ye,batchSetStatus:Lt,batchDelete:me}=tle({refreshKeyStats:K}),Ie=ole(V,Y),{excluded:Je,excludedError:ct,modelAlias:le,modelAliasError:_e,allProviderModels:Pe,loadExcluded:$e,loadModelAlias:yt,deleteExcluded:bt,deleteModelAlias:pt,handleMappingUpdate:hn,handleDeleteLink:ce,handleToggleFork:He,handleRenameAlias:Nt,handleDeleteAlias:Ut}=ile({viewMode:T,files:V}),{modelsModalOpen:Mn,modelsLoading:Rn,modelsList:Vi,modelsFileName:Ya,modelsFileType:Gs,modelsError:Ai,showModels:ks,closeModelsModal:os}=nle(),{prefixProxyEditor:Xs,prefixProxyUpdatedText:Za,prefixProxyDirty:Ja,openPrefixProxyEditor:Te,closePrefixProxyEditor:Qe,handlePrefixProxyChange:dt,handlePrefixProxySave:ei}=ale({disableControls:t!=="connected",loadFiles:J,loadKeyStats:K}),en=t!=="connected",ti=Or(String(o)),ee=P6.has(ti)?ti:null;w.useEffect(()=>{const Be=lle();Be&&(typeof Be.filter=="string"&&Be.filter.trim()&&l(Be.filter),typeof Be.search=="string"&&h(Be.search),typeof Be.page=="number"&&Number.isFinite(Be.page)&&g(Math.max(1,Math.round(Be.page))),typeof Be.pageSize=="number"&&Number.isFinite(Be.pageSize)&&b(SR(Be.pageSize)))},[]),w.useEffect(()=>{cle({filter:o,search:u,page:m,pageSize:_})},[o,u,m,_]),w.useEffect(()=>{v(String(_))},[_]);const ae=Be=>{const ot=Be.trim();if(!ot){v(String(_));return}const Pt=Number(ot);if(!Number.isFinite(Pt)){v(String(_));return}const on=SR(Pt);b(on),v(String(on)),g(1)},fe=Be=>{const ot=Be.currentTarget.value;v(ot);const Pt=ot.trim();if(!Pt)return;const on=Number(Pt);if(!Number.isFinite(on))return;const ls=Math.round(on);ls<dw||ls>hw||(b(ls),g(1))},Ne=w.useCallback(async()=>{await Promise.all([J(),K(),$e(),yt()])},[J,K,$e,yt]);ng(Ne),w.useEffect(()=>{a&&(J(),I().catch(()=>{}),$e(),yt())},[a,J,I,$e,yt]),uw(()=>{K().catch(()=>{})},a?24e4:null),uw(()=>D(Date.now()),a?6e4:null);const Re=w.useMemo(()=>{const Be=new Set(["all"]);return V.forEach(ot=>{ot.type&&Be.add(ot.type)}),Array.from(Be)},[V]),Ge=w.useMemo(()=>{const Be={all:V.length};return V.forEach(ot=>{ot.type&&(Be[ot.type]=(Be[ot.type]||0)+1)}),Be},[V]),Fe=w.useMemo(()=>V.filter(Be=>{const ot=o==="all"||Be.type===o,Pt=u.trim().toLowerCase(),on=!Pt||Be.name.toLowerCase().includes(Pt)||(Be.type||"").toString().toLowerCase().includes(Pt)||(Be.provider||"").toString().toLowerCase().includes(Pt);return ot&&on}),[V,o,u]),je=Math.max(1,Math.ceil(Fe.length/_)),Ue=Math.min(m,je),Xe=(Ue-1)*_,tt=Fe.slice(Xe,Xe+_),it=w.useMemo(()=>tt.filter(Be=>!Xd(Be)),[tt]),kt=w.useMemo(()=>Array.from($),[$]),jt=Be=>{O(Be),k(!0)},gn=w.useCallback(async Be=>{const ot=await Xb(Be);e(ot?n("notification.link_copied",{defaultValue:"Copied to clipboard"}):n("notification.copy_failed",{defaultValue:"Copy failed"}),ot?"success":"error")},[e,n]),Sn=w.useCallback(Be=>{const ot=(Be||(o!=="all"?String(o):"")).trim(),Pt=new URLSearchParams;ot&&Pt.set("provider",ot);const on=Pt.toString();r(`/auth-files/oauth-excluded${on?`?${on}`:""}`,{state:{fromAuthFiles:!0}})},[o,r]),En=w.useCallback(Be=>{const ot=(Be||(o!=="all"?String(o):"")).trim(),Pt=new URLSearchParams;ot&&Pt.set("provider",ot);const on=Pt.toString();r(`/auth-files/oauth-model-alias${on?`?${on}`:""}`,{state:{fromAuthFiles:!0}})},[o,r]);w.useLayoutEffect(()=>{if(typeof window>"u")return;const Be=U.current;if(!Be){document.documentElement.style.removeProperty("--auth-files-action-bar-height");return}const ot=()=>{const on=Be.getBoundingClientRect().height;document.documentElement.style.setProperty("--auth-files-action-bar-height",`${on}px`)};ot(),window.addEventListener("resize",ot);const Pt=typeof ResizeObserver>"u"?null:new ResizeObserver(ot);return Pt?.observe(Be),()=>{Pt?.disconnect(),window.removeEventListener("resize",ot),document.documentElement.style.removeProperty("--auth-files-action-bar-height")}},[M,W]),w.useEffect(()=>{H.current=W,W>0&&P(!0)},[W]),w.useLayoutEffect(()=>{if(!M)return;const Be=W,ot=F.current,Pt=U.current;Pt&&(us.killTweensOf(Pt),Be>0&&ot===0?us.fromTo(Pt,{y:56,autoAlpha:0},{y:0,autoAlpha:1,duration:.28,ease:"power3.out"}):Be===0&&ot>0&&us.to(Pt,{y:56,autoAlpha:0,duration:.22,ease:"power2.in",onComplete:()=>{H.current===0&&P(!1)}}),F.current=Be)},[M,W]);const It=()=>f.jsx("div",{className:Ae.filterTags,children:Re.map(Be=>{const ot=o===Be,Pt=Be==="all"?{bg:"var(--bg-tertiary)",text:"var(--text-primary)"}:R6(Be,i),on=i==="dark"?"#111827":"#fff";return f.jsxs("button",{className:`${Ae.filterTag} ${ot?Ae.filterTagActive:""}`,style:{backgroundColor:ot?Pt.text:Pt.bg,color:ot?on:Pt.text,borderColor:Pt.text},onClick:()=>{l(Be),g(1)},children:[f.jsx("span",{className:Ae.filterTagLabel,children:Iy(n,Be)}),f.jsx("span",{className:Ae.filterTagCount,children:Ge[Be]??0})]},Be)})}),hi=f.jsxs("div",{className:Ae.titleWrapper,children:[f.jsx("span",{children:n("auth_files.title_section")}),V.length>0&&f.jsx("span",{className:Ae.countBadge,children:V.length})]});return f.jsxs("div",{className:Ae.container,children:[f.jsxs("div",{className:Ae.pageHeader,children:[f.jsx("h1",{className:Ae.pageTitle,children:n("auth_files.title")}),f.jsx("p",{className:Ae.description,children:n("auth_files.description")})]}),f.jsxs(wt,{title:hi,extra:f.jsxs("div",{className:Ae.headerActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:Ne,disabled:j,children:n("common.refresh")}),f.jsx(he,{size:"sm",onClick:re,disabled:en||X,loading:X,children:n("auth_files.upload_button")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>ke({filter:o,onResetFilterToAll:()=>l("all")}),disabled:en||j||Q,loading:Q,children:o==="all"?n("auth_files.delete_all_button"):`${n("common.delete")} ${Iy(n,o)}`}),f.jsx("input",{ref:ne,type:"file",accept:".json,application/json",multiple:!0,style:{display:"none"},onChange:de})]}),children:[B&&f.jsx("div",{className:Ae.errorBox,children:B}),f.jsxs("div",{className:Ae.filterSection,children:[It(),f.jsxs("div",{className:Ae.filterControls,children:[f.jsxs("div",{className:Ae.filterItem,children:[f.jsx("label",{children:n("auth_files.search_label")}),f.jsx(st,{value:u,onChange:Be=>{h(Be.target.value),g(1)},placeholder:n("auth_files.search_placeholder")})]}),f.jsxs("div",{className:Ae.filterItem,children:[f.jsx("label",{children:n("auth_files.page_size_label")}),f.jsx("input",{className:Ae.pageSizeSelect,type:"number",min:dw,max:hw,step:1,value:x,onChange:fe,onBlur:Be=>ae(Be.currentTarget.value),onKeyDown:Be=>{Be.key==="Enter"&&Be.currentTarget.blur()}})]})]})]}),j?f.jsx("div",{className:Ae.hint,children:n("common.loading")}):tt.length===0?f.jsx(ns,{title:n("auth_files.search_empty_title"),description:n("auth_files.search_empty_desc")}):f.jsx("div",{className:`${Ae.fileGrid} ${ee?Ae.fileGridQuotaManaged:""}`,children:tt.map(Be=>f.jsx(toe,{file:Be,selected:$.has(Be.name),resolvedTheme:i,disableControls:en,deleting:te,statusUpdating:G,quotaFilterType:ee,keyStats:Z,statusBarCache:Ie,nowMs:R,onShowModels:ks,onShowDetails:jt,onDownload:nt,onOpenPrefixProxyEditor:Te,onDelete:Le,onToggleStatus:_t,onToggleSelect:Ft},Be.name))}),!j&&Fe.length>_&&f.jsxs("div",{className:Ae.pagination,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>g(Math.max(1,Ue-1)),disabled:Ue<=1,children:n("auth_files.pagination_prev")}),f.jsx("div",{className:Ae.pageInfo,children:n("auth_files.pagination_info",{current:Ue,total:je,count:Fe.length})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>g(Math.min(je,Ue+1)),disabled:Ue>=je,children:n("auth_files.pagination_next")})]})]}),f.jsx(aoe,{disableControls:en,excludedError:ct,excluded:Je,onAdd:()=>Sn(),onEdit:Sn,onDelete:bt}),f.jsx(ele,{disableControls:en,viewMode:T,onViewModeChange:L,onAdd:()=>En(),onEditProvider:En,onDeleteProvider:pt,modelAliasError:_e,modelAlias:le,allProviderModels:Pe,onUpdate:hn,onDeleteLink:ce,onToggleFork:He,onRenameAlias:Nt,onDeleteAlias:Ut}),f.jsx(noe,{open:C,file:N,onClose:()=>k(!1),onCopyText:gn}),f.jsx(ioe,{open:Mn,fileName:Ya,fileType:Gs,loading:Rn,error:Ai,models:Vi,excluded:Je,onClose:os,onCopyText:gn}),f.jsx(soe,{disableControls:en,editor:Xs,updatedText:Za,dirty:Ja,onClose:Qe,onSave:ei,onChange:dt}),M&&typeof document<"u"?Nu.createPortal(f.jsx("div",{className:Ae.batchActionContainer,ref:U,children:f.jsxs("div",{className:Ae.batchActionBar,children:[f.jsxs("div",{className:Ae.batchActionLeft,children:[f.jsx("span",{className:Ae.batchSelectionText,children:n("auth_files.batch_selected",{count:W})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>Ee(tt),disabled:it.length===0,children:n("auth_files.batch_select_all")}),f.jsx(he,{variant:"ghost",size:"sm",onClick:Ye,children:n("auth_files.batch_deselect")})]}),f.jsxs("div",{className:Ae.batchActionRight,children:[f.jsx(he,{size:"sm",onClick:()=>Lt(kt,!0),disabled:en||kt.length===0,children:n("auth_files.batch_enable")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>Lt(kt,!1),disabled:en||kt.length===0,children:n("auth_files.batch_disable")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>me(kt),disabled:en||kt.length===0,children:n("common.delete")})]})]})}),document.body):null]})}function fw({label:n,value:e,onChange:t,options:i,placeholder:s,disabled:a,hint:r,error:o,className:l="",wrapperClassName:u="",wrapperStyle:h,id:m,rightElement:g}){const[_,b]=w.useState(!1),[x,v]=w.useState(-1),C=w.useRef(null),N=i.map(M=>typeof M=="string"?{value:M,label:M}:{value:M.value,label:M.label||M.value}).filter(M=>{const P=e.toLowerCase();return M.value.toLowerCase().includes(P)||M.label&&M.label.toLowerCase().includes(P)});w.useEffect(()=>{const M=P=>{C.current&&!C.current.contains(P.target)&&b(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const O=M=>{t(M.target.value),b(!0),v(-1)},T=M=>{t(M),b(!1)},L=M=>{if(!a)if(M.key==="ArrowDown"){if(M.preventDefault(),!_){b(!0);return}v(P=>P<N.length-1?P+1:P)}else M.key==="ArrowUp"?(M.preventDefault(),v(P=>P>0?P-1:0)):M.key==="Enter"?_&&x>=0&&x<N.length?(M.preventDefault(),T(N[x].value)):_&&(M.preventDefault(),b(!1)):(M.key==="Escape"||M.key==="Tab")&&b(!1)};return f.jsxs("div",{className:`form-group ${u}`,ref:C,style:h,children:[n&&f.jsx("label",{htmlFor:m,children:n}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("input",{id:m,className:`input ${l}`.trim(),value:e,onChange:O,onFocus:()=>b(!0),onKeyDown:L,placeholder:s,disabled:a,autoComplete:"off",style:{paddingRight:32}}),f.jsxs("div",{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",pointerEvents:a?"none":"auto",cursor:"pointer",height:"100%"},onClick:()=>!a&&b(!_),children:[g,f.jsx(Qk,{size:16,style:{opacity:.5,marginLeft:4}})]}),_&&N.length>0&&!a&&f.jsx("div",{className:"autocomplete-dropdown",style:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,zIndex:1e3,backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-md)",maxHeight:200,overflowY:"auto",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:N.map((M,P)=>f.jsxs("div",{onClick:()=>T(M.value),style:{padding:"8px 12px",cursor:"pointer",backgroundColor:P===x?"var(--bg-tertiary)":"transparent",color:"var(--text-primary)",display:"flex",flexDirection:"column",fontSize:"0.9rem"},onMouseEnter:()=>v(P),children:[f.jsx("span",{style:{fontWeight:500},children:M.value}),M.label&&M.label!==M.value&&f.jsx("span",{style:{fontSize:"0.85em",color:"var(--text-secondary)"},children:M.label})]},`${M.value}-${P}`))})]}),r&&f.jsx("div",{className:"hint",children:r}),o&&f.jsx("div",{className:"error-box",children:o})]})}const dle="AuthFilesOAuthExcludedEditPage-module__pageContent___42nA2",hle="AuthFilesOAuthExcludedEditPage-module__settingsCard___EE-1z",fle="AuthFilesOAuthExcludedEditPage-module__settingsHeader___Jm0RO",mle="AuthFilesOAuthExcludedEditPage-module__settingsHeaderTitle___nOj9w",ple="AuthFilesOAuthExcludedEditPage-module__settingsHeaderHint___EzQSN",gle="AuthFilesOAuthExcludedEditPage-module__settingsSection___ozndx",_le="AuthFilesOAuthExcludedEditPage-module__settingsRow___z6QPQ",yle="AuthFilesOAuthExcludedEditPage-module__settingsInfo___lRYwp",ble="AuthFilesOAuthExcludedEditPage-module__settingsLabel___KbPgc",xle="AuthFilesOAuthExcludedEditPage-module__settingsDesc___6LSPN",vle="AuthFilesOAuthExcludedEditPage-module__settingsControl___luVcd",Sle="AuthFilesOAuthExcludedEditPage-module__tagList___Is0Fd",wle="AuthFilesOAuthExcludedEditPage-module__tag___fyrKv",kle="AuthFilesOAuthExcludedEditPage-module__tagActive___EkiBG",Cle="AuthFilesOAuthExcludedEditPage-module__modelsHint___Rm6l4",Ale="AuthFilesOAuthExcludedEditPage-module__loadingModels___-9Wy6",Tle="AuthFilesOAuthExcludedEditPage-module__modelList___6ebAr",Nle="AuthFilesOAuthExcludedEditPage-module__modelItem___v0y1o",Mle="AuthFilesOAuthExcludedEditPage-module__modelText___50mQC",Ole="AuthFilesOAuthExcludedEditPage-module__modelId___Z2Ylu",Lle="AuthFilesOAuthExcludedEditPage-module__modelDisplayName___ATlA5",Ple="AuthFilesOAuthExcludedEditPage-module__emptyModels___kAuwa",On={pageContent:dle,settingsCard:hle,settingsHeader:fle,settingsHeaderTitle:mle,settingsHeaderHint:ple,settingsSection:gle,settingsRow:_le,settingsInfo:yle,settingsLabel:ble,settingsDesc:xle,settingsControl:vle,tagList:Sle,tag:wle,tagActive:kle,modelsHint:Cle,loadingModels:Ale,modelList:Tle,modelItem:Nle,modelText:Mle,modelId:Ole,modelDisplayName:Lle,emptyModels:Ple},OR=["gemini-cli","vertex","aistudio","antigravity","claude","codex","qwen","kimi","iflow"],Rle=new Set(["all","unknown","empty"]),T2=n=>n.trim().toLowerCase();function Ele(){const{t:n}=Ze(),e=Ri(),t=$n(),{showNotification:i}=un(),a=Kt(G=>G.connectionStatus)!=="connected",[r,o]=SD(),l=r.get("provider")??"",[u,h]=w.useState(l),[m,g]=w.useState([]),[_,b]=w.useState({}),[x,v]=w.useState({}),[C,k]=w.useState(!0),[N,O]=w.useState(!1),[T,L]=w.useState(new Set),[M,P]=w.useState([]),[R,D]=w.useState(!1),[U,F]=w.useState(null),[H,Z]=w.useState(!1);w.useEffect(()=>{h(l)},[l]);const Y=w.useMemo(()=>{const G=new Set;Object.keys(_).forEach(de=>G.add(de)),Object.keys(x).forEach(de=>G.add(de)),m.forEach(de=>{typeof de.type=="string"&&G.add(de.type),typeof de.provider=="string"&&G.add(de.provider)});const ne=Array.from(G).map(de=>de.trim()).filter(de=>de&&!Rle.has(de.toLowerCase())),J=new Set(OR.map(de=>de.toLowerCase())),re=ne.filter(de=>!J.has(de.toLowerCase())).sort((de,Le)=>de.localeCompare(Le));return[...OR,...re]},[_,m,x]),I=w.useCallback(G=>{const ne=`auth_files.filter_${G}`,J=n(ne);return J!==ne?J:G.toLowerCase()==="iflow"?"iFlow":G.charAt(0).toUpperCase()+G.slice(1)},[n]),K=w.useMemo(()=>T2(u),[u]),V=w.useMemo(()=>K?Object.prototype.hasOwnProperty.call(_,K):!1,[_,K]),$=w.useMemo(()=>V?n("oauth_excluded.edit_title",{provider:u.trim()||K}):n("oauth_excluded.add_title"),[V,u,K,n]),W=w.useCallback(()=>{if(t.state?.fromAuthFiles){e(-1);return}e("/auth-files",{replace:!0})},[t.state,e]),j=eo({onBack:W});w.useEffect(()=>{const G=ne=>{ne.key==="Escape"&&W()};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[W]),w.useEffect(()=>{let G=!1;return(async()=>{k(!0),O(!1);try{const[J,re,de]=await Promise.allSettled([At.list(),At.getOauthExcludedModels(),At.getOauthModelAlias()]);if(G)return;if(J.status==="fulfilled"&&g(J.value?.files??[]),de.status==="fulfilled"&&v(de.value??{}),re.status==="fulfilled"){b(re.value??{});return}const Le=re.status==="rejected"?re.reason:null;if((typeof Le=="object"&&Le!==null&&"status"in Le?Le.status:void 0)===404){O(!0);return}}finally{G||k(!1)}})().catch(()=>{G||k(!1)}),()=>{G=!0}},[]),w.useEffect(()=>{if(!K){L(new Set);return}const G=_[K]??[];L(new Set(G))},[_,K]),w.useEffect(()=>{if(!K||N){P([]),F(null),D(!1);return}let G=!1;return D(!0),F(null),At.getModelDefinitions(K).then(ne=>{G||P(ne)}).catch(ne=>{if(G)return;if((typeof ne=="object"&&ne!==null&&"status"in ne?ne.status:void 0)===404){P([]),F("unsupported");return}const re=ne instanceof Error?ne.message:"";i(`${n("notification.load_failed")}: ${re}`,"error")}).finally(()=>{G||D(!1)}),()=>{G=!0}},[N,K,i,n]);const B=w.useCallback(G=>{h(G);const ne=new URLSearchParams(r),J=G.trim();J?ne.set("provider",J):ne.delete("provider"),o(ne,{replace:!0})},[r,o]),X=w.useCallback((G,ne)=>{L(J=>{const re=new Set(J);return ne?re.add(G):re.delete(G),re})},[]),te=w.useCallback(async()=>{const G=T2(u);if(!G){i(n("oauth_excluded.provider_required"),"error");return}const ne=[...T];Z(!0);try{ne.length?await At.saveOauthExcludedModels(G,ne):await At.deleteOauthExcludedEntry(G),i(n("oauth_excluded.save_success"),"success"),W()}catch(J){const re=J instanceof Error?J.message:"";i(`${n("oauth_excluded.save_failed")}: ${re}`,"error")}finally{Z(!1)}},[W,u,T,i,n]),Q=!a&&!H&&!N;return f.jsx(to,{ref:j,title:$,onBack:W,backLabel:n("common.back"),backAriaLabel:n("common.back"),contentClassName:On.pageContent,rightAction:f.jsx(he,{size:"sm",onClick:te,loading:H,disabled:!Q,children:n("oauth_excluded.save")}),isLoading:C,loadingLabel:n("common.loading"),children:N?f.jsx(wt,{children:f.jsx(ns,{title:n("oauth_excluded.upgrade_required_title"),description:n("oauth_excluded.upgrade_required_desc")})}):f.jsxs(f.Fragment,{children:[f.jsxs(wt,{className:On.settingsCard,children:[f.jsxs("div",{className:On.settingsHeader,children:[f.jsxs("div",{className:On.settingsHeaderTitle,children:[f.jsx(Eb,{size:16}),f.jsx("span",{children:n("oauth_excluded.title")})]}),f.jsx("div",{className:On.settingsHeaderHint,children:n("oauth_excluded.description")})]}),f.jsxs("div",{className:On.settingsSection,children:[f.jsxs("div",{className:On.settingsRow,children:[f.jsxs("div",{className:On.settingsInfo,children:[f.jsx("div",{className:On.settingsLabel,children:n("oauth_excluded.provider_label")}),f.jsx("div",{className:On.settingsDesc,children:n("oauth_excluded.provider_hint")})]}),f.jsx("div",{className:On.settingsControl,children:f.jsx(fw,{id:"oauth-excluded-provider",placeholder:n("oauth_excluded.provider_placeholder"),value:u,onChange:B,options:Y,disabled:a||H,wrapperStyle:{marginBottom:0}})})]}),Y.length>0&&f.jsx("div",{className:On.tagList,children:Y.map(G=>{const ne=T2(u)===G.toLowerCase();return f.jsx("button",{type:"button",className:`${On.tag} ${ne?On.tagActive:""}`,onClick:()=>B(G),disabled:a||H,children:I(G)},G)})})]})]}),f.jsxs(wt,{className:On.settingsCard,children:[f.jsxs("div",{className:On.settingsHeader,children:[f.jsx("div",{className:On.settingsHeaderTitle,children:n("oauth_excluded.models_label")}),K&&f.jsx("div",{className:On.modelsHint,children:R?f.jsxs(f.Fragment,{children:[f.jsx(_u,{size:14}),f.jsx("span",{children:n("oauth_excluded.models_loading")})]}):U==="unsupported"?f.jsx("span",{children:n("oauth_excluded.models_unsupported")}):M.length>0?f.jsx("span",{children:n("oauth_excluded.models_loaded",{count:M.length})}):f.jsx("span",{children:n("oauth_excluded.no_models_available")})})]}),R?f.jsxs("div",{className:On.loadingModels,children:[f.jsx(_u,{size:16}),f.jsx("span",{children:n("common.loading")})]}):M.length>0?f.jsx("div",{className:On.modelList,children:M.map(G=>{const ne=T.has(G.id);return f.jsxs("label",{className:On.modelItem,children:[f.jsx("input",{type:"checkbox",checked:ne,disabled:a||H,onChange:J=>X(G.id,J.target.checked)}),f.jsxs("span",{className:On.modelText,children:[f.jsx("span",{className:On.modelId,children:G.id}),G.display_name&&G.display_name!==G.id&&f.jsx("span",{className:On.modelDisplayName,children:G.display_name})]})]},G.id)})}):K?f.jsx("div",{className:On.emptyModels,children:n(U==="unsupported"?"oauth_excluded.models_unsupported":"oauth_excluded.no_models_available")}):f.jsx("div",{className:On.emptyModels,children:n("oauth_excluded.provider_required")})]})]})})}const jle="AuthFilesOAuthModelAliasEditPage-module__pageContent___mxGSP",Dle="AuthFilesOAuthModelAliasEditPage-module__settingsCard___4uMxA",Fle="AuthFilesOAuthModelAliasEditPage-module__settingsHeader___h4vIs",Ule="AuthFilesOAuthModelAliasEditPage-module__settingsHeaderTitle___GExPS",Ble="AuthFilesOAuthModelAliasEditPage-module__settingsHeaderHint___C94bR",Ile="AuthFilesOAuthModelAliasEditPage-module__settingsSection___JQr18",zle="AuthFilesOAuthModelAliasEditPage-module__settingsRow___qzQdL",qle="AuthFilesOAuthModelAliasEditPage-module__settingsInfo___Jt7Ub",Kle="AuthFilesOAuthModelAliasEditPage-module__settingsLabel___v6dmL",Hle="AuthFilesOAuthModelAliasEditPage-module__settingsDesc___TgK3P",Vle="AuthFilesOAuthModelAliasEditPage-module__settingsControl___nSl-3",Wle="AuthFilesOAuthModelAliasEditPage-module__tagList___OxNTF",Gle="AuthFilesOAuthModelAliasEditPage-module__tag___sULm6",Xle="AuthFilesOAuthModelAliasEditPage-module__tagActive___CcyFC",$le="AuthFilesOAuthModelAliasEditPage-module__mappingsHeader___wddAp",Qle="AuthFilesOAuthModelAliasEditPage-module__mappingsTitle___QywAa",Yle="AuthFilesOAuthModelAliasEditPage-module__mappingsBody___jOz-S",Zle="AuthFilesOAuthModelAliasEditPage-module__mappingRow___NTr41",Jle="AuthFilesOAuthModelAliasEditPage-module__mappingSeparator___dN9rZ",ece="AuthFilesOAuthModelAliasEditPage-module__mappingAliasInput___iG0V3",tce="AuthFilesOAuthModelAliasEditPage-module__mappingFork___4pAg3",Zn={pageContent:jle,settingsCard:Dle,settingsHeader:Fle,settingsHeaderTitle:Ule,settingsHeaderHint:Ble,settingsSection:Ile,settingsRow:zle,settingsInfo:qle,settingsLabel:Kle,settingsDesc:Hle,settingsControl:Vle,tagList:Wle,tag:Gle,tagActive:Xle,mappingsHeader:$le,mappingsTitle:Qle,mappingsBody:Yle,mappingRow:Zle,mappingSeparator:Jle,mappingAliasInput:ece,mappingFork:tce},LR=["gemini-cli","vertex","aistudio","antigravity","claude","codex","qwen","kimi","iflow"],nce=new Set(["all","unknown","empty"]),PR=n=>n.trim().toLowerCase(),pm=()=>({id:eC(),name:"",alias:"",fork:!0}),ice=n=>!Array.isArray(n)||n.length===0?[pm()]:n.map(e=>({id:eC(),name:e.name??"",alias:e.alias??"",fork:!!e.fork}));function sce(){const{t:n}=Ze(),e=Ri(),t=$n(),{showNotification:i}=un(),a=Kt(J=>J.connectionStatus)!=="connected",[r,o]=SD(),l=r.get("provider")??"",[u,h]=w.useState(l),[m,g]=w.useState([]),[_,b]=w.useState({}),[x,v]=w.useState({}),[C,k]=w.useState(!0),[N,O]=w.useState(!1),[T,L]=w.useState([pm()]),[M,P]=w.useState([]),[R,D]=w.useState(!1),[U,F]=w.useState(null),[H,Z]=w.useState(!1);w.useEffect(()=>{h(l)},[l]);const Y=w.useMemo(()=>{const J=new Set;Object.keys(_).forEach(ke=>J.add(ke)),Object.keys(x).forEach(ke=>J.add(ke)),m.forEach(ke=>{typeof ke.type=="string"&&J.add(ke.type),typeof ke.provider=="string"&&J.add(ke.provider)});const re=Array.from(J).map(ke=>ke.trim()).filter(ke=>ke&&!nce.has(ke.toLowerCase())),de=new Set(LR.map(ke=>ke.toLowerCase())),Le=re.filter(ke=>!de.has(ke.toLowerCase())).sort((ke,nt)=>ke.localeCompare(nt));return[...LR,...Le]},[_,m,x]),I=w.useCallback(J=>{const re=`auth_files.filter_${J}`,de=n(re);return de!==re?de:J.toLowerCase()==="iflow"?"iFlow":J.charAt(0).toUpperCase()+J.slice(1)},[n]),K=w.useMemo(()=>PR(u),[u]),V=w.useMemo(()=>n("oauth_model_alias.add_title"),[n]),$=w.useMemo(()=>u.trim()?R?n("oauth_model_alias.model_source_loading"):U==="unsupported"?n("oauth_model_alias.model_source_unsupported"):n("oauth_model_alias.model_source_loaded",{count:M.length}):n("oauth_model_alias.provider_hint"),[U,M.length,R,u,n]),W=w.useCallback(()=>{if(t.state?.fromAuthFiles){e(-1);return}e("/auth-files",{replace:!0})},[t.state,e]),j=eo({onBack:W});w.useEffect(()=>{const J=re=>{re.key==="Escape"&&W()};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[W]),w.useEffect(()=>{let J=!1;return(async()=>{k(!0),O(!1);try{const[de,Le,ke]=await Promise.allSettled([At.list(),At.getOauthExcludedModels(),At.getOauthModelAlias()]);if(J)return;if(de.status==="fulfilled"&&g(de.value?.files??[]),Le.status==="fulfilled"&&b(Le.value??{}),ke.status==="fulfilled"){v(ke.value??{});return}const nt=ke.status==="rejected"?ke.reason:null;if((typeof nt=="object"&&nt!==null&&"status"in nt?nt.status:void 0)===404){O(!0);return}}finally{J||k(!1)}})().catch(()=>{J||k(!1)}),()=>{J=!0}},[]),w.useEffect(()=>{if(!K){L([pm()]);return}const J=x[K]??[];L(ice(J))},[x,K]),w.useEffect(()=>{if(!K||N){P([]),F(null),D(!1);return}let J=!1;return D(!0),F(null),At.getModelDefinitions(K).then(re=>{J||P(re)}).catch(re=>{if(J)return;if((typeof re=="object"&&re!==null&&"status"in re?re.status:void 0)===404){P([]),F("unsupported");return}const Le=re instanceof Error?re.message:"";i(`${n("notification.load_failed")}: ${Le}`,"error")}).finally(()=>{J||D(!1)}),()=>{J=!0}},[N,K,i,n]);const B=w.useCallback(J=>{h(J);const re=new URLSearchParams(r),de=J.trim();de?re.set("provider",de):re.delete("provider"),o(re,{replace:!0})},[r,o]),X=w.useCallback((J,re,de)=>{L(Le=>Le.map((ke,nt)=>nt===J?{...ke,[re]:de}:ke))},[]),te=w.useCallback(()=>{L(J=>[...J,pm()])},[]),Q=w.useCallback(J=>{L(re=>{const de=re.filter((Le,ke)=>ke!==J);return de.length?de:[pm()]})},[]),G=w.useCallback(async()=>{const J=u.trim();if(!J){i(n("oauth_model_alias.provider_required"),"error");return}const re=new Set,de=T.map(Le=>{const ke=String(Le.name??"").trim(),nt=String(Le.alias??"").trim();if(!ke||!nt)return null;const _t=`${ke.toLowerCase()}::${nt.toLowerCase()}::${Le.fork?"1":"0"}`;return re.has(_t)?null:(re.add(_t),Le.fork?{name:ke,alias:nt,fork:!0}:{name:ke,alias:nt})}).filter(Boolean);Z(!0);try{de.length?await At.saveOauthModelAlias(J,de):await At.deleteOauthModelAlias(J),i(n("oauth_model_alias.save_success"),"success"),W()}catch(Le){const ke=Le instanceof Error?Le.message:"";i(`${n("oauth_model_alias.save_failed")}: ${ke}`,"error")}finally{Z(!1)}},[W,T,u,i,n]),ne=!a&&!H&&!N;return f.jsx(to,{ref:j,title:V,onBack:W,backLabel:n("common.back"),backAriaLabel:n("common.back"),contentClassName:Zn.pageContent,rightAction:f.jsx(he,{size:"sm",onClick:G,loading:H,disabled:!ne,children:n("oauth_model_alias.save")}),isLoading:C,loadingLabel:n("common.loading"),children:N?f.jsx(wt,{children:f.jsx(ns,{title:n("oauth_model_alias.upgrade_required_title"),description:n("oauth_model_alias.upgrade_required_desc")})}):f.jsxs(f.Fragment,{children:[f.jsxs(wt,{className:Zn.settingsCard,children:[f.jsxs("div",{className:Zn.settingsHeader,children:[f.jsxs("div",{className:Zn.settingsHeaderTitle,children:[f.jsx(Eb,{size:16}),f.jsx("span",{children:n("oauth_model_alias.title")})]}),f.jsx("div",{className:Zn.settingsHeaderHint,children:$})]}),f.jsxs("div",{className:Zn.settingsSection,children:[f.jsxs("div",{className:Zn.settingsRow,children:[f.jsxs("div",{className:Zn.settingsInfo,children:[f.jsx("div",{className:Zn.settingsLabel,children:n("oauth_model_alias.provider_label")}),f.jsx("div",{className:Zn.settingsDesc,children:n("oauth_model_alias.provider_hint")})]}),f.jsx("div",{className:Zn.settingsControl,children:f.jsx(fw,{id:"oauth-model-alias-provider",placeholder:n("oauth_model_alias.provider_placeholder"),value:u,onChange:B,options:Y,disabled:a||H,wrapperStyle:{marginBottom:0}})})]}),Y.length>0&&f.jsx("div",{className:Zn.tagList,children:Y.map(J=>{const re=PR(u)===J.toLowerCase();return f.jsx("button",{type:"button",className:`${Zn.tag} ${re?Zn.tagActive:""}`,onClick:()=>B(J),disabled:a||H,children:I(J)},J)})})]})]}),f.jsxs(wt,{className:Zn.settingsCard,children:[f.jsxs("div",{className:Zn.mappingsHeader,children:[f.jsx("div",{className:Zn.mappingsTitle,children:n("oauth_model_alias.alias_label")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:te,disabled:a||H||N,children:n("oauth_model_alias.add_alias")})]}),f.jsx("div",{className:Zn.mappingsBody,children:T.map((J,re)=>f.jsxs("div",{className:Zn.mappingRow,children:[f.jsx(fw,{wrapperStyle:{flex:1,marginBottom:0},placeholder:n("oauth_model_alias.alias_name_placeholder"),value:J.name,onChange:de=>X(re,"name",de),disabled:a||H,options:M.map(de=>({value:de.id,label:de.display_name&&de.display_name!==de.id?de.display_name:void 0}))}),f.jsx("span",{className:Zn.mappingSeparator,children:""}),f.jsx("input",{className:`input ${Zn.mappingAliasInput}`,placeholder:n("oauth_model_alias.alias_placeholder"),value:J.alias,onChange:de=>X(re,"alias",de.target.value),disabled:a||H}),f.jsx("div",{className:Zn.mappingFork,children:f.jsx(ts,{label:n("oauth_model_alias.alias_fork_label"),labelPosition:"left",checked:!!J.fork,onChange:de=>X(re,"fork",de),disabled:a||H})}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>Q(re),disabled:a||H||T.length<=1,title:n("common.delete"),"aria-label":n("common.delete"),children:f.jsx(Mu,{size:14})})]},J.id))})]})]})})}const ace="OAuthPage-module__container___LCCdH",rce="OAuthPage-module__cardTitle___yFaP0",oce="OAuthPage-module__cardTitleIcon___eAnql",lce="OAuthPage-module__pageTitle___BQQ2z",cce="OAuthPage-module__content___Phg9V",uce="OAuthPage-module__cardContent___1sXLA",dce="OAuthPage-module__cardHint___ttOpd",hce="OAuthPage-module__cardHintSecondary___tWM17",fce="OAuthPage-module__callbackSection___8kA31",mce="OAuthPage-module__callbackActions___wtkMI",pce="OAuthPage-module__authUrlBox___Iu1d4",gce="OAuthPage-module__authUrlLabel___mYFJB",_ce="OAuthPage-module__authUrlValue___axvUJ",yce="OAuthPage-module__authUrlActions___venPj",bce="OAuthPage-module__geminiProjectField___g456A",xce="OAuthPage-module__formItem___Bgt9S",vce="OAuthPage-module__formItemLabel___QZFrG",Sce="OAuthPage-module__filePicker___NmFjy",wce="OAuthPage-module__fileName___9ZbQI",kce="OAuthPage-module__fileNamePlaceholder___WHjj4",Cce="OAuthPage-module__connectionBox___Gwo4r",Ace="OAuthPage-module__connectionLabel___cJMrf",Tce="OAuthPage-module__keyValueList___lEOY0",Nce="OAuthPage-module__keyValueItem___XOwWB",Mce="OAuthPage-module__keyValueKey___WF-VN",Oce="OAuthPage-module__keyValueValue___m2I-C",rt={container:ace,cardTitle:rce,cardTitleIcon:oce,pageTitle:lce,content:cce,cardContent:uce,cardHint:dce,cardHintSecondary:hce,callbackSection:fce,callbackActions:mce,authUrlBox:pce,authUrlLabel:gce,authUrlValue:_ce,authUrlActions:yce,geminiProjectField:bce,formItem:xce,formItemLabel:vce,filePicker:Sce,fileName:wce,fileNamePlaceholder:kce,connectionBox:Cce,connectionLabel:Ace,keyValueList:Tce,keyValueItem:Nce,keyValueKey:Mce,keyValueValue:Oce},Lce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generator:%20visioncortex%20VTracer%200.6.4%20--%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='59'%3e%3cpath%20d='M0,0%20L8,0%20L14,4%20L19,14%20L27,40%20L32,50%20L36,54%20L35,59%20L30,59%20L22,52%20L11,35%20L6,33%20L-1,34%20L-6,39%20L-14,52%20L-22,59%20L-28,59%20L-27,53%20L-22,47%20L-17,34%20L-10,12%20L-5,3%20Z%20'%20fill='%233789F9'%20transform='translate(28,0)'/%3e%3cpath%20d='M0,0%20L8,0%20L14,4%20L19,14%20L25,35%20L21,34%20L16,29%20L11,26%20L7,20%20L7,18%20L2,16%20L-3,15%20L-8,18%20L-12,19%20L-9,9%20L-4,2%20Z%20'%20fill='%236D80D8'%20transform='translate(28,0)'/%3e%3cpath%20d='M0,0%20L8,0%20L14,4%20L19,14%20L20,19%20L13,15%20L10,12%20L3,10%20L-1,8%20L-7,7%20L-4,2%20Z%20'%20fill='%23D78240'%20transform='translate(28,0)'/%3e%3cpath%20d='M0,0%20L5,1%20L10,4%20L12,9%20L1,8%20L-5,13%20L-10,21%20L-13,26%20L-16,26%20L-9,5%20L-4,2%20Z%20M6,7%20Z%20'%20fill='%233294CC'%20transform='translate(25,14)'/%3e%3cpath%20d='M0,0%20L5,2%20L10,10%20L12,18%20L5,14%20L1,10%20L0,4%20L-3,3%20L0,2%20Z%20'%20fill='%23E45C49'%20transform='translate(36,1)'/%3e%3cpath%20d='M0,0%20L9,1%20L12,3%20L12,5%20L7,6%20L4,8%20L-1,11%20L-5,12%20L-2,2%20Z%20'%20fill='%2390AE64'%20transform='translate(21,7)'/%3e%3cpath%20d='M0,0%20L5,1%20L5,4%20L-2,7%20L-7,11%20L-11,10%20L-9,5%20L-4,2%20Z%20'%20fill='%2353A89A'%20transform='translate(25,14)'/%3e%3cpath%20d='M0,0%20L5,0%20L16,9%20L17,13%20L12,12%20L8,9%20L8,7%20L4,5%20L0,2%20Z%20'%20fill='%23B5677D'%20transform='translate(33,11)'/%3e%3cpath%20d='M0,0%20L6,0%20L14,6%20L19,11%20L23,12%20L22,15%20L15,12%20L10,8%20L10,6%20L4,5%20Z%20'%20fill='%23778998'%20transform='translate(27,12)'/%3e%3cpath%20d='M0,0%20L4,2%20L-11,17%20L-12,14%20L-5,4%20Z%20'%20fill='%233390DF'%20transform='translate(26,21)'/%3e%3cpath%20d='M0,0%20L2,1%20L-4,5%20L-9,9%20L-13,13%20L-14,10%20L-13,7%20L-6,4%20L-3,1%20Z%20'%20fill='%233FA1B7'%20transform='translate(27,18)'/%3e%3cpath%20d='M0,0%20L4,0%20L9,5%20L13,6%20L12,9%20L5,6%20L0,2%20Z%20'%20fill='%238277BB'%20transform='translate(37,18)'/%3e%3cpath%20d='M0,0%20L5,1%20L7,6%20L-2,5%20Z%20M1,4%20Z%20'%20fill='%234989CF'%20transform='translate(30,17)'/%3e%3cpath%20d='M0,0%20L5,1%20L2,3%20L-3,6%20L-7,7%20L-6,3%20Z%20'%20fill='%2371B774'%20transform='translate(23,12)'/%3e%3cpath%20d='M0,0%20L7,1%20L9,7%20L5,6%20L0,1%20Z%20'%20fill='%236687E9'%20transform='translate(44,28)'/%3e%3cpath%20d='M0,0%20L7,0%20L5,1%20L5,3%20L8,4%20L4,5%20L-2,4%20Z%20'%20fill='%23C7AF38'%20transform='translate(23,3)'/%3e%3cpath%20d='M0,0%20L8,0%20L8,3%20L4,4%20L-4,3%20Z%20'%20fill='%23EF842A'%20transform='translate(28,0)'/%3e%3cpath%20d='M0,0%20L7,4%20L7,6%20L10,6%20L11,10%20L4,6%20L0,2%20Z%20'%20fill='%23CD5D67'%20transform='translate(37,9)'/%3e%3cpath%20d='M0,0%20L5,2%20L9,8%20L8,11%20L2,3%20L0,2%20Z%20'%20fill='%23F35241'%20transform='translate(36,1)'/%3e%3cpath%20d='M0,0%20L8,2%20L9,6%20L4,5%20L0,2%20Z%20'%20fill='%23A667A2'%20transform='translate(41,18)'/%3e%3cpath%20d='M0,0%20L9,1%20L8,3%20L-2,3%20Z%20'%20fill='%23A4B34C'%20transform='translate(21,7)'/%3e%3cpath%20d='M0,0%20L2,0%20L7,5%20L8,7%20L3,6%20L0,2%20Z%20'%20fill='%23617FCF'%20transform='translate(35,18)'/%3e%3cpath%20d='M0,0%20L5,2%20L8,7%20L4,5%20L0,2%20Z%20'%20fill='%239D7784'%20transform='translate(33,11)'/%3e%3cpath%20d='M0,0%20L6,2%20L6,4%20L0,3%20Z%20'%20fill='%23BC7F59'%20transform='translate(31,7)'/%3e%3c/svg%3e",K6="data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eKimi%3c/title%3e%3cpath%20d='M19.738%205.776c.163-.209.306-.4.457-.585.07-.087.064-.153-.004-.244-.655-.861-.717-1.817-.34-2.787.283-.73.909-1.072%201.674-1.145.477-.045.945.004%201.379.236.57.305.902.77%201.01%201.412.086.512.07%201.012-.075%201.508-.257.878-.888%201.333-1.753%201.448-.718.096-1.446.108-2.17.157-.056.004-.113%200-.178%200z'%20fill='%23027AFF'%3e%3c/path%3e%3cpath%20d='M17.962%201.844h-4.326l-3.425%207.81H5.369V1.878H1.5V22h3.87v-8.477h6.824a3.025%203.025%200%20002.743-1.75V22h3.87v-8.477a3.87%203.87%200%2000-3.588-3.86v-.01h-2.125a3.94%203.94%200%20002.323-2.12l2.545-5.689z'%3e%3c/path%3e%3c/svg%3e",H6="data:image/svg+xml,%3csvg%20fill='%23FFFFFF'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eKimi%3c/title%3e%3cpath%20d='M19.738%205.776c.163-.209.306-.4.457-.585.07-.087.064-.153-.004-.244-.655-.861-.717-1.817-.34-2.787.283-.73.909-1.072%201.674-1.145.477-.045.945.004%201.379.236.57.305.902.77%201.01%201.412.086.512.07%201.012-.075%201.508-.257.878-.888%201.333-1.753%201.448-.718.096-1.446.108-2.17.157-.056.004-.113%200-.178%200z'%20fill='%23FFFFFF'%3e%3c/path%3e%3cpath%20d='M17.962%201.844h-4.326l-3.425%207.81H5.369V1.878H1.5V22h3.87v-8.477h6.824a3.025%203.025%200%20002.743-1.75V22h3.87v-8.477a3.87%203.87%200%2000-3.588-3.86v-.01h-2.125a3.94%203.94%200%20002.323-2.12l2.545-5.689z'%3e%3c/path%3e%3c/svg%3e",V6="data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eQwen%3c/title%3e%3cpath%20d='M12.604%201.34c.393.69.784%201.382%201.174%202.075a.18.18%200%2000.157.091h5.552c.174%200%20.322.11.446.327l1.454%202.57c.19.337.24.478.024.837-.26.43-.513.864-.76%201.3l-.367.658c-.106.196-.223.28-.04.512l2.652%204.637c.172.301.111.494-.043.77-.437.785-.882%201.564-1.335%202.34-.159.272-.352.375-.68.37-.777-.016-1.552-.01-2.327.016a.099.099%200%2000-.081.05%20575.097%20575.097%200%2001-2.705%204.74c-.169.293-.38.363-.725.364-.997.003-2.002.004-3.017.002a.537.537%200%2001-.465-.271l-1.335-2.323a.09.09%200%2000-.083-.049H4.982c-.285.03-.553-.001-.805-.092l-1.603-2.77a.543.543%200%2001-.002-.54l1.207-2.12a.198.198%200%20000-.197%20550.951%20550.951%200%2001-1.875-3.272l-.79-1.395c-.16-.31-.173-.496.095-.965.465-.813.927-1.625%201.387-2.436.132-.234.304-.334.584-.335a338.3%20338.3%200%20012.589-.001.124.124%200%2000.107-.063l2.806-4.895a.488.488%200%2001.422-.246c.524-.001%201.053%200%201.583-.006L11.704%201c.341-.003.724.032.9.34zm-3.432.403a.06.06%200%2000-.052.03L6.254%206.788a.157.157%200%2001-.135.078H3.253c-.056%200-.07.025-.041.074l5.81%2010.156c.025.042.013.062-.034.063l-2.795.015a.218.218%200%2000-.2.116l-1.32%202.31c-.044.078-.021.118.068.118l5.716.008c.046%200%20.08.02.104.061l1.403%202.454c.046.081.092.082.139%200l5.006-8.76.783-1.382a.055.055%200%2001.096%200l1.424%202.53a.122.122%200%2000.107.062l2.763-.02a.04.04%200%2000.035-.02.041.041%200%20000-.04l-2.9-5.086a.108.108%200%20010-.113l.293-.507%201.12-1.977c.024-.041.012-.062-.035-.062H9.2c-.059%200-.073-.026-.043-.077l1.434-2.505a.107.107%200%20000-.114L9.225%201.774a.06.06%200%2000-.053-.031zm6.29%208.02c.046%200%20.058.02.034.06l-.832%201.465-2.613%204.585a.056.056%200%2001-.05.029.058.058%200%2001-.05-.029L8.498%209.841c-.02-.034-.01-.052.028-.054l.216-.012%206.722-.012z'%20fill='url(%23lobe-icons-qwen-fill)'%20fill-rule='nonzero'%3e%3c/path%3e%3cdefs%3e%3clinearGradient%20id='lobe-icons-qwen-fill'%20x1='0%25'%20x2='100%25'%20y1='0%25'%20y2='0%25'%3e%3cstop%20offset='0%25'%20stop-color='%236336E7'%20stop-opacity='.84'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%236F69F7'%20stop-opacity='.84'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Pce="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cfilter%20id='master_svg0_278_51503'%20filterUnits='objectBoundingBox'%20color-interpolation-filters='sRGB'%20x='0'%20y='0'%20width='1'%20height='1'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20in='BackgroundImageFix'%20stdDeviation='1.3333334922790527'/%3e%3cfeComposite%20in2='SourceAlpha'%20operator='in'%20result='effect1_foregroundBlur'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_foregroundBlur'%20result='shape'/%3e%3c/filter%3e%3clinearGradient%20x1='0.07353696972131729'%20y1='0.12899449467658997'%20x2='0.9907095821060244'%20y2='0.9383787344260006'%20id='master_svg1_93_40276'%3e%3cstop%20offset='0%25'%20stop-color='%235C5CFF'%20stop-opacity='1'/%3e%3cstop%20offset='100%25'%20stop-color='%23AE5CFF'%20stop-opacity='1'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%3e%3cg%20filter='url(%23master_svg0_278_51503)'%3e%3crect%20x='0'%20y='0'%20width='32'%20height='32'%20rx='16'%20fill='%23F0F2F5'%20fill-opacity='0'/%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M31.843111328125,14.751C31.315411328125,7.18121,25.497411328125,1.04691,17.966011328125,0.119698C10.434711328125,-0.807512,3.302541328125,3.73244,0.954596328125,10.9482C0.345662328125,12.8248,1.732821328125,14.751,3.705641328125,14.751C4.950051328125,14.7517,6.055631328125,13.9569,6.451401328125,12.7772C7.497331328125,9.65101,10.504411328125,3.91401,18.482011328125,3.91401Q29.445911328125,3.91401,31.843111328125,14.751ZM9.127681328125,17.3314L9.127681328125,13.0862Q9.127681328125,13.0022,9.144081328125,12.9198Q9.160481328125,12.8373,9.192641328125,12.7597Q9.224801328125,12.682,9.271501328125,12.6122Q9.318191328125,12.5423,9.377621328125,12.4828Q9.437051328125,12.4234,9.506931328125,12.3767Q9.576811328125,12.33,9.654461328125,12.2979Q9.732111328125,12.2657,9.814541328125,12.2493Q9.896971328125,12.2329,9.981021328125,12.2329L11.049211328125,12.2329Q11.133211328125,12.2329,11.215711328125,12.2493Q11.298111328125,12.2657,11.375811328125,12.2979Q11.453411328125,12.33,11.523311328125,12.3767Q11.593211328125,12.4234,11.652611328125,12.4828Q11.712011328125,12.5423,11.758711328125,12.6122Q11.805411328125,12.682,11.837611328125,12.7597Q11.869711328125,12.8373,11.886111328125,12.9198Q11.902511328125,13.0022,11.902511328125,13.0862L11.902511328125,17.3314Q11.902511328125,17.4154,11.886111328125,17.4978Q11.869711328125,17.5803,11.837611328125,17.6579Q11.805411328125,17.7356,11.758711328125,17.8055Q11.712011328125,17.8753,11.652611328125,17.9348Q11.593211328125,17.9942,11.523311328125,18.0409Q11.453411328125,18.0876,11.375811328125,18.1197Q11.298111328125,18.1519,11.215711328125,18.1683Q11.133211328125,18.1847,11.049211328125,18.1847L9.981021328125,18.1847Q9.896971328125,18.1847,9.814541328125,18.1683Q9.732111328125,18.1519,9.654461328125,18.1197Q9.576811328125,18.0876,9.506931328125,18.0409Q9.437051328125,17.9942,9.377621328125,17.9348Q9.318191328125,17.8753,9.271501328125,17.8055Q9.224801328125,17.7356,9.192641328125,17.6579Q9.160481328125,17.5803,9.144081328125,17.4978Q9.127681328125,17.4154,9.127681328125,17.3314ZM17.273611328125,17.3295C17.272611328125,17.8015,17.654911328125,18.1847,18.126911328125,18.1847L19.408411328125,18.1847C19.879011328125,18.1847,20.260711328125,17.8038,20.261811328125,17.3332L20.266411328125,15.2107L20.266411328125,15.2069L20.261811328125,13.0844C20.260711328125,12.6138,19.879011328125,12.2329,19.408411328125,12.2329L18.126911328125,12.2329C17.654911328125,12.2329,17.272611328125,12.6161,17.273611328125,13.0881L17.278211328125,15.2069L17.278211328125,15.2107L17.273611328125,17.3295ZM13.574711328125,28.0523C21.552211328125,28.0523,24.559311328125,22.3153,25.605811328125,19.1897C26.001411328125,18.0098,27.107111328125,17.215,28.351511328125,17.2158C30.323811328125,17.2158,31.711511328125,19.1416,31.102611328125,21.0181C30.552411328125,22.7189,29.716211328125,24.3134,28.629811328125,25.733L30.137611328125,30.2235L24.775211328125,29.3432C14.645911328125,36.0484,1.048779328125,29.3346,0.214111328125,17.2158Q2.611231328125,28.0523,13.574711328125,28.0523Z'%20fill-rule='evenodd'%20fill='url(%23master_svg1_93_40276)'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function W6(n){return n!==null&&typeof n=="object"}function Qf(n){return n instanceof Error||W6(n)&&typeof n.message=="string"?n.message:typeof n=="string"?n:""}function RR(n){if(W6(n))return typeof n.status=="number"?n.status:void 0}const Rce=[{id:"codex",titleKey:"auth_login.codex_oauth_title",hintKey:"auth_login.codex_oauth_hint",urlLabelKey:"auth_login.codex_oauth_url_label",icon:{light:EC,dark:jC}},{id:"anthropic",titleKey:"auth_login.anthropic_oauth_title",hintKey:"auth_login.anthropic_oauth_hint",urlLabelKey:"auth_login.anthropic_oauth_url_label",icon:Wb},{id:"antigravity",titleKey:"auth_login.antigravity_oauth_title",hintKey:"auth_login.antigravity_oauth_hint",urlLabelKey:"auth_login.antigravity_oauth_url_label",icon:Lce},{id:"gemini-cli",titleKey:"auth_login.gemini_cli_oauth_title",hintKey:"auth_login.gemini_cli_oauth_hint",urlLabelKey:"auth_login.gemini_cli_oauth_url_label",icon:Gb},{id:"kimi",titleKey:"auth_login.kimi_oauth_title",hintKey:"auth_login.kimi_oauth_hint",urlLabelKey:"auth_login.kimi_oauth_url_label",icon:{light:K6,dark:H6}},{id:"qwen",titleKey:"auth_login.qwen_oauth_title",hintKey:"auth_login.qwen_oauth_hint",urlLabelKey:"auth_login.qwen_oauth_url_label",icon:V6}],Ece=["codex","anthropic","antigravity","gemini-cli"],jce=n=>n.replace("-","_"),Nl=(n,e)=>`auth_login.${jce(n)}_${e}`,Dce=(n,e)=>typeof n=="string"?n:n[e];function Fce(){const{t:n}=Ze(),{showNotification:e}=un(),t=qa(T=>T.resolvedTheme),[i,s]=w.useState({}),[a,r]=w.useState({cookie:"",loading:!1}),[o,l]=w.useState({fileName:"",location:"",loading:!1}),u=w.useRef({}),h=w.useRef(null),m=w.useCallback(()=>{Object.values(u.current).forEach(T=>window.clearInterval(T)),u.current={}},[]);w.useEffect(()=>()=>{m()},[m]);const g=(T,L)=>{s(M=>({...M,[T]:{...M[T]??{},...L}}))},_=(T,L)=>{u.current[T]&&clearInterval(u.current[T]);const M=window.setInterval(async()=>{try{const P=await W_.getAuthStatus(L);P.status==="ok"?(g(T,{status:"success",polling:!1}),e(n(Nl(T,"oauth_status_success")),"success"),window.clearInterval(M),delete u.current[T]):P.status==="error"&&(g(T,{status:"error",error:P.error,polling:!1}),e(`${n(Nl(T,"oauth_status_error"))} ${P.error||""}`,"error"),window.clearInterval(M),delete u.current[T])}catch(P){g(T,{status:"error",error:Qf(P),polling:!1}),window.clearInterval(M),delete u.current[T]}},3e3);u.current[T]=M},b=async T=>{const L=T==="gemini-cli"?i[T]:void 0,M=T==="gemini-cli"?(L?.projectId||"").trim():"",P=M?M.toUpperCase()==="ALL"?"ALL":M:void 0;T==="gemini-cli"&&g(T,{projectIdError:void 0}),g(T,{status:"waiting",polling:!0,error:void 0,callbackStatus:void 0,callbackError:void 0,callbackUrl:""});try{const R=await W_.startAuth(T,T==="gemini-cli"?{projectId:P||void 0}:void 0);g(T,{url:R.url,state:R.state,status:"waiting",polling:!0}),R.state&&_(T,R.state)}catch(R){const D=Qf(R);g(T,{status:"error",error:D,polling:!1}),e(`${n(Nl(T,"oauth_start_error"))}${D?` ${D}`:""}`,"error")}},x=async T=>{if(!T)return;const L=await Xb(T);e(n(L?"notification.link_copied":"notification.copy_failed"),L?"success":"error")},v=async T=>{const L=(i[T]?.callbackUrl||"").trim();if(!L){e(n("auth_login.oauth_callback_required"),"warning");return}g(T,{callbackSubmitting:!0,callbackStatus:void 0,callbackError:void 0});try{await W_.submitCallback(T,L),g(T,{callbackSubmitting:!1,callbackStatus:"success"}),e(n("auth_login.oauth_callback_success"),"success")}catch(M){const P=RR(M),R=Qf(M),D=P===404?n("auth_login.oauth_callback_upgrade_hint",{defaultValue:"Please update CLI Proxy API or check the connection."}):R||void 0;g(T,{callbackSubmitting:!1,callbackStatus:"error",callbackError:D});const U=D?`${n("auth_login.oauth_callback_error")} ${D}`:n("auth_login.oauth_callback_error");e(U,"error")}},C=async()=>{const T=a.cookie.trim();if(!T){e(n("auth_login.iflow_cookie_required"),"warning");return}r(L=>({...L,loading:!0,error:void 0,errorType:void 0,result:void 0}));try{const L=await W_.iflowCookieAuth(T);L.status==="ok"?(r(M=>({...M,loading:!1,result:L})),e(n("auth_login.iflow_cookie_status_success"),"success")):(r(M=>({...M,loading:!1,error:L.error,errorType:"error"})),e(`${n("auth_login.iflow_cookie_status_error")} ${L.error||""}`,"error"))}catch(L){if(RR(L)===409){const P=n("auth_login.iflow_cookie_config_duplicate");r(R=>({...R,loading:!1,error:P,errorType:"warning"})),e(P,"warning");return}const M=Qf(L);r(P=>({...P,loading:!1,error:M,errorType:"error"})),e(`${n("auth_login.iflow_cookie_start_error")}${M?` ${M}`:""}`,"error")}},k=()=>{h.current?.click()},N=T=>{const L=T.target.files?.[0];if(L){if(!L.name.endsWith(".json")){e(n("vertex_import.file_required"),"warning"),T.target.value="";return}l(M=>({...M,file:L,fileName:L.name,error:void 0,result:void 0})),T.target.value=""}},O=async()=>{if(!o.file){const L=n("vertex_import.file_required");l(M=>({...M,error:L})),e(L,"warning");return}const T=o.location.trim();l(L=>({...L,loading:!0,error:void 0,result:void 0}));try{const L=await Z$.importCredential(o.file,T||void 0),M={projectId:L.project_id,email:L.email,location:L.location,authFile:L["auth-file"]??L.auth_file};l(P=>({...P,loading:!1,result:M})),e(n("vertex_import.success"),"success")}catch(L){const M=Qf(L);l(R=>({...R,loading:!1,error:M||n("notification.upload_failed")}));const P=M?`${n("notification.upload_failed")}: ${M}`:n("notification.upload_failed");e(P,"error")}};return f.jsxs("div",{className:rt.container,children:[f.jsx("h1",{className:rt.pageTitle,children:n("nav.oauth",{defaultValue:"OAuth"})}),f.jsxs("div",{className:rt.content,children:[Rce.map(T=>{const L=i[T.id]||{},M=Ece.includes(T.id)&&!!L.url;return f.jsx("div",{children:f.jsx(wt,{title:f.jsxs("span",{className:rt.cardTitle,children:[f.jsx("img",{src:Dce(T.icon,t),alt:"",className:rt.cardTitleIcon}),n(T.titleKey)]}),extra:f.jsx(he,{onClick:()=>b(T.id),loading:L.polling,children:n("common.login")}),children:f.jsxs("div",{className:rt.cardContent,children:[f.jsx("div",{className:rt.cardHint,children:n(T.hintKey)}),T.id==="gemini-cli"&&f.jsx("div",{className:rt.geminiProjectField,children:f.jsx(st,{label:n("auth_login.gemini_cli_project_id_label"),hint:n("auth_login.gemini_cli_project_id_hint"),value:L.projectId||"",error:L.projectIdError,disabled:!!L.polling,onChange:P=>g(T.id,{projectId:P.target.value,projectIdError:void 0}),placeholder:n("auth_login.gemini_cli_project_id_placeholder")})}),L.url&&f.jsxs("div",{className:rt.authUrlBox,children:[f.jsx("div",{className:rt.authUrlLabel,children:n(T.urlLabelKey)}),f.jsx("div",{className:rt.authUrlValue,children:L.url}),f.jsxs("div",{className:rt.authUrlActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>x(L.url),children:n(Nl(T.id,"copy_link"))}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>window.open(L.url,"_blank","noopener,noreferrer"),children:n(Nl(T.id,"open_link"))})]})]}),M&&f.jsxs("div",{className:rt.callbackSection,children:[f.jsx(st,{label:n("auth_login.oauth_callback_label"),hint:n("auth_login.oauth_callback_hint"),value:L.callbackUrl||"",onChange:P=>g(T.id,{callbackUrl:P.target.value,callbackStatus:void 0,callbackError:void 0}),placeholder:n("auth_login.oauth_callback_placeholder")}),f.jsx("div",{className:rt.callbackActions,children:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>v(T.id),loading:L.callbackSubmitting,children:n("auth_login.oauth_callback_button")})}),L.callbackStatus==="success"&&L.status==="waiting"&&f.jsx("div",{className:"status-badge success",children:n("auth_login.oauth_callback_status_success")}),L.callbackStatus==="error"&&f.jsxs("div",{className:"status-badge error",children:[n("auth_login.oauth_callback_status_error")," ",L.callbackError||""]})]}),L.status&&L.status!=="idle"&&f.jsx("div",{className:"status-badge",children:L.status==="success"?n(Nl(T.id,"oauth_status_success")):L.status==="error"?`${n(Nl(T.id,"oauth_status_error"))} ${L.error||""}`:n(Nl(T.id,"oauth_status_waiting"))})]})})},T.id)}),f.jsx(wt,{title:f.jsxs("span",{className:rt.cardTitle,children:[f.jsx("img",{src:UC,alt:"",className:rt.cardTitleIcon}),n("vertex_import.title")]}),extra:f.jsx(he,{onClick:O,loading:o.loading,children:n("vertex_import.import_button")}),children:f.jsxs("div",{className:rt.cardContent,children:[f.jsx("div",{className:rt.cardHint,children:n("vertex_import.description")}),f.jsx(st,{label:n("vertex_import.location_label"),hint:n("vertex_import.location_hint"),value:o.location,onChange:T=>l(L=>({...L,location:T.target.value})),placeholder:n("vertex_import.location_placeholder")}),f.jsxs("div",{className:rt.formItem,children:[f.jsx("label",{className:rt.formItemLabel,children:n("vertex_import.file_label")}),f.jsxs("div",{className:rt.filePicker,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:k,children:n("vertex_import.choose_file")}),f.jsx("div",{className:`${rt.fileName} ${o.fileName?"":rt.fileNamePlaceholder}`.trim(),children:o.fileName||n("vertex_import.file_placeholder")})]}),f.jsx("div",{className:rt.cardHintSecondary,children:n("vertex_import.file_hint")}),f.jsx("input",{ref:h,type:"file",accept:".json,application/json",style:{display:"none"},onChange:N})]}),o.error&&f.jsx("div",{className:"status-badge error",children:o.error}),o.result&&f.jsxs("div",{className:rt.connectionBox,children:[f.jsx("div",{className:rt.connectionLabel,children:n("vertex_import.result_title")}),f.jsxs("div",{className:rt.keyValueList,children:[o.result.projectId&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("vertex_import.result_project")}),f.jsx("span",{className:rt.keyValueValue,children:o.result.projectId})]}),o.result.email&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("vertex_import.result_email")}),f.jsx("span",{className:rt.keyValueValue,children:o.result.email})]}),o.result.location&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("vertex_import.result_location")}),f.jsx("span",{className:rt.keyValueValue,children:o.result.location})]}),o.result.authFile&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("vertex_import.result_file")}),f.jsx("span",{className:rt.keyValueValue,children:o.result.authFile})]})]})]})]})}),f.jsx(wt,{title:f.jsxs("span",{className:rt.cardTitle,children:[f.jsx("img",{src:Pce,alt:"",className:rt.cardTitleIcon}),n("auth_login.iflow_cookie_title")]}),extra:f.jsx(he,{onClick:C,loading:a.loading,children:n("auth_login.iflow_cookie_button")}),children:f.jsxs("div",{className:rt.cardContent,children:[f.jsx("div",{className:rt.cardHint,children:n("auth_login.iflow_cookie_hint")}),f.jsx("div",{className:rt.cardHintSecondary,children:n("auth_login.iflow_cookie_key_hint")}),f.jsxs("div",{className:rt.formItem,children:[f.jsx("label",{className:rt.formItemLabel,children:n("auth_login.iflow_cookie_label")}),f.jsx(st,{value:a.cookie,onChange:T=>r(L=>({...L,cookie:T.target.value})),placeholder:n("auth_login.iflow_cookie_placeholder")})]}),a.error&&f.jsxs("div",{className:`status-badge ${a.errorType==="warning"?"warning":"error"}`,children:[a.errorType==="warning"?n("auth_login.iflow_cookie_status_duplicate"):n("auth_login.iflow_cookie_status_error")," ",a.error]}),a.result&&a.result.status==="ok"&&f.jsxs("div",{className:rt.connectionBox,children:[f.jsx("div",{className:rt.connectionLabel,children:n("auth_login.iflow_cookie_result_title")}),f.jsxs("div",{className:rt.keyValueList,children:[a.result.email&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("auth_login.iflow_cookie_result_email")}),f.jsx("span",{className:rt.keyValueValue,children:a.result.email})]}),a.result.expired&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("auth_login.iflow_cookie_result_expired")}),f.jsx("span",{className:rt.keyValueValue,children:a.result.expired})]}),a.result.saved_path&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("auth_login.iflow_cookie_result_path")}),f.jsx("span",{className:rt.keyValueValue,children:a.result.saved_path})]}),a.result.type&&f.jsxs("div",{className:rt.keyValueItem,children:[f.jsx("span",{className:rt.keyValueKey,children:n("auth_login.iflow_cookie_result_type")}),f.jsx("span",{className:rt.keyValueValue,children:a.result.type})]})]})]})]})})]})]})}function Uce(){const{t:n}=Ze(),e=Kt(g=>g.connectionStatus),[t,i]=w.useState([]),[s,a]=w.useState(!0),[r,o]=w.useState(""),l=e!=="connected",u=w.useCallback(async()=>{try{await dm.fetchConfigYaml()}catch(g){const _=g instanceof Error?g.message:n("notification.refresh_failed");o(b=>b||_)}},[n]),h=w.useCallback(async()=>{a(!0),o("");try{const g=await At.list();i(g?.files||[])}catch(g){const _=g instanceof Error?g.message:n("notification.refresh_failed");o(_)}finally{a(!1)}},[n]),m=w.useCallback(async()=>{await Promise.all([u(),h()])},[u,h]);return ng(m),w.useEffect(()=>{h(),u()},[h,u]),f.jsxs("div",{className:vt.container,children:[f.jsxs("div",{className:vt.pageHeader,children:[f.jsx("h1",{className:vt.pageTitle,children:n("quota_management.title")}),f.jsx("p",{className:vt.description,children:n("quota_management.description")})]}),r&&f.jsx("div",{className:vt.errorBox,children:r}),f.jsx(Z_,{config:cse,files:t,loading:s,disabled:l}),f.jsx(Z_,{config:B6,files:t,loading:s,disabled:l}),f.jsx(Z_,{config:I6,files:t,loading:s,disabled:l}),f.jsx(Z_,{config:z6,files:t,loading:s,disabled:l})]})}function rg(n){return n+.5|0}const zl=(n,e,t)=>Math.max(Math.min(n,t),e);function gm(n){return zl(rg(n*2.55),0,255)}function $l(n){return zl(rg(n*255),0,255)}function Do(n){return zl(rg(n/2.55)/100,0,1)}function ER(n){return zl(rg(n*100),0,100)}const Ma={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mw=[..."0123456789ABCDEF"],Bce=n=>mw[n&15],Ice=n=>mw[(n&240)>>4]+mw[n&15],J_=n=>(n&240)>>4===(n&15),zce=n=>J_(n.r)&&J_(n.g)&&J_(n.b)&&J_(n.a);function qce(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ma[n[1]]*17,g:255&Ma[n[2]]*17,b:255&Ma[n[3]]*17,a:e===5?Ma[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ma[n[1]]<<4|Ma[n[2]],g:Ma[n[3]]<<4|Ma[n[4]],b:Ma[n[5]]<<4|Ma[n[6]],a:e===9?Ma[n[7]]<<4|Ma[n[8]]:255})),t}const Kce=(n,e)=>n<255?e(n):"";function Hce(n){var e=zce(n)?Bce:Ice;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Kce(n.a,e):void 0}const Vce=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function G6(n,e,t){const i=e*Math.min(t,1-t),s=(a,r=(a+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function Wce(n,e,t){const i=(s,a=(s+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Gce(n,e,t){const i=G6(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function Xce(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function KC(n){const t=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(t,i,s),r=Math.min(t,i,s),o=(a+r)/2;let l,u,h;return a!==r&&(h=a-r,u=o>.5?h/(2-a-r):h/(a+r),l=Xce(t,i,s,h,a),l=l*60+.5),[l|0,u||0,o]}function HC(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map($l)}function VC(n,e,t){return HC(G6,n,e,t)}function $ce(n,e,t){return HC(Gce,n,e,t)}function Qce(n,e,t){return HC(Wce,n,e,t)}function X6(n){return(n%360+360)%360}function Yce(n){const e=Vce.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?gm(+e[5]):$l(+e[5]));const s=X6(+e[2]),a=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=$ce(s,a,r):e[1]==="hsv"?i=Qce(s,a,r):i=VC(s,a,r),{r:i[0],g:i[1],b:i[2],a:t}}function Zce(n,e){var t=KC(n);t[0]=X6(t[0]+e),t=VC(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Jce(n){if(!n)return;const e=KC(n),t=e[0],i=ER(e[1]),s=ER(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Do(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const jR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},DR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eue(){const n={},e=Object.keys(DR),t=Object.keys(jR);let i,s,a,r,o;for(i=0;i<e.length;i++){for(r=o=e[i],s=0;s<t.length;s++)a=t[s],o=o.replace(a,jR[a]);a=parseInt(DR[r],16),n[o]=[a>>16&255,a>>8&255,a&255]}return n}let e0;function tue(n){e0||(e0=eue(),e0.transparent=[0,0,0,0]);const e=e0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nue=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iue(n){const e=nue.exec(n);let t=255,i,s,a;if(e){if(e[7]!==i){const r=+e[7];t=e[8]?gm(r):zl(r*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?gm(i):zl(i,0,255)),s=255&(e[4]?gm(s):zl(s,0,255)),a=255&(e[6]?gm(a):zl(a,0,255)),{r:i,g:s,b:a,a:t}}}function sue(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Do(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const N2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,bd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function aue(n,e,t){const i=bd(Do(n.r)),s=bd(Do(n.g)),a=bd(Do(n.b));return{r:$l(N2(i+t*(bd(Do(e.r))-i))),g:$l(N2(s+t*(bd(Do(e.g))-s))),b:$l(N2(a+t*(bd(Do(e.b))-a))),a:n.a+t*(e.a-n.a)}}function t0(n,e,t){if(n){let i=KC(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=VC(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function $6(n,e){return n&&Object.assign(e||{},n)}function FR(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=$l(n[3]))):(e=$6(n,{r:0,g:0,b:0,a:1}),e.a=$l(e.a)),e}function rue(n){return n.charAt(0)==="r"?iue(n):Yce(n)}class fp{constructor(e){if(e instanceof fp)return e;const t=typeof e;let i;t==="object"?i=FR(e):t==="string"&&(i=qce(e)||tue(e)||rue(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=$6(this._rgb);return e&&(e.a=Do(e.a)),e}set rgb(e){this._rgb=FR(e)}rgbString(){return this._valid?sue(this._rgb):void 0}hexString(){return this._valid?Hce(this._rgb):void 0}hslString(){return this._valid?Jce(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let a;const r=t===a?.5:t,o=2*r-1,l=i.a-s.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-u,i.r=255&u*i.r+a*s.r+.5,i.g=255&u*i.g+a*s.g+.5,i.b=255&u*i.b+a*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=aue(this._rgb,e._rgb,t)),this}clone(){return new fp(this.rgb)}alpha(e){return this._rgb.a=$l(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=rg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return t0(this._rgb,2,e),this}darken(e){return t0(this._rgb,2,-e),this}saturate(e){return t0(this._rgb,1,e),this}desaturate(e){return t0(this._rgb,1,-e),this}rotate(e){return Zce(this._rgb,e),this}}function Ao(){}const oue=(()=>{let n=0;return()=>n++})();function Ln(n){return n==null}function ki(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function nn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ss(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Sr(n,e){return ss(n)?n:e}function Yt(n,e){return typeof n>"u"?e:n}const lue=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Fn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function pn(n,e,t,i){let s,a,r;if(ki(n))for(a=n.length,s=0;s<a;s++)e.call(t,n[s],s);else if(nn(n))for(r=Object.keys(n),a=r.length,s=0;s<a;s++)e.call(t,n[r[s]],r[s])}function zy(n,e){let t,i,s,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],a=e[t],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function qy(n){if(ki(n))return n.map(qy);if(nn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=qy(n[t[s]]);return e}return n}function Q6(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function cue(n,e,t,i){if(!Q6(n))return;const s=e[n],a=t[n];nn(s)&&nn(a)?mp(s,a,i):e[n]=qy(a)}function mp(n,e,t){const i=ki(e)?e:[e],s=i.length;if(!nn(n))return n;t=t||{};const a=t.merger||cue;let r;for(let o=0;o<s;++o){if(r=i[o],!nn(r))continue;const l=Object.keys(r);for(let u=0,h=l.length;u<h;++u)a(l[u],n,r,t)}return n}function Dm(n,e){return mp(n,e,{merger:uue})}function uue(n,e,t){if(!Q6(n))return;const i=e[n],s=t[n];nn(i)&&nn(s)?Dm(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=qy(s))}const UR={"":n=>n,x:n=>n.x,y:n=>n.y};function due(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function hue(n){const e=due(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ky(n,e){return(UR[e]||(UR[e]=hue(e)))(n)}function WC(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Hy=n=>typeof n<"u",tc=n=>typeof n=="function",BR=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function fue(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Li=Math.PI,ur=2*Li,mue=ur+Li,Vy=Number.POSITIVE_INFINITY,pue=Li/180,lr=Li/2,Rc=Li/4,IR=Li*2/3,Y6=Math.log10,mh=Math.sign;function Fm(n,e,t){return Math.abs(n-e)<t}function zR(n){const e=Math.round(n);n=Fm(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Y6(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function gue(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,a)=>s-a).pop(),e}function _ue(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function pp(n){return!_ue(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function yue(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function bue(n,e,t){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Jc(n){return n*(Li/180)}function xue(n){return n*(180/Li)}function qR(n){if(!ss(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function vue(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*Li&&(a+=ur),{angle:a,distance:s}}function pw(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Sue(n,e){return(n-e+mue)%ur-Li}function Rr(n){return(n%ur+ur)%ur}function Z6(n,e,t,i){const s=Rr(n),a=Rr(e),r=Rr(t),o=Rr(a-s),l=Rr(r-s),u=Rr(s-a),h=Rr(s-r);return s===a||s===r||i&&a===r||o>l&&u<h}function ja(n,e,t){return Math.max(e,Math.min(t,n))}function wue(n){return ja(n,-32768,32767)}function Rd(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function GC(n,e,t){t=t||(r=>n[r]<e);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,t(a)?s=a:i=a;return{lo:s,hi:i}}const eu=(n,e,t,i)=>GC(n,t,i?s=>{const a=n[s][e];return a<t||a===t&&n[s+1][e]===t}:s=>n[s][e]<t),kue=(n,e,t)=>GC(n,t,i=>n[i][e]>=t);function Cue(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const J6=["push","pop","shift","splice","unshift"];function Aue(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),J6.forEach(t=>{const i="_onData"+WC(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const r=s.apply(this,a);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...a)}),r}})})}function KR(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(J6.forEach(a=>{delete n[a]}),delete n._chartjs)}function Tue(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const e8=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function t8(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,e8.call(window,()=>{i=!1,n.apply(e,t)}))}}function Nue(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const XC=n=>n==="start"?"left":n==="end"?"right":"center",Gi=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Mue=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Oue(n,e,t){const i=e.length;let s=0,a=i;if(n._sorted){const{iScale:r,vScale:o,_parsed:l}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=r.axis,{min:m,max:g,minDefined:_,maxDefined:b}=r.getUserBounds();if(_){if(s=Math.min(eu(l,h,m).lo,t?i:eu(e,h,r.getPixelForValue(m)).lo),u){const x=l.slice(0,s+1).reverse().findIndex(v=>!Ln(v[o.axis]));s-=Math.max(0,x)}s=ja(s,0,i-1)}if(b){let x=Math.max(eu(l,r.axis,g,!0).hi+1,t?0:eu(e,h,r.getPixelForValue(g),!0).hi+1);if(u){const v=l.slice(x-1).findIndex(C=>!Ln(C[o.axis]));x+=Math.max(0,v)}a=ja(x,s,i)-s}else a=i-s}return{start:s,count:a}}function Lue(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),a}const n0=n=>n===0||n===1,HR=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ur/t)),VR=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ur/t)+1,Um={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*lr)+1,easeOutSine:n=>Math.sin(n*lr),easeInOutSine:n=>-.5*(Math.cos(Li*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>n0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>n0(n)?n:HR(n,.075,.3),easeOutElastic:n=>n0(n)?n:VR(n,.075,.3),easeInOutElastic(n){return n0(n)?n:n<.5?.5*HR(n*2,.1125,.45):.5+.5*VR(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Um.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Um.easeInBounce(n*2)*.5:Um.easeOutBounce(n*2-1)*.5+.5};function $C(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function WR(n){return $C(n)?n:new fp(n)}function M2(n){return $C(n)?n:new fp(n).saturate(.5).darken(.1).hexString()}const Pue=["x","y","borderWidth","radius","tension"],Rue=["color","borderColor","backgroundColor"];function Eue(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Rue},numbers:{type:"number",properties:Pue}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function jue(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const GR=new Map;function Due(n,e){e=e||{};const t=n+JSON.stringify(e);let i=GR.get(t);return i||(i=new Intl.NumberFormat(n,e),GR.set(t,i)),i}function n8(n,e,t){return Due(e,t).format(n)}const Fue={values(n){return ki(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),a=Uue(n,t)}const r=Y6(Math.abs(a)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),n8(n,i,l)}};function Uue(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var i8={formatters:Fue};function Bue(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i8.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bu=Object.create(null),gw=Object.create(null);function Bm(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function O2(n,e,t){return typeof e=="string"?mp(Bm(n,e),t):mp(Bm(n,""),e)}class Iue{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>M2(s.backgroundColor),this.hoverBorderColor=(i,s)=>M2(s.borderColor),this.hoverColor=(i,s)=>M2(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return O2(this,e,t)}get(e){return Bm(this,e)}describe(e,t){return O2(gw,e,t)}override(e,t){return O2(bu,e,t)}route(e,t,i,s){const a=Bm(this,e),r=Bm(this,i),o="_"+t;Object.defineProperties(a,{[o]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],u=r[s];return nn(l)?Object.assign({},u,l):Yt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var li=new Iue({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Eue,jue,Bue]);function zue(n){return!n||Ln(n.size)||Ln(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function XR(n,e,t,i,s){let a=e[s];return a||(a=e[s]=n.measureText(s).width,t.push(s)),a>i&&(i=a),i}function Ec(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function $R(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function _w(n,e,t,i){s8(n,e,t,i,null)}function s8(n,e,t,i,s){let a,r,o,l,u,h,m,g;const _=e.pointStyle,b=e.rotation,x=e.radius;let v=(b||0)*pue;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(v),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),_){default:s?n.ellipse(t,i,s/2,x,0,0,ur):n.arc(t,i,x,0,ur),n.closePath();break;case"triangle":h=s?s/2:x,n.moveTo(t+Math.sin(v)*h,i-Math.cos(v)*x),v+=IR,n.lineTo(t+Math.sin(v)*h,i-Math.cos(v)*x),v+=IR,n.lineTo(t+Math.sin(v)*h,i-Math.cos(v)*x),n.closePath();break;case"rectRounded":u=x*.516,l=x-u,r=Math.cos(v+Rc)*l,m=Math.cos(v+Rc)*(s?s/2-u:l),o=Math.sin(v+Rc)*l,g=Math.sin(v+Rc)*(s?s/2-u:l),n.arc(t-m,i-o,u,v-Li,v-lr),n.arc(t+g,i-r,u,v-lr,v),n.arc(t+m,i+o,u,v,v+lr),n.arc(t-g,i+r,u,v+lr,v+Li),n.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*x,h=s?s/2:l,n.rect(t-h,i-l,2*h,2*l);break}v+=Rc;case"rectRot":m=Math.cos(v)*(s?s/2:x),r=Math.cos(v)*x,o=Math.sin(v)*x,g=Math.sin(v)*(s?s/2:x),n.moveTo(t-m,i-o),n.lineTo(t+g,i-r),n.lineTo(t+m,i+o),n.lineTo(t-g,i+r),n.closePath();break;case"crossRot":v+=Rc;case"cross":m=Math.cos(v)*(s?s/2:x),r=Math.cos(v)*x,o=Math.sin(v)*x,g=Math.sin(v)*(s?s/2:x),n.moveTo(t-m,i-o),n.lineTo(t+m,i+o),n.moveTo(t+g,i-r),n.lineTo(t-g,i+r);break;case"star":m=Math.cos(v)*(s?s/2:x),r=Math.cos(v)*x,o=Math.sin(v)*x,g=Math.sin(v)*(s?s/2:x),n.moveTo(t-m,i-o),n.lineTo(t+m,i+o),n.moveTo(t+g,i-r),n.lineTo(t-g,i+r),v+=Rc,m=Math.cos(v)*(s?s/2:x),r=Math.cos(v)*x,o=Math.sin(v)*x,g=Math.sin(v)*(s?s/2:x),n.moveTo(t-m,i-o),n.lineTo(t+m,i+o),n.moveTo(t+g,i-r),n.lineTo(t-g,i+r);break;case"line":r=s?s/2:Math.cos(v)*x,o=Math.sin(v)*x,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(v)*(s?s/2:x),i+Math.sin(v)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function gp(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Yb(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Zb(n){n.restore()}function que(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Kue(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Hue(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ln(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Vue(n,e,t,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),r=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,u=t+a.actualBoundingBoxDescent,h=s.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(r,h),n.lineTo(o,h),n.stroke()}}function Wue(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function _p(n,e,t,i,s,a={}){const r=ki(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(n.save(),n.font=s.string,Hue(n,a),l=0;l<r.length;++l)u=r[l],a.backdrop&&Wue(n,a.backdrop),o&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ln(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(u,t,i,a.maxWidth)),n.fillText(u,t,i,a.maxWidth),Vue(n,t,i,u,a),i+=Number(s.lineHeight);n.restore()}function yw(n,e){const{x:t,y:i,w:s,h:a,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,1.5*Li,Li,!0),n.lineTo(t,i+a-r.bottomLeft),n.arc(t+r.bottomLeft,i+a-r.bottomLeft,r.bottomLeft,Li,lr,!0),n.lineTo(t+s-r.bottomRight,i+a),n.arc(t+s-r.bottomRight,i+a-r.bottomRight,r.bottomRight,lr,0,!0),n.lineTo(t+s,i+r.topRight),n.arc(t+s-r.topRight,i+r.topRight,r.topRight,0,-lr,!0),n.lineTo(t+r.topLeft,i)}const Gue=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xue=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $ue(n,e){const t=(""+n).match(Gue);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Que=n=>+n||0;function a8(n,e){const t={},i=nn(e),s=i?Object.keys(e):e,a=nn(n)?i?r=>Yt(n[r],n[e[r]]):r=>n[r]:()=>n;for(const r of s)t[r]=Que(a(r));return t}function Yue(n){return a8(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Im(n){return a8(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ha(n){const e=Yue(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ji(n,e){n=n||{},e=e||li.font;let t=Yt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Yt(n.style,e.style);i&&!(""+i).match(Xue)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Yt(n.family,e.family),lineHeight:$ue(Yt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Yt(n.weight,e.weight),string:""};return s.string=zue(s),s}function i0(n,e,t,i){let s,a,r;for(s=0,a=n.length;s<a;++s)if(r=n[s],r!==void 0&&r!==void 0)return r}function Zue(n,e,t){const{min:i,max:s}=n,a=lue(e,(s-i)/2),r=(o,l)=>t&&o===0?0:o+l;return{min:r(i,-Math.abs(a)),max:r(s,a)}}function Pu(n,e){return Object.assign(Object.create(n),e)}function QC(n,e=[""],t,i,s=()=>n[0]){const a=t||n;typeof i>"u"&&(i=c8("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:o=>QC([o,...n],e,a,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return o8(o,l,()=>rde(l,e,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return YR(o).includes(l)},ownKeys(o){return YR(o)},set(o,l,u){const h=o._storage||(o._storage=s());return o[l]=h[l]=u,delete o._keys,!0}})}function ph(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:r8(n,i),setContext:a=>ph(n,a,t,i),override:a=>ph(n.override(a),e,t,i)};return new Proxy(s,{deleteProperty(a,r){return delete a[r],delete n[r],!0},get(a,r,o){return o8(a,r,()=>ede(a,r,o))},getOwnPropertyDescriptor(a,r){return a._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(a,r,o){return n[r]=o,delete a[r],!0}})}function r8(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:tc(t)?t:()=>t,isIndexable:tc(i)?i:()=>i}}const Jue=(n,e)=>n?n+WC(e):e,YC=(n,e)=>nn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function o8(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function ede(n,e,t){const{_proxy:i,_context:s,_subProxy:a,_descriptors:r}=n;let o=i[e];return tc(o)&&r.isScriptable(e)&&(o=tde(e,o,n,t)),ki(o)&&o.length&&(o=nde(e,o,n,r.isIndexable)),YC(e,o)&&(o=ph(o,s,a&&a[e],r)),o}function tde(n,e,t,i){const{_proxy:s,_context:a,_subProxy:r,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=e(a,r||i);return o.delete(n),YC(n,l)&&(l=ZC(s._scopes,s,n,l)),l}function nde(n,e,t,i){const{_proxy:s,_context:a,_subProxy:r,_descriptors:o}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(nn(e[0])){const l=e,u=s._scopes.filter(h=>h!==l);e=[];for(const h of l){const m=ZC(u,s,n,h);e.push(ph(m,a,r&&r[n],o))}}return e}function l8(n,e,t){return tc(n)?n(e,t):n}const ide=(n,e)=>n===!0?e:typeof n=="string"?Ky(e,n):void 0;function sde(n,e,t,i,s){for(const a of e){const r=ide(t,a);if(r){n.add(r);const o=l8(r._fallback,t,s);if(typeof o<"u"&&o!==t&&o!==i)return o}else if(r===!1&&typeof i<"u"&&t!==i)return null}return!1}function ZC(n,e,t,i){const s=e._rootScopes,a=l8(e._fallback,t,i),r=[...n,...s],o=new Set;o.add(i);let l=QR(o,r,t,a||t,i);return l===null||typeof a<"u"&&a!==t&&(l=QR(o,r,a,l,i),l===null)?!1:QC(Array.from(o),[""],s,a,()=>ade(e,t,i))}function QR(n,e,t,i,s){for(;t;)t=sde(n,e,t,i,s);return t}function ade(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return ki(s)&&nn(t)?t:s||{}}function rde(n,e,t,i){let s;for(const a of e)if(s=c8(Jue(a,n),t),typeof s<"u")return YC(n,s)?ZC(t,i,n,s):s}function c8(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function YR(n){let e=n._keys;return e||(e=n._keys=ode(n._scopes)),e}function ode(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const lde=Number.EPSILON||1e-14,gh=(n,e)=>e<n.length&&!n[e].skip&&n[e],u8=n=>n==="x"?"y":"x";function cde(n,e,t,i){const s=n.skip?e:n,a=e,r=t.skip?e:t,o=pw(a,s),l=pw(r,a);let u=o/(o+l),h=l/(o+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const m=i*u,g=i*h;return{previous:{x:a.x-m*(r.x-s.x),y:a.y-m*(r.y-s.y)},next:{x:a.x+g*(r.x-s.x),y:a.y+g*(r.y-s.y)}}}function ude(n,e,t){const i=n.length;let s,a,r,o,l,u=gh(n,0);for(let h=0;h<i-1;++h)if(l=u,u=gh(n,h+1),!(!l||!u)){if(Fm(e[h],0,lde)){t[h]=t[h+1]=0;continue}s=t[h]/e[h],a=t[h+1]/e[h],o=Math.pow(s,2)+Math.pow(a,2),!(o<=9)&&(r=3/Math.sqrt(o),t[h]=s*r*e[h],t[h+1]=a*r*e[h])}}function dde(n,e,t="x"){const i=u8(t),s=n.length;let a,r,o,l=gh(n,0);for(let u=0;u<s;++u){if(r=o,o=l,l=gh(n,u+1),!o)continue;const h=o[t],m=o[i];r&&(a=(h-r[t])/3,o[`cp1${t}`]=h-a,o[`cp1${i}`]=m-a*e[u]),l&&(a=(l[t]-h)/3,o[`cp2${t}`]=h+a,o[`cp2${i}`]=m+a*e[u])}}function hde(n,e="x"){const t=u8(e),i=n.length,s=Array(i).fill(0),a=Array(i);let r,o,l,u=gh(n,0);for(r=0;r<i;++r)if(o=l,l=u,u=gh(n,r+1),!!l){if(u){const h=u[e]-l[e];s[r]=h!==0?(u[t]-l[t])/h:0}a[r]=o?u?mh(s[r-1])!==mh(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}ude(n,s,a),dde(n,a,e)}function s0(n,e,t){return Math.max(Math.min(n,t),e)}function fde(n,e){let t,i,s,a,r,o=gp(n[0],e);for(t=0,i=n.length;t<i;++t)r=a,a=o,o=t<i-1&&gp(n[t+1],e),a&&(s=n[t],r&&(s.cp1x=s0(s.cp1x,e.left,e.right),s.cp1y=s0(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=s0(s.cp2x,e.left,e.right),s.cp2y=s0(s.cp2y,e.top,e.bottom)))}function mde(n,e,t,i,s){let a,r,o,l;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")hde(n,s);else{let u=i?n[n.length-1]:n[0];for(a=0,r=n.length;a<r;++a)o=n[a],l=cde(u,o,n[Math.min(a+1,r-(i?0:1))%r],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&fde(n,t)}function JC(){return typeof window<"u"&&typeof document<"u"}function eA(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wy(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Jb=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function pde(n,e){return Jb(n).getPropertyValue(e)}const gde=["top","right","bottom","left"];function hu(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const a=gde[s];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const _de=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function yde(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:a}=i;let r=!1,o,l;if(_de(s,a,n.target))o=s,l=a;else{const u=e.getBoundingClientRect();o=i.clientX-u.left,l=i.clientY-u.top,r=!0}return{x:o,y:l,box:r}}function Ic(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=Jb(t),a=s.boxSizing==="border-box",r=hu(s,"padding"),o=hu(s,"border","width"),{x:l,y:u,box:h}=yde(n,t),m=r.left+(h&&o.left),g=r.top+(h&&o.top);let{width:_,height:b}=e;return a&&(_-=r.width+o.width,b-=r.height+o.height),{x:Math.round((l-m)/_*t.width/i),y:Math.round((u-g)/b*t.height/i)}}function bde(n,e,t){let i,s;if(e===void 0||t===void 0){const a=n&&eA(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const r=a.getBoundingClientRect(),o=Jb(a),l=hu(o,"border","width"),u=hu(o,"padding");e=r.width-u.width-l.width,t=r.height-u.height-l.height,i=Wy(o.maxWidth,a,"clientWidth"),s=Wy(o.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||Vy,maxHeight:s||Vy}}const ql=n=>Math.round(n*10)/10;function xde(n,e,t,i){const s=Jb(n),a=hu(s,"margin"),r=Wy(s.maxWidth,n,"clientWidth")||Vy,o=Wy(s.maxHeight,n,"clientHeight")||Vy,l=bde(n,e,t);let{width:u,height:h}=l;if(s.boxSizing==="content-box"){const g=hu(s,"border","width"),_=hu(s,"padding");u-=_.width+g.width,h-=_.height+g.height}return u=Math.max(0,u-a.width),h=Math.max(0,i?u/i:h-a.height),u=ql(Math.min(u,r,l.maxWidth)),h=ql(Math.min(h,o,l.maxHeight)),u&&!h&&(h=ql(u/2)),(e!==void 0||t!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,u=ql(Math.floor(h*i))),{width:u,height:h}}function ZR(n,e,t){const i=e||1,s=ql(n.height*i),a=ql(n.width*i);n.height=ql(n.height),n.width=ql(n.width);const r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==s||r.width!==a?(n.currentDevicePixelRatio=i,r.height=s,r.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const vde=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};JC()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function JR(n,e){const t=pde(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zc(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Sde(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function wde(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},r=zc(n,s,t),o=zc(s,a,t),l=zc(a,e,t),u=zc(r,o,t),h=zc(o,l,t);return zc(u,h,t)}const kde=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Cde=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function $d(n,e,t){return n?kde(e,t):Cde()}function d8(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function h8(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function f8(n){return n==="angle"?{between:Z6,compare:Sue,normalize:Rr}:{between:Rd,compare:(e,t)=>e-t,normalize:e=>e}}function eE({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function Ade(n,e,t){const{property:i,start:s,end:a}=t,{between:r,normalize:o}=f8(i),l=e.length;let{start:u,end:h,loop:m}=n,g,_;if(m){for(u+=l,h+=l,g=0,_=l;g<_&&r(o(e[u%l][i]),s,a);++g)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:m,style:n.style}}function m8(n,e,t){if(!t)return[n];const{property:i,start:s,end:a}=t,r=e.length,{compare:o,between:l,normalize:u}=f8(i),{start:h,end:m,loop:g,style:_}=Ade(n,e,t),b=[];let x=!1,v=null,C,k,N;const O=()=>l(s,N,C)&&o(s,N)!==0,T=()=>o(a,C)===0||l(a,N,C),L=()=>x||O(),M=()=>!x||T();for(let P=h,R=h;P<=m;++P)k=e[P%r],!k.skip&&(C=u(k[i]),C!==N&&(x=l(C,s,a),v===null&&L()&&(v=o(C,s)===0?P:R),v!==null&&M()&&(b.push(eE({start:v,end:P,loop:g,count:r,style:_})),v=null),R=P,N=C));return v!==null&&b.push(eE({start:v,end:m,loop:g,count:r,style:_})),b}function p8(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const a=m8(i[s],n.points,e);a.length&&t.push(...a)}return t}function Tde(n,e,t,i){let s=0,a=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(a+=s);a>s&&n[a%e].skip;)a--;return a%=e,{start:s,end:a}}function Nde(n,e,t,i){const s=n.length,a=[];let r=e,o=n[e],l;for(l=e+1;l<=t;++l){const u=n[l%s];u.skip||u.stop?o.skip||(i=!1,a.push({start:e%s,end:(l-1)%s,loop:i}),e=r=u.stop?l:null):(r=l,o.skip&&(e=l)),o=u}return r!==null&&a.push({start:e%s,end:r%s,loop:i}),a}function Mde(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const a=!!n._loop,{start:r,end:o}=Tde(t,s,a,i);if(i===!0)return tE(n,[{start:r,end:o,loop:a}],t,e);const l=o<r?o+s:o,u=!!n._fullLoop&&r===0&&o===s-1;return tE(n,Nde(t,r,l,u),t,e)}function tE(n,e,t,i){return!i||!i.setContext||!t?e:Ode(n,e,t,i)}function Ode(n,e,t,i){const s=n._chart.getContext(),a=nE(n.options),{_datasetIndex:r,options:{spanGaps:o}}=n,l=t.length,u=[];let h=a,m=e[0].start,g=m;function _(b,x,v,C){const k=o?-1:1;if(b!==x){for(b+=l;t[b%l].skip;)b-=k;for(;t[x%l].skip;)x+=k;b%l!==x%l&&(u.push({start:b%l,end:x%l,loop:v,style:C}),h=C,m=x%l)}}for(const b of e){m=o?m:b.start;let x=t[m%l],v;for(g=m+1;g<=b.end;g++){const C=t[g%l];v=nE(i.setContext(Pu(s,{type:"segment",p0:x,p1:C,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:r}))),Lde(v,h)&&_(m,g-1,b.loop,h),x=C,h=v}m<g-1&&_(m,g-1,b.loop,h)}return u}function nE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Lde(n,e){if(!e)return!1;const t=[],i=function(s,a){return $C(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function a0(n,e,t){return n.options.clip?n[t]:e[t]}function Pde(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:a0(t,e,"left"),right:a0(t,e,"right"),top:a0(i,e,"top"),bottom:a0(i,e,"bottom")}:e}function g8(n,e){const t=e._clip;if(t.disabled)return!1;const i=Pde(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class Rde{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const a=t.listeners[s],r=t.duration;a.forEach(o=>o({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=e8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let r=a.length-1,o=!1,l;for(;r>=0;--r)l=a[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(a[r]=a[a.length-1],a.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Po=new Rde;const iE="transparent",Ede={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=WR(n||iE),s=i.valid&&WR(e||iE);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class jde{constructor(e,t,i,s){const a=t[i];s=i0([e.to,s,a,e.from]);const r=i0([e.from,a,s]);this._active=!0,this._fn=e.fn||Ede[e.type||typeof r],this._easing=Um[e.easing]||Um.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,r=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=i0([e.to,t,s,e.from]),this._from=i0([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,a=this._from,r=this._loop,o=this._to;let l;if(this._active=a!==o&&(r||t<i),!this._active){this._target[s]=o,this._notify(!0);return}if(t<0){this._target[s]=a;return}l=t/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(a,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class _8{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!nn(e))return;const t=Object.keys(li.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!nn(a))return;const r={};for(const o of t)r[o]=a[o];(ki(a.properties)&&a.properties||[s]).forEach(o=>{(o===s||!i.has(o))&&i.set(o,r)})})}_animateOptions(e,t){const i=t.options,s=Fde(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&Dde(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),o=Date.now();let l;for(l=r.length-1;l>=0;--l){const u=r[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,t));continue}const h=t[u];let m=a[u];const g=i.get(u);if(m)if(g&&m.active()){m.update(g,h,o);continue}else m.cancel();if(!g||!g.duration){e[u]=h;continue}a[u]=m=new jde(g,e,u,h),s.push(m)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Po.add(this._chart,i),!0}}function Dde(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Fde(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function sE(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function Ude(n,e,t){if(t===!1)return!1;const i=sE(n,t),s=sE(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Bde(n){let e,t,i,s;return nn(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function y8(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)t.push(i[s].index);return t}function aE(n,e,t,i={}){const s=n.keys,a=i.mode==="single";let r,o,l,u;if(e===null)return;let h=!1;for(r=0,o=s.length;r<o;++r){if(l=+s[r],l===t){if(h=!0,i.all)continue;break}u=n.values[l],ss(u)&&(a||e===0||mh(e)===mh(u))&&(e+=u)}return!h&&!i.all?0:e}function Ide(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",r=Object.keys(n),o=new Array(r.length);let l,u,h;for(l=0,u=r.length;l<u;++l)h=r[l],o[l]={[s]:h,[a]:n[h]};return o}function L2(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function zde(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function qde(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function Kde(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function rE(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(t&&a>0||!t&&a<0)return s.index}return null}function oE(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:a,vScale:r,index:o}=i,l=a.axis,u=r.axis,h=zde(a,r,i),m=e.length;let g;for(let _=0;_<m;++_){const b=e[_],{[l]:x,[u]:v}=b,C=b._stacks||(b._stacks={});g=C[u]=Kde(s,h,x),g[o]=v,g._top=rE(g,r,!0,i.type),g._bottom=rE(g,r,!1,i.type);const k=g._visualValues||(g._visualValues={});k[o]=v}}function P2(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Hde(n,e){return Pu(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Vde(n,e,t){return Pu(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Yf(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const R2=n=>n==="reset"||n==="none",lE=(n,e)=>e?n:Object.assign({},n),Wde=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:y8(t,!0),values:null};class zm{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=L2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(m,g,_,b)=>m==="x"?g:m==="r"?b:_,a=t.xAxisID=Yt(i.xAxisID,P2(e,"x")),r=t.yAxisID=Yt(i.yAxisID,P2(e,"y")),o=t.rAxisID=Yt(i.rAxisID,P2(e,"r")),l=t.indexAxis,u=t.iAxisID=s(l,a,r,o),h=t.vAxisID=s(l,r,a,o);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&KR(this._data,this),e._stacked&&Yf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(nn(t)){const s=this._cachedMeta;this._data=Ide(t,s)}else if(i!==t){if(i){KR(i,this);const s=this._cachedMeta;Yf(s),s._parsed=[]}t&&Object.isExtensible(t)&&Aue(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=L2(t.vScale,t),t.stack!==i.stack&&(s=!0,Yf(t),t.stack=i.stack),this._resyncElements(e),(s||a!==t._stacked)&&(oE(this,t._parsed),t._stacked=L2(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:r}=i,o=a.axis;let l=e===0&&t===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],h,m,g;if(this._parsing===!1)i._parsed=s,i._sorted=!0,g=s;else{ki(s[e])?g=this.parseArrayData(i,s,e,t):nn(s[e])?g=this.parseObjectData(i,s,e,t):g=this.parsePrimitiveData(i,s,e,t);const _=()=>m[o]===null||u&&m[o]<u[o];for(h=0;h<t;++h)i._parsed[h+e]=m=g[h],l&&(_()&&(l=!1),u=m);i._sorted=l}r&&oE(this,g)}parsePrimitiveData(e,t,i,s){const{iScale:a,vScale:r}=e,o=a.axis,l=r.axis,u=a.getLabels(),h=a===r,m=new Array(s);let g,_,b;for(g=0,_=s;g<_;++g)b=g+i,m[g]={[o]:h||a.parse(u[b],b),[l]:r.parse(t[b],b)};return m}parseArrayData(e,t,i,s){const{xScale:a,yScale:r}=e,o=new Array(s);let l,u,h,m;for(l=0,u=s;l<u;++l)h=l+i,m=t[h],o[l]={x:a.parse(m[0],h),y:r.parse(m[1],h)};return o}parseObjectData(e,t,i,s){const{xScale:a,yScale:r}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let h,m,g,_;for(h=0,m=s;h<m;++h)g=h+i,_=t[g],u[h]={x:a.parse(Ky(_,o),g),y:r.parse(Ky(_,l),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,a=this._cachedMeta,r=t[e.axis],o={keys:y8(s,!0),values:t._stacks[e.axis]._visualValues};return aE(o,r,a.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const a=i[t.axis];let r=a===null?NaN:a;const o=s&&i._stacks[t.axis];s&&o&&(s.values=o,r=aE(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,r=s.length,o=this._getOtherScale(e),l=Wde(t,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=qde(o);let g,_;function b(){_=s[g];const x=_[o.axis];return!ss(_[e.axis])||h>x||m<x}for(g=0;g<r&&!(!b()&&(this.updateRangeFromParsed(u,e,_,l),a));++g);if(a){for(g=r-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(u,e,_,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,a,r;for(s=0,a=t.length;s<a;++s)r=t[s][e.axis],ss(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Bde(Yt(this.options.clip,Ude(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],a=t.chartArea,r=[],o=this._drawStart||0,l=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,a,o,l),h=o;h<o+l;++h){const m=s[h];m.hidden||(m.active&&u?r.push(m):m.draw(e,a))}for(h=0;h<r.length;++h)r[h].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];a=r.$context||(r.$context=Vde(this.getContext(),e,r)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=Hde(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",a=this._cachedDataOpts,r=e+"-"+t,o=a[r],l=this.enableOptionSharing&&Hy(i);if(o)return lE(o,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),h),_=Object.keys(li.elements[e]),b=()=>this.getContext(i,s,t),x=u.resolveNamedOptions(g,_,b,m);return x.$shared&&(x.$shared=l,a[r]=Object.freeze(lE(x,l))),x}_resolveAnimations(e,t,i){const s=this.chart,a=this._cachedDataOpts,r=`animation-${t}`,o=a[r];if(o)return o;let l;if(s.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,t),g=h.getOptionScopes(this.getDataset(),m);l=h.createResolver(g,this.getContext(e,i,t))}const u=new _8(s,l&&l.animations);return l&&l._cacheable&&(a[r]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||R2(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(i),r=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:r}}updateElement(e,t,i,s){R2(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!R2(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const s=i.length,a=t.length,r=Math.min(a,s);r&&this.parse(0,r),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,i=!0){const s=this._cachedMeta,a=s.data,r=e+t;let o;const l=u=>{for(u.length+=t,o=u.length-1;o>=r;o--)u[o]=u[o-t]};for(l(a),o=e;o<r;++o)a[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Yf(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ct(zm,"defaults",{}),Ct(zm,"datasetElementType",null),Ct(zm,"dataElementType",null);class ay extends zm{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=t,r=this.chart._animationsDisabled;let{start:o,count:l}=Oue(t,s,r);this._drawStart=o,this._drawCount=l,Lue(t)&&(o=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:u},e),this.updateElements(s,o,l,e)}updateElements(e,t,i,s){const a=s==="reset",{iScale:r,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(t,s),g=r.axis,_=o.axis,{spanGaps:b,segment:x}=this.options,v=pp(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",k=t+i,N=e.length;let O=t>0&&this.getParsed(t-1);for(let T=0;T<N;++T){const L=e[T],M=C?L:{};if(T<t||T>=k){M.skip=!0;continue}const P=this.getParsed(T),R=Ln(P[_]),D=M[g]=r.getPixelForValue(P[g],T),U=M[_]=a||R?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[_],T);M.skip=isNaN(D)||isNaN(U)||R,M.stop=T>0&&Math.abs(P[g]-O[g])>v,x&&(M.parsed=P,M.raw=u.data[T]),m&&(M.options=h||this.resolveDataElementOptions(T,L.active?"active":s)),C||this.updateElement(L,T,M,s),O=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ct(ay,"id","line"),Ct(ay,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ct(ay,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function jc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tA{constructor(e){Ct(this,"options");this.options=e||{}}static override(e){Object.assign(tA.prototype,e)}init(){}formats(){return jc()}parse(){return jc()}format(){return jc()}add(){return jc()}diff(){return jc()}startOf(){return jc()}endOf(){return jc()}}var Gde={_date:tA};function Xde(n,e,t,i){const{controller:s,data:a,_sorted:r}=n,o=s._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&r&&a.length){const u=o._reversePixels?kue:eu;if(i){if(s._sharedOptions){const h=a[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const g=u(a,e,t-m),_=u(a,e,t+m);return{lo:g.lo,hi:_.hi}}}}else{const h=u(a,e,t);if(l){const{vScale:m}=s._cachedMeta,{_parsed:g}=n,_=g.slice(0,h.lo+1).reverse().findIndex(x=>!Ln(x[m.axis]));h.lo-=Math.max(0,_);const b=g.slice(h.hi).findIndex(x=>!Ln(x[m.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:a.length-1}}function ex(n,e,t,i,s){const a=n.getSortedVisibleDatasetMetas(),r=t[e];for(let o=0,l=a.length;o<l;++o){const{index:u,data:h}=a[o],{lo:m,hi:g}=Xde(a[o],e,r,s);for(let _=m;_<=g;++_){const b=h[_];b.skip||i(b,u,_)}}}function $de(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,r=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function E2(n,e,t,i,s){const a=[];return!s&&!n.isPointInArea(e)||ex(n,t,e,function(o,l,u){!s&&!gp(o,n.chartArea,0)||o.inRange(e.x,e.y,i)&&a.push({element:o,datasetIndex:l,index:u})},!0),a}function Qde(n,e,t,i){let s=[];function a(r,o,l){const{startAngle:u,endAngle:h}=r.getProps(["startAngle","endAngle"],i),{angle:m}=vue(r,{x:e.x,y:e.y});Z6(m,u,h)&&s.push({element:r,datasetIndex:o,index:l})}return ex(n,t,e,a),s}function Yde(n,e,t,i,s,a){let r=[];const o=$de(t);let l=Number.POSITIVE_INFINITY;function u(h,m,g){const _=h.inRange(e.x,e.y,s);if(i&&!_)return;const b=h.getCenterPoint(s);if(!(!!a||n.isPointInArea(b))&&!_)return;const v=o(e,b);v<l?(r=[{element:h,datasetIndex:m,index:g}],l=v):v===l&&r.push({element:h,datasetIndex:m,index:g})}return ex(n,t,e,u),r}function j2(n,e,t,i,s,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?Qde(n,e,t,s):Yde(n,e,t,i,s,a)}function cE(n,e,t,i,s){const a=[],r=t==="x"?"inXRange":"inYRange";let o=!1;return ex(n,t,e,(l,u,h)=>{l[r]&&l[r](e[t],s)&&(a.push({element:l,datasetIndex:u,index:h}),o=o||l.inRange(e.x,e.y,s))}),i&&!o?[]:a}var Zde={modes:{index(n,e,t,i){const s=Ic(e,n),a=t.axis||"x",r=t.includeInvisible||!1,o=t.intersect?E2(n,s,a,i,r):j2(n,s,a,!1,i,r),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const h=o[0].index,m=u.data[h];m&&!m.skip&&l.push({element:m,datasetIndex:u.index,index:h})}),l):[]},dataset(n,e,t,i){const s=Ic(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;let o=t.intersect?E2(n,s,a,i,r):j2(n,s,a,!1,i,r);if(o.length>0){const l=o[0].datasetIndex,u=n.getDatasetMeta(l).data;o=[];for(let h=0;h<u.length;++h)o.push({element:u[h],datasetIndex:l,index:h})}return o},point(n,e,t,i){const s=Ic(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;return E2(n,s,a,i,r)},nearest(n,e,t,i){const s=Ic(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;return j2(n,s,a,t.intersect,i,r)},x(n,e,t,i){const s=Ic(e,n);return cE(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=Ic(e,n);return cE(n,s,"y",t.intersect,i)}}};const b8=["left","top","right","bottom"];function Zf(n,e){return n.filter(t=>t.pos===e)}function uE(n,e){return n.filter(t=>b8.indexOf(t.pos)===-1&&t.box.axis===e)}function Jf(n,e){return n.sort((t,i)=>{const s=e?i:t,a=e?t:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Jde(n){const e=[];let t,i,s,a,r,o;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:a,options:{stack:r,stackWeight:o=1}}=s,e.push({index:t,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&a+r,stackWeight:o});return e}function ehe(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:a}=t;if(!i||!b8.includes(s))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return e}function the(n,e){const t=ehe(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,r,o;for(a=0,r=n.length;a<r;++a){o=n[a];const{fullSize:l}=o.box,u=t[o.stack],h=u&&o.stackWeight/u.weight;o.horizontal?(o.width=h?h*i:l&&e.availableWidth,o.height=s):(o.width=i,o.height=h?h*s:l&&e.availableHeight)}return t}function nhe(n){const e=Jde(n),t=Jf(e.filter(u=>u.box.fullSize),!0),i=Jf(Zf(e,"left"),!0),s=Jf(Zf(e,"right")),a=Jf(Zf(e,"top"),!0),r=Jf(Zf(e,"bottom")),o=uE(e,"x"),l=uE(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:s.concat(l).concat(r).concat(o),chartArea:Zf(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:a.concat(r).concat(o)}}function dE(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function x8(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function ihe(n,e,t,i){const{pos:s,box:a}=t,r=n.maxPadding;if(!nn(s)){t.size&&(n[s]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?a.height:a.width),t.size=m.size/m.count,n[s]+=t.size}a.getPadding&&x8(r,a.getPadding());const o=Math.max(0,e.outerWidth-dE(r,n,"left","right")),l=Math.max(0,e.outerHeight-dE(r,n,"top","bottom")),u=o!==n.w,h=l!==n.h;return n.w=o,n.h=l,t.horizontal?{same:u,other:h}:{same:h,other:u}}function she(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function ahe(n,e){const t=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{a[r]=Math.max(e[r],t[r])}),a}return i(n?["left","right"]:["top","bottom"])}function _m(n,e,t,i){const s=[];let a,r,o,l,u,h;for(a=0,r=n.length,u=0;a<r;++a){o=n[a],l=o.box,l.update(o.width||e.w,o.height||e.h,ahe(o.horizontal,e));const{same:m,other:g}=ihe(e,t,o,i);u|=m&&s.length,h=h||g,l.fullSize||s.push(o)}return u&&_m(s,e,t,i)||h}function r0(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function hE(n,e,t,i){const s=t.padding;let{x:a,y:r}=e;for(const o of n){const l=o.box,u=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/u.weight||1;if(o.horizontal){const m=e.w*h,g=u.size||l.height;Hy(u.start)&&(r=u.start),l.fullSize?r0(l,s.left,r,t.outerWidth-s.right-s.left,g):r0(l,e.left+u.placed,r,m,g),u.start=r,u.placed+=m,r=l.bottom}else{const m=e.h*h,g=u.size||l.width;Hy(u.start)&&(a=u.start),l.fullSize?r0(l,a,s.top,g,t.outerHeight-s.bottom-s.top):r0(l,a,e.top+u.placed,g,m),u.start=a,u.placed+=m,a=l.right}}e.x=a,e.y=r}var Da={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Ha(n.options.layout.padding),a=Math.max(e-s.width,0),r=Math.max(t-s.height,0),o=nhe(n.boxes),l=o.vertical,u=o.horizontal;pn(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const h=l.reduce((x,v)=>v.box.options&&v.box.options.display===!1?x:x+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/h,hBoxMaxHeight:r/2}),g=Object.assign({},s);x8(g,Ha(i));const _=Object.assign({maxPadding:g,w:a,h:r,x:s.left,y:s.top},s),b=the(l.concat(u),m);_m(o.fullSize,_,m,b),_m(l,_,m,b),_m(u,_,m,b)&&_m(l,_,m,b),she(_),hE(o.leftAndTop,_,m,b),_.x+=_.w,_.y+=_.h,hE(o.rightAndBottom,_,m,b),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},pn(o.chartArea,x=>{const v=x.box;Object.assign(v,n.chartArea),v.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class v8{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class rhe extends v8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ry="$chartjs",ohe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fE=n=>n===null||n==="";function lhe(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[ry]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",fE(s)){const a=JR(n,"width");a!==void 0&&(n.width=a)}if(fE(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=JR(n,"height");a!==void 0&&(n.height=a)}return n}const S8=vde?{passive:!0}:!1;function che(n,e,t){n&&n.addEventListener(e,t,S8)}function uhe(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,S8)}function dhe(n,e){const t=ohe[n.type]||n.type,{x:i,y:s}=Ic(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Gy(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function hhe(n,e,t){const i=n.canvas,s=new MutationObserver(a=>{let r=!1;for(const o of a)r=r||Gy(o.addedNodes,i),r=r&&!Gy(o.removedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function fhe(n,e,t){const i=n.canvas,s=new MutationObserver(a=>{let r=!1;for(const o of a)r=r||Gy(o.removedNodes,i),r=r&&!Gy(o.addedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const yp=new Map;let mE=0;function w8(){const n=window.devicePixelRatio;n!==mE&&(mE=n,yp.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function mhe(n,e){yp.size||window.addEventListener("resize",w8),yp.set(n,e)}function phe(n){yp.delete(n),yp.size||window.removeEventListener("resize",w8)}function ghe(n,e,t){const i=n.canvas,s=i&&eA(i);if(!s)return;const a=t8((o,l)=>{const u=s.clientWidth;t(o,l),u<s.clientWidth&&t()},window),r=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||a(u,h)});return r.observe(s),mhe(n,a),r}function D2(n,e,t){t&&t.disconnect(),e==="resize"&&phe(n)}function _he(n,e,t){const i=n.canvas,s=t8(a=>{n.ctx!==null&&t(dhe(a,n))},n);return che(i,e,s),s}class yhe extends v8{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(lhe(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[ry])return!1;const i=t[ry].initial;["height","width"].forEach(a=>{const r=i[a];Ln(r)?t.removeAttribute(a):t.setAttribute(a,r)});const s=i.style||{};return Object.keys(s).forEach(a=>{t.style[a]=s[a]}),t.width=t.width,delete t[ry],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),r={attach:hhe,detach:fhe,resize:ghe}[t]||_he;s[t]=r(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:D2,detach:D2,resize:D2}[t]||uhe)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return xde(e,t,i,s)}isAttached(e){const t=e&&eA(e);return!!(t&&t.isConnected)}}function bhe(n){return!JC()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?rhe:yhe}class Zo{constructor(){Ct(this,"x");Ct(this,"y");Ct(this,"active",!1);Ct(this,"options");Ct(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return pp(this.x)&&pp(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}Ct(Zo,"defaults",{}),Ct(Zo,"defaultRoutes");function xhe(n,e){const t=n.options.ticks,i=vhe(n),s=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?whe(e):[],r=a.length,o=a[0],l=a[r-1],u=[];if(r>s)return khe(e,u,a,r/s),u;const h=She(a,e,s);if(r>0){let m,g;const _=r>1?Math.round((l-o)/(r-1)):null;for(o0(e,u,h,Ln(_)?0:o-_,o),m=0,g=r-1;m<g;m++)o0(e,u,h,a[m],a[m+1]);return o0(e,u,h,l,Ln(_)?e.length:l+_),u}return o0(e,u,h),u}function vhe(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function She(n,e,t){const i=Che(n),s=e.length/t;if(!i)return Math.max(s,1);const a=gue(i);for(let r=0,o=a.length-1;r<o;r++){const l=a[r];if(l>s)return l}return Math.max(s,1)}function whe(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function khe(n,e,t,i){let s=0,a=t[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===a&&(e.push(n[r]),s++,a=t[s*i])}function o0(n,e,t,i,s){const a=Yt(i,0),r=Math.min(Yt(s,n.length),n.length);let o=0,l,u,h;for(t=Math.ceil(t),s&&(l=s-i,t=l/Math.floor(l/t)),h=a;h<0;)o++,h=Math.round(a+o*t);for(u=Math.max(a,0);u<r;u++)u===h&&(e.push(n[u]),o++,h=Math.round(a+o*t))}function Che(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Ahe=n=>n==="left"?"right":n==="right"?"left":n,pE=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,gE=(n,e)=>Math.min(e||n,n);function _E(n,e){const t=[],i=n.length/e,s=n.length;let a=0;for(;a<s;a+=i)t.push(n[Math.floor(a)]);return t}function The(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),a=n._startPixel,r=n._endPixel,o=1e-6;let l=n.getPixelForTick(s),u;if(!(t&&(i===1?u=Math.max(l-a,r-l):e===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<a-o||l>r+o)))return l}function Nhe(n,e){pn(n,t=>{const i=t.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[i[a]];i.splice(0,s)}})}function em(n){return n.drawTicks?n.tickLength:0}function yE(n,e){if(!n.display)return 0;const t=Ji(n.font,e),i=Ha(n.padding);return(ki(n.text)?n.text.length:1)*t.lineHeight+i.height}function Mhe(n,e){return Pu(n,{scale:e,type:"scale"})}function Ohe(n,e,t){return Pu(n,{tick:t,index:e,type:"tick"})}function Lhe(n,e,t){let i=XC(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Ahe(i)),i}function Phe(n,e,t,i){const{top:s,left:a,bottom:r,right:o,chart:l}=n,{chartArea:u,scales:h}=l;let m=0,g,_,b;const x=r-s,v=o-a;if(n.isHorizontal()){if(_=Gi(i,a,o),nn(t)){const C=Object.keys(t)[0],k=t[C];b=h[C].getPixelForValue(k)+x-e}else t==="center"?b=(u.bottom+u.top)/2+x-e:b=pE(n,t,e);g=o-a}else{if(nn(t)){const C=Object.keys(t)[0],k=t[C];_=h[C].getPixelForValue(k)-v+e}else t==="center"?_=(u.left+u.right)/2-v+e:_=pE(n,t,e);b=Gi(i,r,s),m=t==="left"?-lr:lr}return{titleX:_,titleY:b,maxWidth:g,rotation:m}}class Dh extends Zo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Sr(e,Number.POSITIVE_INFINITY),t=Sr(t,Number.NEGATIVE_INFINITY),i=Sr(i,Number.POSITIVE_INFINITY),s=Sr(s,Number.NEGATIVE_INFINITY),{min:Sr(e,i),max:Sr(t,s),minDefined:ss(e),maxDefined:ss(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),r;if(s&&a)return{min:t,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)r=o[l].controller.getMinMax(this,e),s||(t=Math.min(t,r.min)),a||(i=Math.max(i,r.max));return t=a&&t>i?i:t,i=s&&t>i?t:i,{min:Sr(t,Sr(i,t)),max:Sr(i,Sr(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fn(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:a,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zue(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?_E(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=xhe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fn(this.options.afterUpdate,[this])}beforeSetDimensions(){Fn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Fn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=Fn(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Fn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=gE(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let r=s,o,l,u;if(!this._isVisible()||!t.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),m=h.widest.width,g=h.highest.height,_=ja(this.chart.width-m,0,this.maxWidth);o=e.offset?this.maxWidth/i:_/(i-1),m+6>o&&(o=_/(i-(e.offset?.5:1)),l=this.maxHeight-em(e.grid)-t.padding-yE(e.title,this.chart.options.font),u=Math.sqrt(m*m+g*g),r=xue(Math.min(Math.asin(ja((h.highest.height+6)/o,-1,1)),Math.asin(ja(l/u,-1,1))-Math.asin(ja(g/u,-1,1)))),r=Math.max(s,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){Fn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:a}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const l=yE(s,t.options.font);if(o?(e.width=this.maxWidth,e.height=em(a)+l):(e.height=this.maxHeight,e.width=em(a)+l),i.display&&this.ticks.length){const{first:u,last:h,widest:m,highest:g}=this._getLabelSizes(),_=i.padding*2,b=Jc(this.labelRotation),x=Math.cos(b),v=Math.sin(b);if(o){const C=i.mirror?0:v*m.width+x*g.height;e.height=Math.min(this.maxHeight,e.height+C+_)}else{const C=i.mirror?0:x*m.width+v*g.height;e.width=Math.min(this.maxWidth,e.width+C+_)}this._calculatePadding(u,h,v,x)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:a,padding:r},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,_=0;l?u?(g=s*e.width,_=i*t.height):(g=i*e.height,_=s*t.width):a==="start"?_=t.width:a==="end"?g=e.width:a!=="inner"&&(g=e.width/2,_=t.width/2),this.paddingLeft=Math.max((g-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((_-m+r)*this.width/(this.width-m),0)}else{let h=t.height/2,m=e.height/2;a==="start"?(h=0,m=e.height):a==="end"&&(h=t.height,m=0),this.paddingTop=h+r,this.paddingBottom=m+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ln(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=_E(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:a}=this,r=[],o=[],l=Math.floor(t/gE(t,i));let u=0,h=0,m,g,_,b,x,v,C,k,N,O,T;for(m=0;m<t;m+=l){if(b=e[m].label,x=this._resolveTickFontOptions(m),s.font=v=x.string,C=a[v]=a[v]||{data:{},gc:[]},k=x.lineHeight,N=O=0,!Ln(b)&&!ki(b))N=XR(s,C.data,C.gc,N,b),O=k;else if(ki(b))for(g=0,_=b.length;g<_;++g)T=b[g],!Ln(T)&&!ki(T)&&(N=XR(s,C.data,C.gc,N,T),O+=k);r.push(N),o.push(O),u=Math.max(N,u),h=Math.max(O,h)}Nhe(a,t);const L=r.indexOf(u),M=o.indexOf(h),P=R=>({width:r[R]||0,height:o[R]||0});return{first:P(0),last:P(t-1),widest:P(L),highest:P(M),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return wue(this._alignToPixels?Ec(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=Ohe(this.getContext(),e,i))}return this.$context||(this.$context=Mhe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Jc(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,o=a?a.widest.width+r:0,l=a?a.highest.height+r:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:a,position:r,border:o}=s,l=a.offset,u=this.isHorizontal(),m=this.ticks.length+(l?1:0),g=em(a),_=[],b=o.setContext(this.getContext()),x=b.display?b.width:0,v=x/2,C=function(I){return Ec(i,I,x)};let k,N,O,T,L,M,P,R,D,U,F,H;if(r==="top")k=C(this.bottom),M=this.bottom-g,R=k-v,U=C(e.top)+v,H=e.bottom;else if(r==="bottom")k=C(this.top),U=e.top,H=C(e.bottom)-v,M=k+v,R=this.top+g;else if(r==="left")k=C(this.right),L=this.right-g,P=k-v,D=C(e.left)+v,F=e.right;else if(r==="right")k=C(this.left),D=e.left,F=C(e.right)-v,L=k+v,P=this.left+g;else if(t==="x"){if(r==="center")k=C((e.top+e.bottom)/2+.5);else if(nn(r)){const I=Object.keys(r)[0],K=r[I];k=C(this.chart.scales[I].getPixelForValue(K))}U=e.top,H=e.bottom,M=k+v,R=M+g}else if(t==="y"){if(r==="center")k=C((e.left+e.right)/2);else if(nn(r)){const I=Object.keys(r)[0],K=r[I];k=C(this.chart.scales[I].getPixelForValue(K))}L=k-v,P=L-g,D=e.left,F=e.right}const Z=Yt(s.ticks.maxTicksLimit,m),Y=Math.max(1,Math.ceil(m/Z));for(N=0;N<m;N+=Y){const I=this.getContext(N),K=a.setContext(I),V=o.setContext(I),$=K.lineWidth,W=K.color,j=V.dash||[],B=V.dashOffset,X=K.tickWidth,te=K.tickColor,Q=K.tickBorderDash||[],G=K.tickBorderDashOffset;O=The(this,N,l),O!==void 0&&(T=Ec(i,O,$),u?L=P=D=F=T:M=R=U=H=T,_.push({tx1:L,ty1:M,tx2:P,ty2:R,x1:D,y1:U,x2:F,y2:H,width:$,color:W,borderDash:j,borderDashOffset:B,tickWidth:X,tickColor:te,tickBorderDash:Q,tickBorderDashOffset:G}))}return this._ticksLength=m,this._borderValue=k,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:a}=i,r=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:h,mirror:m}=a,g=em(i.grid),_=g+h,b=m?-h:_,x=-Jc(this.labelRotation),v=[];let C,k,N,O,T,L,M,P,R,D,U,F,H="middle";if(s==="top")L=this.bottom-b,M=this._getXAxisLabelAlignment();else if(s==="bottom")L=this.top+b,M=this._getXAxisLabelAlignment();else if(s==="left"){const Y=this._getYAxisLabelAlignment(g);M=Y.textAlign,T=Y.x}else if(s==="right"){const Y=this._getYAxisLabelAlignment(g);M=Y.textAlign,T=Y.x}else if(t==="x"){if(s==="center")L=(e.top+e.bottom)/2+_;else if(nn(s)){const Y=Object.keys(s)[0],I=s[Y];L=this.chart.scales[Y].getPixelForValue(I)+_}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")T=(e.left+e.right)/2-_;else if(nn(s)){const Y=Object.keys(s)[0],I=s[Y];T=this.chart.scales[Y].getPixelForValue(I)}M=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const Z=this._getLabelSizes();for(C=0,k=o.length;C<k;++C){N=o[C],O=N.label;const Y=a.setContext(this.getContext(C));P=this.getPixelForTick(C)+a.labelOffset,R=this._resolveTickFontOptions(C),D=R.lineHeight,U=ki(O)?O.length:1;const I=U/2,K=Y.color,V=Y.textStrokeColor,$=Y.textStrokeWidth;let W=M;r?(T=P,M==="inner"&&(C===k-1?W=this.options.reverse?"left":"right":C===0?W=this.options.reverse?"right":"left":W="center"),s==="top"?u==="near"||x!==0?F=-U*D+D/2:u==="center"?F=-Z.highest.height/2-I*D+D:F=-Z.highest.height+D/2:u==="near"||x!==0?F=D/2:u==="center"?F=Z.highest.height/2-I*D:F=Z.highest.height-U*D,m&&(F*=-1),x!==0&&!Y.showLabelBackdrop&&(T+=D/2*Math.sin(x))):(L=P,F=(1-U)*D/2);let j;if(Y.showLabelBackdrop){const B=Ha(Y.backdropPadding),X=Z.heights[C],te=Z.widths[C];let Q=F-B.top,G=0-B.left;switch(H){case"middle":Q-=X/2;break;case"bottom":Q-=X;break}switch(M){case"center":G-=te/2;break;case"right":G-=te;break;case"inner":C===k-1?G-=te:C>0&&(G-=te/2);break}j={left:G,top:Q,width:te+B.width,height:X+B.height,color:Y.backdropColor}}v.push({label:O,font:R,textOffset:F,options:{rotation:x,color:K,strokeColor:V,strokeWidth:$,textAlign:W,textBaseline:H,translation:[T,L],backdrop:j}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Jc(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,r=this._getLabelSizes(),o=e+a,l=r.widest.width;let u,h;return t==="left"?s?(h=this.right+a,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-o,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h=this.left)):t==="right"?s?(h=this.left+a,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+o,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,a,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const o=(l,u,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(t.display)for(a=0,r=s.length;a<r;++a){const l=s[a];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),r=i.display?a.width:0;if(!r)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,m,g;this.isHorizontal()?(u=Ec(e,this.left,r)-r/2,h=Ec(e,this.right,o)+o/2,m=g=l):(m=Ec(e,this.top,r)-r/2,g=Ec(e,this.bottom,o)+o/2,u=h=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(u,m),t.lineTo(h,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Yb(i,s);const a=this.getLabelItems(e);for(const r of a){const o=r.options,l=r.font,u=r.label,h=r.textOffset;_p(i,u,0,h,l,o)}s&&Zb(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const a=Ji(i.font),r=Ha(i.padding),o=i.align;let l=a.lineHeight/2;t==="bottom"||t==="center"||nn(t)?(l+=r.bottom,ki(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=r.top;const{titleX:u,titleY:h,maxWidth:m,rotation:g}=Phe(this,l,t,o);_p(e,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:g,textAlign:Lhe(o,t,s),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Yt(e.grid&&e.grid.z,-1),s=Yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dh.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,r;for(a=0,r=t.length;a<r;++a){const o=t[a];o[i]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ji(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class l0{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;jhe(t)&&(i=this.register(t));const s=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Rhe(e,r,i),this.override&&li.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in li[s]&&(delete li[s][i],this.override&&delete bu[i])}}function Rhe(n,e,t){const i=mp(Object.create(null),[t?li.get(t):{},li.get(e),n.defaults]);li.set(e,i),n.defaultRoutes&&Ehe(e,n.defaultRoutes),n.descriptors&&li.describe(e,n.descriptors)}function Ehe(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),a=[n].concat(i).join("."),r=e[t].split("."),o=r.pop(),l=r.join(".");li.route(a,s,l,o)})}function jhe(n){return"id"in n&&"defaults"in n}class Dhe{constructor(){this.controllers=new l0(zm,"datasets",!0),this.elements=new l0(Zo,"elements"),this.plugins=new l0(Object,"plugins"),this.scales=new l0(Dh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):pn(s,r=>{const o=i||this._getRegistryForType(r);this._exec(e,o,r)})})}_exec(e,t,i){const s=WC(e);Fn(i["before"+s],[],i),t[e](i),Fn(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Lr=new Dhe;class Fhe{constructor(){this._init=void 0}notify(e,t,i,s){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,t,i,s){s=s||{};for(const a of e){const r=a.plugin,o=r[i],l=[t,s,a.options];if(Fn(o,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){Ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=Yt(i.options&&i.options.plugins,{}),a=Uhe(i);return s===!1&&!t?[]:Ihe(e,a,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(a,r)=>a.filter(o=>!r.some(l=>o.plugin.id===l.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function Uhe(n){const e={},t=[],i=Object.keys(Lr.plugins.items);for(let a=0;a<i.length;a++)t.push(Lr.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const r=s[a];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function Bhe(n,e){return!e&&n===!1?null:n===!0?{}:n}function Ihe(n,{plugins:e,localIds:t},i,s){const a=[],r=n.getContext();for(const o of e){const l=o.id,u=Bhe(i[l],s);u!==null&&a.push({plugin:o,options:zhe(n.config,{plugin:o,local:t[l]},u,r)})}return a}function zhe(n,{plugin:e,local:t},i,s){const a=n.pluginScopeKeys(e),r=n.getOptionScopes(i,a);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bw(n,e){const t=li.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function qhe(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Khe(n,e){return n===e?"_index_":"_value_"}function bE(n){if(n==="x"||n==="y"||n==="r")return n}function Hhe(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function xw(n,...e){if(bE(n))return n;for(const t of e){const i=t.axis||Hhe(t.position)||n.length>1&&bE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function xE(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Vhe(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return xE(n,"x",t[0])||xE(n,"y",t[0])}return{}}function Whe(n,e){const t=bu[n.type]||{scales:{}},i=e.scales||{},s=bw(n.type,e),a=Object.create(null);return Object.keys(i).forEach(r=>{const o=i[r];if(!nn(o))return console.error(`Invalid scale configuration for scale: ${r}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=xw(r,o,Vhe(r,n),li.scales[o.type]),u=Khe(l,s),h=t.scales||{};a[r]=Dm(Object.create(null),[{axis:l},o,h[l],h[u]])}),n.data.datasets.forEach(r=>{const o=r.type||n.type,l=r.indexAxis||bw(o,e),h=(bu[o]||{}).scales||{};Object.keys(h).forEach(m=>{const g=qhe(m,l),_=r[g+"AxisID"]||g;a[_]=a[_]||Object.create(null),Dm(a[_],[{axis:g},i[_],h[m]])})}),Object.keys(a).forEach(r=>{const o=a[r];Dm(o,[li.scales[o.type],li.scale])}),a}function k8(n){const e=n.options||(n.options={});e.plugins=Yt(e.plugins,{}),e.scales=Whe(n,e)}function C8(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Ghe(n){return n=n||{},n.data=C8(n.data),k8(n),n}const vE=new Map,A8=new Set;function c0(n,e){let t=vE.get(n);return t||(t=e(),vE.set(n,t),A8.add(t)),t}const tm=(n,e,t)=>{const i=Ky(e,t);i!==void 0&&n.add(i)};class Xhe{constructor(e){this._config=Ghe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=C8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),k8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return c0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return c0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return c0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return c0(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:a}=this,r=this._cachedScopes(e,i),o=r.get(t);if(o)return o;const l=new Set;t.forEach(h=>{e&&(l.add(e),h.forEach(m=>tm(l,e,m))),h.forEach(m=>tm(l,s,m)),h.forEach(m=>tm(l,bu[a]||{},m)),h.forEach(m=>tm(l,li,m)),h.forEach(m=>tm(l,gw,m))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),A8.has(t)&&r.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,bu[t]||{},li.datasets[t]||{},{type:t},li,gw]}resolveNamedOptions(e,t,i,s=[""]){const a={$shared:!0},{resolver:r,subPrefixes:o}=SE(this._resolverCache,e,s);let l=r;if(Qhe(r,t)){a.$shared=!1,i=tc(i)?i():i;const u=this.createResolver(e,i,o);l=ph(r,i,u)}for(const u of t)a[u]=l[u];return a}createResolver(e,t,i=[""],s){const{resolver:a}=SE(this._resolverCache,e,i);return nn(t)?ph(a,t,void 0,s):a}}function SE(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let a=i.get(s);return a||(a={resolver:QC(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,a)),a}const $he=n=>nn(n)&&Object.getOwnPropertyNames(n).some(e=>tc(n[e]));function Qhe(n,e){const{isScriptable:t,isIndexable:i}=r8(n);for(const s of e){const a=t(s),r=i(s),o=(r||a)&&n[s];if(a&&(tc(o)||$he(o))||r&&ki(o))return!0}return!1}var Yhe="4.5.1";const Zhe=["top","bottom","left","right","chartArea"];function wE(n,e){return n==="top"||n==="bottom"||Zhe.indexOf(n)===-1&&e==="x"}function kE(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function CE(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Fn(t&&t.onComplete,[n],e)}function Jhe(n){const e=n.chart,t=e.options.animation;Fn(t&&t.onProgress,[n],e)}function T8(n){return JC()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const oy={},AE=n=>{const e=T8(n);return Object.values(oy).filter(t=>t.canvas===e).pop()};function efe(n,e,t){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=e){const r=n[s];delete n[s],(t>0||a>e)&&(n[a+t]=r)}}}function tfe(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Ol;let tx=(Ol=class{static register(...e){Lr.add(...e),TE()}static unregister(...e){Lr.remove(...e),TE()}constructor(e,t){const i=this.config=new Xhe(t),s=T8(e),a=AE(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bhe(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,r.aspectRatio),l=o&&o.canvas,u=l&&l.height,h=l&&l.width;if(this.id=oue(),this.ctx=o,this.canvas=l,this.width=h,this.height=u,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fhe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Nue(m=>this.update(m),r.resizeDelay||0),this._dataChanges=[],oy[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Po.listen(this,"complete",CE),Po.listen(this,"progress",Jhe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:a}=this;return Ln(e)?t&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Lr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ZR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $R(this.canvas,this.ctx),this}stop(){return Po.stop(this),this}resize(e,t){Po.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,t,a),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,ZR(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),Fn(i.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};pn(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((r,o)=>(r[o]=!1,r),{});let a=[];t&&(a=a.concat(Object.keys(t).map(r=>{const o=t[r],l=xw(r,o),u=l==="r",h=l==="x";return{options:o,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),pn(a,r=>{const o=r.options,l=o.id,u=xw(l,o),h=Yt(o.type,r.dtype);(o.position===void 0||wE(o.position,u)!==wE(r.dposition))&&(o.position=r.dposition),s[l]=!0;let m=null;if(l in i&&i[l].type===h)m=i[l];else{const g=Lr.getScale(h);m=new g({id:l,type:h,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(o,e)}),pn(s,(r,o)=>{r||delete i[o]}),pn(i,r=>{Da.configure(this,r,r.options),Da.addBox(this,r)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(kE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const a=t[i];let r=this.getDatasetMeta(i);const o=a.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=o,r.indexAxis=a.indexAxis||bw(o,this.options),r.order=a.order||0,r.index=i,r.label=""+a.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const l=Lr.getController(o),{datasetElementType:u,dataElementType:h}=li.datasets[o];Object.assign(l,{dataElementType:Lr.getElement(h),datasetElementType:u&&Lr.getElement(u)}),r.controller=new l(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){pn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:m}=this.getDatasetMeta(u),g=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(g),r=Math.max(+m.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||pn(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kE("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){pn(this.scales,e=>{Da.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!BR(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of t){const r=i==="_removeElements"?-a:a;efe(e,s,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(r=>r[0]===a).map((r,o)=>o+","+r.splice(1).join(","))),s=i(0);for(let a=1;a<t;a++)if(!BR(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Da.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],pn(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,tc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Po.has(this)?this.attached&&!Po.running(this)&&Po.start(this):(this.draw(),CE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,a;for(s=0,a=t.length;s<a;++s){const r=t[s];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=g8(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Yb(t,s),e.controller.draw(),s&&Zb(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return gp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const a=Zde.modes[t];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Pu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,s);Hy(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Po.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$R(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete oy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,r)=>{t.addEventListener(this,a,r),e[a]=r},s=(a,r,o)=>{a.offsetX=r,a.offsetY=o,this._eventHandler(a)};pn(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let r;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",a),i("detach",r)};r=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",o)},t.isAttached(this.canvas)?o():r()}unbindEvents(){pn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},pn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let a,r,o,l;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){r=e[o];const u=r&&this.getDatasetMeta(r.datasetIndex).controller;u&&u[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:r})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[r],index:r}});!zy(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,a=(l,u)=>l.filter(h=>!u.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),r=a(t,e),o=i?e:a(e,t);r.length&&this.updateHoverStyle(r,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:a}=this,r=t,o=this._getActiveElements(e,s,i,r),l=fue(e),u=tfe(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Fn(a.onHover,[e,o,this],this),l&&Fn(a.onClick,[e,o,this],this));const h=!zy(o,s);return(h||t)&&(this._active=o,this._updateHoverStyles(o,s,t)),this._lastEvent=u,h}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},Ct(Ol,"defaults",li),Ct(Ol,"instances",oy),Ct(Ol,"overrides",bu),Ct(Ol,"registry",Lr),Ct(Ol,"version",Yhe),Ct(Ol,"getChart",AE),Ol);function TE(){return pn(tx.instances,n=>n._plugins.invalidate())}function N8(n,e,t=e){n.lineCap=Yt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Yt(t.borderDash,e.borderDash)),n.lineDashOffset=Yt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Yt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Yt(t.borderWidth,e.borderWidth),n.strokeStyle=Yt(t.borderColor,e.borderColor)}function nfe(n,e,t){n.lineTo(t.x,t.y)}function ife(n){return n.stepped?que:n.tension||n.cubicInterpolationMode==="monotone"?Kue:nfe}function M8(n,e,t={}){const i=n.length,{start:s=0,end:a=i-1}=t,{start:r,end:o}=e,l=Math.max(s,r),u=Math.min(a,o),h=s<r&&a<r||s>o&&a>o;return{count:i,start:l,loop:e.loop,ilen:u<l&&!h?i+u-l:u-l}}function sfe(n,e,t,i){const{points:s,options:a}=e,{count:r,start:o,loop:l,ilen:u}=M8(s,t,i),h=ife(a);let{move:m=!0,reverse:g}=i||{},_,b,x;for(_=0;_<=u;++_)b=s[(o+(g?u-_:_))%r],!b.skip&&(m?(n.moveTo(b.x,b.y),m=!1):h(n,x,b,g,a.stepped),x=b);return l&&(b=s[(o+(g?u:0))%r],h(n,x,b,g,a.stepped)),!!l}function afe(n,e,t,i){const s=e.points,{count:a,start:r,ilen:o}=M8(s,t,i),{move:l=!0,reverse:u}=i||{};let h=0,m=0,g,_,b,x,v,C;const k=O=>(r+(u?o-O:O))%a,N=()=>{x!==v&&(n.lineTo(h,v),n.lineTo(h,x),n.lineTo(h,C))};for(l&&(_=s[k(0)],n.moveTo(_.x,_.y)),g=0;g<=o;++g){if(_=s[k(g)],_.skip)continue;const O=_.x,T=_.y,L=O|0;L===b?(T<x?x=T:T>v&&(v=T),h=(m*h+O)/++m):(N(),n.lineTo(O,T),b=L,m=0,x=v=T),C=T}N()}function vw(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?afe:sfe}function rfe(n){return n.stepped?Sde:n.tension||n.cubicInterpolationMode==="monotone"?wde:zc}function ofe(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),N8(n,e.options),n.stroke(s)}function lfe(n,e,t,i){const{segments:s,options:a}=e,r=vw(e);for(const o of s)N8(n,a,o.style),n.beginPath(),r(n,e,o,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const cfe=typeof Path2D=="function";function ufe(n,e,t,i){cfe&&!e.options.segment?ofe(n,e,t,i):lfe(n,e,t,i)}class Kl extends Zo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;mde(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Mde(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],a=this.points,r=p8(this,{property:t,start:s,end:s});if(!r.length)return;const o=[],l=rfe(i);let u,h;for(u=0,h=r.length;u<h;++u){const{start:m,end:g}=r[u],_=a[m],b=a[g];if(_===b){o.push(_);continue}const x=Math.abs((s-_[t])/(b[t]-_[t])),v=l(_,b,x,i.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,i){return vw(this)(e,this,t,i)}path(e,t,i){const s=this.segments,a=vw(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const o of s)r&=a(e,this,o,{start:t,end:t+i-1});return!!r}draw(e,t,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),ufe(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ct(Kl,"id","line"),Ct(Kl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ct(Kl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ct(Kl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function NE(n,e,t,i){const s=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<s.radius+s.hitRadius}class ly extends Zo{constructor(t){super();Ct(this,"parsed");Ct(this,"skip");Ct(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const a=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(i-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return NE(this,t,"x",i)}inYRange(t,i){return NE(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!gp(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,_w(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ct(ly,"id","point"),Ct(ly,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ct(ly,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function dfe(n,e,t){const i=n.segments,s=n.points,a=e.points,r=[];for(const o of i){let{start:l,end:u}=o;u=nx(l,u,s);const h=Sw(t,s[l],s[u],o.loop);if(!e.segments){r.push({source:o,target:h,start:s[l],end:s[u]});continue}const m=p8(e,h);for(const g of m){const _=Sw(t,a[g.start],a[g.end],g.loop),b=m8(o,s,_);for(const x of b)r.push({source:x,target:g,start:{[t]:ME(h,_,"start",Math.max)},end:{[t]:ME(h,_,"end",Math.min)}})}}return r}function Sw(n,e,t,i){if(i)return;let s=e[n],a=t[n];return n==="angle"&&(s=Rr(s),a=Rr(a)),{property:n,start:s,end:a}}function hfe(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,a=[];return e.segments.forEach(({start:r,end:o})=>{o=nx(r,o,s);const l=s[r],u=s[o];i!==null?(a.push({x:l.x,y:i}),a.push({x:u.x,y:i})):t!==null&&(a.push({x:t,y:l.y}),a.push({x:t,y:u.y}))}),a}function nx(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function ME(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function O8(n,e){let t=[],i=!1;return ki(n)?(i=!0,t=n):t=hfe(n,e),t.length?new Kl({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function OE(n){return n&&n.fill!==!1}function ffe(n,e,t){let s=n[e].fill;const a=[e];let r;if(!t)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!ss(s))return s;if(r=n[s],!r)return!1;if(r.visible)return s;a.push(s),s=r.fill}return!1}function mfe(n,e,t){const i=yfe(n);if(nn(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ss(s)&&Math.floor(s)===s?pfe(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function pfe(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function gfe(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:nn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function _fe(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:nn(n)?i=n.value:i=e.getBaseValue(),i}function yfe(n){const e=n.options,t=e.fill;let i=Yt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function bfe(n){const{scale:e,index:t,line:i}=n,s=[],a=i.segments,r=i.points,o=xfe(e,t);o.push(O8({x:null,y:e.bottom},i));for(let l=0;l<a.length;l++){const u=a[l];for(let h=u.start;h<=u.end;h++)vfe(s,r[h],o)}return new Kl({points:s,options:{}})}function xfe(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function vfe(n,e,t){const i=[];for(let s=0;s<t.length;s++){const a=t[s],{first:r,last:o,point:l}=Sfe(a,e,"x");if(!(!l||r&&o)){if(r)i.unshift(l);else if(n.push(l),!o)break}}n.push(...i)}function Sfe(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],a=n.segments,r=n.points;let o=!1,l=!1;for(let u=0;u<a.length;u++){const h=a[u],m=r[h.start][t],g=r[h.end][t];if(Rd(s,m,g)){o=s===m,l=s===g;break}}return{first:o,last:l,point:i}}class L8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:a,radius:r}=this;return t=t||{start:0,end:ur},e.arc(s,a,r,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,a=e.angle;return{x:t+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function wfe(n){const{chart:e,fill:t,line:i}=n;if(ss(t))return kfe(e,t);if(t==="stack")return bfe(n);if(t==="shape")return!0;const s=Cfe(n);return s instanceof L8?s:O8(s,i)}function kfe(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Cfe(n){return(n.scale||{}).getPointPositionForValue?Tfe(n):Afe(n)}function Afe(n){const{scale:e={},fill:t}=n,i=gfe(t,e);if(ss(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function Tfe(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,a=i.reverse?e.max:e.min,r=_fe(t,e,a),o=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,a);return new L8({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)o.push(e.getPointPositionForValue(l,r));return o}function F2(n,e,t){const i=wfe(e),{chart:s,index:a,line:r,scale:o,axis:l}=e,u=r.options,h=u.fill,m=u.backgroundColor,{above:g=m,below:_=m}=h||{},b=s.getDatasetMeta(a),x=g8(s,b);i&&r.points.length&&(Yb(n,t),Nfe(n,{line:r,target:i,above:g,below:_,area:t,scale:o,axis:l,clip:x}),Zb(n))}function Nfe(n,e){const{line:t,target:i,above:s,below:a,area:r,scale:o,clip:l}=e,u=t._loop?"angle":e.axis;n.save();let h=a;a!==s&&(u==="x"?(LE(n,i,r.top),U2(n,{line:t,target:i,color:s,scale:o,property:u,clip:l}),n.restore(),n.save(),LE(n,i,r.bottom)):u==="y"&&(PE(n,i,r.left),U2(n,{line:t,target:i,color:a,scale:o,property:u,clip:l}),n.restore(),n.save(),PE(n,i,r.right),h=s)),U2(n,{line:t,target:i,color:h,scale:o,property:u,clip:l}),n.restore()}function LE(n,e,t){const{segments:i,points:s}=e;let a=!0,r=!1;n.beginPath();for(const o of i){const{start:l,end:u}=o,h=s[l],m=s[nx(l,u,s)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),r=!!e.pathSegment(n,o,{move:r}),r?n.closePath():n.lineTo(m.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function PE(n,e,t){const{segments:i,points:s}=e;let a=!0,r=!1;n.beginPath();for(const o of i){const{start:l,end:u}=o,h=s[l],m=s[nx(l,u,s)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(t,h.y),n.lineTo(h.x,h.y)),r=!!e.pathSegment(n,o,{move:r}),r?n.closePath():n.lineTo(t,m.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function U2(n,e){const{line:t,target:i,property:s,color:a,scale:r,clip:o}=e,l=dfe(t,i,s);for(const{source:u,target:h,start:m,end:g}of l){const{style:{backgroundColor:_=a}={}}=u,b=i!==!0;n.save(),n.fillStyle=_,Mfe(n,r,o,b&&Sw(s,m,g)),n.beginPath();const x=!!t.pathSegment(n,u);let v;if(b){x?n.closePath():RE(n,i,g,s);const C=!!i.pathSegment(n,h,{move:x,reverse:!0});v=x&&C,v||RE(n,i,m,s)}n.closePath(),n.fill(v?"evenodd":"nonzero"),n.restore()}}function Mfe(n,e,t,i){const s=e.chart.chartArea,{property:a,start:r,end:o}=i||{};if(a==="x"||a==="y"){let l,u,h,m;a==="x"?(l=r,u=s.top,h=o,m=s.bottom):(l=s.left,u=r,h=s.right,m=o),n.beginPath(),t&&(l=Math.max(l,t.left),h=Math.min(h,t.right),u=Math.max(u,t.top),m=Math.min(m,t.bottom)),n.rect(l,u,h-l,m-u),n.clip()}}function RE(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var Ofe={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let a,r,o,l;for(r=0;r<i;++r)a=n.getDatasetMeta(r),o=a.dataset,l=null,o&&o.options&&o instanceof Kl&&(l={visible:n.isDatasetVisible(r),index:r,fill:mfe(o,r,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,s.push(l);for(r=0;r<i;++r)l=s[r],!(!l||l.fill===!1)&&(l.fill=ffe(s,r,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let r=s.length-1;r>=0;--r){const o=s[r].$filler;o&&(o.line.updateControlPoints(a,o.axis),i&&o.fill&&F2(n.ctx,o,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;OE(a)&&F2(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!OE(i)||t.drawTime!=="beforeDatasetDraw"||F2(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const EE=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},Lfe=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class jE extends Zo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Fn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ji(i.font),a=s.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=EE(i,a);let u,h;t.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(r,a,o,l)+10):(h=this.maxHeight,u=this._fitCols(r,s,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:a,maxWidth:r,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+o;let m=e;a.textAlign="left",a.textBaseline="middle";let g=-1,_=-h;return this.legendItems.forEach((b,x)=>{const v=i+t/2+a.measureText(b.text).width;(x===0||u[u.length-1]+v+2*o>r)&&(m+=h,u[u.length-(x>0?0:1)]=0,_+=h,g++),l[x]={left:0,top:_,row:g,width:v,height:s},u[u.length-1]+=v+o}),m}_fitCols(e,t,i,s){const{ctx:a,maxHeight:r,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=r-e;let m=o,g=0,_=0,b=0,x=0;return this.legendItems.forEach((v,C)=>{const{itemWidth:k,itemHeight:N}=Pfe(i,t,a,v,s);C>0&&_+N+2*o>h&&(m+=g+o,u.push({width:g,height:_}),b+=g+o,x++,g=_=0),l[C]={left:b,top:_,col:x,width:k,height:N},g=Math.max(g,k),_+=N+o}),m+=g,u.push({width:g,height:_}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:a}}=this,r=$d(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=Gi(i,this.left+s,this.right-this.lineWidths[o]);for(const u of t)o!==u.row&&(o=u.row,l=Gi(i,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+e+s,u.left=r.leftForLtr(r.x(l),u.width),l+=u.width+s}else{let o=0,l=Gi(i,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const u of t)u.col!==o&&(o=u.col,l=Gi(i,this.top+e+s,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+s,u.left=r.leftForLtr(r.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Yb(e,this),this._draw(),Zb(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:a,labels:r}=e,o=li.color,l=$d(e.rtl,this.left,this.width),u=Ji(r.font),{padding:h}=r,m=u.size,g=m/2;let _;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:b,boxHeight:x,itemHeight:v}=EE(r,m),C=function(L,M,P){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;s.save();const R=Yt(P.lineWidth,1);if(s.fillStyle=Yt(P.fillStyle,o),s.lineCap=Yt(P.lineCap,"butt"),s.lineDashOffset=Yt(P.lineDashOffset,0),s.lineJoin=Yt(P.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=Yt(P.strokeStyle,o),s.setLineDash(Yt(P.lineDash,[])),r.usePointStyle){const D={radius:x*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:R},U=l.xPlus(L,b/2),F=M+g;s8(s,D,U,F,r.pointStyleWidth&&b)}else{const D=M+Math.max((m-x)/2,0),U=l.leftForLtr(L,b),F=Im(P.borderRadius);s.beginPath(),Object.values(F).some(H=>H!==0)?yw(s,{x:U,y:D,w:b,h:x,radius:F}):s.rect(U,D,b,x),s.fill(),R!==0&&s.stroke()}s.restore()},k=function(L,M,P){_p(s,P.text,L,M+v/2,u,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},N=this.isHorizontal(),O=this._computeTitleHeight();N?_={x:Gi(a,this.left+h,this.right-i[0]),y:this.top+h+O,line:0}:_={x:this.left+h,y:Gi(a,this.top+O+h,this.bottom-t[0].height),line:0},d8(this.ctx,e.textDirection);const T=v+h;this.legendItems.forEach((L,M)=>{s.strokeStyle=L.fontColor,s.fillStyle=L.fontColor;const P=s.measureText(L.text).width,R=l.textAlign(L.textAlign||(L.textAlign=r.textAlign)),D=b+g+P;let U=_.x,F=_.y;l.setWidth(this.width),N?M>0&&U+D+h>this.right&&(F=_.y+=T,_.line++,U=_.x=Gi(a,this.left+h,this.right-i[_.line])):M>0&&F+T>this.bottom&&(U=_.x=U+t[_.line].width+h,_.line++,F=_.y=Gi(a,this.top+O+h,this.bottom-t[_.line].height));const H=l.x(U);if(C(H,F,L),U=Mue(R,U+b+g,N?U+D:this.right,e.rtl),k(l.x(U),F,L),N)_.x+=D+h;else if(typeof L.text!="string"){const Z=u.lineHeight;_.y+=P8(L,Z)+h}else _.y+=T}),h8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ji(t.font),s=Ha(t.padding);if(!t.display)return;const a=$d(e.rtl,this.left,this.width),r=this.ctx,o=t.position,l=i.size/2,u=s.top+l;let h,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+u,m=Gi(e.align,m,this.right-g);else{const b=this.columnSizes.reduce((x,v)=>Math.max(x,v.height),0);h=u+Gi(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const _=Gi(o,m,m+g);r.textAlign=a.textAlign(XC(o)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,_p(r,t.text,_,h,i)}_computeTitleHeight(){const e=this.options.title,t=Ji(e.font),i=Ha(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,a;if(Rd(e,this.left,this.right)&&Rd(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Rd(e,s.left,s.left+s.width)&&Rd(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!jfe(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=Lfe(s,i);s&&!a&&Fn(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&Fn(t.onHover,[e,i,this],this)}else i&&Fn(t.onClick,[e,i,this],this)}}function Pfe(n,e,t,i,s){const a=Rfe(i,n,e,t),r=Efe(s,i,e.lineHeight);return{itemWidth:a,itemHeight:r}}function Rfe(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,r)=>a.length>r.length?a:r)),e+t.size/2+i.measureText(s).width}function Efe(n,e,t){let i=n;return typeof e.text!="string"&&(i=P8(e,t)),i}function P8(n,e){const t=n.text?n.text.length:0;return e*t}function jfe(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Dfe={id:"legend",_element:jE,start(n,e,t){const i=n.legend=new jE({ctx:n.ctx,options:t,chart:n});Da.configure(n,i,t),Da.addBox(n,i)},stop(n){Da.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Da.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:a,useBorderRadius:r,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),h=Ha(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:r&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class R8 extends Zo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=ki(i.text)?i.text.length:1;this._padding=Ha(i.padding);const a=s*Ji(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:a,options:r}=this,o=r.align;let l=0,u,h,m;return this.isHorizontal()?(h=Gi(o,i,a),m=t+e,u=a-i):(r.position==="left"?(h=i+e,m=Gi(o,s,t),l=Li*-.5):(h=a-e,m=Gi(o,t,s),l=Li*.5),u=s-t),{titleX:h,titleY:m,maxWidth:u,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ji(t.font),a=i.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(a);_p(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:u,textAlign:XC(t.align),textBaseline:"middle",translation:[r,o]})}}function Ffe(n,e){const t=new R8({ctx:n.ctx,options:e,chart:n});Da.configure(n,t,e),Da.addBox(n,t),n.titleBlock=t}var Ufe={id:"title",_element:R8,start(n,e,t){Ffe(n,t)},stop(n){const e=n.titleBlock;Da.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Da.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ym={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,a=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),s+=l.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:s/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,r,o;for(a=0,r=n.length;a<r;++a){const l=n[a].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=pw(e,u);h<s&&(s=h,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Nr(n,e){return e&&(ki(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ro(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Bfe(n,e){const{element:t,datasetIndex:i,index:s}=e,a=n.getDatasetMeta(i).controller,{label:r,value:o}=a.getLabelAndValue(s);return{chart:n,label:r,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function DE(n,e){const t=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:r,boxHeight:o}=e,l=Ji(e.bodyFont),u=Ji(e.titleFont),h=Ji(e.footerFont),m=a.length,g=s.length,_=i.length,b=Ha(e.padding);let x=b.height,v=0,C=i.reduce((O,T)=>O+T.before.length+T.lines.length+T.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,m&&(x+=m*u.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),C){const O=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;x+=_*O+(C-_)*l.lineHeight+(C-1)*e.bodySpacing}g&&(x+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let k=0;const N=function(O){v=Math.max(v,t.measureText(O).width+k)};return t.save(),t.font=u.string,pn(n.title,N),t.font=l.string,pn(n.beforeBody.concat(n.afterBody),N),k=e.displayColors?r+2+e.boxPadding:0,pn(i,O=>{pn(O.before,N),pn(O.lines,N),pn(O.after,N)}),k=0,t.font=h.string,pn(n.footer,N),t.restore(),v+=b.width,{width:v,height:x}}function Ife(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function zfe(n,e,t,i){const{x:s,width:a}=i,r=t.caretSize+t.caretPadding;if(n==="left"&&s+a+r>e.width||n==="right"&&s-a-r<0)return!0}function qfe(n,e,t,i){const{x:s,width:a}=t,{width:r,chartArea:{left:o,right:l}}=n;let u="center";return i==="center"?u=s<=(o+l)/2?"left":"right":s<=a/2?u="left":s>=r-a/2&&(u="right"),zfe(u,n,e,t)&&(u="center"),u}function FE(n,e,t){const i=t.yAlign||e.yAlign||Ife(n,t);return{xAlign:t.xAlign||e.xAlign||qfe(n,e,t,i),yAlign:i}}function Kfe(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Hfe(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function UE(n,e,t,i){const{caretSize:s,caretPadding:a,cornerRadius:r}=n,{xAlign:o,yAlign:l}=t,u=s+a,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:_}=Im(r);let b=Kfe(e,o);const x=Hfe(e,l,u);return l==="center"?o==="left"?b+=u:o==="right"&&(b-=u):o==="left"?b-=Math.max(h,g)+s:o==="right"&&(b+=Math.max(m,_)+s),{x:ja(b,0,i.width-e.width),y:ja(x,0,i.height-e.height)}}function u0(n,e,t){const i=Ha(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function BE(n){return Nr([],Ro(n))}function Vfe(n,e,t){return Pu(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function IE(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const E8={beforeTitle:Ao,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ao,beforeBody:Ao,beforeLabel:Ao,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ln(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ao,afterBody:Ao,beforeFooter:Ao,footer:Ao,afterFooter:Ao};function Ls(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?E8[e].call(t,i):s}class ww extends Zo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,a=new _8(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Vfe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Ls(i,"beforeTitle",this,e),a=Ls(i,"title",this,e),r=Ls(i,"afterTitle",this,e);let o=[];return o=Nr(o,Ro(s)),o=Nr(o,Ro(a)),o=Nr(o,Ro(r)),o}getBeforeBody(e,t){return BE(Ls(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return pn(e,a=>{const r={before:[],lines:[],after:[]},o=IE(i,a);Nr(r.before,Ro(Ls(o,"beforeLabel",this,a))),Nr(r.lines,Ls(o,"label",this,a)),Nr(r.after,Ro(Ls(o,"afterLabel",this,a))),s.push(r)}),s}getAfterBody(e,t){return BE(Ls(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Ls(i,"beforeFooter",this,e),a=Ls(i,"footer",this,e),r=Ls(i,"afterFooter",this,e);let o=[];return o=Nr(o,Ro(s)),o=Nr(o,Ro(a)),o=Nr(o,Ro(r)),o}_createItems(e){const t=this._active,i=this.chart.data,s=[],a=[],r=[];let o=[],l,u;for(l=0,u=t.length;l<u;++l)o.push(Bfe(this.chart,t[l]));return e.filter&&(o=o.filter((h,m,g)=>e.filter(h,m,g,i))),e.itemSort&&(o=o.sort((h,m)=>e.itemSort(h,m,i))),pn(o,h=>{const m=IE(e.callbacks,h);s.push(Ls(m,"labelColor",this,h)),a.push(Ls(m,"labelPointStyle",this,h)),r.push(Ls(m,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=o,o}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let a,r=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const o=ym[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const l=this._size=DE(this,i),u=Object.assign({},o,l),h=FE(this.chart,i,u),m=UE(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:m.x,y:m.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const a=this.getCaretPosition(e,i,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:a}=this,{caretSize:r,cornerRadius:o}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:m}=Im(o),{x:g,y:_}=e,{width:b,height:x}=t;let v,C,k,N,O,T;return a==="center"?(O=_+x/2,s==="left"?(v=g,C=v-r,N=O+r,T=O-r):(v=g+b,C=v+r,N=O-r,T=O+r),k=v):(s==="left"?C=g+Math.max(l,h)+r:s==="right"?C=g+b-Math.max(u,m)-r:C=this.caretX,a==="top"?(N=_,O=N-r,v=C-r,k=C+r):(N=_+x,O=N+r,v=C+r,k=C-r),T=N),{x1:v,x2:C,x3:k,y1:N,y2:O,y3:T}}drawTitle(e,t,i){const s=this.title,a=s.length;let r,o,l;if(a){const u=$d(i.rtl,this.x,this.width);for(e.x=u0(this,i.titleAlign,i),t.textAlign=u.textAlign(i.titleAlign),t.textBaseline="middle",r=Ji(i.titleFont),o=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,l=0;l<a;++l)t.fillText(s[l],u.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+o,l+1===a&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,t,i,s,a){const r=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=a,h=Ji(a.bodyFont),m=u0(this,"left",a),g=s.x(m),_=l<h.lineHeight?(h.lineHeight-l)/2:0,b=t.y+_;if(a.usePointStyle){const x={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=s.leftForLtr(g,u)+u/2,C=b+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,_w(e,x,v,C),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,_w(e,x,v,C)}else{e.lineWidth=nn(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const x=s.leftForLtr(g,u),v=s.leftForLtr(s.xPlus(g,1),u-2),C=Im(r.borderRadius);Object.values(C).some(k=>k!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,yw(e,{x,y:b,w:u,h:l,radius:C}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),yw(e,{x:v,y:b+1,w:u-2,h:l-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,b,u,l),e.strokeRect(x,b,u,l),e.fillStyle=r.backgroundColor,e.fillRect(v,b+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:a,bodyAlign:r,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:h}=i,m=Ji(i.bodyFont);let g=m.lineHeight,_=0;const b=$d(i.rtl,this.x,this.width),x=function(P){t.fillText(P,b.x(e.x+_),e.y+g/2),e.y+=g+a},v=b.textAlign(r);let C,k,N,O,T,L,M;for(t.textAlign=r,t.textBaseline="middle",t.font=m.string,e.x=u0(this,v,i),t.fillStyle=i.bodyColor,pn(this.beforeBody,x),_=o&&v!=="right"?r==="center"?u/2+h:u+2+h:0,O=0,L=s.length;O<L;++O){for(C=s[O],k=this.labelTextColors[O],t.fillStyle=k,pn(C.before,x),N=C.lines,o&&N.length&&(this._drawColorBox(t,e,O,b,i),g=Math.max(m.lineHeight,l)),T=0,M=N.length;T<M;++T)x(N[T]),g=m.lineHeight;pn(C.after,x)}_=0,g=m.lineHeight,pn(this.afterBody,x),e.y-=a}drawFooter(e,t,i){const s=this.footer,a=s.length;let r,o;if(a){const l=$d(i.rtl,this.x,this.width);for(e.x=u0(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",r=Ji(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,o=0;o<a;++o)t.fillText(s[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:a,yAlign:r}=this,{x:o,y:l}=e,{width:u,height:h}=i,{topLeft:m,topRight:g,bottomLeft:_,bottomRight:b}=Im(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(o+m,l),r==="top"&&this.drawCaret(e,t,i,s),t.lineTo(o+u-g,l),t.quadraticCurveTo(o+u,l,o+u,l+g),r==="center"&&a==="right"&&this.drawCaret(e,t,i,s),t.lineTo(o+u,l+h-b),t.quadraticCurveTo(o+u,l+h,o+u-b,l+h),r==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(o+_,l+h),t.quadraticCurveTo(o,l+h,o,l+h-_),r==="center"&&a==="left"&&this.drawCaret(e,t,i,s),t.lineTo(o,l+m),t.quadraticCurveTo(o,l,o+m,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const r=ym[e.position].call(this,this._active,this._eventPosition);if(!r)return;const o=this._size=DE(this,e),l=Object.assign({},r,this._size),u=FE(t,e,l),h=UE(e,l,u,t);(s._to!==h.x||a._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Ha(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,t),d8(e,t.textDirection),a.y+=r.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),h8(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),a=!zy(i,s),r=this._positionChanged(s,t);(a||r)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],r=this._getActiveElements(e,a,t,i),o=this._positionChanged(r,e),l=t||!zy(r,a)||o;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:s,options:a}=this,r=ym[a.position].call(this,e,t);return r!==!1&&(i!==r.x||s!==r.y)}}Ct(ww,"positioners",ym);var Wfe={id:"tooltip",_element:ww,positioners:ym,afterInit(n,e,t){t&&(n.tooltip=new ww({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:E8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Gfe=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Xfe(n,e,t,i){const s=n.indexOf(e);if(s===-1)return Gfe(n,e,t,i);const a=n.lastIndexOf(e);return s!==a?t:s}const $fe=(n,e)=>n===null?null:ja(Math.round(n),0,e);function zE(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class kw extends Dh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:a}of t)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ln(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Xfe(i,e,Yt(t,e),this._addedLabels),$fe(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)s.push({value:r});return s}getLabelForValue(e){return zE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ct(kw,"id","category"),Ct(kw,"defaults",{ticks:{callback:zE}});function Qfe(n,e){const t=[],{bounds:s,step:a,min:r,max:o,precision:l,count:u,maxTicks:h,maxDigits:m,includeBounds:g}=n,_=a||1,b=h-1,{min:x,max:v}=e,C=!Ln(r),k=!Ln(o),N=!Ln(u),O=(v-x)/(m+1);let T=zR((v-x)/b/_)*_,L,M,P,R;if(T<1e-14&&!C&&!k)return[{value:x},{value:v}];R=Math.ceil(v/T)-Math.floor(x/T),R>b&&(T=zR(R*T/b/_)*_),Ln(l)||(L=Math.pow(10,l),T=Math.ceil(T*L)/L),s==="ticks"?(M=Math.floor(x/T)*T,P=Math.ceil(v/T)*T):(M=x,P=v),C&&k&&a&&yue((o-r)/a,T/1e3)?(R=Math.round(Math.min((o-r)/T,h)),T=(o-r)/R,M=r,P=o):N?(M=C?r:M,P=k?o:P,R=u-1,T=(P-M)/R):(R=(P-M)/T,Fm(R,Math.round(R),T/1e3)?R=Math.round(R):R=Math.ceil(R));const D=Math.max(qR(T),qR(M));L=Math.pow(10,Ln(l)?D:l),M=Math.round(M*L)/L,P=Math.round(P*L)/L;let U=0;for(C&&(g&&M!==r?(t.push({value:r}),M<r&&U++,Fm(Math.round((M+U*T)*L)/L,r,qE(r,O,n))&&U++):M<r&&U++);U<R;++U){const F=Math.round((M+U*T)*L)/L;if(k&&F>o)break;t.push({value:F})}return k&&g&&P!==o?t.length&&Fm(t[t.length-1].value,o,qE(o,O,n))?t[t.length-1].value=o:t.push({value:o}):(!k||P===o)&&t.push({value:P}),t}function qE(n,e,{horizontal:t,minRotation:i}){const s=Jc(i),a=(t?Math.sin(s):Math.cos(s))||.001,r=.75*e*(""+n).length;return Math.min(e/a,r)}class Yfe extends Dh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ln(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const r=l=>s=t?s:l,o=l=>a=i?a:l;if(e){const l=mh(s),u=mh(a);l<0&&u<0?o(0):l>0&&u>0&&r(0)}if(s===a){let l=a===0?1:Math.abs(a*.05);o(a+l),e||r(s-l)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,r=Qfe(s,a);return e.bounds==="ticks"&&bue(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return n8(e,this.chart.options.locale,this.options.ticks.format)}}class Cw extends Yfe{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ss(e)?e:0,this.max=ss(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Jc(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ct(Cw,"id","linear"),Ct(Cw,"defaults",{ticks:{callback:i8.formatters.numeric}});const ix={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Es=Object.keys(ix);function KE(n,e){return n-e}function HE(n,e){if(Ln(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),ss(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(s&&(r=s==="week"&&(pp(a)||a===!0)?t.startOf(r,"isoWeek",a):t.startOf(r,s)),+r)}function VE(n,e,t,i){const s=Es.length;for(let a=Es.indexOf(n);a<s-1;++a){const r=ix[Es[a]],o=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(o*r.size))<=i)return Es[a]}return Es[s-1]}function Zfe(n,e,t,i,s){for(let a=Es.length-1;a>=Es.indexOf(t);a--){const r=Es[a];if(ix[r].common&&n._adapter.diff(s,i,r)>=e-1)return r}return Es[t?Es.indexOf(t):0]}function Jfe(n){for(let e=Es.indexOf(n)+1,t=Es.length;e<t;++e)if(ix[Es[e]].common)return Es[e]}function WE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=GC(t,e),a=t[i]>=e?t[i]:t[s];n[a]=!0}}function eme(n,e,t,i){const s=n._adapter,a=+s.startOf(e[0].value,i),r=e[e.length-1].value;let o,l;for(o=a;o<=r;o=+s.add(o,1,i))l=t[o],l>=0&&(e[l].major=!0);return e}function GE(n,e,t){const i=[],s={},a=e.length;let r,o;for(r=0;r<a;++r)o=e[r],s[o]=r,i.push({value:o,major:!1});return a===0||!t?i:eme(n,i,s,t)}class Xy extends Dh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new Gde._date(e.adapters.date);s.init(t),Dm(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:HE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:r,maxDefined:o}=this.getUserBounds();function l(u){!r&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!r||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ss(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),a=ss(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,r=this.max,o=Cue(s,a,r);return this._unit=t.unit||(i.autoSkip?VE(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):Zfe(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Jfe(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),GE(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;t=ja(t,0,r),i=ja(i,0,r),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,a=s.time,r=a.unit||VE(a.minUnit,t,i,this._getLabelCapacity(t)),o=Yt(s.ticks.stepSize,1),l=r==="week"?a.isoWeekday:!1,u=pp(l)||l===!0,h={};let m=t,g,_;if(u&&(m=+e.startOf(m,"isoWeek",l)),m=+e.startOf(m,u?"day":r),e.diff(i,t,r)>1e5*o)throw new Error(t+" and "+i+" are too far apart with stepSize of "+o+" "+r);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(g=m,_=0;g<i;g=+e.add(g,o,r),_++)WE(h,g,b);return(g===i||s.bounds==="ticks"||_===1)&&WE(h,g,b),Object.keys(h).sort(KE).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,r=t||s[a];return this._adapter.format(e,r)}_tickFormatFunction(e,t,i,s){const a=this.options,r=a.ticks.callback;if(r)return Fn(r,[e,t,i],this);const o=a.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&o[l],m=u&&o[u],g=i[t],_=u&&m&&g&&g.major;return this._adapter.format(e,s||(_?m:h))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=Jc(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),r=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*a+o*r,h:i*r+o*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,GE(this,[e],this._majorUnit),s),r=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(HE(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tue(e.sort(KE))}}Ct(Xy,"id","time"),Ct(Xy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function d0(n,e,t){let i=0,s=n.length-1,a,r,o,l;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=eu(n,"pos",e)),{pos:a,time:o}=n[i],{pos:r,time:l}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=eu(n,"time",e)),{time:a,pos:o}=n[i],{time:r,pos:l}=n[s]);const u=r-a;return u?o+(l-o)*(e-a)/u:o}class XE extends Xy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=d0(t,this.min),this._tableRange=d0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],a=[];let r,o,l,u,h;for(r=0,o=e.length;r<o;++r)u=e[r],u>=t&&u<=i&&s.push(u);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,o=s.length;r<o;++r)h=s[r+1],l=s[r-1],u=s[r],Math.round((h+l)/2)!==u&&a.push({time:u,pos:r/(o-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(d0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return d0(this._table,i*this._tableRange+this._minPos,!0)}}Ct(XE,"id","timeseries"),Ct(XE,"defaults",Xy.defaults);function tme(n){const[e,t]=w.useState(()=>window.matchMedia(n).matches);return w.useEffect(()=>{const i=window.matchMedia(n),s=a=>{t(a.matches)};return s({matches:i.matches}),i.addEventListener("change",s),()=>i.removeEventListener("change",s)},[n]),e}function nme(){const{t:n}=Ze(),{showNotification:e}=un(),t=ms(L=>L.usage),i=ms(L=>L.loading),s=ms(L=>L.error),a=ms(L=>L.lastRefreshedAt),r=ms(L=>L.loadUsageStats),[o,l]=w.useState({}),[u,h]=w.useState(!1),[m,g]=w.useState(!1),_=w.useRef(null),b=w.useCallback(async()=>{await r({force:!0,staleTimeMs:Wo})},[r]);w.useEffect(()=>{r({staleTimeMs:Wo}).catch(()=>{}),l(v$())},[r]);const x=async()=>{h(!0);try{const L=await $S.exportUsage(),M=typeof L?.exported_at=="string"?new Date(L.exported_at):new Date,R=`usage-export-${(Number.isNaN(M.getTime())?new Date().toISOString():M.toISOString()).replace(/[:.]/g,"-")}.json`;du({filename:R,blob:new Blob([JSON.stringify(L??{},null,2)],{type:"application/json"})}),e(n("usage_stats.export_success"),"success")}catch(L){const M=L instanceof Error?L.message:"";e(`${n("notification.download_failed")}${M?`: ${M}`:""}`,"error")}finally{h(!1)}},v=()=>{_.current?.click()},C=async L=>{const M=L.target.files?.[0];if(L.target.value="",!!M){g(!0);try{const P=await M.text();let R;try{R=JSON.parse(P)}catch{e(n("usage_stats.import_invalid"),"error");return}const D=await $S.importUsage(R);e(n("usage_stats.import_success",{added:D?.added??0,skipped:D?.skipped??0,total:D?.total_requests??0,failed:D?.failed_requests??0}),"success");try{await r({force:!0,staleTimeMs:Wo})}catch(U){const F=U instanceof Error?U.message:"";e(`${n("notification.refresh_failed")}${F?`: ${F}`:""}`,"error")}}catch(P){const R=P instanceof Error?P.message:"";e(`${n("notification.upload_failed")}${R?`: ${R}`:""}`,"error")}finally{g(!1)}}},k=w.useCallback(L=>{l(L),S$(L)},[]),N=t,O=s||"",T=a?new Date(a):null;return{usage:N,loading:i,error:O,lastRefreshedAt:T,modelPrices:o,setModelPrices:k,loadUsage:b,handleExport:x,handleImport:v,handleImportChange:C,importInputRef:_,exporting:u,importing:m}}function ime({usage:n,loading:e,nowMs:t}){const i=w.useMemo(()=>{if(!n)return{labels:[],requests:[],tokens:[]};if(!Number.isFinite(t)||t<=0)return{labels:[],requests:[],tokens:[]};const h=$a(n);if(!h.length)return{labels:[],requests:[],tokens:[]};const m=60,g=t,_=g-m*60*1e3,b=new Array(m).fill(0),x=new Array(m).fill(0);return h.forEach(C=>{const k=C.__timestampMs??0;if(!Number.isFinite(k)||k<_||k>g)return;const N=Math.min(m-1,Math.floor((k-_)/6e4));b[N]+=1,x[N]+=Lh(C)}),{labels:b.map((C,k)=>{const N=new Date(_+(k+1)*6e4),O=N.getHours().toString().padStart(2,"0"),T=N.getMinutes().toString().padStart(2,"0");return`${O}:${T}`}),requests:b,tokens:x}},[t,n]),s=w.useCallback((h,m,g)=>{if(e||!h?.data?.length)return null;const _=Math.max(h.data.length-60,0),b=h.labels.slice(_),x=h.data.slice(_);return{data:{labels:b,datasets:[{data:x,borderColor:m,backgroundColor:g,fill:!0,tension:.45,pointRadius:0,borderWidth:2}]}}},[e]),a=w.useMemo(()=>s({labels:i.labels,data:i.requests},"#8b8680","rgba(139, 134, 128, 0.18)"),[s,i.labels,i.requests]),r=w.useMemo(()=>s({labels:i.labels,data:i.tokens},"#8b5cf6","rgba(139, 92, 246, 0.18)"),[s,i.labels,i.tokens]),o=w.useMemo(()=>s({labels:i.labels,data:i.requests},"#22c55e","rgba(34, 197, 94, 0.18)"),[s,i.labels,i.requests]),l=w.useMemo(()=>s({labels:i.labels,data:i.tokens},"#f97316","rgba(249, 115, 22, 0.18)"),[s,i.labels,i.tokens]),u=w.useMemo(()=>s({labels:i.labels,data:i.tokens},"#f59e0b","rgba(245, 158, 11, 0.18)"),[s,i.labels,i.tokens]);return{requestsSparkline:a,tokensSparkline:r,rpmSparkline:o,tpmSparkline:l,costSparkline:u}}const sme={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1}},elements:{line:{tension:.45},point:{radius:0}}};function $y({period:n,labels:e,isDark:t,isMobile:i}){const s=i&&n==="hour"?0:i?2:4,a=i?10:12,r=i?n==="hour"?8:6:n==="hour"?12:10,o=t?"rgba(255, 255, 255, 0.06)":"rgba(17, 24, 39, 0.06)",l=t?"rgba(255, 255, 255, 0.10)":"rgba(17, 24, 39, 0.10)",u=t?"rgba(255, 255, 255, 0.72)":"rgba(17, 24, 39, 0.72)";return{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:t?"rgba(17, 24, 39, 0.92)":"rgba(255, 255, 255, 0.98)",titleColor:t?"#ffffff":"#111827",bodyColor:t?"rgba(255, 255, 255, 0.86)":"#374151",borderColor:t?"rgba(255, 255, 255, 0.10)":"rgba(17, 24, 39, 0.10)",borderWidth:1,padding:10,displayColors:!0,usePointStyle:!0}},scales:{x:{grid:{color:o,drawTicks:!1},border:{color:l},ticks:{color:u,font:{size:a},maxRotation:i?0:45,minRotation:0,autoSkip:!0,maxTicksLimit:r,callback:b=>{const x=typeof b=="number"?b:Number(b),v=Number.isFinite(x)&&e[x]?e[x]:typeof b=="string"?b:"";if(n==="hour"){const[C,k]=v.split(" ");return k?k.startsWith("00:")&&C?[C,k]:k:v}if(i){const C=v.split("-");if(C.length===3)return`${C[1]}-${C[2]}`}return v}}},y:{beginAtZero:!0,grid:{color:o},border:{color:l},ticks:{color:u,font:{size:a}}}},elements:{line:{tension:.35,borderWidth:i?1.5:2},point:{borderWidth:2,radius:s,hoverRadius:4}}}}function nA(n,e){return!e||n<=0?void 0:`${Math.min(n*56,3e3)}px`}function ame({usage:n,chartLines:e,isDark:t,isMobile:i,hourWindowHours:s}){const[a,r]=w.useState("day"),[o,l]=w.useState("day"),u=w.useMemo(()=>n?wP(n,a,"requests",e,{hourWindowHours:s}):{labels:[],datasets:[]},[n,a,e,s]),h=w.useMemo(()=>n?wP(n,o,"tokens",e,{hourWindowHours:s}):{labels:[],datasets:[]},[n,o,e,s]),m=w.useMemo(()=>$y({period:a,labels:u.labels,isDark:t,isMobile:i}),[a,u.labels,t,i]),g=w.useMemo(()=>$y({period:o,labels:h.labels,isDark:t,isMobile:i}),[o,h.labels,t,i]);return{requestsPeriod:a,setRequestsPeriod:r,tokensPeriod:o,setTokensPeriod:l,requestsChartData:u,tokensChartData:h,requestsChartOptions:m,tokensChartOptions:g}}const j8="label";function $E(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function rme(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function D8(n,e){n.labels=e}function F8(n,e,t=j8){const i=[];n.datasets=e.map(s=>{const a=n.datasets.find(r=>r[t]===s[t]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function ome(n,e=j8){const t={labels:[],datasets:[]};return D8(t,n.labels),F8(t,n.datasets,e),t}function lme(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:r,data:o,options:l,plugins:u=[],fallbackContent:h,updateMode:m,...g}=n,_=w.useRef(null),b=w.useRef(null),x=()=>{_.current&&(b.current=new tx(_.current,{type:r,data:ome(o,a),options:l&&{...l},plugins:u}),$E(e,b.current))},v=()=>{$E(e,null),b.current&&(b.current.destroy(),b.current=null)};return w.useEffect(()=>{!s&&b.current&&l&&rme(b.current,l)},[s,l]),w.useEffect(()=>{!s&&b.current&&D8(b.current.config.data,o.labels)},[s,o.labels]),w.useEffect(()=>{!s&&b.current&&o.datasets&&F8(b.current.config.data,o.datasets,a)},[s,o.datasets]),w.useEffect(()=>{b.current&&(s?(v(),setTimeout(x)):b.current.update(m))},[s,l,o.labels,o.datasets,m]),w.useEffect(()=>{b.current&&(v(),setTimeout(x))},[r]),w.useEffect(()=>(x(),()=>v()),[]),f.jsx("canvas",{ref:_,role:"img",height:t,width:i,...g,children:h})}const cme=w.forwardRef(lme);function ume(n,e){return tx.register(e),w.forwardRef((t,i)=>f.jsx(cme,{...t,ref:i,type:n}))}const sx=ume("line",ay),dme="UsagePage-module__container___nCAFc",hme="UsagePage-module__header___HxnC8",fme="UsagePage-module__headerActions___3cXLO",mme="UsagePage-module__lastRefreshed___cqlrd",pme="UsagePage-module__timeRangeGroup___hI2kH",gme="UsagePage-module__timeRangeLabel___2VsOz",_me="UsagePage-module__timeRangeSelectControl___6vBeH",yme="UsagePage-module__pageTitle___70rs5",bme="UsagePage-module__errorBox___gB8Rj",xme="UsagePage-module__hint___pUQ06",vme="UsagePage-module__loadingOverlay___BuX9V",Sme="UsagePage-module__loadingOverlayContent___3vf0S",wme="UsagePage-module__loadingOverlaySpinner___MvMZD",kme="UsagePage-module__loadingOverlayText___64YIy",Cme="UsagePage-module__statsGrid___Q0sW-",Ame="UsagePage-module__statCard___iCndn",Tme="UsagePage-module__statValue___duHNu",Nme="UsagePage-module__statCardHeader___IbBKW",Mme="UsagePage-module__statLabelGroup___SMxKl",Ome="UsagePage-module__statIconBadge___bPCTx",Lme="UsagePage-module__statLabel___V2mir",Pme="UsagePage-module__statSuccess___AmaqC",Rme="UsagePage-module__statFailure___jWtUQ",Eme="UsagePage-module__statNeutral___IhwNw",jme="UsagePage-module__statMetaRow___VB7gR",Dme="UsagePage-module__statMetaItem___YIXw2",Fme="UsagePage-module__statMetaDot___daNGF",Ume="UsagePage-module__statSubtle___yXU7t",Bme="UsagePage-module__statTrend___ra06-",Ime="UsagePage-module__statTrendPlaceholder___oRADx",zme="UsagePage-module__sparkline___1tqGF",qme="UsagePage-module__apiSortBar___MpyiE",Kme="UsagePage-module__apiSortBtn___AkzG0",Hme="UsagePage-module__apiSortBtnActive___-PugQ",Vme="UsagePage-module__apiList___2kChf",Wme="UsagePage-module__apiItem___cyn0u",Gme="UsagePage-module__apiHeader___tT8FK",Xme="UsagePage-module__apiInfo___OFEK-",$me="UsagePage-module__apiEndpoint___J38DV",Qme="UsagePage-module__apiStats___blw7G",Yme="UsagePage-module__apiBadge___OAqI7",Zme="UsagePage-module__expandIcon___5FU6h",Jme="UsagePage-module__apiModels___eZNUp",epe="UsagePage-module__modelRow___ZKhXO",tpe="UsagePage-module__modelName___mlOFW",npe="UsagePage-module__modelStat___9behg",ipe="UsagePage-module__detailsFixedCard___5TOHu",spe="UsagePage-module__detailsScroll___FxWDO",ape="UsagePage-module__tableWrapper___Sax8l",rpe="UsagePage-module__table___-sWaI",ope="UsagePage-module__sortableHeader___khBCr",lpe="UsagePage-module__sortHeaderButton___T3KIB",cpe="UsagePage-module__modelCell___0d7fk",upe="UsagePage-module__credentialType___FoGup",dpe="UsagePage-module__requestCountCell___17o3C",hpe="UsagePage-module__requestBreakdown___VDvhm",fpe="UsagePage-module__pricingSection___jk8kk",mpe="UsagePage-module__priceForm___OJwRe",ppe="UsagePage-module__formRow___sHXY2",gpe="UsagePage-module__formField___Vf4b-",_pe="UsagePage-module__pricesList___ys67C",ype="UsagePage-module__pricesTitle___CJRmb",bpe="UsagePage-module__pricesGrid___rCyGv",xpe="UsagePage-module__priceItem___I0JbD",vpe="UsagePage-module__priceInfo___TteL5",Spe="UsagePage-module__priceModel___GvFG8",wpe="UsagePage-module__priceMeta___V2rEi",kpe="UsagePage-module__priceActions___2BFSQ",Cpe="UsagePage-module__editModalBody___z4n58",Ape="UsagePage-module__chartWrapper___lAIqa",Tpe="UsagePage-module__chartLegend___OA6vI",Npe="UsagePage-module__legendItem___g2pb0",Mpe="UsagePage-module__legendDot___Ehp8J",Ope="UsagePage-module__legendLabel___pjtGV",Lpe="UsagePage-module__chartArea___ZykTT",Ppe="UsagePage-module__chartScroller___AtIi0",Rpe="UsagePage-module__chartCanvas___NYz9z",Epe="UsagePage-module__periodButtons___MD8jm",jpe="UsagePage-module__chartsGrid___k56wO",Dpe="UsagePage-module__detailsGrid___zSOOI",Fpe="UsagePage-module__requestEventsActions___cJzSl",Upe="UsagePage-module__requestEventsToolbar___xx5kv",Bpe="UsagePage-module__requestEventsFilterItem___5vPqu",Ipe="UsagePage-module__requestEventsFilterLabel___UeBCu",zpe="UsagePage-module__requestEventsSelect___GDYz1",qpe="UsagePage-module__requestEventsMeta___jhpNH",Kpe="UsagePage-module__requestEventsLimitHint___vP-TA",Hpe="UsagePage-module__requestEventsTableWrapper___QQY-f",Vpe="UsagePage-module__requestEventsTimestamp___I6vM1",Wpe="UsagePage-module__requestEventsSourceCell___y8Who",Gpe="UsagePage-module__requestEventsAuthIndex___DAZfi",Xpe="UsagePage-module__requestEventsResultSuccess___Ovwcs",$pe="UsagePage-module__requestEventsResultFailed___sUYiy",Qpe="UsagePage-module__chartLineHeader___xPk4F",Ype="UsagePage-module__chartLineList___Le-PV",Zpe="UsagePage-module__chartLineItem___p7NYT",Jpe="UsagePage-module__chartLineLabel___jA5Ww",ege="UsagePage-module__chartLineCount___yVkE2",tge="UsagePage-module__chartLineHint___v7FGv",nge="UsagePage-module__healthCard___FpTJ7",ige="UsagePage-module__healthHeader___uxdUE",sge="UsagePage-module__healthTitle___G-5Ux",age="UsagePage-module__healthMeta___DeEqL",rge="UsagePage-module__healthWindow___T1kJo",oge="UsagePage-module__healthRate___EKiz8",lge="UsagePage-module__healthRateHigh___iGuwG",cge="UsagePage-module__healthRateMedium___E67ug",uge="UsagePage-module__healthRateLow___RqYIj",dge="UsagePage-module__healthGridScroller___g50pg",hge="UsagePage-module__healthGrid___QWLzl",fge="UsagePage-module__healthBlockWrapper___1Q1f5",mge="UsagePage-module__healthBlock___7ZNns",pge="UsagePage-module__healthBlockActive___vtccW",gge="UsagePage-module__healthBlockIdle___qnkeV",_ge="UsagePage-module__healthTooltip___Ah2TY",yge="UsagePage-module__healthTooltipBelow___IwlME",bge="UsagePage-module__healthTooltipLeft___bxqyd",xge="UsagePage-module__healthTooltipRight___snBMi",vge="UsagePage-module__healthTooltipTime___aOKYR",Sge="UsagePage-module__healthTooltipStats___EqRXO",wge="UsagePage-module__healthTooltipSuccess___Qc947",kge="UsagePage-module__healthTooltipFailure___4fKGK",Cge="UsagePage-module__healthTooltipRate___rg7Rm",Age="UsagePage-module__healthLegend___lLmsq",Tge="UsagePage-module__healthLegendLabel___muJul",Nge="UsagePage-module__healthLegendColors___HbDI-",Mge="UsagePage-module__healthLegendBlock___r3rdr",se={container:dme,header:hme,headerActions:fme,lastRefreshed:mme,timeRangeGroup:pme,timeRangeLabel:gme,timeRangeSelectControl:_me,pageTitle:yme,errorBox:bme,hint:xme,loadingOverlay:vme,loadingOverlayContent:Sme,loadingOverlaySpinner:wme,loadingOverlayText:kme,statsGrid:Cme,statCard:Ame,statValue:Tme,statCardHeader:Nme,statLabelGroup:Mme,statIconBadge:Ome,statLabel:Lme,statSuccess:Pme,statFailure:Rme,statNeutral:Eme,statMetaRow:jme,statMetaItem:Dme,statMetaDot:Fme,statSubtle:Ume,statTrend:Bme,statTrendPlaceholder:Ime,sparkline:zme,apiSortBar:qme,apiSortBtn:Kme,apiSortBtnActive:Hme,apiList:Vme,apiItem:Wme,apiHeader:Gme,apiInfo:Xme,apiEndpoint:$me,apiStats:Qme,apiBadge:Yme,expandIcon:Zme,apiModels:Jme,modelRow:epe,modelName:tpe,modelStat:npe,detailsFixedCard:ipe,detailsScroll:spe,tableWrapper:ape,table:rpe,sortableHeader:ope,sortHeaderButton:lpe,modelCell:cpe,credentialType:upe,requestCountCell:dpe,requestBreakdown:hpe,pricingSection:fpe,priceForm:mpe,formRow:ppe,formField:gpe,pricesList:_pe,pricesTitle:ype,pricesGrid:bpe,priceItem:xpe,priceInfo:vpe,priceModel:Spe,priceMeta:wpe,priceActions:kpe,editModalBody:Cpe,chartWrapper:Ape,chartLegend:Tpe,legendItem:Npe,legendDot:Mpe,legendLabel:Ope,chartArea:Lpe,chartScroller:Ppe,chartCanvas:Rpe,periodButtons:Epe,chartsGrid:jpe,detailsGrid:Dpe,requestEventsActions:Fpe,requestEventsToolbar:Upe,requestEventsFilterItem:Bpe,requestEventsFilterLabel:Ipe,requestEventsSelect:zpe,requestEventsMeta:qpe,requestEventsLimitHint:Kpe,requestEventsTableWrapper:Hpe,requestEventsTimestamp:Vpe,requestEventsSourceCell:Wpe,requestEventsAuthIndex:Gpe,requestEventsResultSuccess:Xpe,requestEventsResultFailed:$pe,chartLineHeader:Qpe,chartLineList:Ype,chartLineItem:Zpe,chartLineLabel:Jpe,chartLineCount:ege,chartLineHint:tge,healthCard:nge,healthHeader:ige,healthTitle:sge,healthMeta:age,healthWindow:rge,healthRate:oge,healthRateHigh:lge,healthRateMedium:cge,healthRateLow:uge,healthGridScroller:dge,healthGrid:hge,healthBlockWrapper:fge,healthBlock:mge,healthBlockActive:pge,healthBlockIdle:gge,healthTooltip:_ge,healthTooltipBelow:yge,healthTooltipLeft:bge,healthTooltipRight:xge,healthTooltipTime:vge,healthTooltipStats:Sge,healthTooltipSuccess:wge,healthTooltipFailure:kge,healthTooltipRate:Cge,healthLegend:Age,healthLegendLabel:Tge,healthLegendColors:Nge,healthLegendBlock:Mge};function Oge({usage:n,loading:e,modelPrices:t,nowMs:i,sparklines:s}){const{t:a}=Ze(),r=Object.keys(t).length>0,{tokenBreakdown:o,rateStats:l,totalCost:u}=w.useMemo(()=>{const m={tokenBreakdown:{cachedTokens:0,reasoningTokens:0},rateStats:{rpm:0,tpm:0,windowMinutes:30,requestCount:0,tokenCount:0},totalCost:0};if(!n)return m;const g=$a(n);if(!g.length)return m;let _=0,b=0,x=0;const v=i,C=30,k=v-C*60*1e3;let N=0,O=0;const T=Number.isFinite(v)&&v>0;g.forEach(M=>{const P=M.tokens;_+=Math.max(typeof P.cached_tokens=="number"?Math.max(P.cached_tokens,0):0,typeof P.cache_tokens=="number"?Math.max(P.cache_tokens,0):0),typeof P.reasoning_tokens=="number"&&(b+=P.reasoning_tokens);const R=M.__timestampMs??0;T&&Number.isFinite(R)&&R>=k&&R<=v&&(N+=1,O+=Lh(M)),r&&(x+=Yp(M,t))});const L=C;return{tokenBreakdown:{cachedTokens:_,reasoningTokens:b},rateStats:{rpm:N/L,tpm:O/L,windowMinutes:C,requestCount:N,tokenCount:O},totalCost:x}},[r,t,i,n]),h=[{key:"requests",label:a("usage_stats.total_requests"),icon:f.jsx(UD,{size:16}),accent:"#8b8680",accentSoft:"rgba(139, 134, 128, 0.18)",accentBorder:"rgba(139, 134, 128, 0.35)",value:e?"-":(n?.total_requests??0).toLocaleString(),meta:f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:se.statMetaItem,children:[f.jsx("span",{className:se.statMetaDot,style:{backgroundColor:"#10b981"}}),a("usage_stats.success_requests"),": ",e?"-":n?.success_count??0]}),f.jsxs("span",{className:se.statMetaItem,children:[f.jsx("span",{className:se.statMetaDot,style:{backgroundColor:"#c65746"}}),a("usage_stats.failed_requests"),": ",e?"-":n?.failure_count??0]})]}),trend:s.requests},{key:"tokens",label:a("usage_stats.total_tokens"),icon:f.jsx(eV,{size:16}),accent:"#8b5cf6",accentSoft:"rgba(139, 92, 246, 0.18)",accentBorder:"rgba(139, 92, 246, 0.35)",value:e?"-":Bo(n?.total_tokens??0),meta:f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:se.statMetaItem,children:[a("usage_stats.cached_tokens"),": ",e?"-":Bo(o.cachedTokens)]}),f.jsxs("span",{className:se.statMetaItem,children:[a("usage_stats.reasoning_tokens"),": ",e?"-":Bo(o.reasoningTokens)]})]}),trend:s.tokens},{key:"rpm",label:a("usage_stats.rpm_30m"),icon:f.jsx(Zk,{size:16}),accent:"#22c55e",accentSoft:"rgba(34, 197, 94, 0.18)",accentBorder:"rgba(34, 197, 94, 0.32)",value:e?"-":bP(l.rpm),meta:f.jsxs("span",{className:se.statMetaItem,children:[a("usage_stats.total_requests"),": ",e?"-":l.requestCount.toLocaleString()]}),trend:s.rpm},{key:"tpm",label:a("usage_stats.tpm_30m"),icon:f.jsx(tV,{size:16}),accent:"#f97316",accentSoft:"rgba(249, 115, 22, 0.18)",accentBorder:"rgba(249, 115, 22, 0.32)",value:e?"-":bP(l.tpm),meta:f.jsxs("span",{className:se.statMetaItem,children:[a("usage_stats.total_tokens"),": ",e?"-":Bo(l.tokenCount)]}),trend:s.tpm},{key:"cost",label:a("usage_stats.total_cost"),icon:f.jsx(nV,{size:16}),accent:"#f59e0b",accentSoft:"rgba(245, 158, 11, 0.18)",accentBorder:"rgba(245, 158, 11, 0.32)",value:e?"-":r?qb(u):"--",meta:f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:se.statMetaItem,children:[a("usage_stats.total_tokens"),": ",e?"-":Bo(n?.total_tokens??0)]}),!r&&f.jsx("span",{className:`${se.statMetaItem} ${se.statSubtle}`,children:a("usage_stats.cost_need_price")})]}),trend:r?s.cost:null}];return f.jsx("div",{className:se.statsGrid,children:h.map(m=>f.jsxs("div",{className:se.statCard,style:{"--accent":m.accent,"--accent-soft":m.accentSoft,"--accent-border":m.accentBorder},children:[f.jsxs("div",{className:se.statCardHeader,children:[f.jsx("div",{className:se.statLabelGroup,children:f.jsx("span",{className:se.statLabel,children:m.label})}),f.jsx("span",{className:se.statIconBadge,children:m.icon})]}),f.jsx("div",{className:se.statValue,children:m.value}),m.meta&&f.jsx("div",{className:se.statMetaRow,children:m.meta}),f.jsx("div",{className:se.statTrend,children:m.trend?f.jsx(sx,{className:se.sparkline,data:m.trend.data,options:sme}):f.jsx("div",{className:se.statTrendPlaceholder})})]},m.key))})}function QE({title:n,period:e,onPeriodChange:t,chartData:i,chartOptions:s,loading:a,isMobile:r,emptyText:o}){const{t:l}=Ze();return f.jsx(wt,{title:n,extra:f.jsxs("div",{className:se.periodButtons,children:[f.jsx(he,{variant:e==="hour"?"primary":"secondary",size:"sm",onClick:()=>t("hour"),children:l("usage_stats.by_hour")}),f.jsx(he,{variant:e==="day"?"primary":"secondary",size:"sm",onClick:()=>t("day"),children:l("usage_stats.by_day")})]}),children:a?f.jsx("div",{className:se.hint,children:l("common.loading")}):i.labels.length>0?f.jsxs("div",{className:se.chartWrapper,children:[f.jsx("div",{className:se.chartLegend,"aria-label":"Chart legend",children:i.datasets.map((u,h)=>f.jsxs("div",{className:se.legendItem,title:u.label,children:[f.jsx("span",{className:se.legendDot,style:{backgroundColor:u.borderColor}}),f.jsx("span",{className:se.legendLabel,children:u.label})]},`${u.label}-${h}`))}),f.jsx("div",{className:se.chartArea,children:f.jsx("div",{className:se.chartScroller,children:f.jsx("div",{className:se.chartCanvas,style:e==="hour"?{minWidth:nA(i.labels.length,r)}:void 0,children:f.jsx(sx,{data:i,options:s})})})})]}):f.jsx("div",{className:se.hint,children:o})})}function Lge({chartLines:n,modelNames:e,maxLines:t=9,onChange:i}){const{t:s}=Ze(),a=()=>{if(n.length>=t)return;const u=e.find(h=>!n.includes(h));i(u?[...n,u]:[...n,"all"])},r=u=>{if(n.length<=1)return;const h=[...n];h.splice(u,1),i(h)},o=(u,h)=>{const m=[...n];m[u]=h,i(m)},l=w.useMemo(()=>[{value:"all",label:s("usage_stats.chart_line_all")},...e.map(u=>({value:u,label:u}))],[e,s]);return f.jsxs(wt,{title:s("usage_stats.chart_line_actions_label"),extra:f.jsxs("div",{className:se.chartLineHeader,children:[f.jsxs("span",{className:se.chartLineCount,children:[n.length,"/",t]}),f.jsx(he,{variant:"secondary",size:"sm",onClick:a,disabled:n.length>=t,children:s("usage_stats.chart_line_add")})]}),children:[f.jsx("div",{className:se.chartLineList,children:n.map((u,h)=>f.jsxs("div",{className:se.chartLineItem,children:[f.jsx("span",{className:se.chartLineLabel,children:s(`usage_stats.chart_line_label_${h+1}`)}),f.jsx(Ks,{value:u,options:l,onChange:m=>o(h,m)}),n.length>1&&f.jsx(he,{variant:"danger",size:"sm",onClick:()=>r(h),children:s("usage_stats.chart_line_delete")})]},h))}),f.jsx("p",{className:se.chartLineHint,children:s("usage_stats.chart_line_hint")})]})}function Pge({apiStats:n,loading:e,hasPrices:t}){const{t:i}=Ze(),[s,a]=w.useState(new Set),[r,o]=w.useState("requests"),[l,u]=w.useState("desc"),h=b=>{a(x=>{const v=new Set(x);return v.has(b)?v.delete(b):v.add(b),v})},m=b=>{r===b?u(x=>x==="asc"?"desc":"asc"):(o(b),u(b==="endpoint"?"asc":"desc"))},g=w.useMemo(()=>{const b=[...n],x=l==="asc"?1:-1;return b.sort((v,C)=>{switch(r){case"endpoint":return x*v.endpoint.localeCompare(C.endpoint);case"requests":return x*(v.totalRequests-C.totalRequests);case"tokens":return x*(v.totalTokens-C.totalTokens);case"cost":return x*(v.totalCost-C.totalCost);default:return 0}}),b},[n,r,l]),_=b=>r===b?l==="asc"?" ":" ":"";return f.jsx(wt,{title:i("usage_stats.api_details"),className:se.detailsFixedCard,children:e?f.jsx("div",{className:se.hint,children:i("common.loading")}):g.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:se.apiSortBar,children:[["endpoint","usage_stats.api_endpoint"],["requests","usage_stats.requests_count"],["tokens","usage_stats.tokens_count"],...t?[["cost","usage_stats.total_cost"]]:[]].map(([b,x])=>f.jsxs("button",{type:"button","aria-pressed":r===b,className:`${se.apiSortBtn} ${r===b?se.apiSortBtnActive:""}`,onClick:()=>m(b),children:[i(x),_(b)]},b))}),f.jsx("div",{className:se.detailsScroll,children:f.jsx("div",{className:se.apiList,children:g.map((b,x)=>{const v=s.has(b.endpoint),C=`api-models-${x}`;return f.jsxs("div",{className:se.apiItem,children:[f.jsxs("button",{type:"button",className:se.apiHeader,onClick:()=>h(b.endpoint),"aria-expanded":v,"aria-controls":C,children:[f.jsxs("div",{className:se.apiInfo,children:[f.jsx("span",{className:se.apiEndpoint,children:b.endpoint}),f.jsxs("div",{className:se.apiStats,children:[f.jsx("span",{className:se.apiBadge,children:f.jsxs("span",{className:se.requestCountCell,children:[f.jsxs("span",{children:[i("usage_stats.requests_count"),": ",b.totalRequests.toLocaleString()]}),f.jsxs("span",{className:se.requestBreakdown,children:["(",f.jsx("span",{className:se.statSuccess,children:b.successCount.toLocaleString()})," ",f.jsx("span",{className:se.statFailure,children:b.failureCount.toLocaleString()}),")"]})]})}),f.jsxs("span",{className:se.apiBadge,children:[i("usage_stats.tokens_count"),": ",Bo(b.totalTokens)]}),t&&b.totalCost>0&&f.jsxs("span",{className:se.apiBadge,children:[i("usage_stats.total_cost"),": ",qb(b.totalCost)]})]})]}),f.jsx("span",{className:se.expandIcon,children:v?"":""})]}),v&&f.jsx("div",{id:C,className:se.apiModels,children:Object.entries(b.models).map(([k,N])=>f.jsxs("div",{className:se.modelRow,children:[f.jsx("span",{className:se.modelName,children:k}),f.jsx("span",{className:se.modelStat,children:f.jsxs("span",{className:se.requestCountCell,children:[f.jsx("span",{children:N.requests.toLocaleString()}),f.jsxs("span",{className:se.requestBreakdown,children:["(",f.jsx("span",{className:se.statSuccess,children:N.successCount.toLocaleString()})," ",f.jsx("span",{className:se.statFailure,children:N.failureCount.toLocaleString()}),")"]})]})}),f.jsx("span",{className:se.modelStat,children:Bo(N.tokens)})]},k))})]},b.endpoint)})})})]}):f.jsx("div",{className:se.hint,children:i("usage_stats.no_data")})})}function Rge({modelStats:n,loading:e,hasPrices:t}){const{t:i}=Ze(),[s,a]=w.useState("requests"),[r,o]=w.useState("desc"),l=g=>{s===g?o(_=>_==="asc"?"desc":"asc"):(a(g),o(g==="model"?"asc":"desc"))},u=w.useMemo(()=>{const g=n.map(b=>({...b,successRate:b.requests>0?b.successCount/b.requests*100:100})),_=r==="asc"?1:-1;return g.sort((b,x)=>s==="model"?_*b.model.localeCompare(x.model):_*(b[s]-x[s])),g},[n,s,r]),h=g=>s===g?r==="asc"?" ":" ":"",m=g=>s===g?r==="asc"?"ascending":"descending":"none";return f.jsx(wt,{title:i("usage_stats.models"),className:se.detailsFixedCard,children:e?f.jsx("div",{className:se.hint,children:i("common.loading")}):u.length>0?f.jsx("div",{className:se.detailsScroll,children:f.jsx("div",{className:se.tableWrapper,children:f.jsxs("table",{className:se.table,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:se.sortableHeader,"aria-sort":m("model"),children:f.jsxs("button",{type:"button",className:se.sortHeaderButton,onClick:()=>l("model"),children:[i("usage_stats.model_name"),h("model")]})}),f.jsx("th",{className:se.sortableHeader,"aria-sort":m("requests"),children:f.jsxs("button",{type:"button",className:se.sortHeaderButton,onClick:()=>l("requests"),children:[i("usage_stats.requests_count"),h("requests")]})}),f.jsx("th",{className:se.sortableHeader,"aria-sort":m("tokens"),children:f.jsxs("button",{type:"button",className:se.sortHeaderButton,onClick:()=>l("tokens"),children:[i("usage_stats.tokens_count"),h("tokens")]})}),f.jsx("th",{className:se.sortableHeader,"aria-sort":m("successRate"),children:f.jsxs("button",{type:"button",className:se.sortHeaderButton,onClick:()=>l("successRate"),children:[i("usage_stats.success_rate"),h("successRate")]})}),t&&f.jsx("th",{className:se.sortableHeader,"aria-sort":m("cost"),children:f.jsxs("button",{type:"button",className:se.sortHeaderButton,onClick:()=>l("cost"),children:[i("usage_stats.total_cost"),h("cost")]})})]})}),f.jsx("tbody",{children:u.map(g=>f.jsxs("tr",{children:[f.jsx("td",{className:se.modelCell,children:g.model}),f.jsx("td",{children:f.jsxs("span",{className:se.requestCountCell,children:[f.jsx("span",{children:g.requests.toLocaleString()}),f.jsxs("span",{className:se.requestBreakdown,children:["(",f.jsx("span",{className:se.statSuccess,children:g.successCount.toLocaleString()})," ",f.jsx("span",{className:se.statFailure,children:g.failureCount.toLocaleString()}),")"]})]})}),f.jsx("td",{children:Bo(g.tokens)}),f.jsx("td",{children:f.jsxs("span",{className:g.successRate>=95?se.statSuccess:g.successRate>=80?se.statNeutral:se.statFailure,children:[g.successRate.toFixed(1),"%"]})}),t&&f.jsx("td",{children:g.cost>0?qb(g.cost):"--"})]},g.model))})]})})}):f.jsx("div",{className:se.hint,children:i("usage_stats.no_data")})})}function Ege({modelNames:n,modelPrices:e,onPricesChange:t}){const{t:i}=Ze(),[s,a]=w.useState(""),[r,o]=w.useState(""),[l,u]=w.useState(""),[h,m]=w.useState(""),[g,_]=w.useState(null),[b,x]=w.useState(""),[v,C]=w.useState(""),[k,N]=w.useState(""),O=()=>{if(!s)return;const D=parseFloat(r)||0,U=parseFloat(l)||0,F=h.trim()===""?D:parseFloat(h)||0,H={...e,[s]:{prompt:D,completion:U,cache:F}};t(H),a(""),o(""),u(""),m("")},T=D=>{const U={...e};delete U[D],t(U)},L=D=>{const U=e[D];_(D),x(U?.prompt?.toString()||""),C(U?.completion?.toString()||""),N(U?.cache?.toString()||"")},M=()=>{if(!g)return;const D=parseFloat(b)||0,U=parseFloat(v)||0,F=k.trim()===""?D:parseFloat(k)||0,H={...e,[g]:{prompt:D,completion:U,cache:F}};t(H),_(null)},P=D=>{a(D);const U=e[D];U?(o(U.prompt.toString()),u(U.completion.toString()),m(U.cache.toString())):(o(""),u(""),m(""))},R=w.useMemo(()=>[{value:"",label:i("usage_stats.model_price_select_placeholder")},...n.map(D=>({value:D,label:D}))],[n,i]);return f.jsxs(wt,{title:i("usage_stats.model_price_settings"),children:[f.jsxs("div",{className:se.pricingSection,children:[f.jsx("div",{className:se.priceForm,children:f.jsxs("div",{className:se.formRow,children:[f.jsxs("div",{className:se.formField,children:[f.jsx("label",{children:i("usage_stats.model_name")}),f.jsx(Ks,{value:s,options:R,onChange:P,placeholder:i("usage_stats.model_price_select_placeholder")})]}),f.jsxs("div",{className:se.formField,children:[f.jsxs("label",{children:[i("usage_stats.model_price_prompt")," ($/1M)"]}),f.jsx(st,{type:"number",value:r,onChange:D=>o(D.target.value),placeholder:"0.00",step:"0.0001"})]}),f.jsxs("div",{className:se.formField,children:[f.jsxs("label",{children:[i("usage_stats.model_price_completion")," ($/1M)"]}),f.jsx(st,{type:"number",value:l,onChange:D=>u(D.target.value),placeholder:"0.00",step:"0.0001"})]}),f.jsxs("div",{className:se.formField,children:[f.jsxs("label",{children:[i("usage_stats.model_price_cache")," ($/1M)"]}),f.jsx(st,{type:"number",value:h,onChange:D=>m(D.target.value),placeholder:"0.00",step:"0.0001"})]}),f.jsx(he,{variant:"primary",onClick:O,disabled:!s,children:i("common.save")})]})}),f.jsxs("div",{className:se.pricesList,children:[f.jsx("h4",{className:se.pricesTitle,children:i("usage_stats.saved_prices")}),Object.keys(e).length>0?f.jsx("div",{className:se.pricesGrid,children:Object.entries(e).map(([D,U])=>f.jsxs("div",{className:se.priceItem,children:[f.jsxs("div",{className:se.priceInfo,children:[f.jsx("span",{className:se.priceModel,children:D}),f.jsxs("div",{className:se.priceMeta,children:[f.jsxs("span",{children:[i("usage_stats.model_price_prompt"),": $",U.prompt.toFixed(4),"/1M"]}),f.jsxs("span",{children:[i("usage_stats.model_price_completion"),": $",U.completion.toFixed(4),"/1M"]}),f.jsxs("span",{children:[i("usage_stats.model_price_cache"),": $",U.cache.toFixed(4),"/1M"]})]})]}),f.jsxs("div",{className:se.priceActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>L(D),children:i("common.edit")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>T(D),children:i("common.delete")})]})]},D))}):f.jsx("div",{className:se.hint,children:i("usage_stats.model_price_empty")})]})]}),f.jsx(is,{open:g!==null,title:g??"",onClose:()=>_(null),footer:f.jsxs("div",{className:se.priceActions,children:[f.jsx(he,{variant:"secondary",onClick:()=>_(null),children:i("common.cancel")}),f.jsx(he,{variant:"primary",onClick:M,children:i("common.save")})]}),width:420,children:f.jsxs("div",{className:se.editModalBody,children:[f.jsxs("div",{className:se.formField,children:[f.jsxs("label",{children:[i("usage_stats.model_price_prompt")," ($/1M)"]}),f.jsx(st,{type:"number",value:b,onChange:D=>x(D.target.value),placeholder:"0.00",step:"0.0001"})]}),f.jsxs("div",{className:se.formField,children:[f.jsxs("label",{children:[i("usage_stats.model_price_completion")," ($/1M)"]}),f.jsx(st,{type:"number",value:v,onChange:D=>C(D.target.value),placeholder:"0.00",step:"0.0001"})]}),f.jsxs("div",{className:se.formField,children:[f.jsxs("label",{children:[i("usage_stats.model_price_cache")," ($/1M)"]}),f.jsx(st,{type:"number",value:k,onChange:D=>N(D.target.value),placeholder:"0.00",step:"0.0001"})]})]})})]})}function jge({usage:n,loading:e,geminiKeys:t,claudeConfigs:i,codexConfigs:s,vertexConfigs:a,openaiProviders:r}){const{t:o}=Ze(),[l,u]=w.useState(new Map);w.useEffect(()=>{let m=!1;return At.list().then(g=>{if(m)return;const _=Array.isArray(g)?g:g?.files;if(!Array.isArray(_))return;const b=new Map;_.forEach(x=>{const v=x.auth_index??x.authIndex,C=ws(v);C&&b.set(C,{name:x.name||C,type:(x.type||x.provider||"").toString()})}),u(b)}).catch(()=>{}),()=>{m=!0}},[]);const h=w.useMemo(()=>{if(!n)return[];const m=$a(n),g={},_=[],b=new Set,x=new Map,v=new Map,C=new Map,k=new Map;m.forEach(T=>{const L=ws(T.auth_index),M=T.source,P=T.failed===!0;if(!M){if(!L)return;const D=k.get(L)??{success:0,failure:0};P?D.failure+=1:D.success+=1,k.set(L,D);return}const R=g[M]??{success:0,failure:0};if(P?R.failure+=1:R.success+=1,g[M]=R,L&&!v.has(M)&&v.set(M,L),L&&!C.has(M)){const D=l.get(L);D&&C.set(M,D)}});const N=(T,L)=>{const M=_[T];M&&(M.success+=L.success,M.failure+=L.failure,M.total=M.success+M.failure,M.successRate=M.total>0?M.success/M.total*100:100)},O=(T,L,M,P,R)=>{const D=bs({apiKey:T,prefix:L});let U=0,F=0;D.forEach(Z=>{const Y=g[Z];Y&&(U+=Y.success,F+=Y.failure,b.add(Z))});const H=U+F;H>0&&_.push({key:R,displayName:M,type:P,success:U,failure:F,total:H,successRate:U/H*100})};return t.forEach((T,L)=>O(T.apiKey,T.prefix,T.prefix?.trim()||`Gemini #${L+1}`,"gemini",`gemini:${L}`)),i.forEach((T,L)=>O(T.apiKey,T.prefix,T.prefix?.trim()||`Claude #${L+1}`,"claude",`claude:${L}`)),s.forEach((T,L)=>O(T.apiKey,T.prefix,T.prefix?.trim()||`Codex #${L+1}`,"codex",`codex:${L}`)),a.forEach((T,L)=>O(T.apiKey,T.prefix,T.prefix?.trim()||`Vertex #${L+1}`,"vertex",`vertex:${L}`)),r.forEach((T,L)=>{const M=T.prefix,P=M?.trim()||T.name||`OpenAI #${L+1}`,R=new Set;bs({prefix:M}).forEach(H=>R.add(H)),(T.apiKeyEntries||[]).forEach(H=>{bs({apiKey:H.apiKey}).forEach(Z=>R.add(Z))});let D=0,U=0;R.forEach(H=>{const Z=g[H];Z&&(D+=Z.success,U+=Z.failure,b.add(H))});const F=D+U;F>0&&_.push({key:`openai:${L}`,displayName:P,type:"openai",success:D,failure:U,total:F,successRate:D/F*100})}),Object.entries(g).forEach(([T,L])=>{if(b.has(T))return;const M=L.success+L.failure,P=C.get(T),R={key:T,displayName:P?.name||(T.startsWith("t:")?T.slice(2):T),type:P?.type||"",success:L.success,failure:L.failure,total:M,successRate:M>0?L.success/M*100:100},D=_.push(R)-1,U=v.get(T);U&&!x.has(U)&&x.set(U,D)}),k.forEach((T,L)=>{if(T.success+T.failure===0)return;const M=l.get(L);let P=x.get(L);if(P===void 0&&M){const U=_.findIndex(F=>F.displayName===M.name&&F.type===M.type);U>=0&&(P=U,x.set(L,U))}if(P!==void 0){N(P,T);return}const R=T.success+T.failure,D=_.push({key:`auth:${L}`,displayName:M?.name||L,type:M?.type||"",success:T.success,failure:T.failure,total:R,successRate:T.success/R*100})-1;x.set(L,D)}),_.sort((T,L)=>L.total-T.total)},[n,t,i,s,a,r,l]);return f.jsx(wt,{title:o("usage_stats.credential_stats"),className:se.detailsFixedCard,children:e?f.jsx("div",{className:se.hint,children:o("common.loading")}):h.length>0?f.jsx("div",{className:se.detailsScroll,children:f.jsx("div",{className:se.tableWrapper,children:f.jsxs("table",{className:se.table,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:o("usage_stats.credential_name")}),f.jsx("th",{children:o("usage_stats.requests_count")}),f.jsx("th",{children:o("usage_stats.success_rate")})]})}),f.jsx("tbody",{children:h.map(m=>f.jsxs("tr",{children:[f.jsxs("td",{className:se.modelCell,children:[f.jsx("span",{children:m.displayName}),m.type&&f.jsx("span",{className:se.credentialType,children:m.type})]}),f.jsx("td",{children:f.jsxs("span",{className:se.requestCountCell,children:[f.jsx("span",{children:Bo(m.total)}),f.jsxs("span",{className:se.requestBreakdown,children:["(",f.jsx("span",{className:se.statSuccess,children:m.success.toLocaleString()})," ",f.jsx("span",{className:se.statFailure,children:m.failure.toLocaleString()}),")"]})]})}),f.jsx("td",{children:f.jsxs("span",{className:m.successRate>=95?se.statSuccess:m.successRate>=80?se.statNeutral:se.statFailure,children:[m.successRate.toFixed(1),"%"]})})]},m.key))})]})})}):f.jsx("div",{className:se.hint,children:o("usage_stats.no_data")})})}const h0={input:{border:"#8b8680",bg:"rgba(139, 134, 128, 0.25)"},output:{border:"#22c55e",bg:"rgba(34, 197, 94, 0.25)"},cached:{border:"#f59e0b",bg:"rgba(245, 158, 11, 0.25)"},reasoning:{border:"#8b5cf6",bg:"rgba(139, 92, 246, 0.25)"}},Dge=["input","output","cached","reasoning"];function Fge({usage:n,loading:e,isDark:t,isMobile:i,hourWindowHours:s}){const{t:a}=Ze(),[r,o]=w.useState("hour"),{chartData:l,chartOptions:u}=w.useMemo(()=>{const h=r==="hour"?R$(n,s):E$(n),m={input:a("usage_stats.input_tokens"),output:a("usage_stats.output_tokens"),cached:a("usage_stats.cached_tokens"),reasoning:a("usage_stats.reasoning_tokens")},g={labels:h.labels,datasets:Dge.map(x=>({label:m[x],data:h.dataByCategory[x],borderColor:h0[x].border,backgroundColor:h0[x].bg,pointBackgroundColor:h0[x].border,pointBorderColor:h0[x].border,fill:!0,tension:.35}))},_=$y({period:r,labels:h.labels,isDark:t,isMobile:i}),b={..._,scales:{..._.scales,y:{..._.scales?.y,stacked:!0},x:{..._.scales?.x,stacked:!0}}};return{chartData:g,chartOptions:b}},[n,r,t,i,s,a]);return f.jsx(wt,{title:a("usage_stats.token_breakdown"),extra:f.jsxs("div",{className:se.periodButtons,children:[f.jsx(he,{variant:r==="hour"?"primary":"secondary",size:"sm",onClick:()=>o("hour"),children:a("usage_stats.by_hour")}),f.jsx(he,{variant:r==="day"?"primary":"secondary",size:"sm",onClick:()=>o("day"),children:a("usage_stats.by_day")})]}),children:e?f.jsx("div",{className:se.hint,children:a("common.loading")}):l.labels.length>0?f.jsxs("div",{className:se.chartWrapper,children:[f.jsx("div",{className:se.chartLegend,"aria-label":"Chart legend",children:l.datasets.map((h,m)=>f.jsxs("div",{className:se.legendItem,title:h.label,children:[f.jsx("span",{className:se.legendDot,style:{backgroundColor:h.borderColor}}),f.jsx("span",{className:se.legendLabel,children:h.label})]},`${h.label}-${m}`))}),f.jsx("div",{className:se.chartArea,children:f.jsx("div",{className:se.chartScroller,children:f.jsx("div",{className:se.chartCanvas,style:r==="hour"?{minWidth:nA(l.labels.length,i)}:void 0,children:f.jsx(sx,{data:l,options:u})})})})]}):f.jsx("div",{className:se.hint,children:a("usage_stats.no_data")})})}const B2="#f59e0b",Uge="rgba(245, 158, 11, 0.15)";function Bge(n){const e=n.chart,t=e.chartArea;if(!t)return Uge;const i=e.ctx.createLinearGradient(0,t.top,0,t.bottom);return i.addColorStop(0,"rgba(245, 158, 11, 0.28)"),i.addColorStop(.6,"rgba(245, 158, 11, 0.12)"),i.addColorStop(1,"rgba(245, 158, 11, 0.02)"),i}function Ige({usage:n,loading:e,isDark:t,isMobile:i,modelPrices:s,hourWindowHours:a}){const{t:r}=Ze(),[o,l]=w.useState("hour"),u=Object.keys(s).length>0,{chartData:h,chartOptions:m,hasData:g}=w.useMemo(()=>{if(!u||!n)return{chartData:{labels:[],datasets:[]},chartOptions:{},hasData:!1};const _=o==="hour"?j$(n,s,a):D$(n,s),b={labels:_.labels,datasets:[{label:r("usage_stats.total_cost"),data:_.data,borderColor:B2,backgroundColor:Bge,pointBackgroundColor:B2,pointBorderColor:B2,fill:!0,tension:.35}]},x=$y({period:o,labels:_.labels,isDark:t,isMobile:i}),v={...x,scales:{...x.scales,y:{...x.scales?.y,ticks:{...x.scales?.y&&"ticks"in x.scales.y?x.scales.y.ticks:{},callback:C=>qb(Number(C))}}}};return{chartData:b,chartOptions:v,hasData:_.hasData}},[n,o,t,i,s,u,a,r]);return f.jsx(wt,{title:r("usage_stats.cost_trend"),extra:f.jsxs("div",{className:se.periodButtons,children:[f.jsx(he,{variant:o==="hour"?"primary":"secondary",size:"sm",onClick:()=>l("hour"),children:r("usage_stats.by_hour")}),f.jsx(he,{variant:o==="day"?"primary":"secondary",size:"sm",onClick:()=>l("day"),children:r("usage_stats.by_day")})]}),children:e?f.jsx("div",{className:se.hint,children:r("common.loading")}):u?g?f.jsx("div",{className:se.chartWrapper,children:f.jsx("div",{className:se.chartArea,children:f.jsx("div",{className:se.chartScroller,children:f.jsx("div",{className:se.chartCanvas,style:o==="hour"?{minWidth:nA(h.labels.length,i)}:void 0,children:f.jsx(sx,{data:h,options:m})})})})}):f.jsx("div",{className:se.hint,children:r("usage_stats.cost_no_data")}):f.jsx("div",{className:se.hint,children:r("usage_stats.cost_need_price")})})}const YE=[{r:239,g:68,b:68},{r:250,g:204,b:21},{r:34,g:197,b:94}];function zge(n){const e=Math.max(0,Math.min(1,n)),t=e<.5?0:1,i=t===0?e*2:(e-.5)*2,s=YE[t],a=YE[t+1],r=Math.round(s.r+(a.r-s.r)*i),o=Math.round(s.g+(a.g-s.g)*i),l=Math.round(s.b+(a.b-s.b)*i);return`rgb(${r}, ${o}, ${l})`}function ZE(n){const e=new Date(n),t=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");return`${t}/${i} ${s}:${a}`}function qge({usage:n,loading:e}){const{t}=Ze(),[i,s]=w.useState(null),a=w.useRef(null),r=w.useMemo(()=>{const x=n?$a(n):[];return O$(x)},[n]),o=r.totalSuccess+r.totalFailure>0;w.useEffect(()=>{if(i===null)return;const x=v=>{a.current&&!a.current.contains(v.target)&&s(null)};return document.addEventListener("pointerdown",x),()=>document.removeEventListener("pointerdown",x)},[i]);const l=w.useCallback((x,v)=>{x.pointerType==="mouse"&&s(v)},[]),u=w.useCallback(x=>{x.pointerType==="mouse"&&s(null)},[]),h=w.useCallback((x,v)=>{x.pointerType==="touch"&&(x.preventDefault(),s(C=>C===v?null:v))},[]),m=x=>{const v=Math.floor(x/r.rows);return v<=2?se.healthTooltipLeft:v>=r.cols-3?se.healthTooltipRight:""},g=x=>x%r.rows<=1?se.healthTooltipBelow:"",_=(x,v)=>{const C=x.success+x.failure,k=m(v),N=g(v),O=`${ZE(x.startTime)}  ${ZE(x.endTime)}`;return f.jsxs("div",{className:`${se.healthTooltip} ${k} ${N}`,children:[f.jsx("span",{className:se.healthTooltipTime,children:O}),C>0?f.jsxs("span",{className:se.healthTooltipStats,children:[f.jsxs("span",{className:se.healthTooltipSuccess,children:[t("status_bar.success_short")," ",x.success]}),f.jsxs("span",{className:se.healthTooltipFailure,children:[t("status_bar.failure_short")," ",x.failure]}),f.jsxs("span",{className:se.healthTooltipRate,children:["(",(x.rate*100).toFixed(1),"%)"]})]}):f.jsx("span",{className:se.healthTooltipStats,children:t("status_bar.no_requests")})]})},b=o?r.successRate>=90?se.healthRateHigh:r.successRate>=50?se.healthRateMedium:se.healthRateLow:"";return f.jsxs("div",{className:se.healthCard,children:[f.jsxs("div",{className:se.healthHeader,children:[f.jsx("h3",{className:se.healthTitle,children:t("service_health.title")}),f.jsxs("div",{className:se.healthMeta,children:[f.jsx("span",{className:se.healthWindow,children:t("service_health.window")}),f.jsx("span",{className:`${se.healthRate} ${b}`,children:e?"--":o?`${r.successRate.toFixed(1)}%`:"--"})]})]}),f.jsx("div",{className:se.healthGridScroller,children:f.jsx("div",{className:se.healthGrid,ref:a,children:r.blockDetails.map((x,v)=>{const C=x.rate===-1,k=C?void 0:{backgroundColor:zge(x.rate)},N=i===v;return f.jsxs("div",{className:`${se.healthBlockWrapper} ${N?se.healthBlockActive:""}`,onPointerEnter:O=>l(O,v),onPointerLeave:u,onPointerDown:O=>h(O,v),children:[f.jsx("div",{className:`${se.healthBlock} ${C?se.healthBlockIdle:""}`,style:k}),N&&_(x,v)]},v)})})}),f.jsxs("div",{className:se.healthLegend,children:[f.jsx("span",{className:se.healthLegendLabel,children:t("service_health.oldest")}),f.jsxs("div",{className:se.healthLegendColors,children:[f.jsx("div",{className:`${se.healthLegendBlock} ${se.healthBlockIdle}`}),f.jsx("div",{className:se.healthLegendBlock,style:{backgroundColor:"#ef4444"}}),f.jsx("div",{className:se.healthLegendBlock,style:{backgroundColor:"#facc15"}}),f.jsx("div",{className:se.healthLegendBlock,style:{backgroundColor:"#22c55e"}})]}),f.jsx("span",{className:se.healthLegendLabel,children:t("service_health.newest")})]})]})}function U8(n){const e=new Map,t=(a,r,o)=>{!a||!r||e.has(a)||e.set(a,{displayName:r,type:o})},i=(a,r,o)=>{o.forEach(l=>t(l,a,r))};return[{items:n.geminiApiKeys||[],type:"gemini",label:"Gemini"},{items:n.claudeApiKeys||[],type:"claude",label:"Claude"},{items:n.codexApiKeys||[],type:"codex",label:"Codex"},{items:n.vertexApiKeys||[],type:"vertex",label:"Vertex"}].forEach(({items:a,type:r,label:o})=>{a.forEach((l,u)=>{const h=l.prefix?.trim()||`${o} #${u+1}`;i(h,r,bs({apiKey:l.apiKey,prefix:l.prefix}))})}),(n.openaiCompatibility||[]).forEach((a,r)=>{const o=a.prefix?.trim()||a.name||`OpenAI #${r+1}`,l=new Set;bs({prefix:a.prefix}).forEach(u=>l.add(u)),(a.apiKeyEntries||[]).forEach(u=>{bs({apiKey:u.apiKey}).forEach(h=>l.add(h))}),i(o,"openai",Array.from(l))}),e}function B8(n,e,t,i){const s=n.trim(),a=t.get(s);if(a)return a;const r=ws(e);if(r){const o=i.get(r);if(o)return{displayName:o.name||r,type:o.type}}return{displayName:s.startsWith("t:")?s.slice(2):s||"-",type:""}}const Ni="__all__",I2=500,xd=n=>{const e=Number(n);return Number.isFinite(e)?e:0},Kge=n=>{const e=String(n??""),t=e.replace(/^\s+/,"");return`"${(t&&/^[=+\-@]/.test(t)?`'${e}`:e).replace(/"/g,'""')}"`};function Hge({usage:n,loading:e,geminiKeys:t,claudeConfigs:i,codexConfigs:s,vertexConfigs:a,openaiProviders:r}){const{t:o,i18n:l}=Ze(),[u,h]=w.useState(Ni),[m,g]=w.useState(Ni),[_,b]=w.useState(Ni),[x,v]=w.useState(new Map);w.useEffect(()=>{let V=!1;return At.list().then($=>{if(V)return;const W=Array.isArray($)?$:$?.files;if(!Array.isArray(W))return;const j=new Map;W.forEach(B=>{const X=ws(B.auth_index??B.authIndex);X&&j.set(X,{name:B.name||X,type:(B.type||B.provider||"").toString()})}),v(j)}).catch(()=>{}),()=>{V=!0}},[]);const C=w.useMemo(()=>U8({geminiApiKeys:t,claudeApiKeys:i,codexApiKeys:s,vertexApiKeys:a,openaiCompatibility:r}),[i,s,t,r,a]),k=w.useMemo(()=>$a(n).map(($,W)=>{const j=$.timestamp,B=typeof $.__timestampMs=="number"&&$.__timestampMs>0?$.__timestampMs:Date.parse(j),X=Number.isNaN(B)?null:new Date(B),te=String($.source??"").trim(),Q=$.auth_index,G=Q==null||Q===""?"-":String(Q),ne=B8(te,Q,C,x),J=ne.displayName,re=ne.type,de=String($.__modelName??"").trim()||"-",Le=Math.max(xd($.tokens?.input_tokens),0),ke=Math.max(xd($.tokens?.output_tokens),0),nt=Math.max(xd($.tokens?.reasoning_tokens),0),_t=Math.max(Math.max(xd($.tokens?.cached_tokens),0),Math.max(xd($.tokens?.cache_tokens),0)),Ft=Math.max(xd($.tokens?.total_tokens),Lh($));return{id:`${j}-${de}-${te||J}-${G}-${W}`,timestamp:j,timestampMs:Number.isNaN(B)?0:B,timestampLabel:X?X.toLocaleString(l.language):j||"-",model:de,sourceRaw:te||"-",source:J,sourceType:re,authIndex:G,failed:$.failed===!0,inputTokens:Le,outputTokens:ke,reasoningTokens:nt,cachedTokens:_t,totalTokens:Ft}}).sort(($,W)=>W.timestampMs-$.timestampMs),[x,l.language,C,n]),N=w.useMemo(()=>[{value:Ni,label:o("usage_stats.filter_all")},...Array.from(new Set(k.map(V=>V.model))).map(V=>({value:V,label:V}))],[k,o]),O=w.useMemo(()=>[{value:Ni,label:o("usage_stats.filter_all")},...Array.from(new Set(k.map(V=>V.source))).map(V=>({value:V,label:V}))],[k,o]),T=w.useMemo(()=>[{value:Ni,label:o("usage_stats.filter_all")},...Array.from(new Set(k.map(V=>V.authIndex))).map(V=>({value:V,label:V}))],[k,o]),L=w.useMemo(()=>new Set(N.map(V=>V.value)),[N]),M=w.useMemo(()=>new Set(O.map(V=>V.value)),[O]),P=w.useMemo(()=>new Set(T.map(V=>V.value)),[T]),R=L.has(u)?u:Ni,D=M.has(m)?m:Ni,U=P.has(_)?_:Ni,F=w.useMemo(()=>k.filter(V=>{const $=R===Ni||V.model===R,W=D===Ni||V.source===D,j=U===Ni||V.authIndex===U;return $&&W&&j}),[U,R,D,k]),H=w.useMemo(()=>F.slice(0,I2),[F]),Z=R!==Ni||D!==Ni||U!==Ni,Y=()=>{h(Ni),g(Ni),b(Ni)},I=()=>{if(!F.length)return;const V=["timestamp","model","source","source_raw","auth_index","result","input_tokens","output_tokens","reasoning_tokens","cached_tokens","total_tokens"],$=F.map(B=>[B.timestamp,B.model,B.source,B.sourceRaw,B.authIndex,B.failed?"failed":"success",B.inputTokens,B.outputTokens,B.reasoningTokens,B.cachedTokens,B.totalTokens].map(X=>Kge(X)).join(",")),W=[V.join(","),...$].join(`
`),j=new Date().toISOString().replace(/[:.]/g,"-");du({filename:`usage-events-${j}.csv`,blob:new Blob([W],{type:"text/csv;charset=utf-8"})})},K=()=>{if(!F.length)return;const V=F.map(j=>({timestamp:j.timestamp,model:j.model,source:j.source,source_raw:j.sourceRaw,auth_index:j.authIndex,failed:j.failed,tokens:{input_tokens:j.inputTokens,output_tokens:j.outputTokens,reasoning_tokens:j.reasoningTokens,cached_tokens:j.cachedTokens,total_tokens:j.totalTokens}})),$=JSON.stringify(V,null,2),W=new Date().toISOString().replace(/[:.]/g,"-");du({filename:`usage-events-${W}.json`,blob:new Blob([$],{type:"application/json;charset=utf-8"})})};return f.jsxs(wt,{title:o("usage_stats.request_events_title"),extra:f.jsxs("div",{className:se.requestEventsActions,children:[f.jsx(he,{variant:"ghost",size:"sm",onClick:Y,disabled:!Z,children:o("usage_stats.clear_filters")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:I,disabled:F.length===0,children:o("usage_stats.export_csv")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:K,disabled:F.length===0,children:o("usage_stats.export_json")})]}),children:[f.jsxs("div",{className:se.requestEventsToolbar,children:[f.jsxs("div",{className:se.requestEventsFilterItem,children:[f.jsx("span",{className:se.requestEventsFilterLabel,children:o("usage_stats.request_events_filter_model")}),f.jsx(Ks,{value:R,options:N,onChange:h,className:se.requestEventsSelect,ariaLabel:o("usage_stats.request_events_filter_model"),fullWidth:!1})]}),f.jsxs("div",{className:se.requestEventsFilterItem,children:[f.jsx("span",{className:se.requestEventsFilterLabel,children:o("usage_stats.request_events_filter_source")}),f.jsx(Ks,{value:D,options:O,onChange:g,className:se.requestEventsSelect,ariaLabel:o("usage_stats.request_events_filter_source"),fullWidth:!1})]}),f.jsxs("div",{className:se.requestEventsFilterItem,children:[f.jsx("span",{className:se.requestEventsFilterLabel,children:o("usage_stats.request_events_filter_auth_index")}),f.jsx(Ks,{value:U,options:T,onChange:b,className:se.requestEventsSelect,ariaLabel:o("usage_stats.request_events_filter_auth_index"),fullWidth:!1})]})]}),e&&k.length===0?f.jsx("div",{className:se.hint,children:o("common.loading")}):k.length===0?f.jsx(ns,{title:o("usage_stats.request_events_empty_title"),description:o("usage_stats.request_events_empty_desc")}):F.length===0?f.jsx(ns,{title:o("usage_stats.request_events_no_result_title"),description:o("usage_stats.request_events_no_result_desc")}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:se.requestEventsMeta,children:[f.jsx("span",{children:o("usage_stats.request_events_count",{count:F.length})}),F.length>I2&&f.jsx("span",{className:se.requestEventsLimitHint,children:o("usage_stats.request_events_limit_hint",{shown:I2,total:F.length})})]}),f.jsx("div",{className:se.requestEventsTableWrapper,children:f.jsxs("table",{className:se.table,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:o("usage_stats.request_events_timestamp")}),f.jsx("th",{children:o("usage_stats.model_name")}),f.jsx("th",{children:o("usage_stats.request_events_source")}),f.jsx("th",{children:o("usage_stats.request_events_auth_index")}),f.jsx("th",{children:o("usage_stats.request_events_result")}),f.jsx("th",{children:o("usage_stats.input_tokens")}),f.jsx("th",{children:o("usage_stats.output_tokens")}),f.jsx("th",{children:o("usage_stats.reasoning_tokens")}),f.jsx("th",{children:o("usage_stats.cached_tokens")}),f.jsx("th",{children:o("usage_stats.total_tokens")})]})}),f.jsx("tbody",{children:H.map(V=>f.jsxs("tr",{children:[f.jsx("td",{title:V.timestamp,className:se.requestEventsTimestamp,children:V.timestampLabel}),f.jsx("td",{className:se.modelCell,children:V.model}),f.jsxs("td",{className:se.requestEventsSourceCell,title:V.source,children:[f.jsx("span",{children:V.source}),V.sourceType&&f.jsx("span",{className:se.credentialType,children:V.sourceType})]}),f.jsx("td",{className:se.requestEventsAuthIndex,title:V.authIndex,children:V.authIndex}),f.jsx("td",{children:f.jsx("span",{className:V.failed?se.requestEventsResultFailed:se.requestEventsResultSuccess,children:V.failed?o("stats.failure"):o("stats.success")})}),f.jsx("td",{children:V.inputTokens.toLocaleString()}),f.jsx("td",{children:V.outputTokens.toLocaleString()}),f.jsx("td",{children:V.reasoningTokens.toLocaleString()}),f.jsx("td",{children:V.cachedTokens.toLocaleString()}),f.jsx("td",{children:V.totalTokens.toLocaleString()})]},V.id))})]})})]})]})}tx.register(kw,Cw,ly,Kl,Ufe,Wfe,Dfe,Ofe);const I8="cli-proxy-usage-chart-lines-v1",z8="cli-proxy-usage-time-range-v1",qm=["all"],z2="24h",q8=9,Vge=[{value:"all",labelKey:"usage_stats.range_all"},{value:"7h",labelKey:"usage_stats.range_7h"},{value:"24h",labelKey:"usage_stats.range_24h"},{value:"7d",labelKey:"usage_stats.range_7d"}],Wge={"7h":7,"24h":24,"7d":168},Gge=n=>n==="7h"||n==="24h"||n==="7d"||n==="all",K8=(n,e=q8)=>{if(!Array.isArray(n))return qm;const t=n.filter(i=>typeof i=="string").map(i=>i.trim()).filter(Boolean).slice(0,e);return t.length?t:qm},Xge=()=>{try{if(typeof localStorage>"u")return qm;const n=localStorage.getItem(I8);return n?K8(JSON.parse(n)):qm}catch{return qm}},$ge=()=>{try{if(typeof localStorage>"u")return z2;const n=localStorage.getItem(z8);return Gge(n)?n:z2}catch{return z2}};function Qge(){const{t:n}=Ze(),e=tme("(max-width: 768px)"),i=qa(J=>J.resolvedTheme)==="dark",s=Dt(J=>J.config),{usage:a,loading:r,error:o,lastRefreshedAt:l,modelPrices:u,setModelPrices:h,loadUsage:m,handleExport:g,handleImport:_,handleImportChange:b,importInputRef:x,exporting:v,importing:C}=nme();ng(m);const[k,N]=w.useState(Xge),[O,T]=w.useState($ge),L=w.useMemo(()=>Vge.map(J=>({value:J.value,label:n(J.labelKey)})),[n]),M=w.useMemo(()=>a?p$(a,O):null,[a,O]),P=O==="all"?void 0:Wge[O],R=w.useCallback(J=>{N(K8(J))},[]);w.useEffect(()=>{try{if(typeof localStorage>"u")return;localStorage.setItem(I8,JSON.stringify(k))}catch{}},[k]),w.useEffect(()=>{try{if(typeof localStorage>"u")return;localStorage.setItem(z8,O)}catch{}},[O]);const D=l?.getTime()??0,{requestsSparkline:U,tokensSparkline:F,rpmSparkline:H,tpmSparkline:Z,costSparkline:Y}=ime({usage:M,loading:r,nowMs:D}),{requestsPeriod:I,setRequestsPeriod:K,tokensPeriod:V,setTokensPeriod:$,requestsChartData:W,tokensChartData:j,requestsChartOptions:B,tokensChartOptions:X}=ame({usage:M,chartLines:k,isDark:i,isMobile:e,hourWindowHours:P}),te=w.useMemo(()=>x$(a),[a]),Q=w.useMemo(()=>w$(M,u),[M,u]),G=w.useMemo(()=>k$(M,u),[M,u]),ne=Object.keys(u).length>0;return f.jsxs("div",{className:se.container,children:[r&&!a&&f.jsx("div",{className:se.loadingOverlay,"aria-busy":"true",children:f.jsxs("div",{className:se.loadingOverlayContent,children:[f.jsx(_u,{size:28,className:se.loadingOverlaySpinner}),f.jsx("span",{className:se.loadingOverlayText,children:n("common.loading")})]})}),f.jsxs("div",{className:se.header,children:[f.jsx("h1",{className:se.pageTitle,children:n("usage_stats.title")}),f.jsxs("div",{className:se.headerActions,children:[f.jsxs("div",{className:se.timeRangeGroup,children:[f.jsx("span",{className:se.timeRangeLabel,children:n("usage_stats.range_filter")}),f.jsx(Ks,{value:O,options:L,onChange:J=>T(J),className:se.timeRangeSelectControl,ariaLabel:n("usage_stats.range_filter"),fullWidth:!1})]}),f.jsx(he,{variant:"secondary",size:"sm",onClick:g,loading:v,disabled:r||C,children:n("usage_stats.export")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:_,loading:C,disabled:r||v,children:n("usage_stats.import")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>void m().catch(()=>{}),disabled:r||v||C,children:n(r?"common.loading":"usage_stats.refresh")}),f.jsx("input",{ref:x,type:"file",accept:".json,application/json",style:{display:"none"},onChange:b}),l&&f.jsxs("span",{className:se.lastRefreshed,children:[n("usage_stats.last_updated"),": ",l.toLocaleTimeString()]})]})]}),o&&f.jsx("div",{className:se.errorBox,children:o}),f.jsx(Oge,{usage:M,loading:r,modelPrices:u,nowMs:D,sparklines:{requests:U,tokens:F,rpm:H,tpm:Z,cost:Y}}),f.jsx(Lge,{chartLines:k,modelNames:te,maxLines:q8,onChange:R}),f.jsx(qge,{usage:a,loading:r}),f.jsxs("div",{className:se.chartsGrid,children:[f.jsx(QE,{title:n("usage_stats.requests_trend"),period:I,onPeriodChange:K,chartData:W,chartOptions:B,loading:r,isMobile:e,emptyText:n("usage_stats.no_data")}),f.jsx(QE,{title:n("usage_stats.tokens_trend"),period:V,onPeriodChange:$,chartData:j,chartOptions:X,loading:r,isMobile:e,emptyText:n("usage_stats.no_data")})]}),f.jsx(Fge,{usage:M,loading:r,isDark:i,isMobile:e,hourWindowHours:P}),f.jsx(Ige,{usage:M,loading:r,isDark:i,isMobile:e,modelPrices:u,hourWindowHours:P}),f.jsxs("div",{className:se.detailsGrid,children:[f.jsx(Pge,{apiStats:Q,loading:r,hasPrices:ne}),f.jsx(Rge,{modelStats:G,loading:r,hasPrices:ne})]}),f.jsx(Hge,{usage:M,loading:r,geminiKeys:s?.geminiApiKeys||[],claudeConfigs:s?.claudeApiKeys||[],codexConfigs:s?.codexApiKeys||[],vertexConfigs:s?.vertexApiKeys||[],openaiProviders:s?.openaiCompatibility||[]}),f.jsx(jge,{usage:M,loading:r,geminiKeys:s?.geminiApiKeys||[],claudeConfigs:s?.claudeApiKeys||[],codexConfigs:s?.codexApiKeys||[],vertexConfigs:s?.vertexApiKeys||[],openaiProviders:s?.openaiCompatibility||[]}),f.jsx(Ege,{modelNames:te,modelPrices:u,onPricesChange:h})]})}function Aw(){return Aw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Aw.apply(null,arguments)}function Yge(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}let Tw=[],H8=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?H8:Tw).push(t=t+n[e])})();function Zge(n){if(n<768)return!1;for(let e=0,t=Tw.length;;){let i=e+t>>1;if(n<Tw[i])t=i;else if(n>=H8[i])e=i+1;else return!0;if(e==t)return!1}}function JE(n){return n>=127462&&n<=127487}const ej=8205;function Jge(n,e,t=!0,i=!0){return(t?V8:e_e)(n,e,i)}function V8(n,e,t){if(e==n.length)return e;e&&W8(n.charCodeAt(e))&&G8(n.charCodeAt(e-1))&&e--;let i=q2(n,e);for(e+=tj(i);e<n.length;){let s=q2(n,e);if(i==ej||s==ej||t&&Zge(s))e+=tj(s),i=s;else if(JE(s)){let a=0,r=e-2;for(;r>=0&&JE(q2(n,r));)a++,r-=2;if(a%2==0)break;e+=2}else break}return e}function e_e(n,e,t){for(;e>0;){let i=V8(n,e-2,t);if(i<e)return i;e--}return 0}function q2(n,e){let t=n.charCodeAt(e);if(!G8(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return W8(i)?(t-55296<<10)+(i-56320)+65536:t}function W8(n){return n>=56320&&n<57344}function G8(n){return n>=55296&&n<56320}function tj(n){return n<65536?1:2}class Zt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=_h(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),jr.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=_h(this,e,t);let i=[];return this.decompose(e,t,i,0),jr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Km(this),a=new Km(e);for(let r=t,o=t;;){if(s.next(r),a.next(r),r=0,s.lineBreak!=a.lineBreak||s.done!=a.done||s.value!=a.value)return!1;if(o+=s.value.length,s.done||o>=i)return!0}}iter(e=1){return new Km(this,e)}iterRange(e,t=this.length){return new X8(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new $8(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Zt.empty:e.length<=32?new ai(e):jr.from(ai.split(e,[]))}}class ai extends Zt{constructor(e,t=t_e(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let a=0;;a++){let r=this.text[a],o=s+r.length;if((t?i:o)>=e)return new n_e(s,o,i,r);s=o+1,i++}}decompose(e,t,i,s){let a=e<=0&&t>=this.length?this:new ai(nj(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let r=i.pop(),o=cy(a.text,r.text.slice(),0,a.length);if(o.length<=32)i.push(new ai(o,r.length+a.length));else{let l=o.length>>1;i.push(new ai(o.slice(0,l)),new ai(o.slice(l)))}}else i.push(a)}replace(e,t,i){if(!(i instanceof ai))return super.replace(e,t,i);[e,t]=_h(this,e,t);let s=cy(this.text,cy(i.text,nj(this.text,0,e)),t),a=this.length+i.length-(t-e);return s.length<=32?new ai(s,a):jr.from(ai.split(s,[]),a)}sliceString(e,t=this.length,i=`
`){[e,t]=_h(this,e,t);let s="";for(let a=0,r=0;a<=t&&r<this.text.length;r++){let o=this.text[r],l=a+o.length;a>e&&r&&(s+=i),e<l&&t>a&&(s+=o.slice(Math.max(0,e-a),t-a)),a=l+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let a of e)i.push(a),s+=a.length+1,i.length==32&&(t.push(new ai(i,s)),i=[],s=-1);return s>-1&&t.push(new ai(i,s)),t}}class jr extends Zt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let a=0;;a++){let r=this.children[a],o=s+r.length,l=i+r.lines-1;if((t?l:o)>=e)return r.lineInner(e,t,i,s);s=o+1,i=l+1}}decompose(e,t,i,s){for(let a=0,r=0;r<=t&&a<this.children.length;a++){let o=this.children[a],l=r+o.length;if(e<=l&&t>=r){let u=s&((r<=e?1:0)|(l>=t?2:0));r>=e&&l<=t&&!u?i.push(o):o.decompose(e-r,t-r,i,u)}r=l+1}}replace(e,t,i){if([e,t]=_h(this,e,t),i.lines<this.lines)for(let s=0,a=0;s<this.children.length;s++){let r=this.children[s],o=a+r.length;if(e>=a&&t<=o){let l=r.replace(e-a,t-a,i),u=this.lines-r.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let h=this.children.slice();return h[s]=l,new jr(h,this.length-(t-e)+i.length)}return super.replace(a,o,l)}a=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=_h(this,e,t);let s="";for(let a=0,r=0;a<this.children.length&&r<=t;a++){let o=this.children[a],l=r+o.length;r>e&&a&&(s+=i),e<l&&t>r&&(s+=o.sliceString(e-r,t-r,i)),r=l+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof jr))return 0;let i=0,[s,a,r,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,a+=t){if(s==r||a==o)return i;let l=this.children[s],u=e.children[a];if(l!=u)return i+l.scanIdentical(u,t);i+=l.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let _ of e)i+=_.lines;if(i<32){let _=[];for(let b of e)b.flatten(_);return new ai(_,t)}let s=Math.max(32,i>>5),a=s<<1,r=s>>1,o=[],l=0,u=-1,h=[];function m(_){let b;if(_.lines>a&&_ instanceof jr)for(let x of _.children)m(x);else _.lines>r&&(l>r||!l)?(g(),o.push(_)):_ instanceof ai&&l&&(b=h[h.length-1])instanceof ai&&_.lines+b.lines<=32?(l+=_.lines,u+=_.length+1,h[h.length-1]=new ai(b.text.concat(_.text),b.length+1+_.length)):(l+_.lines>s&&g(),l+=_.lines,u+=_.length+1,h.push(_))}function g(){l!=0&&(o.push(h.length==1?h[0]:jr.from(h,u)),u=-1,l=h.length=0)}for(let _ of e)m(_);return g(),o.length==1?o[0]:new jr(o,t)}}Zt.empty=new ai([""],0);function t_e(n){let e=-1;for(let t of n)e+=t.length+1;return e}function cy(n,e,t=0,i=1e9){for(let s=0,a=0,r=!0;a<n.length&&s<=i;a++){let o=n[a],l=s+o.length;l>=t&&(l>i&&(o=o.slice(0,i-s)),s<t&&(o=o.slice(t-s)),r?(e[e.length-1]+=o,r=!1):e.push(o)),s=l+1}return e}function nj(n,e,t){return cy(n,[""],e,t)}class Km{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ai?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],a=this.offsets[i],r=a>>1,o=s instanceof ai?s.text.length:s.children.length;if(r==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof ai){let l=s.text[r+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=s.children[r+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof ai?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class X8{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Km(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class $8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Zt.prototype[Symbol.iterator]=function(){return this.iter()},Km.prototype[Symbol.iterator]=X8.prototype[Symbol.iterator]=$8.prototype[Symbol.iterator]=function(){return this});class n_e{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function _h(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function zi(n,e,t=!0,i=!0){return Jge(n,e,t,i)}function i_e(n){return n>=56320&&n<57344}function s_e(n){return n>=55296&&n<56320}function Ps(n,e){let t=n.charCodeAt(e);if(!s_e(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return i_e(i)?(t-55296<<10)+(i-56320)+65536:t}function iA(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Dr(n){return n<65536?1:2}const Nw=/\r\n?|\n/;var gs=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(gs||(gs={}));class Wr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let a=this.sections[t++],r=this.sections[t++];r<0?(e(i,s,a),s+=a):s+=r,i+=a}}iterChangedRanges(e,t=!1){Mw(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new Wr(e)}composeDesc(e){return this.empty?e:e.empty?this:Q8(this,e)}mapDesc(e,t=!1){return e.empty?this:Ow(this,e,t)}mapPos(e,t=-1,i=gs.Simple){let s=0,a=0;for(let r=0;r<this.sections.length;){let o=this.sections[r++],l=this.sections[r++],u=s+o;if(l<0){if(u>e)return a+(e-s);a+=o}else{if(i!=gs.Simple&&u>=e&&(i==gs.TrackDel&&s<e&&u>e||i==gs.TrackBefore&&s<e||i==gs.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!o)return e==s||t<0?a:a+l;a+=l}s=u}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return a}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let a=this.sections[i++],r=this.sections[i++],o=s+a;if(r>=0&&s<=t&&o>=e)return s<e&&o>t?"cover":!0;s=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Wr(e)}static create(e){return new Wr(e)}}class wi extends Wr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Mw(this,(t,i,s,a,r)=>e=e.replace(s,s+(i-t),r),!1),e}mapDesc(e,t=!1){return Ow(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,a=0;s<t.length;s+=2){let r=t[s],o=t[s+1];if(o>=0){t[s]=o,t[s+1]=r;let l=s>>1;for(;i.length<l;)i.push(Zt.empty);i.push(r?e.slice(a,a+r):Zt.empty)}a+=r}return new wi(t,i)}compose(e){return this.empty?e:e.empty?this:Q8(this,e,!0)}map(e,t=!1){return e.empty?this:Ow(this,e,t,!0)}iterChanges(e,t=!1){Mw(this,e,t)}get desc(){return Wr.create(this.sections)}filter(e){let t=[],i=[],s=[],a=new bp(this);e:for(let r=0,o=0;;){let l=r==e.length?1e9:e[r++];for(;o<l||o==l&&a.len==0;){if(a.done)break e;let h=Math.min(a.len,l-o);$i(s,h,-1);let m=a.ins==-1?-1:a.off==0?a.ins:0;$i(t,h,m),m>0&&Hl(i,t,a.text),a.forward(h),o+=h}let u=e[r++];for(;o<u;){if(a.done)break e;let h=Math.min(a.len,u-o);$i(t,h,-1),$i(s,h,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(h),o+=h}}return{changes:new wi(t,i),filtered:Wr.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],a=[],r=0,o=null;function l(h=!1){if(!h&&!s.length)return;r<t&&$i(s,t-r,-1);let m=new wi(s,a);o=o?o.compose(m.map(o)):m,s=[],a=[],r=0}function u(h){if(Array.isArray(h))for(let m of h)u(m);else if(h instanceof wi){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),o=o?o.compose(h.map(o)):h}else{let{from:m,to:g=m,insert:_}=h;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let b=_?typeof _=="string"?Zt.of(_.split(i||Nw)):_:Zt.empty,x=b.length;if(m==g&&x==0)return;m<r&&l(),m>r&&$i(s,m-r,-1),$i(s,g-m,x),Hl(a,s,b),r=g}}return u(e),l(!o),o}static empty(e){return new wi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")t.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((r,o)=>o&&typeof r!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)t.push(a[0],0);else{for(;i.length<s;)i.push(Zt.empty);i[s]=Zt.of(a.slice(1)),t.push(a[0],i[s].length)}}}return new wi(t,i)}static createSet(e,t){return new wi(e,t)}}function $i(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function Hl(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Zt.empty);n.push(t)}}function Mw(n,e,t){let i=n.inserted;for(let s=0,a=0,r=0;r<n.sections.length;){let o=n.sections[r++],l=n.sections[r++];if(l<0)s+=o,a+=o;else{let u=s,h=a,m=Zt.empty;for(;u+=o,h+=l,l&&i&&(m=m.append(i[r-2>>1])),!(t||r==n.sections.length||n.sections[r+1]<0);)o=n.sections[r++],l=n.sections[r++];e(s,u,a,h,m),s=u,a=h}}}function Ow(n,e,t,i=!1){let s=[],a=i?[]:null,r=new bp(n),o=new bp(e);for(let l=-1;;){if(r.done&&o.len||o.done&&r.len)throw new Error("Mismatched change set lengths");if(r.ins==-1&&o.ins==-1){let u=Math.min(r.len,o.len);$i(s,u,-1),r.forward(u),o.forward(u)}else if(o.ins>=0&&(r.ins<0||l==r.i||r.off==0&&(o.len<r.len||o.len==r.len&&!t))){let u=o.len;for($i(s,o.ins,-1);u;){let h=Math.min(r.len,u);r.ins>=0&&l<r.i&&r.len<=h&&($i(s,0,r.ins),a&&Hl(a,s,r.text),l=r.i),r.forward(h),u-=h}o.next()}else if(r.ins>=0){let u=0,h=r.len;for(;h;)if(o.ins==-1){let m=Math.min(h,o.len);u+=m,h-=m,o.forward(m)}else if(o.ins==0&&o.len<h)h-=o.len,o.next();else break;$i(s,u,l<r.i?r.ins:0),a&&l<r.i&&Hl(a,s,r.text),l=r.i,r.forward(r.len-h)}else{if(r.done&&o.done)return a?wi.createSet(s,a):Wr.create(s);throw new Error("Mismatched change set lengths")}}}function Q8(n,e,t=!1){let i=[],s=t?[]:null,a=new bp(n),r=new bp(e);for(let o=!1;;){if(a.done&&r.done)return s?wi.createSet(i,s):Wr.create(i);if(a.ins==0)$i(i,a.len,0,o),a.next();else if(r.len==0&&!r.done)$i(i,0,r.ins,o),s&&Hl(s,i,r.text),r.next();else{if(a.done||r.done)throw new Error("Mismatched change set lengths");{let l=Math.min(a.len2,r.len),u=i.length;if(a.ins==-1){let h=r.ins==-1?-1:r.off?0:r.ins;$i(i,l,h,o),s&&h&&Hl(s,i,r.text)}else r.ins==-1?($i(i,a.off?0:a.len,l,o),s&&Hl(s,i,a.textBit(l))):($i(i,a.off?0:a.len,r.off?0:r.ins,o),s&&!r.off&&Hl(s,i,r.text));o=(a.ins>l||r.ins>=0&&r.len>l)&&(o||i.length>u),a.forward2(l),r.forward(l)}}}}class bp{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Zt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Zt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class tu{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new tu(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Oe.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Oe.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Oe.range(e.anchor,e.head)}static create(e,t,i){return new tu(e,t,i)}}class Oe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Oe.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,t=!0){return Oe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Oe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Oe(e.ranges.map(t=>tu.fromJSON(t)),e.main)}static single(e,t=e){return new Oe([Oe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let a=e[s];if(a.empty?a.from<=i:a.from<i)return Oe.normalized(e.slice(),t);i=a.to}return new Oe(e,t)}static cursor(e,t=0,i,s){return tu.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(e,t,i,s){let a=(i??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?tu.create(t,e,48|a):tu.create(e,t,(t>e?8:0)|a)}static normalized(e,t=0){let i=e[t];e.sort((s,a)=>s.from-a.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let a=e[s],r=e[s-1];if(a.empty?a.from<=r.to:a.from<r.to){let o=r.from,l=Math.max(a.to,r.to);s<=t&&t--,e.splice(--s,2,a.anchor>a.head?Oe.range(l,o):Oe.range(o,l))}}return new Oe(e,t)}}function Y8(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let sA=0;class We{constructor(e,t,i,s,a){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=sA++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new We(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:aA),!!e.static,e.enables)}of(e){return new uy([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new uy(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new uy(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function aA(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class uy{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=sA++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,a=this.id,r=e[a]>>1,o=this.type==2,l=!1,u=!1,h=[];for(let m of this.dependencies)m=="doc"?l=!0:m=="selection"?u=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&h.push(e[m.id]);return{create(m){return m.values[r]=i(m),1},update(m,g){if(l&&g.docChanged||u&&(g.docChanged||g.selection)||Lw(m,h)){let _=i(m);if(o?!ij(_,m.values[r],s):!s(_,m.values[r]))return m.values[r]=_,1}return 0},reconfigure:(m,g)=>{let _,b=g.config.address[a];if(b!=null){let x=Yy(g,b);if(this.dependencies.every(v=>v instanceof We?g.facet(v)===m.facet(v):v instanceof Hi?g.field(v,!1)==m.field(v,!1):!0)||(o?ij(_=i(m),x,s):s(_=i(m),x)))return m.values[r]=x,0}else _=i(m);return m.values[r]=_,1}}}}function ij(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Lw(n,e){let t=!1;for(let i of e)Hm(n,i)&1&&(t=!0);return t}function a_e(n,e,t){let i=t.map(l=>n[l.id]),s=t.map(l=>l.type),a=i.filter(l=>!(l&1)),r=n[e.id]>>1;function o(l){let u=[];for(let h=0;h<i.length;h++){let m=Yy(l,i[h]);if(s[h]==2)for(let g of m)u.push(g);else u.push(m)}return e.combine(u)}return{create(l){for(let u of i)Hm(l,u);return l.values[r]=o(l),1},update(l,u){if(!Lw(l,a))return 0;let h=o(l);return e.compare(h,l.values[r])?0:(l.values[r]=h,1)},reconfigure(l,u){let h=Lw(l,i),m=u.config.facets[e.id],g=u.facet(e);if(m&&!h&&aA(t,m))return l.values[r]=g,0;let _=o(l);return e.compare(_,g)?(l.values[r]=g,0):(l.values[r]=_,1)}}}const f0=We.define({static:!0});class Hi{constructor(e,t,i,s,a){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=a,this.provides=void 0}static define(e){let t=new Hi(sA++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(f0).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let a=i.values[t],r=this.updateF(a,s);return this.compareF(a,r)?0:(i.values[t]=r,1)},reconfigure:(i,s)=>{let a=i.facet(f0),r=s.facet(f0),o;return(o=a.find(l=>l.field==this))&&o!=r.find(l=>l.field==this)?(i.values[t]=o.create(i),1):s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,f0.of({field:this,create:e})]}get extension(){return this}}const Hc={lowest:4,low:3,default:2,high:1,highest:0};function nm(n){return e=>new Z8(e,n)}const Ru={highest:nm(Hc.highest),high:nm(Hc.high),default:nm(Hc.default),low:nm(Hc.low),lowest:nm(Hc.lowest)};class Z8{constructor(e,t){this.inner=e,this.prec=t}}class ax{of(e){return new Pw(this,e)}reconfigure(e){return ax.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Pw{constructor(e,t){this.compartment=e,this.inner=t}}class Qy{constructor(e,t,i,s,a,r){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=a,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],a=Object.create(null),r=new Map;for(let g of r_e(e,t,r))g instanceof Hi?s.push(g):(a[g.facet.id]||(a[g.facet.id]=[])).push(g);let o=Object.create(null),l=[],u=[];for(let g of s)o[g.id]=u.length<<1,u.push(_=>g.slot(_));let h=i?.config.facets;for(let g in a){let _=a[g],b=_[0].facet,x=h&&h[g]||[];if(_.every(v=>v.type==0))if(o[b.id]=l.length<<1|1,aA(x,_))l.push(i.facet(b));else{let v=b.combine(_.map(C=>C.value));l.push(i&&b.compare(v,i.facet(b))?i.facet(b):v)}else{for(let v of _)v.type==0?(o[v.id]=l.length<<1|1,l.push(v.value)):(o[v.id]=u.length<<1,u.push(C=>v.dynamicSlot(C)));o[b.id]=u.length<<1,u.push(v=>a_e(v,b,_))}}let m=u.map(g=>g(o));return new Qy(e,r,m,o,l,a)}}function r_e(n,e,t){let i=[[],[],[],[],[]],s=new Map;function a(r,o){let l=s.get(r);if(l!=null){if(l<=o)return;let u=i[l].indexOf(r);u>-1&&i[l].splice(u,1),r instanceof Pw&&t.delete(r.compartment)}if(s.set(r,o),Array.isArray(r))for(let u of r)a(u,o);else if(r instanceof Pw){if(t.has(r.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(r.compartment)||r.inner;t.set(r.compartment,u),a(u,o)}else if(r instanceof Z8)a(r.inner,r.prec);else if(r instanceof Hi)i[o].push(r),r.provides&&a(r.provides,o);else if(r instanceof uy)i[o].push(r),r.facet.extensions&&a(r.facet.extensions,Hc.default);else{let u=r.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(u,o)}}return a(n,Hc.default),i.reduce((r,o)=>r.concat(o))}function Hm(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function Yy(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const J8=We.define(),Rw=We.define({combine:n=>n.some(e=>e),static:!0}),eF=We.define({combine:n=>n.length?n[0]:void 0,static:!0}),tF=We.define(),nF=We.define(),iF=We.define(),sF=We.define({combine:n=>n.length?n[0]:!1});class no{constructor(e,t){this.type=e,this.value=t}static define(){return new o_e}}class o_e{of(e){return new no(this,e)}}class l_e{constructor(e){this.map=e}of(e){return new Ot(this,e)}}class Ot{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ot(this.type,t)}is(e){return this.type==e}static define(e={}){return new l_e(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let a=s.map(t);a&&i.push(a)}return i}}Ot.reconfigure=Ot.define();Ot.appendConfig=Ot.define();class Ci{constructor(e,t,i,s,a,r){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=a,this.scrollIntoView=r,this._doc=null,this._state=null,i&&Y8(i,t.newLength),a.some(o=>o.type==Ci.time)||(this.annotations=a.concat(Ci.time.of(Date.now())))}static create(e,t,i,s,a,r){return new Ci(e,t,i,s,a,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ci.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ci.time=no.define();Ci.userEvent=no.define();Ci.addToHistory=no.define();Ci.remote=no.define();function c_e(n,e){let t=[];for(let i=0,s=0;;){let a,r;if(i<n.length&&(s==e.length||e[s]>=n[i]))a=n[i++],r=n[i++];else if(s<e.length)a=e[s++],r=e[s++];else return t;!t.length||t[t.length-1]<a?t.push(a,r):t[t.length-1]<r&&(t[t.length-1]=r)}}function aF(n,e,t){var i;let s,a,r;return t?(s=e.changes,a=wi.empty(e.changes.length),r=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),a=n.changes.mapDesc(e.changes,!0),r=n.changes.compose(s)),{changes:r,selection:e.selection?e.selection.map(a):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:Ot.mapEffects(n.effects,s).concat(Ot.mapEffects(e.effects,a)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Ew(n,e,t){let i=e.selection,s=Qd(e.annotations);return e.userEvent&&(s=s.concat(Ci.userEvent.of(e.userEvent))),{changes:e.changes instanceof wi?e.changes:wi.of(e.changes||[],t,n.facet(eF)),selection:i&&(i instanceof Oe?i:Oe.single(i.anchor,i.head)),effects:Qd(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function rF(n,e,t){let i=Ew(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(t=!1);let r=!!e[a].sequential;i=aF(i,Ew(n,e[a],r?i.changes.newLength:n.doc.length),r)}let s=Ci.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return d_e(t?u_e(s):s)}function u_e(n){let e=n.startState,t=!0;for(let s of e.facet(tF)){let a=s(n);if(a===!1){t=!1;break}Array.isArray(a)&&(t=t===!0?a:c_e(t,a))}if(t!==!0){let s,a;if(t===!1)a=n.changes.invertedDesc,s=wi.empty(e.doc.length);else{let r=n.changes.filter(t);s=r.changes,a=r.filtered.mapDesc(r.changes).invertedDesc}n=Ci.create(e,s,n.selection&&n.selection.map(a),Ot.mapEffects(n.effects,a),n.annotations,n.scrollIntoView)}let i=e.facet(nF);for(let s=i.length-1;s>=0;s--){let a=i[s](n);a instanceof Ci?n=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Ci?n=a[0]:n=rF(e,Qd(a),!1)}return n}function d_e(n){let e=n.startState,t=e.facet(iF),i=n;for(let s=t.length-1;s>=0;s--){let a=t[s](n);a&&Object.keys(a).length&&(i=aF(i,Ew(e,a,n.changes.newLength),!0))}return i==n?n:Ci.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const h_e=[];function Qd(n){return n==null?h_e:Array.isArray(n)?n:[n]}var Kn=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(Kn||(Kn={}));const f_e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let jw;try{jw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function m_e(n){if(jw)return jw.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||f_e.test(t)))return!0}return!1}function p_e(n){return e=>{if(!/\S/.test(e))return Kn.Space;if(m_e(e))return Kn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Kn.Word;return Kn.Other}}class Qt{constructor(e,t,i,s,a,r){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=a,r&&(r._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Hm(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Hm(this,i),Yy(this,i)}update(...e){return rF(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let o of e.effects)o.is(ax.reconfigure)?(t&&(s=new Map,t.compartments.forEach((l,u)=>s.set(u,l)),t=null),s.set(o.value.compartment,o.value.extension)):o.is(Ot.reconfigure)?(t=null,i=o.value):o.is(Ot.appendConfig)&&(t=null,i=Qd(i).concat(o.value));let a;t?a=e.startState.values.slice():(t=Qy.resolve(i,s,this),a=new Qt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let r=e.startState.facet(Rw)?e.newSelection:e.newSelection.asSingle();new Qt(t,e.newDoc,r,a,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Oe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),a=[i.range],r=Qd(i.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),u=this.changes(l.changes),h=u.map(s);for(let g=0;g<o;g++)a[g]=a[g].map(h);let m=s.mapDesc(u,!0);a.push(l.range.map(m)),s=s.compose(h),r=Ot.mapEffects(r,h).concat(Ot.mapEffects(Qd(l.effects),m))}return{changes:s,selection:Oe.create(a,t.mainIndex),effects:r}}changes(e=[]){return e instanceof wi?e:wi.of(e,this.doc.length,this.facet(Qt.lineSeparator))}toText(e){return Zt.of(e.split(this.facet(Qt.lineSeparator)||Nw))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Hm(this,t),Yy(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Hi&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let a in i)if(Object.prototype.hasOwnProperty.call(e,a)){let r=i[a],o=e[a];s.push(r.init(l=>r.spec.fromJSON(o,l)))}}return Qt.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=Qy.resolve(e.extensions||[],new Map),i=e.doc instanceof Zt?e.doc:Zt.of((e.doc||"").split(t.staticFacet(Qt.lineSeparator)||Nw)),s=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return Y8(s,i.length),t.staticFacet(Rw)||(s=s.asSingle()),new Qt(t,i,s,t.dynamicSlots.map(()=>null),(a,r)=>r.create(a),null)}get tabSize(){return this.facet(Qt.tabSize)}get lineBreak(){return this.facet(Qt.lineSeparator)||`
`}get readOnly(){return this.facet(sF)}phrase(e,...t){for(let i of this.facet(Qt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let a=+(s||1);return!a||a>t.length?i:t[a-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let a of this.facet(J8))for(let r of a(this,t,i))Object.prototype.hasOwnProperty.call(r,e)&&s.push(r[e]);return s}charCategorizer(e){return p_e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),a=this.charCategorizer(e),r=e-i,o=e-i;for(;r>0;){let l=zi(t,r,!1);if(a(t.slice(l,r))!=Kn.Word)break;r=l}for(;o<s;){let l=zi(t,o);if(a(t.slice(o,l))!=Kn.Word)break;o=l}return r==o?null:Oe.range(r+i,o+i)}}Qt.allowMultipleSelections=Rw;Qt.tabSize=We.define({combine:n=>n.length?n[0]:4});Qt.lineSeparator=eF;Qt.readOnly=sF;Qt.phrases=We.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});Qt.languageData=J8;Qt.changeFilter=tF;Qt.transactionFilter=nF;Qt.transactionExtender=iF;ax.reconfigure=Ot.define();function io(n,e,t={}){let i={};for(let s of n)for(let a of Object.keys(s)){let r=s[a],o=i[a];if(o===void 0)i[a]=r;else if(!(o===r||r===void 0))if(Object.hasOwnProperty.call(t,a))i[a]=t[a](o,r);else throw new Error("Config merge conflict for field "+a)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class xu{eq(e){return this==e}range(e,t=e){return Dw.create(e,t,this)}}xu.prototype.startSide=xu.prototype.endSide=0;xu.prototype.point=!1;xu.prototype.mapMode=gs.TrackDel;let Dw=class oF{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new oF(e,t,i)}};function Fw(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}let g_e=class lF{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let a=i?this.to:this.from;for(let r=s,o=a.length;;){if(r==o)return r;let l=r+o>>1,u=a[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==r)return u>=0?r:o;u>=0?o=l:r=l+1}}between(e,t,i,s){for(let a=this.findIndex(t,-1e9,!0),r=this.findIndex(i,1e9,!1,a);a<r;a++)if(s(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,t){let i=[],s=[],a=[],r=-1,o=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],h=this.from[l]+e,m=this.to[l]+e,g,_;if(h==m){let b=t.mapPos(h,u.startSide,u.mapMode);if(b==null||(g=_=b,u.startSide!=u.endSide&&(_=t.mapPos(h,u.endSide),_<g)))continue}else if(g=t.mapPos(h,u.startSide),_=t.mapPos(m,u.endSide),g>_||g==_&&u.startSide>0&&u.endSide<=0)continue;(_-g||u.endSide-u.startSide)<0||(r<0&&(r=g),u.point&&(o=Math.max(o,_-g)),i.push(u),s.push(g-r),a.push(_-r))}return{mapped:i.length?new lF(s,a,i,o):null,pos:r}}};class sn{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new sn(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:a=this.length}=e,r=e.filter;if(t.length==0&&!r)return this;if(i&&(t=t.slice().sort(Fw)),this.isEmpty)return t.length?sn.of(t):this;let o=new cF(this,null,-1).goto(0),l=0,u=[],h=new Jo;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let m=t[l++];h.addInner(m.from,m.to,m.value)||u.push(m)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!r||s>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||s>o.to||a<o.from||r(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||u.push(Dw.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!u.length?sn.empty:this.nextLayer.update({add:u,filter:r,filterFrom:s,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],l=this.chunk[r],u=e.touchesRange(o,o+l.length);if(u===!1)s=Math.max(s,l.maxPoint),t.push(l),i.push(e.mapPos(o));else if(u===!0){let{mapped:h,pos:m}=l.map(o,e);h&&(s=Math.max(s,h.maxPoint),t.push(h),i.push(m))}}let a=this.nextLayer.map(e);return t.length==0?a:new sn(i,t,a||sn.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],r=this.chunk[s];if(t>=a&&e<=a+r.length&&r.between(a,e-a,t-a,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return xp.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return xp.from(e).goto(t)}static compare(e,t,i,s,a=-1){let r=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),o=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),l=sj(r,o,i),u=new im(r,l,a),h=new im(o,l,a);i.iterGaps((m,g,_)=>aj(u,m,h,g,_,s)),i.empty&&i.length==0&&aj(u,0,h,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=999999999);let a=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),r=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(a.length!=r.length)return!1;if(!a.length)return!0;let o=sj(a,r),l=new im(a,o,0).goto(i),u=new im(r,o,0).goto(i);for(;;){if(l.to!=u.to||!Uw(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>s)return!0;l.next(),u.next()}}static spans(e,t,i,s,a=-1){let r=new im(e,null,a).goto(t),o=t,l=r.openStart;for(;;){let u=Math.min(r.to,i);if(r.point){let h=r.activeForPoint(r.to),m=r.pointFrom<t?h.length+1:r.point.startSide<0?h.length:Math.min(h.length,l);s.point(o,u,r.point,h,m,r.pointRank),l=Math.min(r.openEnd(u),h.length)}else u>o&&(s.span(o,u,r.active,l),l=r.openEnd(u));if(r.to>i)return l+(r.point&&r.to>i?1:0);o=r.to,r.next()}}static of(e,t=!1){let i=new Jo;for(let s of e instanceof Dw?[e]:t?__e(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return sn.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=sn.empty;s=s.nextLayer)t=new sn(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}sn.empty=new sn([],[],null,-1);function __e(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Fw(e,i)>0)return n.slice().sort(Fw);e=i}return n}sn.empty.nextLayer=sn.empty;class Jo{finishChunk(e){this.chunks.push(new g_e(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Jo)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(sn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=sn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function sj(n,e,t){let i=new Map;for(let a of n)for(let r=0;r<a.chunk.length;r++)a.chunk[r].maxPoint<=0&&i.set(a.chunk[r],a.chunkPos[r]);let s=new Set;for(let a of e)for(let r=0;r<a.chunk.length;r++){let o=i.get(a.chunk[r]);o!=null&&(t?t.mapPos(o):o)==a.chunkPos[r]&&!t?.touchesRange(o,o+a.chunk[r].length)&&s.add(a.chunk[r])}return s}class cF{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class xp{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let a=0;a<e.length;a++)for(let r=e[a];!r.isEmpty;r=r.nextLayer)r.maxPoint>=i&&s.push(new cF(r,t,i,a));return s.length==1?s[0]:new xp(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)K2(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)K2(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),K2(this.heap,0)}}}function K2(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class im{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=xp.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){m0(this.active,e),m0(this.activeTo,e),m0(this.activeRank,e),this.minActive=rj(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:a}=this.cursor;for(;t<this.activeRank.length&&(a-this.activeRank[t]||s-this.activeTo[t])>0;)t++;p0(this.active,t,i),p0(this.activeTo,t,s),p0(this.activeRank,t,a),e&&p0(e,t,this.cursor.from),this.minActive=rj(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&m0(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function aj(n,e,t,i,s,a){n.goto(e),t.goto(i);let r=i+s,o=i,l=i-e;for(;;){let u=n.to+l-t.to,h=u||n.endSide-t.endSide,m=h<0?n.to+l:t.to,g=Math.min(m,r);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Uw(n.activeForPoint(n.to),t.activeForPoint(t.to))||a.comparePoint(o,g,n.point,t.point):g>o&&!Uw(n.active,t.active)&&a.compareRange(o,g,n.active,t.active),m>r)break;(u||n.openEnd!=t.openEnd)&&a.boundChange&&a.boundChange(m),o=m,h<=0&&n.next(),h>=0&&t.next()}}function Uw(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function m0(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function p0(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function rj(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function Fh(n,e,t=n.length){let i=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=zi(n,s));return i}function Bw(n,e,t,i){for(let s=0,a=0;;){if(a>=e)return s;if(s==n.length)break;a+=n.charCodeAt(s)==9?t-a%t:1,s=zi(n,s)}return i===!0?-1:n.length}const Iw="",oj=typeof Symbol>"u"?"__"+Iw:Symbol.for(Iw),zw=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),lj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class nc{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(r){return/^@/.test(r)?[r]:r.split(/,\s*/)}function a(r,o,l,u){let h=[],m=/^@(\w+)\b/.exec(r[0]),g=m&&m[1]=="keyframes";if(m&&o==null)return l.push(r[0]+";");for(let _ in o){let b=o[_];if(/&/.test(_))a(_.split(/,\s*/).map(x=>r.map(v=>x.replace(/&/,v))).reduce((x,v)=>x.concat(v)),b,l);else if(b&&typeof b=="object"){if(!m)throw new RangeError("The value of a property ("+_+") should be a primitive value.");a(s(_),b,h,g)}else b!=null&&h.push(_.replace(/_.*/,"").replace(/[A-Z]/g,x=>"-"+x.toLowerCase())+": "+b+";")}(h.length||g)&&l.push((i&&!m&&!u?r.map(i):r).join(", ")+" {"+h.join(" ")+"}")}for(let r in e)a(s(r),e[r],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=lj[oj]||1;return lj[oj]=e+1,Iw+e.toString(36)}static mount(e,t,i){let s=e[zw],a=i&&i.nonce;s?a&&s.setNonce(a):s=new y_e(e,a),s.mount(Array.isArray(t)?t:[t],e)}}let cj=new Map;class y_e{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let a=cj.get(i);if(a)return e[zw]=a;this.sheet=new s.CSSStyleSheet,cj.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[zw]=this}mount(e,t){let i=this.sheet,s=0,a=0;for(let r=0;r<e.length;r++){let o=e[r],l=this.modules.indexOf(o);if(l<a&&l>-1&&(this.modules.splice(l,1),a--,l=-1),l==-1){if(this.modules.splice(a++,0,o),i)for(let u=0;u<o.rules.length;u++)i.insertRule(o.rules[u],s++)}else{for(;a<l;)s+=this.modules[a++].rules.length;s+=o.rules.length,a++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let r="";for(let l=0;l<this.modules.length;l++)r+=this.modules[l].getRules()+`
`;this.styleTag.textContent=r;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ic={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},b_e=typeof navigator<"u"&&/Mac/.test(navigator.platform),x_e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ii=0;Ii<10;Ii++)ic[48+Ii]=ic[96+Ii]=String(Ii);for(var Ii=1;Ii<=24;Ii++)ic[Ii+111]="F"+Ii;for(var Ii=65;Ii<=90;Ii++)ic[Ii]=String.fromCharCode(Ii+32),vp[Ii]=String.fromCharCode(Ii);for(var H2 in ic)vp.hasOwnProperty(H2)||(vp[H2]=ic[H2]);function v_e(n){var e=b_e&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||x_e&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?vp:ic)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function An(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)uF(n,arguments[e]);return n}function uF(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)uF(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let fs=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},qw=typeof document<"u"?document:{documentElement:{style:{}}};const Kw=/Edge\/(\d+)/.exec(fs.userAgent),dF=/MSIE \d/.test(fs.userAgent),Hw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fs.userAgent),rx=!!(dF||Hw||Kw),uj=!rx&&/gecko\/(\d+)/i.test(fs.userAgent),V2=!rx&&/Chrome\/(\d+)/.exec(fs.userAgent),S_e="webkitFontSmoothing"in qw.documentElement.style,Vw=!rx&&/Apple Computer/.test(fs.vendor),dj=Vw&&(/Mobile\/\w+/.test(fs.userAgent)||fs.maxTouchPoints>2);var qe={mac:dj||/Mac/.test(fs.platform),windows:/Win/.test(fs.platform),linux:/Linux|X11/.test(fs.platform),ie:rx,ie_version:dF?qw.documentMode||6:Hw?+Hw[1]:Kw?+Kw[1]:0,gecko:uj,gecko_version:uj?+(/Firefox\/(\d+)/.exec(fs.userAgent)||[0,0])[1]:0,chrome:!!V2,chrome_version:V2?+V2[1]:0,ios:dj,android:/Android\b/.test(fs.userAgent),webkit_version:S_e?+(/\bAppleWebKit\/(\d+)/.exec(fs.userAgent)||[0,0])[1]:0,safari:Vw,safari_version:Vw?+(/\bVersion\/(\d+(\.\d+)?)/.exec(fs.userAgent)||[0,0])[1]:0,tabSize:qw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Sp(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Ww(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function dy(n,e){if(!e.anchorNode)return!1;try{return Ww(n,e.anchorNode)}catch{return!1}}function yh(n){return n.nodeType==3?Su(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Vm(n,e,t,i){return t?hj(n,e,t,i,-1)||hj(n,e,t,i,1):!1}function vu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Zy(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function hj(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:Qr(n))){if(n.nodeName=="DIV")return!1;let a=n.parentNode;if(!a||a.nodeType!=1)return!1;e=vu(n)+(s<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?Qr(n):0}else return!1}}function Qr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function og(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function w_e(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function hF(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function k_e(n,e,t,i,s,a,r,o){let l=n.ownerDocument,u=l.defaultView||window;for(let h=n,m=!1;h&&!m;)if(h.nodeType==1){let g,_=h==l.body,b=1,x=1;if(_)g=w_e(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(m=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let k=h.getBoundingClientRect();({scaleX:b,scaleY:x}=hF(h,k)),g={left:k.left,right:k.left+h.clientWidth*b,top:k.top,bottom:k.top+h.clientHeight*x}}let v=0,C=0;if(s=="nearest")e.top<g.top?(C=e.top-(g.top+r),t>0&&e.bottom>g.bottom+C&&(C=e.bottom-g.bottom+r)):e.bottom>g.bottom&&(C=e.bottom-g.bottom+r,t<0&&e.top-C<g.top&&(C=e.top-(g.top+r)));else{let k=e.bottom-e.top,N=g.bottom-g.top;C=(s=="center"&&k<=N?e.top+k/2-N/2:s=="start"||s=="center"&&t<0?e.top-r:e.bottom-N+r)-g.top}if(i=="nearest"?e.left<g.left?(v=e.left-(g.left+a),t>0&&e.right>g.right+v&&(v=e.right-g.right+a)):e.right>g.right&&(v=e.right-g.right+a,t<0&&e.left<g.left+v&&(v=e.left-(g.left+a))):v=(i=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:i=="start"==o?e.left-a:e.right-(g.right-g.left)+a)-g.left,v||C)if(_)u.scrollBy(v,C);else{let k=0,N=0;if(C){let O=h.scrollTop;h.scrollTop+=C/x,N=(h.scrollTop-O)*x}if(v){let O=h.scrollLeft;h.scrollLeft+=v/b,k=(h.scrollLeft-O)*b}e={left:e.left-k,top:e.top-N,right:e.right-k,bottom:e.bottom-N},k&&Math.abs(k-v)<1&&(i="nearest"),N&&Math.abs(N-C)<1&&(s="nearest")}if(_)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function C_e(n){let e=n.ownerDocument,t,i;for(let s=n.parentNode;s&&!(s==e.body||t&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:i}}class A_e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Qr(t):0),i,Math.min(e.focusOffset,i?Qr(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let qc=null;qe.safari&&qe.safari_version>=26&&(qc=!1);function fF(n){if(n.setActive)return n.setActive();if(qc)return n.focus(qc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(qc==null?{get preventScroll(){return qc={preventScroll:!0},!0}}:void 0),!qc){qc=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],a=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=a&&(i.scrollLeft=a)}}}let fj;function Su(n,e,t=e){let i=fj||(fj=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Yd(n,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,n.dispatchEvent(a);let r=new KeyboardEvent("keyup",s);return r.synthetic=!0,n.dispatchEvent(r),a.defaultPrevented||r.defaultPrevented}function T_e(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function mF(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function N_e(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Qr(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=Qr(t))}else{if(t==n)return!0;i=vu(t),t=t.parentNode}}function pF(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function gF(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Qr(t)}else if(t.parentNode&&!Zy(t))i=vu(t),t=t.parentNode;else return null}}function _F(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Zy(t))i=vu(t)+1,t=t.parentNode;else return null}}class Zi{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Zi(e.parentNode,vu(e),t)}static after(e,t){return new Zi(e.parentNode,vu(e)+1,t)}}const rA=[];class vn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,s=null,a;for(let r of this.children){if(r.flags&7){if(!r.dom&&(a=s?s.nextSibling:i.firstChild)){let o=vn.get(a);(!o||!o.parent&&o.canReuseDOM(r))&&r.reuseDOM(a)}r.sync(e,t),r.flags&=-8}if(a=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&a!=r.dom&&(t.written=!0),r.dom.parentNode==i)for(;a&&a!=r.dom;)a=mj(a);else i.insertBefore(r.dom,a);s=r.dom}for(a=s?s.nextSibling:i.firstChild,a&&t&&t.node==i&&(t.written=!0);a;)a=mj(a)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=Qr(e)==0?0:t==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;s==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?s=-1:s=1),e=a}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!vn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,a=0;;s++){let r=this.children[s];if(r.dom==i)return a;a+=r.length+r.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,a=-1,r=-1,o=-1;for(let l=0,u=i,h=i;l<this.children.length;l++){let m=this.children[l],g=u+m.length;if(u<e&&g>t)return m.domBoundsAround(e,t,u);if(g>=e&&s==-1&&(s=l,a=u),u>t&&m.dom.parentNode==this.dom){r=l,o=h;break}h=g,u=g+m.breakAfter}return{from:a,to:o<0?i+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=rA){this.markDirty();for(let s=e;s<t;s++){let a=this.children[s];a.parent==this&&i.indexOf(a)<0&&a.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new yF(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,a,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}vn.prototype.breakAfter=0;function mj(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class yF{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function bF(n,e,t,i,s,a,r,o,l){let{children:u}=n,h=u.length?u[e]:null,m=a.length?a[a.length-1]:null,g=m?m.breakAfter:r;if(!(e==i&&h&&!r&&!g&&a.length<2&&h.merge(t,s,a.length?m:null,t==0,o,l))){if(i<u.length){let _=u[i];_&&(s<_.length||_.breakAfter&&m?.breakAfter)?(e==i&&(_=_.split(s),s=0),!g&&m&&_.merge(0,s,m,!0,0,l)?a[a.length-1]=_:((s||_.children.length&&!_.children[0].length)&&_.merge(0,s,null,!1,0,l),a.push(_))):_?.breakAfter&&(m?m.breakAfter=1:r=1),i++}for(h&&(h.breakAfter=r,t>0&&(!r&&a.length&&h.merge(t,h.length,a[0],!1,o,0)?h.breakAfter=a.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,o,0),e++));e<i&&a.length;)if(u[i-1].become(a[a.length-1]))i--,a.pop(),l=a.length?0:o;else if(u[e].become(a[0]))e++,a.shift(),o=a.length?0:l;else break;!a.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,o,l)&&e--,(e<i||a.length)&&n.replaceChildren(e,i,a)}}function xF(n,e,t,i,s,a){let r=n.childCursor(),{i:o,off:l}=r.findPos(t,1),{i:u,off:h}=r.findPos(e,-1),m=e-t;for(let g of i)m+=g.length;n.length+=m,bF(n,u,h,o,l,i,0,s,a)}const M_e=256;class dr extends vn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof dr)||this.length-(t-e)+i.length>M_e||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new dr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Zi(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return O_e(this.dom,e,t)}}class el extends vn{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(mF(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,a,r){return i&&(!(i instanceof el&&i.mark.eq(this.mark))||e&&a<=0||t<this.length&&r<=0)?!1:(xF(this,e,t,i?i.children.slice():[],a-1,r-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,a=0;for(let o of this.children){let l=i+o.length;l>e&&t.push(i<e?o.split(e-i):o),s<0&&i>=e&&(s=a),i=l,a++}let r=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new el(this.mark,t,r)}domAtPos(e){return vF(this,e)}coordsAt(e,t){return wF(this,e,t)}}function O_e(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let s=e,a=e,r=0;e==0&&t<0||e==i&&t>=0?qe.chrome||qe.gecko||(e?(s--,r=1):a<i&&(a++,r=-1)):t<0?s--:a<i&&a++;let o=Su(n,s,a).getClientRects();if(!o.length)return null;let l=o[(r?r<0:t>=0)?0:o.length-1];return qe.safari&&!r&&l.width==0&&(l=Array.prototype.find.call(o,u=>u.width)||l),r?og(l,r<0):l||null}class Ko extends vn{static create(e,t,i){return new Ko(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Ko.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,s,a,r){return i&&(!(i instanceof Ko)||!this.widget.compare(i.widget)||e>0&&a<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Ko&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Zt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):Zt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Zi.before(this.dom):Zi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let r=this.side?this.side<0:e>0;for(let o=r?s.length-1:0;a=s[o],!(e>0?o==0:o==s.length-1||a.top<a.bottom);o+=r?-1:1);return og(a,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class bh extends vn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof bh&&e.side==this.side}split(){return new bh(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Zi.before(this.dom):Zi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Zt.empty}get isHidden(){return!0}}dr.prototype.children=Ko.prototype.children=bh.prototype.children=rA;function vF(n,e){let t=n.dom,{children:i}=n,s=0;for(let a=0;s<i.length;s++){let r=i[s],o=a+r.length;if(!(o==a&&r.getSide()<=0)){if(e>a&&e<o&&r.dom.parentNode==t)return r.domAtPos(e-a);if(e<=a)break;a=o}}for(let a=s;a>0;a--){let r=i[a-1];if(r.dom.parentNode==t)return r.domAtPos(r.length)}for(let a=s;a<i.length;a++){let r=i[a];if(r.dom.parentNode==t)return r.domAtPos(0)}return new Zi(t,0)}function SF(n,e,t){let i,{children:s}=n;t>0&&e instanceof el&&s.length&&(i=s[s.length-1])instanceof el&&i.mark.eq(e.mark)?SF(i,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function wF(n,e,t){let i=null,s=-1,a=null,r=-1;function o(u,h){for(let m=0,g=0;m<u.children.length&&g<=h;m++){let _=u.children[m],b=g+_.length;b>=h&&(_.children.length?o(_,h-g):(!a||a.isHidden&&(t>0||P_e(a,_)))&&(b>h||g==b&&_.getSide()>0)?(a=_,r=h-g):(g<h||g==b&&_.getSide()<0&&!_.isHidden)&&(i=_,s=h-g)),g=b}}o(n,e);let l=(t<0?i:a)||i||a;return l?l.coordsAt(Math.max(0,l==i?s:r),t):L_e(n)}function L_e(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=yh(e);return t[t.length-1]||null}function P_e(n,e){let t=n.coordsAt(0,1),i=e.coordsAt(0,1);return t&&i&&i.top<t.bottom}function Gw(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const pj=Object.create(null);function Jy(n,e,t){if(n==e)return!0;n||(n=pj),e||(e=pj);let i=Object.keys(n),s=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let a of i)if(a!=t&&(s.indexOf(a)==-1||n[a]!==e[a]))return!1;return!0}function Xw(n,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return i}function R_e(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class il{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var xs=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(xs||(xs={}));class ht extends xu{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new lg(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new sc(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:a,end:r}=kF(e,t);i=(a?t?-3e8:-1:5e8)-1,s=(r?t?2e8:1:-6e8)+1}return new sc(e,i,s,t,e.widget||null,!0)}static line(e){return new cg(e)}static set(e,t=!1){return sn.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ht.none=sn.empty;class lg extends ht{constructor(e){let{start:t,end:i}=kF(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof lg&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Jy(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}lg.prototype.point=!1;class cg extends ht{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof cg&&this.spec.class==e.spec.class&&Jy(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}cg.prototype.mapMode=gs.TrackBefore;cg.prototype.point=!0;class sc extends ht{constructor(e,t,i,s,a,r){super(t,i,a,e),this.block=s,this.isReplace=r,this.mapMode=s?t<=0?gs.TrackBefore:gs.TrackAfter:gs.TrackDel}get type(){return this.startSide!=this.endSide?xs.WidgetRange:this.startSide<=0?xs.WidgetBefore:xs.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof sc&&E_e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}sc.prototype.point=!0;function kF(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function E_e(n,e){return n==e||!!(n&&e&&n.compare(e))}function hy(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class _i extends vn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,a,r){if(i){if(!(i instanceof _i))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),xF(this,e,t,i?i.children.slice():[],a,r),!0}split(e){let t=new _i;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let a=i;a<this.children.length;a++)t.append(this.children[a],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Jy(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){SF(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Gw(t,this.attrs||{})),i&&(this.attrs=Gw({class:i},this.attrs||{}))}domAtPos(e){return vF(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(mF(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Xw(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&vn.get(s)instanceof el;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=vn.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!qe.ios||!this.children.some(a=>a instanceof dr))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof dr)||/[^ -~]/.test(i.text))return null;let s=yh(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=wF(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,a=i.bottom-i.top;if(Math.abs(a-s.lineHeight)<2&&s.textHeight<a){let r=(a-s.textHeight)/2;return{top:i.top+r,bottom:i.bottom-r,left:i.left,right:i.left}}}return i}become(e){return e instanceof _i&&this.children.length==0&&e.children.length==0&&Jy(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let a=e.children[i],r=s+a.length;if(r>=t){if(a instanceof _i)return a;if(r>t)break}s=r+a.breakAfter}return null}}class Go extends vn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,a,r){return i&&(!(i instanceof Go)||!this.widget.compare(i.widget)||e>0&&a<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Zi.before(this.dom):Zi.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Go(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return rA}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Zt.empty}domBoundsAround(){return null}become(e){return e instanceof Go&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof $w?null:og(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class $w extends il{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Wm{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Go&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new _i),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(g0(new bh(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Go)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=r,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e),a=Math.min(s,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(g0(new dr(this.text.slice(this.textOff,this.textOff+a)),t),i),this.atCursorPos=!0,this.textOff+=a,e-=a,i=s<=a?0:t.length}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,a,r){if(this.disallowBlockEffectsFor[r]&&i instanceof sc){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof sc)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Go(i.widget||xh.block,o,i));else{let l=Ko.create(i.widget||xh.inline,o,o?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&a<=s.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||a>s.length||i.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),u&&(m.append(g0(new bh(1),s),a),a=s.length+Math.max(0,a-s.length)),m.append(g0(l,s),a),this.atCursorPos=h,this.pendingBuffer=h?e<t||a>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=a)}static build(e,t,i,s,a){let r=new Wm(e,t,i,a);return r.openEnd=sn.spans(s,t,i,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function g0(n,e){for(let t of e)n=new el(t,[n],n.length);return n}class xh extends il{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}xh.inline=new xh("span");xh.block=new xh("div");var Bn=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(Bn||(Bn={}));const wu=Bn.LTR,oA=Bn.RTL;function CF(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const j_e=CF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),D_e=CF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Qw=Object.create(null),wr=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Qw[e]=t,Qw[t]=-e}function AF(n){return n<=247?j_e[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?D_e[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const F_e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Vl{get dir(){return this.level%2?oA:wu}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let a=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==i)return r;(a<0||(s!=0?s<0?o.from<t:o.to>t:e[a].level>o.level))&&(a=r)}}if(a<0)throw new RangeError("Index out of range");return a}}function TF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!TF(i.inner,s.inner))return!1}return!0}const Nn=[];function U_e(n,e,t,i,s){for(let a=0;a<=i.length;a++){let r=a?i[a-1].to:e,o=a<i.length?i[a].from:t,l=a?256:s;for(let u=r,h=l,m=l;u<o;u++){let g=AF(n.charCodeAt(u));g==512?g=h:g==8&&m==4&&(g=16),Nn[u]=g==4?2:g,g&7&&(m=g),h=g}for(let u=r,h=l,m=l;u<o;u++){let g=Nn[u];if(g==128)u<o-1&&h==Nn[u+1]&&h&24?g=Nn[u]=h:Nn[u]=256;else if(g==64){let _=u+1;for(;_<o&&Nn[_]==64;)_++;let b=u&&h==8||_<t&&Nn[_]==8?m==1?1:8:256;for(let x=u;x<_;x++)Nn[x]=b;u=_-1}else g==8&&m==1&&(Nn[u]=1);h=g,g&7&&(m=g)}}}function B_e(n,e,t,i,s){let a=s==1?2:1;for(let r=0,o=0,l=0;r<=i.length;r++){let u=r?i[r-1].to:e,h=r<i.length?i[r].from:t;for(let m=u,g,_,b;m<h;m++)if(_=Qw[g=n.charCodeAt(m)])if(_<0){for(let x=o-3;x>=0;x-=3)if(wr[x+1]==-_){let v=wr[x+2],C=v&2?s:v&4?v&1?a:s:0;C&&(Nn[m]=Nn[wr[x]]=C),o=x;break}}else{if(wr.length==189)break;wr[o++]=m,wr[o++]=g,wr[o++]=l}else if((b=Nn[m])==2||b==1){let x=b==s;l=x?0:1;for(let v=o-3;v>=0;v-=3){let C=wr[v+2];if(C&2)break;if(x)wr[v+2]|=2;else{if(C&4)break;wr[v+2]|=4}}}}}function I_e(n,e,t,i){for(let s=0,a=i;s<=t.length;s++){let r=s?t[s-1].to:n,o=s<t.length?t[s].from:e;for(let l=r;l<o;){let u=Nn[l];if(u==256){let h=l+1;for(;;)if(h==o){if(s==t.length)break;h=t[s++].to,o=s<t.length?t[s].from:e}else if(Nn[h]==256)h++;else break;let m=a==1,g=(h<e?Nn[h]:i)==1,_=m==g?m?1:2:i;for(let b=h,x=s,v=x?t[x-1].to:n;b>l;)b==v&&(b=t[--x].from,v=x?t[x-1].to:n),Nn[--b]=_;l=h}else a=u,l++}}}function Yw(n,e,t,i,s,a,r){let o=i%2?2:1;if(i%2==s%2)for(let l=e,u=0;l<t;){let h=!0,m=!1;if(u==a.length||l<a[u].from){let x=Nn[l];x!=o&&(h=!1,m=x==16)}let g=!h&&o==1?[]:null,_=h?i:i+1,b=l;e:for(;;)if(u<a.length&&b==a[u].from){if(m)break e;let x=a[u];if(!h)for(let v=x.to,C=u+1;;){if(v==t)break e;if(C<a.length&&a[C].from==v)v=a[C++].to;else{if(Nn[v]==o)break e;break}}if(u++,g)g.push(x);else{x.from>l&&r.push(new Vl(l,x.from,_));let v=x.direction==wu!=!(_%2);Zw(n,v?i+1:i,s,x.inner,x.from,x.to,r),l=x.to}b=x.to}else{if(b==t||(h?Nn[b]!=o:Nn[b]==o))break;b++}g?Yw(n,l,b,i+1,s,g,r):l<b&&r.push(new Vl(l,b,_)),l=b}else for(let l=t,u=a.length;l>e;){let h=!0,m=!1;if(!u||l>a[u-1].to){let x=Nn[l-1];x!=o&&(h=!1,m=x==16)}let g=!h&&o==1?[]:null,_=h?i:i+1,b=l;e:for(;;)if(u&&b==a[u-1].to){if(m)break e;let x=a[--u];if(!h)for(let v=x.from,C=u;;){if(v==e)break e;if(C&&a[C-1].to==v)v=a[--C].from;else{if(Nn[v-1]==o)break e;break}}if(g)g.push(x);else{x.to<l&&r.push(new Vl(x.to,l,_));let v=x.direction==wu!=!(_%2);Zw(n,v?i+1:i,s,x.inner,x.from,x.to,r),l=x.from}b=x.from}else{if(b==e||(h?Nn[b-1]!=o:Nn[b-1]==o))break;b--}g?Yw(n,b,l,i+1,s,g,r):b<l&&r.push(new Vl(b,l,_)),l=b}}function Zw(n,e,t,i,s,a,r){let o=e%2?2:1;U_e(n,s,a,i,o),B_e(n,s,a,i,o),I_e(s,a,i,o),Yw(n,s,a,e,t,i,r)}function z_e(n,e,t){if(!n)return[new Vl(0,0,e==oA?1:0)];if(e==wu&&!t.length&&!F_e.test(n))return NF(n.length);if(t.length)for(;n.length>Nn.length;)Nn[Nn.length]=256;let i=[],s=e==wu?0:1;return Zw(n,s,s,t,0,n.length,i),i}function NF(n){return[new Vl(0,n,0)]}let MF="";function q_e(n,e,t,i,s){var a;let r=i.head-n.from,o=Vl.find(e,r,(a=i.bidiLevel)!==null&&a!==void 0?a:-1,i.assoc),l=e[o],u=l.side(s,t);if(r==u){let g=o+=s?1:-1;if(g<0||g>=e.length)return null;l=e[o=g],r=l.side(!s,t),u=l.side(s,t)}let h=zi(n.text,r,l.forward(s,t));(h<l.from||h>l.to)&&(h=u),MF=n.text.slice(Math.min(r,h),Math.max(r,h));let m=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return m&&h==u&&m.level+(s?0:1)<l.level?Oe.cursor(m.side(!s,t)+n.from,m.forward(s,t)?1:-1,m.level):Oe.cursor(h+n.from,l.forward(s,t)?-1:1,l.level)}function K_e(n,e,t){for(let i=e;i<t;i++){let s=AF(n.charCodeAt(i));if(s==1)return wu;if(s==2||s==4)return oA}return wu}const OF=We.define(),LF=We.define(),PF=We.define(),RF=We.define(),Jw=We.define(),EF=We.define(),jF=We.define(),lA=We.define(),cA=We.define(),DF=We.define({combine:n=>n.some(e=>e)}),FF=We.define({combine:n=>n.some(e=>e)}),UF=We.define();class Zd{constructor(e,t="nearest",i="nearest",s=5,a=5,r=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=a,this.isSnapshot=r}map(e){return e.empty?this:new Zd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Zd(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _0=Ot.define({map:(n,e)=>n.map(e)}),BF=Ot.define();function js(n,e,t){let i=n.facet(RF);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Io=We.define({combine:n=>n.length?n[0]:!0});let H_e=0;const Ed=We.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class ui{constructor(e,t,i,s,a){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(Ed.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Ed.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:a,decorations:r}=t||{};return new ui(H_e++,e,i,s,o=>{let l=[];return r&&l.push(wp.of(u=>{let h=u.plugin(o);return h?r(h):ht.none})),a&&l.push(a(o)),l})}static fromClass(e,t){return ui.define((i,s)=>new e(i,s),t)}}class W2{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(js(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){js(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){js(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const IF=We.define(),uA=We.define(),wp=We.define(),zF=We.define(),ug=We.define(),qF=We.define();function gj(n,e){let t=n.state.facet(qF);if(!t.length)return t;let i=t.map(a=>a instanceof Function?a(n):a),s=[];return sn.spans(i,e.from,e.to,{point(){},span(a,r,o,l){let u=a-e.from,h=r-e.from,m=s;for(let g=o.length-1;g>=0;g--,l--){let _=o[g].spec.bidiIsolate,b;if(_==null&&(_=K_e(e.text,u,h)),l>0&&m.length&&(b=m[m.length-1]).to==u&&b.direction==_)b.to=h,m=b.inner;else{let x={from:u,to:h,direction:_,inner:[]};m.push(x),m=x.inner}}}}),s}const KF=We.define();function dA(n){let e=0,t=0,i=0,s=0;for(let a of n.state.facet(KF)){let r=a(n);r&&(r.left!=null&&(e=Math.max(e,r.left)),r.right!=null&&(t=Math.max(t,r.right)),r.top!=null&&(i=Math.max(i,r.top)),r.bottom!=null&&(s=Math.max(s,r.bottom)))}return{left:e,right:t,top:i,bottom:s}}const bm=We.define();class Ba{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new Ba(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,a=0,r=0,o=0;;s++){let l=s==e.length?null:e[s],u=r-o,h=l?l.fromB:1e9;for(;a<t.length&&t[a]<h;){let m=t[a],g=t[a+1],_=Math.max(o,m),b=Math.min(h,g);if(_<=b&&new Ba(_+u,b+u,_,b).addToSet(i),g>h)break;a+=2}if(!l)return i;new Ba(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),r=l.toA,o=l.toB}}}class eb{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=wi.empty(this.startState.doc.length);for(let a of i)this.changes=this.changes.compose(a.changes);let s=[];this.changes.iterChangedRanges((a,r,o,l)=>s.push(new Ba(a,r,o,l))),this.changedRanges=s}static create(e,t,i){return new eb(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class _j extends vn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ht.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new _i],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ba(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:h})=>h<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!Y_e(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let a=s>-1?W_e(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:h}=this.hasComposition;i=new Ba(u,h,e.changes.mapPos(u,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(qe.ie||qe.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,o=this.updateDeco(),l=$_e(r,o,e.changes);return i=Ba.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let r=qe.chrome||qe.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,r),this.flags&=-8,r&&(r.written||s.selectionRange.focusNode!=r.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(r=>r.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let r of this.children)r instanceof Go&&r.widget instanceof $w&&a.push(r.dom);s.updateGaps(a)}updateChildren(e,t,i){let s=i?i.range.addToSet(e.slice()):e,a=this.childCursor(t);for(let r=s.length-1;;r--){let o=r>=0?s[r]:null;if(!o)break;let{fromA:l,toA:u,fromB:h,toB:m}=o,g,_,b,x;if(i&&i.range.fromB<m&&i.range.toB>h){let O=Wm.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),T=Wm.build(this.view.state.doc,i.range.toB,m,this.decorations,this.dynamicDecorationMap);_=O.breakAtStart,b=O.openStart,x=T.openEnd;let L=this.compositionView(i);T.breakAtStart?L.breakAfter=1:T.content.length&&L.merge(L.length,L.length,T.content[0],!1,T.openStart,0)&&(L.breakAfter=T.content[0].breakAfter,T.content.shift()),O.content.length&&L.merge(0,0,O.content[O.content.length-1],!0,0,O.openEnd)&&O.content.pop(),g=O.content.concat(L).concat(T.content)}else({content:g,breakAtStart:_,openStart:b,openEnd:x}=Wm.build(this.view.state.doc,h,m,this.decorations,this.dynamicDecorationMap));let{i:v,off:C}=a.findPos(u,1),{i:k,off:N}=a.findPos(l,-1);bF(this,k,N,v,C,g,_,b,x)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(BF)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new dr(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new el(s,[t],t.length);let i=new _i;return i.append(t,0),i}fixCompositionDOM(e){let t=(a,r)=>{r.flags|=8|(r.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(r);let o=vn.get(a);o&&o!=r&&(o.dom=null),r.setDOM(a)},i=this.childPos(e.range.fromB,1),s=this.children[i.i];t(e.line,s);for(let a=e.marks.length-1;a>=-1;a--)i=s.childPos(i.off,1),s=s.children[i.i],t(a>=0?e.marks[a].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,a=!s&&!(this.view.state.facet(Io)||this.dom.tabIndex>-1)&&dy(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||a))return;let r=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),u=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(qe.gecko&&o.empty&&!this.hasComposition&&V_e(l)){let m=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(m,l.node.childNodes[l.offset]||null)),l=u=new Zi(m,0),r=!0}let h=this.view.observer.selectionRange;(r||!h.focusNode||(!Vm(l.node,l.offset,h.anchorNode,h.anchorOffset)||!Vm(u.node,u.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,o))&&(this.view.observer.ignore(()=>{qe.android&&qe.chrome&&this.dom.contains(h.focusNode)&&Q_e(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=Sp(this.view.root);if(m)if(o.empty){if(qe.gecko){let g=G_e(l.node,l.offset);if(g&&g!=3){let _=(g==1?gF:_F)(l.node,l.offset);_&&(l=new Zi(_.node,_.offset))}}m.collapse(l.node,l.offset),o.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=o.bidiLevel)}else if(m.extend){m.collapse(l.node,l.offset);try{m.extend(u.node,u.offset)}catch{}}else{let g=document.createRange();o.anchor>o.head&&([l,u]=[u,l]),g.setEnd(u.node,u.offset),g.setStart(l.node,l.offset),m.removeAllRanges(),m.addRange(g)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Zi(h.anchorNode,h.anchorOffset),this.impreciseHead=u.precise?null:new Zi(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Vm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Sp(e.root),{anchorNode:s,anchorOffset:a}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let r=_i.find(this,t.head);if(!r)return;let o=r.posAtStart;if(t.head==o||t.head==o+r.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&i.collapse(s,a)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let s=e.offset;!i&&s<t.childNodes.length;s++){let a=vn.get(t.childNodes[s]);a instanceof _i&&(i=a.domAtPos(0))}for(let s=e.offset-1;!i&&s>=0;s--){let a=vn.get(t.childNodes[s]);a instanceof _i&&(i=a.domAtPos(a.length))}return i?new Zi(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=vn.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof _i)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,s=0;for(let a=this.length,r=this.children.length-1;r>=0;r--){let o=this.children[r],l=a-o.breakAfter,u=l-o.length;if(l<e)break;if(u<=e&&(u<e||o.covers(-1))&&(l>e||o.covers(1))&&(!i||o instanceof _i&&!(i instanceof _i&&t>=0)))i=o,s=u;else if(i&&u==e&&l==e&&o instanceof Go&&Math.abs(t)<2){if(o.deco.startSide<0)break;r&&(i=null)}a=u}return i?i.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),s=this.children[t];if(!(s instanceof _i))return null;for(;s.children.length;){let{i:o,off:l}=s.childPos(i,1);for(;;o++){if(o==s.children.length)return null;if((s=s.children[o]).length)break}i=l}if(!(s instanceof dr))return null;let a=zi(s.text,i);if(a==i)return null;let r=Su(s.dom,i,a).getClientRects();for(let o=0;o<r.length;o++){let l=r[o];if(o==r.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,a=this.view.contentDOM.clientWidth,r=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Bn.LTR;for(let u=0,h=0;h<this.children.length;h++){let m=this.children[h],g=u+m.length;if(g>s)break;if(u>=i){let _=m.dom.getBoundingClientRect();if(t.push(_.height),r){let b=m.dom.lastChild,x=b?yh(b):[];if(x.length){let v=x[x.length-1],C=l?v.right-_.left:_.right-v.left;C>o&&(o=C,this.minWidth=a,this.minWidthFrom=u,this.minWidthTo=g)}}}u=g+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Bn.RTL:Bn.LTR}measureTextSize(){for(let a of this.children)if(a instanceof _i){let r=a.measureTextSize();if(r)return r}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=yh(e.firstChild)[0];t=e.getBoundingClientRect().height,i=a?a.width/27:7,s=a?a.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new yF(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let a=s==t.viewports.length?null:t.viewports[s],r=a?a.from-1:this.length;if(r>i){let o=(t.lineBlockAt(r).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(ht.replace({widget:new $w(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,r))}if(!a)break;i=a.to+1}return ht.set(e)}updateDeco(){let e=1,t=this.view.state.facet(wp).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),i=!1,s=this.view.state.facet(zF).map((a,r)=>{let o=typeof a=="function";return o&&(i=!0),o?a(this.view):a});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(sn.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(UF))try{if(u(this.view,e.range,e))return!0}catch(h){js(this.view.state,h,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let a=dA(this.view),r={left:i.left-a.left,top:i.top-a.top,right:i.right+a.right,bottom:i.bottom+a.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;k_e(this.view.scrollDOM,r,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Bn.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let i=s=>s instanceof Ko||s.children.some(i);return i(this.children[t])}}function V_e(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function HF(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=gF(t.focusNode,t.focusOffset),s=_F(t.focusNode,t.focusOffset),a=i||s;if(s&&i&&s.node!=i.node){let o=vn.get(s.node);if(!o||o instanceof dr&&o.text!=s.node.nodeValue)a=s;else if(n.docView.lastCompositionAfterCursor){let l=vn.get(i.node);!l||l instanceof dr&&l.text!=i.node.nodeValue||(a=s)}}if(n.docView.lastCompositionAfterCursor=a!=i,!a)return null;let r=e-a.offset;return{from:r,to:r+a.node.nodeValue.length,node:a.node}}function W_e(n,e,t){let i=HF(n,t);if(!i)return null;let{node:s,from:a,to:r}=i,o=s.nodeValue;if(/[\n\r]/.test(o)||n.state.doc.sliceString(i.from,i.to)!=o)return null;let l=e.invertedDesc,u=new Ba(l.mapPos(a),l.mapPos(r),a,r),h=[];for(let m=s.parentNode;;m=m.parentNode){let g=vn.get(m);if(g instanceof el)h.push({node:m,deco:g.mark});else{if(g instanceof _i||m.nodeName=="DIV"&&m.parentNode==n.contentDOM)return{range:u,text:s,marks:h,line:m};if(m!=n.contentDOM)h.push({node:m,deco:new lg({inclusive:!0,attributes:R_e(m),tagName:m.tagName.toLowerCase()})});else return null}}}function G_e(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let X_e=class{constructor(){this.changes=[]}compareRange(e,t){hy(e,t,this.changes)}comparePoint(e,t){hy(e,t,this.changes)}boundChange(e){hy(e,e,this.changes)}};function $_e(n,e,t){let i=new X_e;return sn.compare(n,e,t,i),i.changes}function Q_e(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Y_e(n,e){let t=!1;return e&&n.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}function Z_e(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),a=e-s.from;if(s.length==0)return Oe.cursor(e);a==0?t=1:a==s.length&&(t=-1);let r=a,o=a;t<0?r=zi(s.text,a,!1):o=zi(s.text,a);let l=i(s.text.slice(r,o));for(;r>0;){let u=zi(s.text,r,!1);if(i(s.text.slice(u,r))!=l)break;r=u}for(;o<s.length;){let u=zi(s.text,o);if(i(s.text.slice(o,u))!=l)break;o=u}return Oe.range(r+s.from,o+s.from)}function J_e(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function e0e(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function G2(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function yj(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function bj(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function ek(n,e,t){let i,s,a,r,o=!1,l,u,h,m;for(let b=n.firstChild;b;b=b.nextSibling){let x=yh(b);for(let v=0;v<x.length;v++){let C=x[v];s&&G2(s,C)&&(C=yj(bj(C,s.bottom),s.top));let k=J_e(e,C),N=e0e(t,C);if(k==0&&N==0)return b.nodeType==3?xj(b,e,t):ek(b,e,t);(!i||r>N||r==N&&a>k)&&(i=b,s=C,a=k,r=N,o=k?e<C.left?v>0:v<x.length-1:!0),k==0?t>C.bottom&&(!h||h.bottom<C.bottom)?(l=b,h=C):t<C.top&&(!m||m.top>C.top)&&(u=b,m=C):h&&G2(h,C)?h=bj(h,C.bottom):m&&G2(m,C)&&(m=yj(m,C.top))}}if(h&&h.bottom>=t?(i=l,s=h):m&&m.top<=t&&(i=u,s=m),!i)return{node:n,offset:0};let g=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return xj(i,g,t);if(o&&i.contentEditable!="false")return ek(i,g,t);let _=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:_}}function xj(n,e,t){let i=n.nodeValue.length,s=-1,a=1e9,r=0;for(let o=0;o<i;o++){let l=Su(n,o,o+1).getClientRects();for(let u=0;u<l.length;u++){let h=l[u];if(h.top==h.bottom)continue;r||(r=e-h.left);let m=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&m<a){let g=e>=(h.left+h.right)/2,_=g;if(qe.chrome||qe.gecko){let b=Su(n,o).getBoundingClientRect();Math.abs(b.left-h.right)<.1&&(_=!g)}if(m<=0)return{node:n,offset:o+(_?1:0)};s=o+(_?1:0),a=m}}}return{node:n,offset:s>-1?s:r>0?n.nodeValue.length:0}}function VF(n,e,t,i=-1){var s,a;let r=n.contentDOM.getBoundingClientRect(),o=r.top+n.viewState.paddingTop,l,{docHeight:u}=n.viewState,{x:h,y:m}=e,g=m-o;if(g<0)return 0;if(g>u)return n.state.doc.length;for(let O=n.viewState.heightOracle.textHeight/2,T=!1;l=n.elementAtHeight(g),l.type!=xs.Text;)for(;g=i>0?l.bottom+O:l.top-O,!(g>=0&&g<=u);){if(T)return t?null:0;T=!0,i=-i}m=o+g;let _=l.from;if(_<n.viewport.from)return n.viewport.from==0?0:t?null:vj(n,r,l,h,m);if(_>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:vj(n,r,l,h,m);let b=n.dom.ownerDocument,x=n.root.elementFromPoint?n.root:b,v=x.elementFromPoint(h,m);v&&!n.contentDOM.contains(v)&&(v=null),v||(h=Math.max(r.left+1,Math.min(r.right-1,h)),v=x.elementFromPoint(h,m),v&&!n.contentDOM.contains(v)&&(v=null));let C,k=-1;if(v&&((s=n.docView.nearest(v))===null||s===void 0?void 0:s.isEditable)!=!1){if(b.caretPositionFromPoint){let O=b.caretPositionFromPoint(h,m);O&&({offsetNode:C,offset:k}=O)}else if(b.caretRangeFromPoint){let O=b.caretRangeFromPoint(h,m);O&&({startContainer:C,startOffset:k}=O)}C&&(!n.contentDOM.contains(C)||qe.safari&&t0e(C,k,h)||qe.chrome&&n0e(C,k,h))&&(C=void 0),C&&(k=Math.min(Qr(C),k))}if(!C||!n.docView.dom.contains(C)){let O=_i.find(n.docView,_);if(!O)return g>l.top+l.height/2?l.to:l.from;({node:C,offset:k}=ek(O.dom,h,m))}let N=n.docView.nearest(C);if(!N)return null;if(N.isWidget&&((a=N.dom)===null||a===void 0?void 0:a.nodeType)==1){let O=N.dom.getBoundingClientRect();return e.y<O.top||e.y<=O.bottom&&e.x<=(O.left+O.right)/2?N.posAtStart:N.posAtEnd}else return N.localPosFromDOM(C,k)+N.posAtStart}function vj(n,e,t,i,s){let a=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=n.viewState.heightOracle.textHeight,l=Math.floor((s-t.top-(n.defaultLineHeight-o)*.5)/o);a+=l*n.viewState.heightOracle.lineLength}let r=n.state.sliceDoc(t.from,t.to);return t.from+Bw(r,a,n.state.tabSize)}function WF(n,e,t){let i,s=n;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(;;){let a=s.nextSibling;if(a){if(a.nodeName=="BR")break;return!1}else{let r=s.parentNode;if(!r||r.nodeName=="DIV")break;s=r}}return Su(n,i-1,i).getBoundingClientRect().right>t}function t0e(n,e,t){return WF(n,e,t)}function n0e(n,e,t){if(e!=0)return WF(n,e,t);for(let s=n;;){let a=s.parentNode;if(!a||a.nodeType!=1||a.firstChild!=s)return!1;if(a.classList.contains("cm-line"))break;s=a}let i=n.nodeType==1?n.getBoundingClientRect():Su(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function tk(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let s;for(let a of i.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!s||a.type==xs.Text&&(s.type!=a.type||(t<0?a.from<e:a.to>e)))&&(s=a)}}return s||i}return i}function i0e(n,e,t,i){let s=tk(n,e.head,e.assoc||-1),a=!i||s.type!=xs.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(a){let r=n.dom.getBoundingClientRect(),o=n.textDirectionAt(s.from),l=n.posAtCoords({x:t==(o==Bn.LTR)?r.right-1:r.left+1,y:(a.top+a.bottom)/2});if(l!=null)return Oe.cursor(l,t?-1:1)}return Oe.cursor(t?s.to:s.from,t?-1:1)}function Sj(n,e,t,i){let s=n.state.doc.lineAt(e.head),a=n.bidiSpans(s),r=n.textDirectionAt(s.from);for(let o=e,l=null;;){let u=q_e(s,a,r,o,t),h=MF;if(!u){if(s.number==(t?n.state.doc.lines:1))return o;h=`
`,s=n.state.doc.line(s.number+(t?1:-1)),a=n.bidiSpans(s),u=n.visualLineSide(s,!t)}if(l){if(!l(h))return o}else{if(!i)return u;l=i(h)}o=u}}function s0e(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return a=>{let r=i(a);return s==Kn.Space&&(s=r),s==r}}function a0e(n,e,t,i){let s=e.head,a=t?1:-1;if(s==(t?n.state.doc.length:0))return Oe.cursor(s,e.assoc);let r=e.goalColumn,o,l=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(s,e.assoc||-1),h=n.documentTop;if(u)r==null&&(r=u.left-l.left),o=a<0?u.top:u.bottom;else{let _=n.viewState.lineBlockAt(s);r==null&&(r=Math.min(l.right-l.left,n.defaultCharacterWidth*(s-_.from))),o=(a<0?_.top:_.bottom)+h}let m=l.left+r,g=i??n.viewState.heightOracle.textHeight>>1;for(let _=0;;_+=10){let b=o+(g+_)*a,x=VF(n,{x:m,y:b},!1,a);if(b<l.top||b>l.bottom||(a<0?x<s:x>s)){let v=n.docView.coordsForChar(x),C=!v||b<v.top?-1:1;return Oe.cursor(x,C,void 0,r)}}}function Gm(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(a,r,o)=>{if(e>a&&e<r){let l=i||t||(e-a<r-e?-1:1);e=l<0?a:r,i=l}});if(!i)return e}}function GF(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],a=null;if(s.empty){let r=Gm(n,s.from,0);r!=s.from&&(a=Oe.cursor(r,-1))}else{let r=Gm(n,s.from,-1),o=Gm(n,s.to,1);(r!=s.from||o!=s.to)&&(a=Oe.range(s.from==s.anchor?r:o,s.from==s.head?r:o))}a&&(t||(t=e.ranges.slice()),t[i]=a)}return t?Oe.create(t,e.mainIndex):e}function X2(n,e,t){let i=Gm(n.state.facet(ug).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:Oe.cursor(i,i<t.from?1:-1)}const xm="";class r0e{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Qt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=xm}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let a=this.text.length;this.readNode(s);let r=s.nextSibling;if(r==t)break;let o=vn.get(s),l=vn.get(r);(o&&l?o.breakAfter:(o?o.breakAfter:Zy(s))||Zy(r)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>a)&&!l0e(r,t)&&this.lineBreak(),s=r}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,r=1,o;if(this.lineSeparator?(a=t.indexOf(this.lineSeparator,i),r=this.lineSeparator.length):(o=s.exec(t))&&(a=o.index,r=o[0].length),this.append(t.slice(i,a<0?t.length:a)),a<0)break;if(this.lineBreak(),r>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=r-1);i=a+r}}readNode(e){if(e.cmIgnore)return;let t=vn.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(o0e(e,i.node,i.offset)?t:0))}}function o0e(n,e,t){for(;;){if(!e||t<Qr(e))return!1;if(e==n)return!0;t=vu(e)+1,e=e.parentNode}}function l0e(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=vn.get(n);if(!(i?.isWidget||n.cmIgnore))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let s=i.overrideDOMText;if(s?.length)return!1}return!0}class wj{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class c0e{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:a,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let o=a||r?[]:d0e(e),l=new r0e(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=h0e(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!Ww(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),u=r&&r.node==o.anchorNode&&r.offset==o.anchorOffset||!Ww(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),h=e.viewport;if((qe.ios||qe.chrome)&&e.state.selection.main.empty&&l!=u&&(h.from>0||h.to<e.state.doc.length)){let m=Math.min(l,u),g=Math.max(l,u),_=h.from-m,b=h.to-g;(_==0||_==1||m==0)&&(b==0||b==-1||g==e.state.doc.length)&&(l=0,u=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Oe.range(u,l)):this.newSel=Oe.single(u,l)}}}function XF(n,e){let t,{newSel:i}=e,s=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:r,to:o}=e.bounds,l=s.from,u=null;(a===8||qe.android&&e.text.length<o-r)&&(l=s.to,u="end");let h=$F(n.state.doc.sliceString(r,o,xm),e.text,l-r,u);h&&(qe.chrome&&a==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==xm+xm&&h.toB--,t={from:r+h.from,to:r+h.toA,insert:Zt.of(e.text.slice(h.from,h.toB).split(xm))})}else i&&(!n.hasFocus&&n.state.facet(Io)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(qe.mac||qe.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Oe.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:Zt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:n.state.doc.lineAt(s.from).to<s.to&&n.docView.lineHasWidget(s.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:n.state.toText(n.inputState.insertingText)}:qe.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=Oe.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:Zt.of([" "])}),t)return hA(n,t,i,a);if(i&&!i.main.eq(s)){let r=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(r=!0),o=n.inputState.lastSelectionOrigin,o=="select.pointer"&&(i=GF(n.state.facet(ug).map(l=>l(n)),i))),n.dispatch({selection:i,scrollIntoView:r,userEvent:o}),!0}else return!1}function hA(n,e,t,i=-1){if(qe.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(qe.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Yd(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Yd(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Yd(n.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let r,o=()=>r||(r=u0e(n,e,t));return n.state.facet(EF).some(l=>l(n,e.from,e.to,a,o))||n.dispatch(o()),!0}function u0e(n,e,t){let i,s=n.state,a=s.selection.main,r=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let l=e.from<a.from?-1:1,u=l<0?a.from:a.to,h=Gm(s.facet(ug).map(m=>m(n)),u,l);e.from==h&&(r=h)}if(r>-1)i={changes:e,selection:Oe.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=a.from<e.from?s.sliceDoc(a.from,e.from):"",u=a.to>e.to?s.sliceDoc(e.to,a.to):"";i=s.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let l=s.changes(e),u=t&&t.main.to<=l.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let h=n.state.sliceDoc(e.from,e.to),m,g=t&&HF(n,t.main.head);if(g){let b=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-b}}else m=n.state.doc.lineAt(a.head);let _=a.to-e.to;i=s.changeByRange(b=>{if(b.from==a.from&&b.to==a.to)return{changes:l,range:u||b.map(l)};let x=b.to-_,v=x-h.length;if(n.state.sliceDoc(v,x)!=h||x>=m.from&&v<=m.to)return{range:b};let C=s.changes({from:v,to:x,insert:e.insert}),k=b.to-a.to;return{changes:C,range:u?Oe.range(Math.max(0,u.anchor+k),Math.max(0,u.head+k)):b.map(C)}})}else i={changes:l,selection:u&&s.selection.replaceRange(u)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:o,scrollIntoView:!0})}function $F(n,e,t,i){let s=Math.min(n.length,e.length),a=0;for(;a<s&&n.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==s&&n.length==e.length)return null;let r=n.length,o=e.length;for(;r>0&&o>0&&n.charCodeAt(r-1)==e.charCodeAt(o-1);)r--,o--;if(i=="end"){let l=Math.max(0,a-Math.min(r,o));t-=r+l-a}if(r<a&&n.length<e.length){let l=t<=a&&t>=r?a-t:0;a-=l,o=a+(o-r),r=a}else if(o<a){let l=t<=a&&t>=o?a-t:0;a-=l,r=a+(r-o),o=a}return{from:a,toA:r,toB:o}}function d0e(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:a}=n.observer.selectionRange;return t&&(e.push(new wj(t,i)),(s!=t||a!=i)&&e.push(new wj(s,a))),e}function h0e(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?Oe.single(t+e,i+e):null}class f0e{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,qe.safari&&e.contentDOM.addEventListener("input",()=>null),qe.gecko&&M0e(e.contentDOM.ownerDocument)}handleEvent(e){!v0e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=m0e(e),i=this.handlers,s=this.view.contentDOM;for(let a in t)if(a!="scroll"){let r=!t[a].handlers.length,o=i[a];o&&r!=!o.handlers.length&&(s.removeEventListener(a,this.handleEvent),o=null),o||s.addEventListener(a,this.handleEvent,{passive:r})}for(let a in i)a!="scroll"&&!t[a]&&s.removeEventListener(a,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&YF.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),qe.android&&qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=QF.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||p0e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Yd(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:qe.safari&&!qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function kj(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(s){js(t.state,s)}}}function m0e(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec,a=s&&s.plugin.domEventHandlers,r=s&&s.plugin.domEventObservers;if(a)for(let o in a){let l=a[o];l&&t(o).handlers.push(kj(i.value,l))}if(r)for(let o in r){let l=r[o];l&&t(o).observers.push(kj(i.value,l))}}for(let i in hr)t(i).handlers.push(hr[i]);for(let i in Va)t(i).observers.push(Va[i]);return e}const QF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],p0e="dthko",YF=[16,17,18,20,91,92,224,225],y0=6;function b0(n){return Math.max(0,n)*.7+8}function g0e(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class _0e{constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=C_e(e.contentDOM),this.atoms=e.state.facet(ug).map(r=>r(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Qt.allowMultipleSelections)&&y0e(e,t),this.dragging=x0e(e,t)&&eU(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&g0e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,s=0,a=0,r=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:r}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=dA(this.view);e.clientX-l.left<=s+y0?t=-b0(s-e.clientX):e.clientX+l.right>=r-y0&&(t=b0(e.clientX-r)),e.clientY-l.top<=a+y0?i=-b0(a-e.clientY):e.clientY+l.bottom>=o-y0&&(i=b0(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=GF(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function y0e(n,e){let t=n.state.facet(OF);return t.length?t[0](e):qe.mac?e.metaKey:e.ctrlKey}function b0e(n,e){let t=n.state.facet(LF);return t.length?t[0](e):qe.mac?!e.altKey:!e.ctrlKey}function x0e(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Sp(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let a=0;a<s.length;a++){let r=s[a];if(r.left<=e.clientX&&r.right>=e.clientX&&r.top<=e.clientY&&r.bottom>=e.clientY)return!0}return!1}function v0e(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=vn.get(t))&&i.ignoreEvent(e))return!1;return!0}const hr=Object.create(null),Va=Object.create(null),ZF=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function S0e(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),JF(n,t.value)},50)}function ox(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function JF(n,e){e=ox(n.state,lA,e);let{state:t}=n,i,s=1,a=t.toText(e),r=a.lines==t.selection.ranges.length;if(nk!=null&&t.selection.ranges.every(l=>l.empty)&&nk==a.toString()){let l=-1;i=t.changeByRange(u=>{let h=t.doc.lineAt(u.from);if(h.from==l)return{range:u};l=h.from;let m=t.toText((r?a.line(s++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:m},range:Oe.cursor(u.from+m.length)}})}else r?i=t.changeByRange(l=>{let u=a.line(s++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Oe.cursor(l.from+u.length)}}):i=t.replaceSelection(a);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Va.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};hr.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Va.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Va.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};hr.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(PF))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=C0e(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new _0e(n,e,t,i)),i&&n.observer.ignore(()=>{fF(n.contentDOM);let a=n.root.activeElement;a&&!a.contains(n.contentDOM)&&a.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function Cj(n,e,t,i){if(i==1)return Oe.cursor(e,t);if(i==2)return Z_e(n.state,e,t);{let s=_i.find(n.docView,e),a=n.state.doc.lineAt(s?s.posAtEnd:e),r=s?s.posAtStart:a.from,o=s?s.posAtEnd:a.to;return o<n.state.doc.length&&o==a.to&&o++,Oe.range(r,o)}}let Aj=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function w0e(n,e,t,i){let s=_i.find(n.docView,e);if(!s)return 1;let a=e-s.posAtStart;if(a==0)return 1;if(a==s.length)return-1;let r=s.coordsAt(a,-1);if(r&&Aj(t,i,r))return-1;let o=s.coordsAt(a,1);return o&&Aj(t,i,o)?1:r&&r.bottom>=i?-1:1}function Tj(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:w0e(n,t,e.clientX,e.clientY)}}const k0e=qe.ie&&qe.ie_version<=11;let Nj=null,Mj=0,Oj=0;function eU(n){if(!k0e)return n.detail;let e=Nj,t=Oj;return Nj=n,Oj=Date.now(),Mj=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Mj+1)%3:1}function C0e(n,e){let t=Tj(n,e),i=eU(e),s=n.state.selection;return{update(a){a.docChanged&&(t.pos=a.changes.mapPos(t.pos),s=s.map(a.changes))},get(a,r,o){let l=Tj(n,a),u,h=Cj(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!r){let m=Cj(n,t.pos,t.bias,i),g=Math.min(m.from,h.from),_=Math.max(m.to,h.to);h=g<h.from?Oe.range(g,_):Oe.range(_,g)}return r?s.replaceRange(s.main.extend(h.from,h.to)):o&&i==1&&s.ranges.length>1&&(u=A0e(s,l.pos))?u:o?s.addRange(h):Oe.create([h])}}}function A0e(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return Oe.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}hr.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let a=s.posAtStart,r=a+s.length;(a>=t.to||r<=t.from)&&(t=Oe.range(a,r))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",ox(n.state,cA,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};hr.dragend=n=>(n.inputState.draggedContent=null,!1);function Lj(n,e,t,i){if(t=ox(n.state,lA,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=n.inputState,r=i&&a&&b0e(n,e)?{from:a.from,to:a.to}:null,o={from:s,insert:t},l=n.state.changes(r?[r,o]:o);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(s,-1),head:l.mapPos(s,1)},userEvent:r?"move.drop":"input.drop"}),n.inputState.draggedContent=null}hr.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,a=()=>{++s==t.length&&Lj(n,e,i.filter(r=>r!=null).join(n.state.lineBreak),!1)};for(let r=0;r<t.length;r++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[r]=o.result),a()},o.readAsText(t[r])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Lj(n,e,i,!0),!0}return!1};hr.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=ZF?null:e.clipboardData;return t?(JF(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(S0e(n),!1)};function T0e(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function N0e(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:a}of n.selection.ranges){let r=n.doc.lineAt(a);r.number>s&&(e.push(r.text),t.push({from:r.from,to:Math.min(n.doc.length,r.to+1)})),s=r.number}i=!0}return{text:ox(n,cA,e.join(n.lineBreak)),ranges:t,linewise:i}}let nk=null;hr.copy=hr.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=N0e(n.state);if(!t&&!s)return!1;nk=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let a=ZF?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",t),!0):(T0e(n,t),!1)};const tU=no.define();function nU(n,e){let t=[];for(let i of n.facet(jF)){let s=i(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:tU.of(!0)}):null}function iU(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=nU(n.state,e);t?n.dispatch(t):n.update([])}},10)}Va.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),iU(n)};Va.blur=n=>{n.observer.clearSelectionRange(),iU(n)};Va.compositionstart=Va.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Va.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,qe.chrome&&qe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Va.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};hr.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let a=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),r=e.getTargetRanges();if(a&&r.length){let o=r[0],l=n.posAtDOM(o.startContainer,o.startOffset),u=n.posAtDOM(o.endContainer,o.endOffset);return hA(n,{from:l,to:u,insert:n.state.toText(a)},null),!0}}let s;if(qe.chrome&&qe.android&&(s=QF.find(a=>a.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let a=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var r;(((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0)>a+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return qe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),qe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Va.compositionend(n,e),20),!1};const Pj=new Set;function M0e(n){Pj.has(n)||(Pj.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Rj=["pre-wrap","normal","pre-line","break-spaces"];let vh=!1;function Ej(){vh=!1}class O0e{constructor(e){this.lineWrapping=e,this.doc=Zt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Rj.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,a,r){let o=Rj.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=a,l){this.heightSamples={};for(let u=0;u<r.length;u++){let h=r[u];h<0?u++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class L0e{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Fr{constructor(e,t,i,s,a){this.from=e,this.length=t,this.top=i,this.height=s,this._content=a}get type(){return typeof this._content=="number"?xs.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof sc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Fr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Un=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(Un||(Un={}));const fy=.001;class vs{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>fy&&(vh=!0),this.height=e)}replace(e,t,i){return vs.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let a=this,r=i.doc;for(let o=s.length-1;o>=0;o--){let{fromA:l,toA:u,fromB:h,toB:m}=s[o],g=a.lineAt(l,Un.ByPosNoHeight,i.setDoc(t),0,0),_=g.to>=u?g:a.lineAt(u,Un.ByPosNoHeight,i,0,0);for(m+=_.to-u,u=_.to;o>0&&g.from<=s[o-1].toA;)l=s[o-1].fromA,h=s[o-1].fromB,o--,l<g.from&&(g=a.lineAt(l,Un.ByPosNoHeight,i,0,0));h+=g.from-l,l=g.from;let b=fA.build(i.setDoc(r),e,h,m);a=tb(a,a.replace(l,u,b))}return a.updateHeight(i,0)}static empty(){return new sa(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,a=0;for(;;)if(t==i)if(s>a*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,s-=o.size}else if(a>s*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,a-=o.size}else break;else if(s<a){let o=e[t++];o&&(s+=o.size)}else{let o=e[--i];o&&(a+=o.size)}let r=0;return e[t-1]==null?(r=1,t--):e[t]==null&&(r=1,i++),new P0e(vs.of(e.slice(0,t)),r,vs.of(e.slice(i)))}}function tb(n,e){return n==e?n:(n.constructor!=e.constructor&&(vh=!0),e)}vs.prototype.size=1;class sU extends vs{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new Fr(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,a){return this.blockAt(0,i,s,a)}forEachLine(e,t,i,s,a,r){e<=a+this.length&&t>=a&&r(this.blockAt(0,i,s,a))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class sa extends sU{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new Fr(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof sa||s instanceof Bi&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Bi?s=new sa(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):vs.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Bi extends vs{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,a=s-i+1,r,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*a);r=l/a,this.length>a+1&&(o=(this.height-l)/(this.length-a-1))}else r=this.height/a;return{firstLine:i,lastLine:s,perLine:r,perChar:o}}blockAt(e,t,i,s){let{firstLine:a,lastLine:r,perLine:o,perChar:l}=this.heightMetrics(t,s);if(t.lineWrapping){let u=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),h=t.doc.lineAt(u),m=o+h.length*l,g=Math.max(i,e-m/2);return new Fr(h.from,h.length,g,m,0)}else{let u=Math.max(0,Math.min(r-a,Math.floor((e-i)/o))),{from:h,length:m}=t.doc.line(a+u);return new Fr(h,m,i+o*u,o,0)}}lineAt(e,t,i,s,a){if(t==Un.ByHeight)return this.blockAt(e,i,s,a);if(t==Un.ByPosNoHeight){let{from:_,to:b}=i.doc.lineAt(e);return new Fr(_,b-_,0,0,0)}let{firstLine:r,perLine:o,perChar:l}=this.heightMetrics(i,a),u=i.doc.lineAt(e),h=o+u.length*l,m=u.number-r,g=s+o*m+l*(u.from-a-m);return new Fr(u.from,u.length,Math.max(s,Math.min(g,s+this.height-h)),h,0)}forEachLine(e,t,i,s,a,r){e=Math.max(e,a),t=Math.min(t,a+this.length);let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(i,a);for(let h=e,m=s;h<=t;){let g=i.doc.lineAt(h);if(h==e){let b=g.number-o;m+=l*b+u*(e-a-b)}let _=l+u*g.length;r(new Fr(g.from,g.length,m,_,0)),m+=_,h=g.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let a=i[i.length-1];a instanceof Bi?i[i.length-1]=new Bi(a.length+s):i.push(null,new Bi(s-1))}if(e>0){let a=i[0];a instanceof Bi?i[0]=new Bi(e+a.length):i.unshift(new Bi(e-1),null)}return vs.of(i)}decomposeLeft(e,t){t.push(new Bi(e-1),null)}decomposeRight(e,t){t.push(null,new Bi(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let a=t+this.length;if(s&&s.from<=t+this.length&&s.more){let r=[],o=Math.max(t,s.from),l=-1;for(s.from>t&&r.push(new Bi(s.from-t-1).updateHeight(e,t));o<=a&&s.more;){let h=e.doc.lineAt(o).length;r.length&&r.push(null);let m=s.heights[s.index++];l==-1?l=m:Math.abs(m-l)>=fy&&(l=-2);let g=new sa(h,m);g.outdated=!1,r.push(g),o+=h+1}o<=a&&r.push(null,new Bi(a-o).updateHeight(e,o));let u=vs.of(r);return(l<0||Math.abs(u.height-this.height)>=fy||Math.abs(l-this.heightMetrics(e,t).perLine)>=fy)&&(vh=!0),tb(this,u)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class P0e extends vs{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let a=i+this.left.height;return e<a?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,a,s+this.left.length+this.break)}lineAt(e,t,i,s,a){let r=s+this.left.height,o=a+this.left.length+this.break,l=t==Un.ByHeight?e<r:e<o,u=l?this.left.lineAt(e,t,i,s,a):this.right.lineAt(e,t,i,r,o);if(this.break||(l?u.to<o:u.from>o))return u;let h=t==Un.ByPosNoHeight?Un.ByPosNoHeight:Un.ByPos;return l?u.join(this.right.lineAt(o,h,i,r,o)):this.left.lineAt(o,h,i,s,a).join(u)}forEachLine(e,t,i,s,a,r){let o=s+this.left.height,l=a+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,s,a,r),t>=l&&this.right.forEachLine(e,t,i,o,l,r);else{let u=this.lineAt(l,Un.ByPos,i,s,a);e<u.from&&this.left.forEachLine(e,u.from-1,i,s,a,r),u.to>=e&&u.from<=t&&r(u),t>u.to&&this.right.forEachLine(u.to+1,t,i,o,l,r)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let a=[];e>0&&this.decomposeLeft(e,a);let r=a.length;for(let o of i)a.push(o);if(e>0&&jj(a,r-1),t<this.length){let o=a.length;this.decomposeRight(t,a),jj(a,o)}return vs.of(a)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?vs.of(this.break?[e,null,t]:[e,t]):(this.left=tb(this.left,e),this.right=tb(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:a,right:r}=this,o=t+a.length+this.break,l=null;return s&&s.from<=t+a.length&&s.more?l=a=a.updateHeight(e,t,i,s):a.updateHeight(e,t,i),s&&s.from<=o+r.length&&s.more?l=r=r.updateHeight(e,o,i,s):r.updateHeight(e,o,i),l?this.balanced(a,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function jj(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Bi&&(i=n[e+1])instanceof Bi&&n.splice(e-1,3,new Bi(t.length+1+i.length))}const R0e=5;class fA{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof sa?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new sa(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,a=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let r=t-e;i.block?this.addBlock(new sU(r,s,i)):(r||a||s>=R0e)&&this.addLineDeco(s,a,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new sa(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Bi(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof sa)return e;let t=new sa(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof sa)&&!this.isCovered?this.nodes.push(new sa(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof sa&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let a=new fA(i,e);return sn.spans(t,i,s,a,0),a.finish(i)}}function E0e(n,e,t){let i=new j0e;return sn.compare(n,e,t,i,0),i.changes}class j0e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&hy(e,t,this.changes,5)}}function D0e(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,a=Math.max(0,t.left),r=Math.min(s.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(s.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=i.body;)if(u.nodeType==1){let h=u,m=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&m.overflow!="visible"){let g=h.getBoundingClientRect();a=Math.max(a,g.left),r=Math.min(r,g.right),o=Math.max(o,g.top),l=Math.min(u==n.parentNode?s.innerHeight:l,g.bottom)}u=m.position=="absolute"||m.position=="fixed"?h.offsetParent:h.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:a-t.left,right:Math.max(a,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function F0e(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function U0e(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class $2{constructor(e,t,i,s){this.from=e,this.to=t,this.size=i,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],a=t[i];if(s.from!=a.from||s.to!=a.to||s.size!=a.size)return!1}return!0}draw(e,t){return ht.replace({widget:new B0e(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class B0e extends il{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Dj{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Fj,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Bn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(uA).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new O0e(t),this.stateDeco=e.facet(wp).filter(i=>typeof i!="function"),this.heightMap=vs.empty().applyChanges(this.stateDeco,Zt.empty,this.heightOracle.setDoc(e.doc),[new Ba(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ht.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:a,to:r})=>s>=a&&s<=r)){let{from:a,to:r}=this.lineBlockAt(s);e.push(new x0(a,r))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Fj:new mA(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(vm(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(wp).filter(h=>typeof h!="function");let s=e.changedRanges,a=Ba.extendWithRanges(s,E0e(i,this.stateDeco,e?e.changes:wi.empty(this.state.doc.length))),r=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Ej(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=r||vh)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=r);let l=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(FF)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,a=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Bn.RTL:Bn.LTR;let r=this.heightOracle.mustRefreshForWrapping(a),o=t.getBoundingClientRect(),l=r||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let u=0,h=0;if(o.width&&o.height){let{scaleX:O,scaleY:T}=hF(t,o);(O>.005&&Math.abs(this.scaleX-O)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=O,this.scaleY=T,u|=16,r=l=!0)}let m=(parseInt(i.paddingTop)||0)*this.scaleY,g=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let _=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=_&&(this.scrollAnchorHeight=-1,this.scrollTop=_),this.scrolledToBottom=pF(e.scrollDOM);let b=(this.printing?U0e:D0e)(t,this.paddingTop),x=b.top-this.pixelViewport.top,v=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(l=!0)),!this.inView&&!this.scrollTarget&&!F0e(e.dom))return 0;let k=o.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let O=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(O)&&(r=!0),r||s.lineWrapping&&Math.abs(k-this.contentDOMWidth)>s.charWidth){let{lineHeight:T,charWidth:L,textHeight:M}=e.docView.measureTextSize();r=T>0&&s.refresh(a,T,L,M,Math.max(5,k/L),O),r&&(e.docView.minWidth=0,u|=16)}x>0&&v>0?h=Math.max(x,v):x<0&&v<0&&(h=Math.min(x,v)),Ej();for(let T of this.viewports){let L=T.from==this.viewport.from?O:e.docView.measureVisibleLineHeights(T);this.heightMap=(r?vs.empty().applyChanges(this.stateDeco,Zt.empty,this.heightOracle,[new Ba(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,r,new L0e(T.from,L))}vh&&(u|=2)}let N=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return N&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),u|=this.updateForViewport()),(u&2||N)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,a=this.heightOracle,{visibleTop:r,visibleBottom:o}=this,l=new x0(s.lineAt(r-i*1e3,Un.ByHeight,a,0,0).from,s.lineAt(o+(1-i)*1e3,Un.ByHeight,a,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(u,Un.ByPos,a,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&u<l.from?g=m.top:g=m.bottom-h,l=new x0(s.lineAt(g-1e3/2,Un.ByHeight,a,0,0).from,s.lineAt(g+h+1e3/2,Un.ByHeight,a,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new x0(this.heightMap.lineAt(i,Un.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Un.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Un.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(t,Un.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:o}=this;return(e==0||s<=r-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||a>=o+Math.max(10,Math.min(i,250)))&&s>r-2*1e3&&a<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new $2(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,a=s>>1,r=s<<1;if(this.defaultTextDirection!=Bn.LTR&&!i)return[];let o=[],l=(h,m,g,_)=>{if(m-h<a)return;let b=this.state.selection.main,x=[b.from];b.empty||x.push(b.to);for(let C of x)if(C>h&&C<m){l(h,C-10,g,_),l(C+10,m,g,_);return}let v=z0e(e,C=>C.from>=g.from&&C.to<=g.to&&Math.abs(C.from-h)<a&&Math.abs(C.to-m)<a&&!x.some(k=>C.from<k&&C.to>k));if(!v){if(m<g.to&&t&&i&&t.visibleRanges.some(N=>N.from<=m&&N.to>=m)){let N=t.moveToLineBoundary(Oe.cursor(m),!1,!0).head;N>h&&(m=N)}let C=this.gapSize(g,h,m,_),k=i||C<2e6?C:2e6;v=new $2(h,m,C,k)}o.push(v)},u=h=>{if(h.length<r||h.type!=xs.Text)return;let m=I0e(h.from,h.to,this.stateDeco);if(m.total<r)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,_,b;if(i){let x=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,C;if(g!=null){let k=S0(m,g),N=((this.visibleBottom-this.visibleTop)/2+x)/h.height;v=k-N,C=k+N}else v=(this.visibleTop-h.top-x)/h.height,C=(this.visibleBottom-h.top+x)/h.height;_=v0(m,v),b=v0(m,C)}else{let x=m.total*this.heightOracle.charWidth,v=s*this.heightOracle.charWidth,C=0;if(x>2e6)for(let L of e)L.from>=h.from&&L.from<h.to&&L.size!=L.displaySize&&L.from*this.heightOracle.charWidth+C<this.pixelViewport.left&&(C=L.size-L.displaySize);let k=this.pixelViewport.left+C,N=this.pixelViewport.right+C,O,T;if(g!=null){let L=S0(m,g),M=((N-k)/2+v)/x;O=L-M,T=L+M}else O=(k-v)/x,T=(N+v)/x;_=v0(m,O),b=v0(m,T)}_>h.from&&l(h.from,_,h,m),b<h.to&&l(b,h.to,h,m)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(u):u(h);return o}gapSize(e,t,i,s){let a=S0(s,i)-S0(s,t);return this.heightOracle.lineWrapping?e.height*a:s.total*this.heightOracle.charWidth*a}updateLineGaps(e){$2.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ht.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];sn.spans(t,this.viewport.from,this.viewport.to,{span(a,r){i.push({from:a,to:r})},point(){}},20);let s=0;if(i.length!=this.visibleRanges.length)s=12;else for(let a=0;a<i.length&&!(s&8);a++){let r=this.visibleRanges[a],o=i[a];(r.from!=o.from||r.to!=o.to)&&(s|=4,e&&e.mapPos(r.from,-1)==o.from&&e.mapPos(r.to,1)==o.to||(s|=8))}return this.visibleRanges=i,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||vm(this.heightMap.lineAt(e,Un.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||vm(this.heightMap.lineAt(this.scaler.fromDOM(e),Un.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return vm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class x0{constructor(e,t){this.from=e,this.to=t}}function I0e(n,e,t){let i=[],s=n,a=0;return sn.spans(t,n,e,{span(){},point(r,o){r>s&&(i.push({from:s,to:r}),a+=r-s),s=o}},20),s<e&&(i.push({from:s,to:e}),a+=e-s),{total:a,ranges:i}}function v0({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:a,to:r}=e[s],o=r-a;if(i<=o)return a+i;i-=o}}function S0(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function z0e(n,e){for(let t of n)if(e(t))return t}const Fj={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class mA{constructor(e,t,i){let s=0,a=0,r=0;this.viewports=i.map(({from:o,to:l})=>{let u=t.lineAt(o,Un.ByPos,e,0,0).top,h=t.lineAt(l,Un.ByPos,e,0,0).bottom;return s+=h-u,{from:o,to:l,top:u,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let o of this.viewports)o.domTop=r+(o.top-a)*this.scale,r=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.top)return s+(e-i)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);i=a.bottom,s=a.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.domTop)return i+(e-s)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);i=a.bottom,s=a.domBottom}}eq(e){return e instanceof mA?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function vm(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Fr(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>vm(s,e)):n._content)}const w0=We.define({combine:n=>n.join(" ")}),ik=We.define({combine:n=>n.indexOf(!0)>-1}),sk=nc.newName(),aU=nc.newName(),rU=nc.newName(),oU={"&light":"."+aU,"&dark":"."+rU};function ak(n,e,t){return new nc(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const q0e=ak("."+sk,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},oU),K0e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Q2=qe.ie&&qe.ie_version<=11;class H0e{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new A_e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(qe.ie&&qe.ie_version<=11||qe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(qe.chrome&&qe.chrome_version<126)&&(this.editContext=new W0e(e),e.state.facet(Io)&&(e.contentDOM.editContext=this.editContext.editContext)),Q2&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(Io)?i.root.activeElement!=this.dom:!dy(this.dom,s))return;let a=s.anchorNode&&i.docView.nearest(s.anchorNode);if(a&&a.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!i.state.selection.main.empty&&s.focusNode&&Vm(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Sp(e.root);if(!t)return!1;let i=qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&V0e(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=dy(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&N_e(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,K0e),Q2&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Q2&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Yd(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let a of e){let r=this.readMutation(a);r&&(r.typeOver&&(s=!0),t==-1?{from:t,to:i}=r:(t=Math.min(r.from,t),i=Math.max(r.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&dy(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new c0e(this.view,e,t,i);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=XF(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Uj(t,e.previousSibling||e.target.previousSibling,-1),s=Uj(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Io)!=e.state.facet(Io)&&(e.view.contentDOM.editContext=e.state.facet(Io)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Uj(n,e,t){for(;e;){let i=vn.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function Bj(n,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,r=n.docView.domAtPos(n.state.selection.main.anchor);return Vm(r.node,r.offset,s,a)&&([t,i,s,a]=[s,a,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:a}}function V0e(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Bj(n,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?Bj(n,t):null}class W0e{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let s=e.state.selection.main,{anchor:a,head:r}=s,o=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:o,drifted:!1});let u=l-o>i.text.length;o==this.from&&a<this.from?o=a:l==this.to&&a>this.to&&(l=a);let h=$F(e.state.sliceDoc(o,l),i.text,(u?s.from:s.to)-o,u?"end":null);if(!h){let g=Oe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));g.main.eq(s)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:h.from+o,to:h.toA+o,insert:Zt.of(i.text.slice(h.from,h.toB).split(`
`))};if((qe.mac||qe.android)&&m.from==r-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:o,to:l,insert:Zt.of([i.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);hA(e,m,Oe.single(this.toEditorPos(i.selectionStart,g),this.toEditorPos(i.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let s=[],a=null;for(let r=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);r<o;r++){let l=e.coordsForChar(r);a=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||a||new DOMRect,s.push(a)}t.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let a of i.getTextFormats()){let r=a.underlineStyle,o=a.underlineThickness;if(!/none/i.test(r)&&!/none/i.test(o)){let l=this.toEditorPos(a.rangeStart),u=this.toEditorPos(a.rangeEnd);if(l<u){let h=`text-decoration: underline ${/^[a-z]/.test(r)?r+" ":r=="Dashed"?"dashed ":r=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;s.push(ht.mark({attributes:{style:h}}).range(l,u))}}}e.dispatch({effects:BF.of(ht.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=Sp(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,s=this.pendingContextChange;return e.changes.iterChanges((a,r,o,l,u)=>{if(i)return;let h=u.length-(r-a);if(s&&r>=s.to)if(s.from==a&&s.to==r&&s.insert.eq(u)){s=this.pendingContextChange=null,t+=h,this.to+=h;return}else s=null,this.revertPending(e.state);if(a+=t,r+=t,r<=this.from)this.from+=h,this.to+=h;else if(a<this.to){if(a<this.from||r>this.to||this.to-this.from+u.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(r),u.toString()),this.to+=h}t+=h}),s&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ke{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(s=>s.forEach(a=>i(a,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||T_e(e.parent)||document,this.viewState=new Dj(e.state||Qt.create(e)),e.scrollTo&&e.scrollTo.is(_0)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ed).map(s=>new W2(s));for(let s of this.plugins)s.update(this);this.observer=new H0e(this),this.inputState=new f0e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new _j(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Ci?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,a=this.state;for(let g of e){if(g.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=g.state}if(this.destroyed){this.viewState.state=a;return}let r=this.hasFocus,o=0,l=null;e.some(g=>g.annotation(tU))?(this.inputState.notifiedFocused=r,o=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,l=nU(a,r),l||(o=1));let u=this.observer.delayedAndroidKey,h=null;if(u?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(h=null)):this.observer.clear(),a.facet(Qt.phrases)!=this.state.facet(Qt.phrases))return this.setState(a);s=eb.create(this,a,e),s.flags|=o;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:_}=g.state.selection;m=new Zd(_.empty?_:Oe.cursor(_.head,_.head>_.anchor?-1:1))}for(let _ of g.effects)_.is(_0)&&(m=_.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=nb.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(bm)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(w0)!=s.state.facet(w0)&&(this.viewState.mustMeasureContent=!0),(t||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let g of this.state.facet(Jw))try{g(s)}catch(_){js(this.state,_,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!XF(this,h)&&u.force&&Yd(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Dj(e),this.plugins=e.facet(Ed).map(i=>new W2(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new _j(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ed),i=e.state.facet(Ed);if(t!=i){let s=[];for(let a of i){let r=t.indexOf(a);if(r<0)s.push(new W2(a));else{let o=this.plugins[r];o.mustUpdate=e,s.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){js(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:r}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(r=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(r<0)if(pF(i))a=-1,r=this.viewState.heightMap.height;else{let _=this.viewState.scrollAnchorAt(s);a=_.from,r=_.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let h=u.map(_=>{try{return _.read(this)}catch(b){return js(this.state,b),Ij}}),m=eb.create(this,this.state,[]),g=!1;m.flags|=l,t?t.flags|=l:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let _=0;_<u.length;_++)if(h[_]!=Ij)try{let b=u[_];b.write&&b.write(h[_],this)}catch(b){js(this.state,b)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,r=-1;continue}else{let b=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-r;if(b>1||b<-1){s=s+b,i.scrollTop=s/this.scaleY,r=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(Jw))o(t)}get themeClasses(){return sk+" "+(this.state.facet(ik)?rU:aU)+" "+this.state.facet(w0)}updateAttrs(){let e=zj(this,IF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Io)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),zj(this,uA,t);let i=this.observer.ignore(()=>{let s=Xw(this.contentDOM,this.contentAttrs,t),a=Xw(this.dom,this.editorAttrs,e);return s||a});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(Ke.announce)){t&&(this.announceDOM.textContent=""),t=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(bm);let e=this.state.facet(Ke.cspNonce);nc.mount(this.root,this.styleModules.concat(q0e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return X2(this,e,Sj(this,e,t,i))}moveByGroup(e,t){return X2(this,e,Sj(this,e,t,i=>s0e(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),a=i[t?i.length-1:0];return Oe.cursor(a.side(t,s)+e.from,a.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return i0e(this,e,t,i)}moveVertically(e,t,i){return X2(this,e,a0e(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),VF(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),a=this.bidiSpans(s),r=a[Vl.find(a,e-s.from,-1,t)];return og(i,r.dir==Bn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(DF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>G0e)return NF(e.length);let t=this.textDirectionAt(e.from),i;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==t&&(a.fresh||TF(a.isolates,i=gj(this,e))))return a.order;i||(i=gj(this,e));let s=z_e(e.text,t,i);return this.bidiCache.push(new nb(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{fF(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return _0.of(new Zd(typeof e=="number"?Oe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return _0.of(new Zd(Oe.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ui.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ui.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=nc.newName(),s=[w0.of(i),bm.of(ak(`.${i}`,e))];return t&&t.dark&&s.push(ik.of(!0)),s}static baseTheme(e){return Ru.lowest(bm.of(ak("."+sk,e,oU)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&vn.get(i)||vn.get(e);return((t=s?.rootView)===null||t===void 0?void 0:t.view)||null}}Ke.styleModule=bm;Ke.inputHandler=EF;Ke.clipboardInputFilter=lA;Ke.clipboardOutputFilter=cA;Ke.scrollHandler=UF;Ke.focusChangeEffect=jF;Ke.perLineTextDirection=DF;Ke.exceptionSink=RF;Ke.updateListener=Jw;Ke.editable=Io;Ke.mouseSelectionStyle=PF;Ke.dragMovesSelection=LF;Ke.clickAddsSelectionRange=OF;Ke.decorations=wp;Ke.outerDecorations=zF;Ke.atomicRanges=ug;Ke.bidiIsolatedRanges=qF;Ke.scrollMargins=KF;Ke.darkTheme=ik;Ke.cspNonce=We.define({combine:n=>n.length?n[0]:""});Ke.contentAttributes=uA;Ke.editorAttributes=IF;Ke.lineWrapping=Ke.contentAttributes.of({class:"cm-lineWrapping"});Ke.announce=Ot.define();const G0e=4096,Ij={};class nb{constructor(e,t,i,s,a,r){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=a,this.order=r}static update(e,t){if(t.empty&&!e.some(a=>a.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:Bn.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let r=e[a];r.dir==s&&!t.touchesRange(r.from,r.to)&&i.push(new nb(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.isolates,!1,r.order))}return i}}function zj(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let a=i[s],r=typeof a=="function"?a(n):a;r&&Gw(r,t)}return t}const X0e=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function $0e(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,a,r,o;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))a=!0;else if(/^s(hift)?$/i.test(u))r=!0;else if(/^mod$/i.test(u))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+u)}return s&&(i="Alt-"+i),a&&(i="Ctrl-"+i),o&&(i="Meta-"+i),r&&(i="Shift-"+i),i}function k0(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const Q0e=Ru.default(Ke.domEventHandlers({keydown(n,e){return cU(lU(e.state),n,e,"editor")}})),dg=We.define({enables:Q0e}),qj=new WeakMap;function lU(n){let e=n.facet(dg),t=qj.get(e);return t||qj.set(e,t=J0e(e.reduce((i,s)=>i.concat(s),[]))),t}function Y0e(n,e,t){return cU(lU(n.state),e,n,t)}let Dl=null;const Z0e=4e3;function J0e(n,e=X0e){let t=Object.create(null),i=Object.create(null),s=(r,o)=>{let l=i[r];if(l==null)i[r]=o;else if(l!=o)throw new Error("Key binding "+r+" is used both as a regular binding and as a multi-stroke prefix")},a=(r,o,l,u,h)=>{var m,g;let _=t[r]||(t[r]=Object.create(null)),b=o.split(/ (?!$)/).map(C=>$0e(C,e));for(let C=1;C<b.length;C++){let k=b.slice(0,C).join(" ");s(k,!0),_[k]||(_[k]={preventDefault:!0,stopPropagation:!1,run:[N=>{let O=Dl={view:N,prefix:k,scope:r};return setTimeout(()=>{Dl==O&&(Dl=null)},Z0e),!0}]})}let x=b.join(" ");s(x,!1);let v=_[x]||(_[x]={preventDefault:!1,stopPropagation:!1,run:((g=(m=_._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});l&&v.run.push(l),u&&(v.preventDefault=!0),h&&(v.stopPropagation=!0)};for(let r of n){let o=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let u of o){let h=t[u]||(t[u]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=r;for(let g in h)h[g].run.push(_=>m(_,rk))}let l=r[e]||r.key;if(l)for(let u of o)a(u,l,r.run,r.preventDefault,r.stopPropagation),r.shift&&a(u,"Shift-"+l,r.shift,r.preventDefault,r.stopPropagation)}return t}let rk=null;function cU(n,e,t,i){rk=e;let s=v_e(e),a=Ps(s,0),r=Dr(a)==s.length&&s!=" ",o="",l=!1,u=!1,h=!1;Dl&&Dl.view==t&&Dl.scope==i&&(o=Dl.prefix+" ",YF.indexOf(e.keyCode)<0&&(u=!0,Dl=null));let m=new Set,g=v=>{if(v){for(let C of v.run)if(!m.has(C)&&(m.add(C),C(t)))return v.stopPropagation&&(h=!0),!0;v.preventDefault&&(v.stopPropagation&&(h=!0),u=!0)}return!1},_=n[i],b,x;return _&&(g(_[o+k0(s,e,!r)])?l=!0:r&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&!(qe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=ic[e.keyCode])&&b!=s?(g(_[o+k0(b,e,!0)])||e.shiftKey&&(x=vp[e.keyCode])!=s&&x!=b&&g(_[o+k0(x,e,!1)]))&&(l=!0):r&&e.shiftKey&&g(_[o+k0(s,e,!0)])&&(l=!0),!l&&g(_._any)&&(l=!0)),u&&(l=!0),l&&h&&e.stopPropagation(),rk=null,l}class hg{constructor(e,t,i,s,a){this.className=e,this.left=t,this.top=i,this.width=s,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let a=uU(e);return[new hg(t,s.left-a.left,s.top-a.top,null,s.bottom-s.top)]}else return eye(e,t,i)}}function uU(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Bn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Kj(n,e,t,i){let s=n.coordsAtPos(e,t*2);if(!s)return i;let a=n.dom.getBoundingClientRect(),r=(s.top+s.bottom)/2,o=n.posAtCoords({x:a.left+1,y:r}),l=n.posAtCoords({x:a.right-1,y:r});return o==null||l==null?i:{from:Math.max(i.from,Math.min(o,l)),to:Math.min(i.to,Math.max(o,l))}}function eye(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),a=n.textDirection==Bn.LTR,r=n.contentDOM,o=r.getBoundingClientRect(),l=uU(n),u=r.querySelector(".cm-line"),h=u&&window.getComputedStyle(u),m=o.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),g=o.right-(h?parseInt(h.paddingRight):0),_=tk(n,i,1),b=tk(n,s,-1),x=_.type==xs.Text?_:null,v=b.type==xs.Text?b:null;if(x&&(n.lineWrapping||_.widgetLineBreaks)&&(x=Kj(n,i,1,x)),v&&(n.lineWrapping||b.widgetLineBreaks)&&(v=Kj(n,s,-1,v)),x&&v&&x.from==v.from&&x.to==v.to)return k(N(t.from,t.to,x));{let T=x?N(t.from,null,x):O(_,!1),L=v?N(null,t.to,v):O(b,!0),M=[];return(x||_).to<(v||b).from-(x&&v?1:0)||_.widgetLineBreaks>1&&T.bottom+n.defaultLineHeight/2<L.top?M.push(C(m,T.bottom,g,L.top)):T.bottom<L.top&&n.elementAtHeight((T.bottom+L.top)/2).type==xs.Text&&(T.bottom=L.top=(T.bottom+L.top)/2),k(T).concat(M).concat(k(L))}function C(T,L,M,P){return new hg(e,T-l.left,L-l.top,M-T,P-L)}function k({top:T,bottom:L,horizontal:M}){let P=[];for(let R=0;R<M.length;R+=2)P.push(C(M[R],T,M[R+1],L));return P}function N(T,L,M){let P=1e9,R=-1e9,D=[];function U(Z,Y,I,K,V){let $=n.coordsAtPos(Z,Z==M.to?-2:2),W=n.coordsAtPos(I,I==M.from?2:-2);!$||!W||(P=Math.min($.top,W.top,P),R=Math.max($.bottom,W.bottom,R),V==Bn.LTR?D.push(a&&Y?m:$.left,a&&K?g:W.right):D.push(!a&&K?m:W.left,!a&&Y?g:$.right))}let F=T??M.from,H=L??M.to;for(let Z of n.visibleRanges)if(Z.to>F&&Z.from<H)for(let Y=Math.max(Z.from,F),I=Math.min(Z.to,H);;){let K=n.state.doc.lineAt(Y);for(let V of n.bidiSpans(K)){let $=V.from+K.from,W=V.to+K.from;if($>=I)break;W>Y&&U(Math.max($,Y),T==null&&$<=F,Math.min(W,I),L==null&&W>=H,V.dir)}if(Y=K.to+1,Y>=I)break}return D.length==0&&U(F,T==null,H,L==null,n.textDirection),{top:P,bottom:R,horizontal:D}}function O(T,L){let M=o.top+(L?T.top:T.bottom);return{top:M,bottom:M,horizontal:[]}}}function tye(n,e){return n.constructor==e.constructor&&n.eq(e)}class nye{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(my)!=e.state.facet(my)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(my);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!tye(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,qe.safari&&qe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const my=We.define();function dU(n){return[ui.define(e=>new nye(e,n)),my.of(n)]}const kp=We.define({combine(n){return io(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function iye(n={}){return[kp.of(n),sye,aye,rye,FF.of(!0)]}function hU(n){return n.startState.facet(kp)!=n.state.facet(kp)}const sye=dU({above:!0,markers(n){let{state:e}=n,t=e.facet(kp),i=[];for(let s of e.selection.ranges){let a=s==e.selection.main;if(s.empty||t.drawRangeCursor){let r=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=s.empty?s:Oe.cursor(s.head,s.head>s.anchor?-1:1);for(let l of hg.forRange(n,r,o))i.push(l)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=hU(n);return t&&Hj(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Hj(e.state,n)},class:"cm-cursorLayer"});function Hj(n,e){e.style.animationDuration=n.facet(kp).cursorBlinkRate+"ms"}const aye=dU({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:hg.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||hU(n)},class:"cm-selectionLayer"}),rye=Ru.highest(Ke.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),fU=Ot.define({map(n,e){return n==null?null:e.mapPos(n)}}),Sm=Hi.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(fU)?i.value:t,n)}}),oye=ui.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Sm);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Sm)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Sm),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Sm)!=n&&this.view.dispatch({effects:fU.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function lye(){return[Sm,oye]}function Vj(n,e,t,i,s){e.lastIndex=0;for(let a=n.iterRange(t,i),r=t,o;!a.next().done;r+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)s(r+o.index,o)}function cye(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:a}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),a=Math.min(n.state.doc.lineAt(a).to,a+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=a:i.push({from:s,to:a});return i}class uye{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:a,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(o,l,u,h)=>s(h,u,u+o[0].length,o,l);else if(typeof i=="function")this.addMatch=(o,l,u,h)=>{let m=i(o,l,u);m&&h(u,u+o[0].length,m)};else if(i)this.addMatch=(o,l,u,h)=>h(u,u+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=r}createDeco(e){let t=new Jo,i=t.add.bind(t);for(let{from:s,to:a}of cye(e,this.maxLength))Vj(e.state.doc,this.regexp,s,a,(r,o)=>this.addMatch(o,e,r,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((a,r,o,l)=>{l>=e.view.viewport.from&&o<=e.view.viewport.to&&(i=Math.min(o,i),s=Math.max(l,s))}),e.viewportMoved||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let a of e.visibleRanges){let r=Math.max(a.from,i),o=Math.min(a.to,s);if(o>=r){let l=e.state.doc.lineAt(r),u=l.to<o?e.state.doc.lineAt(o):l,h=Math.max(a.from,l.from),m=Math.min(a.to,u.to);if(this.boundary){for(;r>l.from;r--)if(this.boundary.test(l.text[r-1-l.from])){h=r;break}for(;o<u.to;o++)if(this.boundary.test(u.text[o-u.from])){m=o;break}}let g=[],_,b=(x,v,C)=>g.push(C.range(x,v));if(l==u)for(this.regexp.lastIndex=h-l.from;(_=this.regexp.exec(l.text))&&_.index<m-l.from;)this.addMatch(_,e,_.index+l.from,b);else Vj(e.state.doc,this.regexp,h,m,(x,v)=>this.addMatch(v,e,x,b));t=t.update({filterFrom:h,filterTo:m,filter:(x,v)=>x<h||v>m,add:g})}}return t}}const ok=/x/.unicode!=null?"gu":"g",dye=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,ok),hye={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Y2=null;function fye(){var n;if(Y2==null&&typeof document<"u"&&document.body){let e=document.body.style;Y2=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Y2||!1}const py=We.define({combine(n){let e=io(n,{render:null,specialChars:dye,addSpecialChars:null});return(e.replaceTabs=!fye())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,ok)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ok)),e}});function mye(n={}){return[py.of(n),pye()]}let Wj=null;function pye(){return Wj||(Wj=ui.fromClass(class{constructor(n){this.view=n,this.decorations=ht.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(py)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new uye({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,a=Ps(e[0],0);if(a==9){let r=s.lineAt(i),o=t.state.tabSize,l=Fh(r.text,o,i-r.from);return ht.replace({widget:new bye((o-l%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=ht.replace({widget:new yye(n,a)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(py);n.startState.facet(py)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const gye="";function _ye(n){return n>=32?gye:n==10?"":String.fromCharCode(9216+n)}class yye extends il{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=_ye(this.code),i=e.state.phrase("Control character")+" "+(hye[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let a=document.createElement("span");return a.textContent=t,a.title=i,a.setAttribute("aria-label",i),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class bye extends il{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function xye(){return Sye}const vye=ht.line({class:"cm-activeLine"}),Sye=ui.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(vye.range(s.from)),e=s.from)}return ht.set(t)}},{decorations:n=>n.decorations});class wye extends il{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?yh(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),s=og(t[0],i.direction!="rtl"),a=parseInt(i.lineHeight);return s.bottom-s.top>a*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+a}:s}ignoreEvent(){return!1}}function kye(n){let e=ui.fromClass(class{constructor(t){this.view=t,this.placeholder=n?ht.set([ht.widget({widget:new wye(n),side:1}).range(0)]):ht.none}get decorations(){return this.view.state.doc.length?ht.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,Ke.contentAttributes.of({"aria-placeholder":n})]:e}const lk=2e3;function Cye(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),a=[];if(e.off>lk||t.off>lk||e.col<0||t.col<0){let r=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let l=i;l<=s;l++){let u=n.doc.line(l);u.length<=o&&a.push(Oe.range(u.from+r,u.to+o))}}else{let r=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let l=i;l<=s;l++){let u=n.doc.line(l),h=Bw(u.text,r,n.tabSize,!0);if(h<0)a.push(Oe.cursor(u.to));else{let m=Bw(u.text,o,n.tabSize);a.push(Oe.range(u.from+h,u.from+m))}}}return a}function Aye(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Gj(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,a=s>lk?-1:s==i.length?Aye(n,e.clientX):Fh(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:a,off:s}}function Tye(n,e){let t=Gj(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let a=s.changes.mapPos(s.startState.doc.line(t.line).from),r=s.state.doc.lineAt(a);t={line:r.number,col:t.col,off:Math.min(t.off,r.length)},i=i.map(s.changes)}},get(s,a,r){let o=Gj(n,s);if(!o)return i;let l=Cye(n.state,t,o);return l.length?r?Oe.create(l.concat(i.ranges)):Oe.create(l):i}}:null}function Nye(n){let e=(t=>t.altKey&&t.button==0);return Ke.mouseSelectionStyle.of((t,i)=>e(i)?Tye(t,i):null)}const Mye={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Oye={style:"cursor: crosshair"};function Lye(n={}){let[e,t]=Mye[n.key||"Alt"],i=ui.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,Ke.contentAttributes.of(s=>{var a;return!((a=s.plugin(i))===null||a===void 0)&&a.isDown?Oye:null})]}const C0="-10000px";class mU{constructor(e,t,i,s){this.facet=t,this.createTooltipView=i,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r);let a=null;this.tooltipViews=this.tooltips.map(r=>a=i(r,a))}update(e,t){var i;let s=e.state.facet(this.facet),a=s.filter(l=>l);if(s===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let r=[],o=t?[]:null;for(let l=0;l<a.length;l++){let u=a[l],h=-1;if(u){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==u.create&&(h=m)}if(h<0)r[l]=this.createTooltipView(u,l?r[l-1]:null),o&&(o[l]=!!u.above);else{let m=r[l]=this.tooltipViews[h];o&&(o[l]=t[h]),m.update&&m.update(e)}}}for(let l of this.tooltipViews)r.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(o.forEach((l,u)=>t[u]=l),t.length=o.length),this.input=s,this.tooltips=a,this.tooltipViews=r,!0}}function Pye(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Z2=We.define({combine:n=>{var e,t,i;return{position:qe.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Pye}}}),Xj=new WeakMap,pA=ui.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Z2);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new mU(n,gA,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Z2);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=C0,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(qe.safari){let r=a.getBoundingClientRect();t=Math.abs(r.top+1e4)>1||Math.abs(r.left)>1}else t=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(n=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),s=dA(this.view);return{visible:{left:i.left+s.left,top:i.top+s.top,right:i.right-s.right,bottom:i.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,r)=>{let o=this.manager.tooltipViews[r];return o.getCoords?o.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(Z2).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:i,scaleX:s,scaleY:a}=n,r=[];for(let o=0;o<this.manager.tooltips.length;o++){let l=this.manager.tooltips[o],u=this.manager.tooltipViews[o],{dom:h}=u,m=n.pos[o],g=n.size[o];if(!m||l.clip!==!1&&(m.bottom<=Math.max(t.top,i.top)||m.top>=Math.min(t.bottom,i.bottom)||m.right<Math.max(t.left,i.left)-.1||m.left>Math.min(t.right,i.right)+.1)){h.style.top=C0;continue}let _=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,b=_?7:0,x=g.right-g.left,v=(e=Xj.get(u))!==null&&e!==void 0?e:g.bottom-g.top,C=u.offset||Eye,k=this.view.textDirection==Bn.LTR,N=g.width>i.right-i.left?k?i.left:i.right-g.width:k?Math.max(i.left,Math.min(m.left-(_?14:0)+C.x,i.right-x)):Math.min(Math.max(i.left,m.left-x+(_?14:0)-C.x),i.right-x),O=this.above[o];!l.strictSide&&(O?m.top-v-b-C.y<i.top:m.bottom+v+b+C.y>i.bottom)&&O==i.bottom-m.bottom>m.top-i.top&&(O=this.above[o]=!O);let T=(O?m.top-i.top:i.bottom-m.bottom)-b;if(T<v&&u.resize!==!1){if(T<this.view.defaultLineHeight){h.style.top=C0;continue}Xj.set(u,v),h.style.height=(v=T)/a+"px"}else h.style.height&&(h.style.height="");let L=O?m.top-v-b-C.y:m.bottom+b+C.y,M=N+x;if(u.overlap!==!0)for(let P of r)P.left<M&&P.right>N&&P.top<L+v&&P.bottom>L&&(L=O?P.top-v-2-b:P.bottom+b+2);if(this.position=="absolute"?(h.style.top=(L-n.parent.top)/a+"px",$j(h,(N-n.parent.left)/s)):(h.style.top=L/a+"px",$j(h,N/s)),_){let P=m.left+(k?C.x:-C.x)-(N+14-7);_.style.left=P/s+"px"}u.overlap!==!0&&r.push({left:N,top:L,right:M,bottom:L+v}),h.classList.toggle("cm-tooltip-above",O),h.classList.toggle("cm-tooltip-below",!O),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=C0}},{eventObservers:{scroll(){this.maybeMeasure()}}});function $j(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const Rye=Ke.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Eye={x:0,y:0},gA=We.define({enables:[pA,Rye]}),ib=We.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class lx{static create(e){return new lx(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new mU(e,ib,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let s=i[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const jye=gA.compute([ib],n=>{let e=n.facet(ib);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:lx.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Dye{constructor(e,t,i,s,a){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let s,a=1;if(i instanceof Ko)s=i.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let o=e.coordsAtPos(s);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(s)).find(h=>h.from<=s&&h.to>=s),u=l&&l.dir==Bn.RTL?-1:1;a=t.x<o.left?-u:u}let r=this.source(e,s,a);if(r?.then){let o=this.pending={pos:s};r.then(l=>{this.pending==o&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>js(e.state,l,"hover tooltip"))}else r&&!(Array.isArray(r)&&!r.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(r)?r:[r])})}get tooltip(){let e=this.view.plugin(pA),t=e?e.manager.tooltips.findIndex(i=>i.create==lx.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:a}=this;if(s.length&&a&&!Fye(a.dom,e)||this.pending){let{pos:r}=s[0]||this.pending,o=(i=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:r;(r==o?this.view.posAtCoords(this.lastMove)!=r:!Uye(this.view,r,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const A0=4;function Fye(n,e){let{left:t,right:i,top:s,bottom:a}=n.getBoundingClientRect(),r;if(r=n.querySelector(".cm-tooltip-arrow")){let o=r.getBoundingClientRect();s=Math.min(o.top,s),a=Math.max(o.bottom,a)}return e.clientX>=t-A0&&e.clientX<=i+A0&&e.clientY>=s-A0&&e.clientY<=a+A0}function Uye(n,e,t,i,s,a){let r=n.scrollDOM.getBoundingClientRect(),o=n.documentTop+n.documentPadding.top+n.contentHeight;if(r.left>i||r.right<i||r.top>s||Math.min(r.bottom,o)<s)return!1;let l=n.posAtCoords({x:i,y:s},!1);return l>=e&&l<=t}function Bye(n,e={}){let t=Ot.define(),i=Hi.define({create(){return[]},update(s,a){if(s.length&&(e.hideOnChange&&(a.docChanged||a.selection)?s=[]:e.hideOn&&(s=s.filter(r=>!e.hideOn(a,r))),a.docChanged)){let r=[];for(let o of s){let l=a.changes.mapPos(o.pos,-1,gs.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),o);u.pos=l,u.end!=null&&(u.end=a.changes.mapPos(u.end)),r.push(u)}}s=r}for(let r of a.effects)r.is(t)&&(s=r.value),r.is(Iye)&&(s=[]);return s},provide:s=>ib.from(s)});return{active:i,extension:[i,ui.define(s=>new Dye(s,n,i,t,e.hoverTime||300)),jye]}}function pU(n,e){let t=n.plugin(pA);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Iye=Ot.define(),Qj=We.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Cp(n,e){let t=n.plugin(gU),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const gU=ui.fromClass(class{constructor(n){this.input=n.state.facet(Ap),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(Qj);this.top=new T0(n,!0,e.topContainer),this.bottom=new T0(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(Qj);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new T0(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new T0(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Ap);if(t!=this.input){let i=t.filter(l=>l),s=[],a=[],r=[],o=[];for(let l of i){let u=this.specs.indexOf(l),h;u<0?(h=l(n.view),o.push(h)):(h=this.panels[u],h.update&&h.update(n)),s.push(h),(h.top?a:r).push(h)}this.specs=i,this.panels=s,this.top.sync(a),this.bottom.sync(r);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Ke.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class T0{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Yj(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Yj(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Yj(n){let e=n.nextSibling;return n.remove(),e}const Ap=We.define({enables:gU});class tl extends xu{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}tl.prototype.elementClass="";tl.prototype.toDOM=void 0;tl.prototype.mapMode=gs.TrackBefore;tl.prototype.startSide=tl.prototype.endSide=-1;tl.prototype.point=!0;const gy=We.define(),zye=We.define(),qye={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>sn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Xm=We.define();function Kye(n){return[_U(),Xm.of({...qye,...n})]}const Zj=We.define({combine:n=>n.some(e=>e)});function _U(n){return[Hye]}const Hye=ui.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Xm).map(e=>new e3(n,e)),this.fixed=!n.state.facet(Zj);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(Zj)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=sn.iter(this.view.state.facet(gy),this.view.viewport.from),i=[],s=this.gutters.map(a=>new Vye(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(a.type)){let r=!0;for(let o of a.type)if(o.type==xs.Text&&r){ck(t,i,o.from);for(let l of s)l.line(this.view,o,i);r=!1}else if(o.widget)for(let l of s)l.widget(this.view,o)}else if(a.type==xs.Text){ck(t,i,a.from);for(let r of s)r.line(this.view,a,i)}else if(a.widget)for(let r of s)r.widget(this.view,a);for(let a of s)a.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Xm),t=n.state.facet(Xm),i=n.docChanged||n.heightChanged||n.viewportChanged||!sn.eq(n.startState.facet(gy),n.state.facet(gy),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let a of t){let r=e.indexOf(a);r<0?s.push(new e3(this.view,a)):(this.gutters[r].update(n),s.push(this.gutters[r]))}for(let a of this.gutters)a.dom.remove(),s.indexOf(a)<0&&a.destroy();for(let a of s)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>Ke.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Bn.LTR?{left:i,right:s}:{right:i,left:s}})});function Jj(n){return Array.isArray(n)?n:[n]}function ck(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Vye{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=sn.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,a=(t.top-this.height)/e.scaleY,r=t.height/e.scaleY;if(this.i==s.elements.length){let o=new yU(e,r,a,i);s.elements.push(o),s.dom.appendChild(o.dom)}else s.elements[this.i].update(e,r,a,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];ck(this.cursor,s,t.from),i.length&&(s=s.concat(i));let a=this.gutter.config.lineMarker(e,t,s);a&&s.unshift(a);let r=this.gutter;s.length==0&&!r.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),s=i?[i]:null;for(let a of e.state.facet(zye)){let r=a(e,t.widget,t);r&&(s||(s=[])).push(r)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class e3{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let a=s.target,r;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let l=a.getBoundingClientRect();r=(l.top+l.bottom)/2}else r=s.clientY;let o=e.lineBlockAtHeight(r-e.documentTop);t.domEventHandlers[i](e,o,s)&&s.preventDefault()});this.markers=Jj(t.markers(e)),t.initialSpacer&&(this.spacer=new yU(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Jj(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!sn.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class yU{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Wye(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let a=0,r=0;;){let o=r,l=a<t.length?t[a++]:null,u=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let m=r;m<this.markers.length;m++)if(this.markers[m].compare(l)){o=m,u=!0;break}}else o=this.markers.length;for(;r<o;){let h=this.markers[r++];if(h.toDOM){h.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!l)break;l.toDOM&&(u?s=s.nextSibling:this.dom.insertBefore(l.toDOM(e),s)),u&&r++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function Wye(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Gye=We.define(),Xye=We.define(),jd=We.define({combine(n){return io(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let a=i[s],r=t[s];i[s]=a?(o,l,u)=>a(o,l,u)||r(o,l,u):r}return i}})}});class J2 extends tl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function eS(n,e){return n.state.facet(jd).formatNumber(e,n.state)}const $ye=Xm.compute([jd],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Gye)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new J2(eS(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let s of e.state.facet(Xye)){let a=s(e,t,i);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(jd)!=e.state.facet(jd),initialSpacer(e){return new J2(eS(e,t3(e.state.doc.lines)))},updateSpacer(e,t){let i=eS(t.view,t3(t.view.state.doc.lines));return i==e.number?e:new J2(i)},domEventHandlers:n.facet(jd).domEventHandlers,side:"before"}));function Qye(n={}){return[jd.of(n),_U(),$ye]}function t3(n){let e=9;for(;e<n;)e=e*10+9;return e}const Yye=new class extends tl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Zye=gy.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(Yye.range(s)))}return sn.of(e)});function Jye(){return Zye}const bU=1024;let ebe=0;class tS{constructor(e,t){this.from=e,this.to=t}}class Bt{constructor(e={}){this.id=ebe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ws.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Bt.closedBy=new Bt({deserialize:n=>n.split(" ")});Bt.openedBy=new Bt({deserialize:n=>n.split(" ")});Bt.group=new Bt({deserialize:n=>n.split(" ")});Bt.isolate=new Bt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Bt.contextHash=new Bt({perNode:!0});Bt.lookAhead=new Bt({perNode:!0});Bt.mounted=new Bt({perNode:!0});class sb{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Bt.mounted.id]}}const tbe=Object.create(null);class Ws{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):tbe,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Ws(e.name||"",t,e.id,i);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(s)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[a[0].id]=a[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Bt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(Bt.group),a=-1;a<(s?s.length:0);a++){let r=t[a<0?i.name:s[a]];if(r)return r}}}}Ws.none=new Ws("",Object.create(null),0,8);class _A{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let a of e){let r=a(i);if(r){s||(s=Object.assign({},i.props));let o=r[1],l=r[0];l.combine&&l.id in s&&(o=l.combine(s[l.id],o)),s[l.id]=o}}t.push(s?new Ws(i.name,s,i.id,i.flags):i)}return new _A(t)}}const N0=new WeakMap,n3=new WeakMap;var Mi;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Mi||(Mi={}));class xi{constructor(e,t,i,s,a){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,a&&a.length){this.props=Object.create(null);for(let[r,o]of a)this.props[typeof r=="number"?r:r.id]=o}}toString(){let e=sb.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new dk(this.topNode,e)}cursorAt(e,t=0,i=0){let s=N0.get(this)||this.topNode,a=new dk(s);return a.moveTo(e,t),N0.set(this,a._tree),a}get topNode(){return new Ia(this,0,0,null)}resolve(e,t=0){let i=Tp(N0.get(this)||this.topNode,e,t,!1);return N0.set(this,i),i}resolveInner(e,t=0){let i=Tp(n3.get(this)||this.topNode,e,t,!0);return n3.set(this,i),i}resolveStack(e,t=0){return sbe(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:a=this.length}=e,r=e.mode||0,o=(r&Mi.IncludeAnonymous)>0;for(let l=this.cursor(r|Mi.IncludeAnonymous);;){let u=!1;if(l.from<=a&&l.to>=s&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&i&&(o||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:xA(Ws.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new xi(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new xi(Ws.none,t,i,s)))}static build(e){return abe(e)}}xi.empty=new xi(Ws.none,[],[],0);class yA{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new yA(this.buffer,this.index)}}class ac{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ws.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],a=s.name;if(/\W/.test(a)&&!s.isError&&(a=JSON.stringify(a)),e+=4,i==e)return a;let r=[];for(;e<i;)r.push(this.childString(e)),e=this.buffer[e+3];return a+"("+r.join(",")+")"}findChild(e,t,i,s,a){let{buffer:r}=this,o=-1;for(let l=e;l!=t&&!(xU(a,s,r[l+1],r[l+2])&&(o=l,i>0));l=r[l+3]);return o}slice(e,t,i){let s=this.buffer,a=new Uint16Array(t-e),r=0;for(let o=e,l=0;o<t;){a[l++]=s[o++],a[l++]=s[o++]-i;let u=a[l++]=s[o++]-i;a[l++]=s[o++]-e,r=Math.max(r,u)}return new ac(a,r,this.set)}}function xU(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Tp(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let r=!i&&n instanceof Ia&&n.index<0?null:n.parent;if(!r)return n;n=r}let a=i?0:Mi.IgnoreOverlays;if(i)for(let r=n,o=r.parent;o;r=o,o=r.parent)r instanceof Ia&&r.index<0&&((s=o.enter(e,t,a))===null||s===void 0?void 0:s.from)!=r.from&&(n=o);for(;;){let r=n.enter(e,t,a);if(!r)return n;n=r}}class vU{cursor(e=0){return new dk(this,e)}getChild(e,t=null,i=null){let s=i3(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return i3(this,e,t,i)}resolve(e,t=0){return Tp(this,e,t,!1)}resolveInner(e,t=0){return Tp(this,e,t,!0)}matchContext(e){return uk(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class Ia extends vU{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,a=0){for(let r=this;;){for(let{children:o,positions:l}=r._tree,u=t>0?o.length:-1;e!=u;e+=t){let h=o[e],m=l[e]+r.from;if(xU(s,i,m,m+h.length)){if(h instanceof ac){if(a&Mi.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-m,s);if(g>-1)return new Wl(new nbe(r,h,e,m),null,g)}else if(a&Mi.IncludeAnonymous||!h.type.isAnonymous||bA(h)){let g;if(!(a&Mi.IgnoreMounts)&&(g=sb.get(h))&&!g.overlay)return new Ia(g.tree,m,e,r);let _=new Ia(h,m,e,r);return a&Mi.IncludeAnonymous||!_.type.isAnonymous?_:_.nextChild(t<0?h.children.length-1:0,t,i,s)}}}if(a&Mi.IncludeAnonymous||!r.type.isAnonymous||(r.index>=0?e=r.index+t:e=t<0?-1:r._parent._tree.children.length,r=r._parent,!r))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let s;if(!(i&Mi.IgnoreOverlays)&&(s=sb.get(this._tree))&&s.overlay){let a=e-this.from;for(let{from:r,to:o}of s.overlay)if((t>0?r<=a:r<a)&&(t<0?o>=a:o>a))return new Ia(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function i3(n,e,t,i){let s=n.cursor(),a=[];if(!s.firstChild())return a;if(t!=null){for(let r=!1;!r;)if(r=s.type.is(t),!s.nextSibling())return a}for(;;){if(i!=null&&s.type.is(i))return a;if(s.type.is(e)&&a.push(s.node),!s.nextSibling())return i==null?a:[]}}function uk(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class nbe{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class Wl extends vU{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return a<0?null:new Wl(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&Mi.ExcludeBuffers)return null;let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return a<0?null:new Wl(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,a=i.buffer[this.index+3];if(a>s){let r=i.buffer[this.index+1];e.push(i.slice(s,a,r)),t.push(0)}return new xi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function SU(n){if(!n.length)return null;let e=0,t=n[0];for(let a=1;a<n.length;a++){let r=n[a];(r.from>t.from||r.to<t.to)&&(t=r,e=a)}let i=t instanceof Ia&&t.index<0?null:t.parent,s=n.slice();return i?s[e]=i:s.splice(e,1),new ibe(s,t)}class ibe{constructor(e,t){this.heads=e,this.node=t}get next(){return SU(this.heads)}}function sbe(n,e,t){let i=n.resolveInner(e,t),s=null;for(let a=i instanceof Ia?i:i.context.parent;a;a=a.parent)if(a.index<0){let r=a.parent;(s||(s=[i])).push(r.resolve(e,t)),a=r}else{let r=sb.get(a.tree);if(r&&r.overlay&&r.overlay[0].from<=e&&r.overlay[r.overlay.length-1].to>=e){let o=new Ia(r.tree,r.overlay[0].from+a.from,-1,a);(s||(s=[i])).push(Tp(o,e,t,!1))}}return s?SU(s):i}class dk{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ia)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof Ia?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Mi.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Mi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Mi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(s.buffer.buffer[a+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let a=t+e,r=e<0?-1:i._tree.children.length;a!=r;a+=e){let o=i._tree.children[a];if(this.mode&Mi.IncludeAnonymous||o instanceof ac||!o.type.isAnonymous||bA(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,a=this.stack.length;a>=0;){for(let r=e;r;r=r._parent)if(r.index==s){if(s==this.index)return r;t=r,i=a+1;break e}s=this.stack[--a]}for(let s=i;s<this.stack.length;s++)t=new Wl(this.buffer,t,this.stack[s]);return this.bufferNode=new Wl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return uk(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,a=this.stack.length-1;s>=0;a--){if(a<0)return uk(this._tree,e,s);let r=i[t.buffer[this.stack[a]]];if(!r.isAnonymous){if(e[s]&&e[s]!=r.name)return!1;s--}}return!0}}function bA(n){return n.children.some(e=>e instanceof ac||!e.type.isAnonymous||bA(e))}function abe(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=bU,reused:a=[],minRepeatType:r=i.types.length}=n,o=Array.isArray(t)?new yA(t,t.length):t,l=i.types,u=0,h=0;function m(T,L,M,P,R,D){let{id:U,start:F,end:H,size:Z}=o,Y=h,I=u;if(Z<0)if(o.next(),Z==-1){let j=a[U];M.push(j),P.push(F-T);return}else if(Z==-3){u=U;return}else if(Z==-4){h=U;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let K=l[U],V,$,W=F-T;if(H-F<=s&&($=v(o.pos-L,R))){let j=new Uint16Array($.size-$.skip),B=o.pos-$.size,X=j.length;for(;o.pos>B;)X=C($.start,j,X);V=new ac(j,H-$.start,i),W=$.start-T}else{let j=o.pos-Z;o.next();let B=[],X=[],te=U>=r?U:-1,Q=0,G=H;for(;o.pos>j;)te>=0&&o.id==te&&o.size>=0?(o.end<=G-s&&(b(B,X,F,Q,o.end,G,te,Y,I),Q=B.length,G=o.end),o.next()):D>2500?g(F,j,B,X):m(F,j,B,X,te,D+1);if(te>=0&&Q>0&&Q<B.length&&b(B,X,F,Q,F,G,te,Y,I),B.reverse(),X.reverse(),te>-1&&Q>0){let ne=_(K,I);V=xA(K,B,X,0,B.length,0,H-F,ne,ne)}else V=x(K,B,X,H-F,Y-H,I)}M.push(V),P.push(W)}function g(T,L,M,P){let R=[],D=0,U=-1;for(;o.pos>L;){let{id:F,start:H,end:Z,size:Y}=o;if(Y>4)o.next();else{if(U>-1&&H<U)break;U<0&&(U=Z-s),R.push(F,H,Z),D++,o.next()}}if(D){let F=new Uint16Array(D*4),H=R[R.length-2];for(let Z=R.length-3,Y=0;Z>=0;Z-=3)F[Y++]=R[Z],F[Y++]=R[Z+1]-H,F[Y++]=R[Z+2]-H,F[Y++]=Y;M.push(new ac(F,R[2]-H,i)),P.push(H-T)}}function _(T,L){return(M,P,R)=>{let D=0,U=M.length-1,F,H;if(U>=0&&(F=M[U])instanceof xi){if(!U&&F.type==T&&F.length==R)return F;(H=F.prop(Bt.lookAhead))&&(D=P[U]+F.length+H)}return x(T,M,P,R,D,L)}}function b(T,L,M,P,R,D,U,F,H){let Z=[],Y=[];for(;T.length>P;)Z.push(T.pop()),Y.push(L.pop()+M-R);T.push(x(i.types[U],Z,Y,D-R,F-D,H)),L.push(R-M)}function x(T,L,M,P,R,D,U){if(D){let F=[Bt.contextHash,D];U=U?[F].concat(U):[F]}if(R>25){let F=[Bt.lookAhead,R];U=U?[F].concat(U):[F]}return new xi(T,L,M,P,U)}function v(T,L){let M=o.fork(),P=0,R=0,D=0,U=M.end-s,F={size:0,start:0,skip:0};e:for(let H=M.pos-T;M.pos>H;){let Z=M.size;if(M.id==L&&Z>=0){F.size=P,F.start=R,F.skip=D,D+=4,P+=4,M.next();continue}let Y=M.pos-Z;if(Z<0||Y<H||M.start<U)break;let I=M.id>=r?4:0,K=M.start;for(M.next();M.pos>Y;){if(M.size<0)if(M.size==-3||M.size==-4)I+=4;else break e;else M.id>=r&&(I+=4);M.next()}R=K,P+=Z,D+=I}return(L<0||P==T)&&(F.size=P,F.start=R,F.skip=D),F.size>4?F:void 0}function C(T,L,M){let{id:P,start:R,end:D,size:U}=o;if(o.next(),U>=0&&P<r){let F=M;if(U>4){let H=o.pos-(U-4);for(;o.pos>H;)M=C(T,L,M)}L[--M]=F,L[--M]=D-T,L[--M]=R-T,L[--M]=P}else U==-3?u=P:U==-4&&(h=P);return M}let k=[],N=[];for(;o.pos>0;)m(n.start||0,n.bufferStart||0,k,N,-1,0);let O=(e=n.length)!==null&&e!==void 0?e:k.length?N[0]+k[0].length:0;return new xi(l[n.topID],k.reverse(),N.reverse(),O)}const s3=new WeakMap;function _y(n,e){if(!n.isAnonymous||e instanceof ac||e.type!=n)return 1;let t=s3.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof xi)){t=1;break}t+=_y(n,i)}s3.set(e,t)}return t}function xA(n,e,t,i,s,a,r,o,l){let u=0;for(let b=i;b<s;b++)u+=_y(n,e[b]);let h=Math.ceil(u*1.5/8),m=[],g=[];function _(b,x,v,C,k){for(let N=v;N<C;){let O=N,T=x[N],L=_y(n,b[N]);for(N++;N<C;N++){let M=_y(n,b[N]);if(L+M>=h)break;L+=M}if(N==O+1){if(L>h){let M=b[O];_(M.children,M.positions,0,M.children.length,x[O]+k);continue}m.push(b[O])}else{let M=x[N-1]+b[N-1].length-T;m.push(xA(n,b,x,O,N,T,M,null,l))}g.push(T+k-a)}}return _(e,t,i,s,0),(o||l)(m,g,r)}class fu{constructor(e,t,i,s,a=!1,r=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(a?1:0)|(r?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new fu(0,e.length,e,0,!1,i)];for(let a of t)a.to>e.length&&s.push(a);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],a=1,r=e.length?e[0]:null;for(let o=0,l=0,u=0;;o++){let h=o<t.length?t[o]:null,m=h?h.fromA:1e9;if(m-l>=i)for(;r&&r.from<m;){let g=r;if(l>=g.from||m<=g.to||u){let _=Math.max(g.from,l)-u,b=Math.min(g.to,m)-u;g=_>=b?null:new fu(_,b,g.tree,g.offset+u,o>0,!!h)}if(g&&s.push(g),r.to>m)break;r=a<e.length?e[a++]:null}if(!h)break;l=h.toA,u=h.toA-h.toB}return s}}let wU=class{startParse(e,t,i){return typeof e=="string"&&(e=new rbe(e)),i=i?i.length?i.map(s=>new tS(s.from,s.to)):[new tS(0,0)]:[new tS(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let a=s.advance();if(a)return a}}};class rbe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Bt({perNode:!0});let obe=0,Fo=class hk{constructor(e,t,i,s){this.name=e,this.set=t,this.base=i,this.modified=s,this.id=obe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof hk&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let s=new hk(i,[],null,[]);if(s.set.push(s),t)for(let a of t.set)s.set.push(a);return s}static defineModifier(e){let t=new ab(e);return i=>i.modified.indexOf(t)>-1?i:ab.get(i.base||i,i.modified.concat(t).sort((s,a)=>s.id-a.id))}},lbe=0;class ab{constructor(e){this.name=e,this.instances=[],this.id=lbe++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&cbe(t,o.modified));if(i)return i;let s=[],a=new Fo(e.name,s,e,t);for(let o of t)o.instances.push(a);let r=ube(t);for(let o of e.set)if(!o.modified.length)for(let l of r)s.push(ab.get(o,l));return a}}function cbe(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function ube(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function kU(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let a=[],r=2,o=s;for(let m=0;;){if(o=="..."&&m>0&&m+3==s.length){r=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!g)throw new RangeError("Invalid path: "+s);if(a.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==s.length)break;let _=s[m++];if(m==s.length&&_=="!"){r=0;break}if(_!="/")throw new RangeError("Invalid path: "+s);o=s.slice(m)}let l=a.length-1,u=a[l];if(!u)throw new RangeError("Invalid path: "+s);let h=new Np(i,r,l>0?a.slice(0,l):null);e[u]=h.sort(e[u])}}return CU.add(e)}const CU=new Bt({combine(n,e){let t,i,s;for(;n||e;){if(!n||e&&n.depth>=e.depth?(s=e,e=e.next):(s=n,n=n.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let a=new Np(s.tags,s.mode,s.context);t?t.next=a:i=a,t=a}return i}});class Np{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Np.empty=new Np([],2,null);function AU(n,e){let t=Object.create(null);for(let a of n)if(!Array.isArray(a.tag))t[a.tag.id]=a.class;else for(let r of a.tag)t[r.id]=a.class;let{scope:i,all:s=null}=e||{};return{style:a=>{let r=s;for(let o of a)for(let l of o.set){let u=t[l.id];if(u){r=r?r+" "+u:u;break}}return r},scope:i}}function dbe(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function hbe(n,e,t,i=0,s=n.length){let a=new fbe(i,Array.isArray(e)?e:[e],t);a.highlightRange(n.cursor(),i,s,"",a.highlighters),a.flush(s)}class fbe{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,a){let{type:r,from:o,to:l}=e;if(o>=i||l<=t)return;r.isTop&&(a=this.highlighters.filter(_=>!_.scope||_.scope(r)));let u=s,h=mbe(e)||Np.empty,m=dbe(a,h.tags);if(m&&(u&&(u+=" "),u+=m,h.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(t,o),u),h.opaque)return;let g=e.tree&&e.tree.prop(Bt.mounted);if(g&&g.overlay){let _=e.node.enter(g.overlay[0].from+o,1),b=this.highlighters.filter(v=>!v.scope||v.scope(g.tree.type)),x=e.firstChild();for(let v=0,C=o;;v++){let k=v<g.overlay.length?g.overlay[v]:null,N=k?k.from+o:l,O=Math.max(t,C),T=Math.min(i,N);if(O<T&&x)for(;e.from<T&&(this.highlightRange(e,O,T,s,a),this.startSpan(Math.min(T,e.to),u),!(e.to>=N||!e.nextSibling())););if(!k||N>i)break;C=k.to+o,C>t&&(this.highlightRange(_.cursor(),Math.max(t,k.from+o),Math.min(i,C),"",b),this.startSpan(Math.min(i,C),u))}x&&e.parent()}else if(e.firstChild()){g&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,a),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function mbe(n){let e=n.type.prop(CU);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ze=Fo.define,M0=ze(),Ll=ze(),a3=ze(Ll),r3=ze(Ll),Pl=ze(),O0=ze(Pl),nS=ze(Pl),Mr=ze(),Dc=ze(Mr),kr=ze(),Cr=ze(),fk=ze(),sm=ze(fk),L0=ze(),ve={comment:M0,lineComment:ze(M0),blockComment:ze(M0),docComment:ze(M0),name:Ll,variableName:ze(Ll),typeName:a3,tagName:ze(a3),propertyName:r3,attributeName:ze(r3),className:ze(Ll),labelName:ze(Ll),namespace:ze(Ll),macroName:ze(Ll),literal:Pl,string:O0,docString:ze(O0),character:ze(O0),attributeValue:ze(O0),number:nS,integer:ze(nS),float:ze(nS),bool:ze(Pl),regexp:ze(Pl),escape:ze(Pl),color:ze(Pl),url:ze(Pl),keyword:kr,self:ze(kr),null:ze(kr),atom:ze(kr),unit:ze(kr),modifier:ze(kr),operatorKeyword:ze(kr),controlKeyword:ze(kr),definitionKeyword:ze(kr),moduleKeyword:ze(kr),operator:Cr,derefOperator:ze(Cr),arithmeticOperator:ze(Cr),logicOperator:ze(Cr),bitwiseOperator:ze(Cr),compareOperator:ze(Cr),updateOperator:ze(Cr),definitionOperator:ze(Cr),typeOperator:ze(Cr),controlOperator:ze(Cr),punctuation:fk,separator:ze(fk),bracket:sm,angleBracket:ze(sm),squareBracket:ze(sm),paren:ze(sm),brace:ze(sm),content:Mr,heading:Dc,heading1:ze(Dc),heading2:ze(Dc),heading3:ze(Dc),heading4:ze(Dc),heading5:ze(Dc),heading6:ze(Dc),contentSeparator:ze(Mr),list:ze(Mr),quote:ze(Mr),emphasis:ze(Mr),strong:ze(Mr),link:ze(Mr),monospace:ze(Mr),strikethrough:ze(Mr),inserted:ze(),deleted:ze(),changed:ze(),invalid:ze(),meta:L0,documentMeta:ze(L0),annotation:ze(L0),processingInstruction:ze(L0),definition:Fo.defineModifier("definition"),constant:Fo.defineModifier("constant"),function:Fo.defineModifier("function"),standard:Fo.defineModifier("standard"),local:Fo.defineModifier("local"),special:Fo.defineModifier("special")};for(let n in ve){let e=ve[n];e instanceof Fo&&(e.name=n)}AU([{tag:ve.link,class:"tok-link"},{tag:ve.heading,class:"tok-heading"},{tag:ve.emphasis,class:"tok-emphasis"},{tag:ve.strong,class:"tok-strong"},{tag:ve.keyword,class:"tok-keyword"},{tag:ve.atom,class:"tok-atom"},{tag:ve.bool,class:"tok-bool"},{tag:ve.url,class:"tok-url"},{tag:ve.labelName,class:"tok-labelName"},{tag:ve.inserted,class:"tok-inserted"},{tag:ve.deleted,class:"tok-deleted"},{tag:ve.literal,class:"tok-literal"},{tag:ve.string,class:"tok-string"},{tag:ve.number,class:"tok-number"},{tag:[ve.regexp,ve.escape,ve.special(ve.string)],class:"tok-string2"},{tag:ve.variableName,class:"tok-variableName"},{tag:ve.local(ve.variableName),class:"tok-variableName tok-local"},{tag:ve.definition(ve.variableName),class:"tok-variableName tok-definition"},{tag:ve.special(ve.variableName),class:"tok-variableName2"},{tag:ve.definition(ve.propertyName),class:"tok-propertyName tok-definition"},{tag:ve.typeName,class:"tok-typeName"},{tag:ve.namespace,class:"tok-namespace"},{tag:ve.className,class:"tok-className"},{tag:ve.macroName,class:"tok-macroName"},{tag:ve.propertyName,class:"tok-propertyName"},{tag:ve.operator,class:"tok-operator"},{tag:ve.comment,class:"tok-comment"},{tag:ve.meta,class:"tok-meta"},{tag:ve.invalid,class:"tok-invalid"},{tag:ve.punctuation,class:"tok-punctuation"}]);var iS;const Dd=new Bt;function pbe(n){return We.define({combine:n?e=>e.concat(n):void 0})}const gbe=new Bt;class cr{constructor(e,t,i=[],s=""){this.data=e,this.name=s,Qt.prototype.hasOwnProperty("tree")||Object.defineProperty(Qt.prototype,"tree",{get(){return as(this)}}),this.parser=t,this.extension=[rc.of(this),Qt.languageData.of((a,r,o)=>{let l=o3(a,r,o),u=l.type.prop(Dd);if(!u)return[];let h=a.facet(u),m=l.type.prop(gbe);if(m){let g=l.resolve(r-l.from,o);for(let _ of m)if(_.test(g,a)){let b=a.facet(_.facet);return _.type=="replace"?b:b.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return o3(e,t,i).type.prop(Dd)==this.data}findRegions(e){let t=e.facet(rc);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(a,r)=>{if(a.prop(Dd)==this.data){i.push({from:r,to:r+a.length});return}let o=a.prop(Bt.mounted);if(o){if(o.tree.prop(Dd)==this.data){if(o.overlay)for(let l of o.overlay)i.push({from:l.from+r,to:l.to+r});else i.push({from:r,to:r+a.length});return}else if(o.overlay){let l=i.length;if(s(o.tree,o.overlay[0].from+r),i.length>l)return}}for(let l=0;l<a.children.length;l++){let u=a.children[l];u instanceof xi&&s(u,a.positions[l]+r)}};return s(as(e),0),i}get allowsNesting(){return!0}}cr.setState=Ot.define();function o3(n,e,t){let i=n.facet(rc),s=as(n).topNode;if(!i||i.allowsNesting)for(let a=s;a;a=a.enter(e,t,Mi.ExcludeBuffers))a.type.isTop&&(s=a);return s}class rb extends cr{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=pbe(e.languageData);return new rb(t,e.parser.configure({props:[Dd.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new rb(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function as(n){let e=n.field(cr.state,!1);return e?e.tree:xi.empty}class _be{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let am=null;class ob{constructor(e,t,i=[],s,a,r,o,l){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=a,this.viewport=r,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ob(e,t,[],xi.empty,0,i,[],null)}startParse(){return this.parser.startParse(new _be(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=xi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(fu.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(fu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=am;am=this;try{return e()}finally{am=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=l3(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:a,viewport:r,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,h,m,g)=>l.push({fromA:u,toA:h,fromB:m,toB:g})),i=fu.applyChanges(i,l),s=xi.empty,a=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){o=[];for(let u of this.skipped){let h=e.mapPos(u.from,1),m=e.mapPos(u.to,-1);h<m&&o.push({from:h,to:m})}}}return new ob(this.parser,t,i,s,a,r,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:a}=this.skipped[i];s<e.to&&a>e.from&&(this.fragments=l3(this.fragments,s,a),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends wU{createParse(t,i,s){let a=s[0].from,r=s[s.length-1].to;return{parsedPos:a,advance(){let l=am;if(l){for(let u of s)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=r,new xi(Ws.none,[],[],r-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return am}}function l3(n,e,t){return fu.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Sh{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Sh(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ob.create(e.facet(rc).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Sh(i)}}cr.state=Hi.define({create:Sh.init,update(n,e){for(let t of e.effects)if(t.is(cr.setState))return t.value;return e.startState.facet(rc)!=e.state.facet(rc)?Sh.init(e.state):n.apply(e)}});let TU=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(TU=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const sS=typeof navigator<"u"&&(!((iS=navigator.scheduling)===null||iS===void 0)&&iS.isInputPending)?()=>navigator.scheduling.isInputPending():null,ybe=ui.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(cr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(cr.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=TU(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,a=i.field(cr.state);if(a.tree==a.context.tree&&a.context.isDone(s+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!sS?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<s&&i.doc.length>s+1e3,l=a.context.work(()=>sS&&sS()||Date.now()>r,s+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:cr.setState.of(new Sh(a.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>js(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),rc=We.define({combine(n){return n.length?n[0]:null},enables:n=>[cr.state,ybe,Ke.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class bbe{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const xbe=We.define(),cx=We.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function lb(n){let e=n.facet(cx);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Mp(n,e){let t="",i=n.tabSize,s=n.facet(cx)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let a=0;a<e;a++)t+=s;return t}function vA(n,e){n instanceof Qt&&(n=new ux(n));for(let i of n.state.facet(xbe)){let s=i(n,e);if(s!==void 0)return s}let t=as(n.state);return t.length>=e?vbe(n,t,e):null}class ux{constructor(e,t={}){this.state=e,this.options=t,this.unit=lb(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:a}=this.options;return s!=null&&s>=i.from&&s<=i.to?a&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),a=this.countColumn(i,e-s),r=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return r>-1&&(a+=r-this.countColumn(i,i.search(/\S|$/))),a}countColumn(e,t=e.length){return Fh(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),a=this.options.overrideIndentation;if(a){let r=a(s);if(r>-1)return r}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const NU=new Bt;function vbe(n,e,t){let i=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=i.node){let a=[];for(let r=s;r&&!(r.from<i.node.from||r.to>i.node.to||r.from==i.node.from&&r.type==i.node.type);r=r.parent)a.push(r);for(let r=a.length-1;r>=0;r--)i={node:a[r],next:i}}return MU(i,n,t)}function MU(n,e,t){for(let i=n;i;i=i.next){let s=wbe(i.node);if(s)return s(SA.create(e,t,i))}return 0}function Sbe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function wbe(n){let e=n.type.prop(NU);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Bt.closedBy))){let s=n.lastChild,a=s&&i.indexOf(s.name)>-1;return r=>OU(r,!0,1,void 0,a&&!Sbe(r)?s.from:void 0)}return n.parent==null?kbe:null}function kbe(){return 0}class SA extends ux{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new SA(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Cbe(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return MU(this.context.next,this.base,this.pos)}}function Cbe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Abe(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,a=n.state.doc.lineAt(t.from),r=s==null||s<=a.from?a.to:Math.min(a.to,s);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=r)return null;let u=/^ */.exec(a.text.slice(t.to-a.from))[0].length;return{from:t.from,to:t.to+u}}o=l.to}}function c3({closing:n,align:e=!0,units:t=1}){return i=>OU(i,e,t,n)}function OU(n,e,t,i,s){let a=n.textAfter,r=a.match(/^\s*/)[0].length,o=i&&a.slice(r,r+i.length)==i||s==n.pos+r,l=e?Abe(n):null;return l?o?n.column(l.from):n.column(l.to):n.baseIndent+(o?0:n.unit*t)}const Tbe=200;function Nbe(){return Qt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+Tbe)return n;let a=t.sliceString(s.from,i);if(!e.some(u=>u.test(a)))return n;let{state:r}=n,o=-1,l=[];for(let{head:u}of r.selection.ranges){let h=r.doc.lineAt(u);if(h.from==o)continue;o=h.from;let m=vA(r,h.from);if(m==null)continue;let g=/^\s*/.exec(h.text)[0],_=Mp(r,m);g!=_&&l.push({from:h.from,to:h.from+g.length,insert:_})}return l.length?[n,{changes:l,sequential:!0}]:n})}const Mbe=We.define(),LU=new Bt;function Obe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function Lbe(n,e,t){let i=as(n);if(i.length<t)return null;let s=i.resolveStack(t,1),a=null;for(let r=s;r;r=r.next){let o=r.node;if(o.to<=t||o.from>t)continue;if(a&&o.from<e)break;let l=o.type.prop(LU);if(l&&(o.to<i.length-50||i.length==n.doc.length||!Pbe(o))){let u=l(o,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(a=u)}}return a}function Pbe(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function cb(n,e,t){for(let i of n.facet(Mbe)){let s=i(n,e,t);if(s)return s}return Lbe(n,e,t)}function PU(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const dx=Ot.define({map:PU}),fg=Ot.define({map:PU});function RU(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const ku=Hi.define({create(){return ht.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=u3(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(dx)&&!Rbe(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(DU),s=i?ht.replace({widget:new Ibe(i(e.state,t.value))}):d3;n=n.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(fg)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=u3(n,e.selection.main.head)),n},provide:n=>Ke.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(d3.range(i,s))}return ht.set(e,!0)}});function u3(n,e,t=e){let i=!1;return n.between(e,t,(s,a)=>{s<t&&a>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(s,a)=>s>=t||a<=e}):n}function ub(n,e,t){var i;let s=null;return(i=n.field(ku,!1))===null||i===void 0||i.between(e,t,(a,r)=>{(!s||s.from>a)&&(s={from:a,to:r})}),s}function Rbe(n,e,t){let i=!1;return n.between(e,e,(s,a)=>{s==e&&a==t&&(i=!0)}),i}function EU(n,e){return n.field(ku,!1)?e:e.concat(Ot.appendConfig.of(FU()))}const Ebe=n=>{for(let e of RU(n)){let t=cb(n.state,e.from,e.to);if(t)return n.dispatch({effects:EU(n.state,[dx.of(t),jU(n,t)])}),!0}return!1},jbe=n=>{if(!n.state.field(ku,!1))return!1;let e=[];for(let t of RU(n)){let i=ub(n.state,t.from,t.to);i&&e.push(fg.of(i),jU(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function jU(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return Ke.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const Dbe=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),a=cb(e,s.from,s.to);a&&t.push(dx.of(a)),i=(a?n.lineBlockAt(a.to):s).to+1}return t.length&&n.dispatch({effects:EU(n.state,t)}),!!t.length},Fbe=n=>{let e=n.state.field(ku,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(fg.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},Ube=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ebe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:jbe},{key:"Ctrl-Alt-[",run:Dbe},{key:"Ctrl-Alt-]",run:Fbe}],Bbe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},DU=We.define({combine(n){return io(n,Bbe)}});function FU(n){return[ku,Kbe]}function UU(n,e){let{state:t}=n,i=t.facet(DU),s=r=>{let o=n.lineBlockAt(n.posAtDOM(r.target)),l=ub(n.state,o.from,o.to);l&&n.dispatch({effects:fg.of(l)}),r.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,s,e);let a=document.createElement("span");return a.textContent=i.placeholderText,a.setAttribute("aria-label",t.phrase("folded code")),a.title=t.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}const d3=ht.replace({widget:new class extends il{toDOM(n){return UU(n,null)}}});class Ibe extends il{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return UU(e,this.value)}}const zbe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class aS extends tl{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function qbe(n={}){let e={...zbe,...n},t=new aS(e,!0),i=new aS(e,!1),s=ui.fromClass(class{constructor(r){this.from=r.viewport.from,this.markers=this.buildMarkers(r)}update(r){(r.docChanged||r.viewportChanged||r.startState.facet(rc)!=r.state.facet(rc)||r.startState.field(ku,!1)!=r.state.field(ku,!1)||as(r.startState)!=as(r.state)||e.foldingChanged(r))&&(this.markers=this.buildMarkers(r.view))}buildMarkers(r){let o=new Jo;for(let l of r.viewportLineBlocks){let u=ub(r.state,l.from,l.to)?i:cb(r.state,l.from,l.to)?t:null;u&&o.add(l.from,l.from,u)}return o.finish()}}),{domEventHandlers:a}=e;return[s,Kye({class:"cm-foldGutter",markers(r){var o;return((o=r.plugin(s))===null||o===void 0?void 0:o.markers)||sn.empty},initialSpacer(){return new aS(e,!1)},domEventHandlers:{...a,click:(r,o,l)=>{if(a.click&&a.click(r,o,l))return!0;let u=ub(r.state,o.from,o.to);if(u)return r.dispatch({effects:fg.of(u)}),!0;let h=cb(r.state,o.from,o.to);return h?(r.dispatch({effects:dx.of(h)}),!0):!1}}}),FU()]}const Kbe=Ke.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class mg{constructor(e,t){this.specs=e;let i;function s(o){let l=nc.newName();return(i||(i=Object.create(null)))["."+l]=o,l}const a=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,r=t.scope;this.scope=r instanceof cr?o=>o.prop(Dd)==r.data:r?o=>o==r:void 0,this.style=AU(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=i?new nc(i):null,this.themeType=t.themeType}static define(e,t){return new mg(e,t||{})}}const mk=We.define(),BU=We.define({combine(n){return n.length?[n[0]]:null}});function rS(n){let e=n.facet(mk);return e.length?e:n.facet(BU)}function IU(n,e){let t=[Vbe],i;return n instanceof mg&&(n.module&&t.push(Ke.styleModule.of(n.module)),i=n.themeType),e?.fallback?t.push(BU.of(n)):i?t.push(mk.computeN([Ke.darkTheme],s=>s.facet(Ke.darkTheme)==(i=="dark")?[n]:[])):t.push(mk.of(n)),t}class Hbe{constructor(e){this.markCache=Object.create(null),this.tree=as(e.state),this.decorations=this.buildDeco(e,rS(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=as(e.state),i=rS(e.state),s=i!=rS(e.startState),{viewport:a}=e.view,r=e.changes.mapPos(this.decoratedTo,1);t.length<a.to&&!s&&t.type==this.tree.type&&r>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=r):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=a.to)}buildDeco(e,t){if(!t||!this.tree.length)return ht.none;let i=new Jo;for(let{from:s,to:a}of e.visibleRanges)hbe(this.tree,t,(r,o,l)=>{i.add(r,o,this.markCache[l]||(this.markCache[l]=ht.mark({class:l})))},s,a);return i.finish()}}const Vbe=Ru.high(ui.fromClass(Hbe,{decorations:n=>n.decorations})),Wbe=mg.define([{tag:ve.meta,color:"#404740"},{tag:ve.link,textDecoration:"underline"},{tag:ve.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ve.emphasis,fontStyle:"italic"},{tag:ve.strong,fontWeight:"bold"},{tag:ve.strikethrough,textDecoration:"line-through"},{tag:ve.keyword,color:"#708"},{tag:[ve.atom,ve.bool,ve.url,ve.contentSeparator,ve.labelName],color:"#219"},{tag:[ve.literal,ve.inserted],color:"#164"},{tag:[ve.string,ve.deleted],color:"#a11"},{tag:[ve.regexp,ve.escape,ve.special(ve.string)],color:"#e40"},{tag:ve.definition(ve.variableName),color:"#00f"},{tag:ve.local(ve.variableName),color:"#30a"},{tag:[ve.typeName,ve.namespace],color:"#085"},{tag:ve.className,color:"#167"},{tag:[ve.special(ve.variableName),ve.macroName],color:"#256"},{tag:ve.definition(ve.propertyName),color:"#00c"},{tag:ve.comment,color:"#940"},{tag:ve.invalid,color:"#f00"}]),Gbe=Ke.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),zU=1e4,qU="()[]{}",KU=We.define({combine(n){return io(n,{afterCursor:!0,brackets:qU,maxScanDistance:zU,renderMatch:Qbe})}}),Xbe=ht.mark({class:"cm-matchingBracket"}),$be=ht.mark({class:"cm-nonmatchingBracket"});function Qbe(n){let e=[],t=n.matched?Xbe:$be;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Ybe=Hi.define({create(){return ht.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(KU);for(let s of e.state.selection.ranges){if(!s.empty)continue;let a=qr(e.state,s.head,-1,i)||s.head>0&&qr(e.state,s.head-1,1,i)||i.afterCursor&&(qr(e.state,s.head,1,i)||s.head<e.state.doc.length&&qr(e.state,s.head+1,-1,i));a&&(t=t.concat(i.renderMatch(a,e.state)))}return ht.set(t,!0)},provide:n=>Ke.decorations.from(n)}),Zbe=[Ybe,Gbe];function Jbe(n={}){return[KU.of(n),Zbe]}const exe=new Bt;function pk(n,e,t){let i=n.prop(e<0?Bt.openedBy:Bt.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function gk(n){let e=n.type.prop(exe);return e?e(n.node):n}function qr(n,e,t,i={}){let s=i.maxScanDistance||zU,a=i.brackets||qU,r=as(n),o=r.resolveInner(e,t);for(let l=o;l;l=l.parent){let u=pk(l.type,t,a);if(u&&l.from<l.to){let h=gk(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return txe(n,e,t,l,h,u,a)}}return nxe(n,e,t,r,o.type,s,a)}function txe(n,e,t,i,s,a,r){let o=i.parent,l={from:s.from,to:s.to},u=0,h=o?.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(u==0&&a.indexOf(h.type.name)>-1&&h.from<h.to){let m=gk(h);return{start:l,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(pk(h.type,t,r))u++;else if(pk(h.type,-t,r)){if(u==0){let m=gk(h);return{start:l,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}u--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function nxe(n,e,t,i,s,a,r){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=r.indexOf(o);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},h=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let g=0;!h.next().done&&g<=a;){let _=h.value;t<0&&(g+=_.length);let b=e+g*t;for(let x=t>0?0:_.length-1,v=t>0?_.length:-1;x!=v;x+=t){let C=r.indexOf(_[x]);if(!(C<0||i.resolveInner(b+x,1).type!=s))if(C%2==0==t>0)m++;else{if(m==1)return{start:u,end:{from:b+x,to:b+x+1},matched:C>>1==l>>1};m--}}t>0&&(g+=_.length)}return h.done?{start:u,matched:!1}:null}const ixe=Object.create(null),h3=[Ws.none],f3=[],m3=Object.create(null),sxe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])sxe[n]=axe(ixe,e);function oS(n,e){f3.indexOf(n)>-1||(f3.push(n),console.warn(e))}function axe(n,e){let t=[];for(let o of e.split(" ")){let l=[];for(let u of o.split(".")){let h=n[u]||ve[u];h?typeof h=="function"?l.length?l=l.map(h):oS(u,`Modifier ${u} used at start of tag`):l.length?oS(u,`Tag ${u} used as modifier`):l=Array.isArray(h)?h:[h]:oS(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(o=>o.id),a=m3[s];if(a)return a.id;let r=m3[s]=Ws.define({id:h3.length,name:i,props:[kU({[i]:t})]});return h3.push(r),r.id}Bn.RTL,Bn.LTR;const rxe=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=kA(n.state,t.from);return i.line?oxe(n):i.block?cxe(n):!1};function wA(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const oxe=wA(hxe,0),lxe=wA(HU,0),cxe=wA((n,e)=>HU(n,e,dxe(e)),0);function kA(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const rm=50;function uxe(n,{open:e,close:t},i,s){let a=n.sliceDoc(i-rm,i),r=n.sliceDoc(s,s+rm),o=/\s*$/.exec(a)[0].length,l=/^\s*/.exec(r)[0].length,u=a.length-o;if(a.slice(u-e.length,u)==e&&r.slice(l,l+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:s+l,margin:l&&1}};let h,m;s-i<=2*rm?h=m=n.sliceDoc(i,s):(h=n.sliceDoc(i,i+rm),m=n.sliceDoc(s-rm,s));let g=/^\s*/.exec(h)[0].length,_=/\s*$/.exec(m)[0].length,b=m.length-_-t.length;return h.slice(g,g+e.length)==e&&m.slice(b,b+t.length)==t?{open:{pos:i+g+e.length,margin:/\s/.test(h.charAt(g+e.length))?1:0},close:{pos:s-_-t.length,margin:/\s/.test(m.charAt(b-1))?1:0}}:null}function dxe(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to);s.from>i.from&&s.from==t.to&&(s=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let a=e.length-1;a>=0&&e[a].to>i.from?e[a].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function HU(n,e,t=e.selection.ranges){let i=t.map(a=>kA(e,a.from).block);if(!i.every(a=>a))return null;let s=t.map((a,r)=>uxe(e,i[r],a.from,a.to));if(n!=2&&!s.every(a=>a))return{changes:e.changes(t.map((a,r)=>s[r]?[]:[{from:a.from,insert:i[r].open+" "},{from:a.to,insert:" "+i[r].close}]))};if(n!=1&&s.some(a=>a)){let a=[];for(let r=0,o;r<s.length;r++)if(o=s[r]){let l=i[r],{open:u,close:h}=o;a.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:a}}return null}function hxe(n,e,t=e.selection.ranges){let i=[],s=-1;for(let{from:a,to:r}of t){let o=i.length,l=1e9,u=kA(e,a).line;if(u){for(let h=a;h<=r;){let m=e.doc.lineAt(h);if(m.from>s&&(a==r||r>m.from)){s=m.from;let g=/^\s*/.exec(m.text)[0].length,_=g==m.length,b=m.text.slice(g,g+u.length)==u?g:-1;g<m.text.length&&g<l&&(l=g),i.push({line:m,comment:b,token:u,indent:g,empty:_,single:!1})}h=m.to+1}if(l<1e9)for(let h=o;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==o+1&&(i[o].single=!0)}}if(n!=2&&i.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:l,indent:u,empty:h,single:m}of i)(m||!h)&&a.push({from:o.from+u,insert:l+" "});let r=e.changes(a);return{changes:r,selection:e.selection.map(r,1)}}else if(n!=1&&i.some(a=>a.comment>=0)){let a=[];for(let{line:r,comment:o,token:l}of i)if(o>=0){let u=r.from+o,h=u+l.length;r.text[h-r.from]==" "&&h++,a.push({from:u,to:h})}return{changes:a}}return null}const _k=no.define(),fxe=no.define(),mxe=We.define(),VU=We.define({combine(n){return io(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}}),WU=Hi.define({create(){return Kr.empty},update(n,e){let t=e.state.facet(VU),i=e.annotation(_k);if(i){let l=Ds.fromTransaction(e,i.selection),u=i.side,h=u==0?n.undone:n.done;return l?h=db(h,h.length,t.minDepth,l):h=$U(h,e.startState.selection),new Kr(u==0?i.rest:h,u==0?h:i.rest)}let s=e.annotation(fxe);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(Ci.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let a=Ds.fromTransaction(e),r=e.annotation(Ci.time),o=e.annotation(Ci.userEvent);return a?n=n.addChanges(a,r,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,r,o,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Kr(n.done.map(Ds.fromJSON),n.undone.map(Ds.fromJSON))}});function pxe(n={}){return[WU,VU.of(n),Ke.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?GU:e.inputType=="historyRedo"?yk:null;return i?(e.preventDefault(),i(t)):!1}})]}function hx(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(WU,!1);if(!s)return!1;let a=s.pop(n,t,e);return a?(i(a),!0):!1}}const GU=hx(0,!1),yk=hx(1,!1),gxe=hx(0,!0),_xe=hx(1,!0);class Ds{constructor(e,t,i,s,a){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=a}setSelAfter(e){return new Ds(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new Ds(e.changes&&wi.fromJSON(e.changes),[],e.mapped&&Wr.fromJSON(e.mapped),e.startSelection&&Oe.fromJSON(e.startSelection),e.selectionsAfter.map(Oe.fromJSON))}static fromTransaction(e,t){let i=Fa;for(let s of e.startState.facet(mxe)){let a=s(e);a.length&&(i=i.concat(a))}return!i.length&&e.changes.empty?null:new Ds(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Fa)}static selection(e){return new Ds(void 0,Fa,void 0,void 0,e)}}function db(n,e,t,i){let s=e+1>t+20?e-t-1:0,a=n.slice(s,e);return a.push(i),a}function yxe(n,e){let t=[],i=!1;return n.iterChangedRanges((s,a)=>t.push(s,a)),e.iterChangedRanges((s,a,r,o)=>{for(let l=0;l<t.length;){let u=t[l++],h=t[l++];o>=u&&r<=h&&(i=!0)}}),i}function bxe(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function XU(n,e){return n.length?e.length?n.concat(e):n:e}const Fa=[],xxe=200;function $U(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-xxe));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),db(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Ds.selection([e])]}function vxe(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function lS(n,e){if(!n.length)return n;let t=n.length,i=Fa;for(;t;){let s=Sxe(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let a=n.slice(0,t);return a[t-1]=s,a}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[Ds.selection(i)]:Fa}function Sxe(n,e,t){let i=XU(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):Fa,t);if(!n.changes)return Ds.selection(i);let s=n.changes.map(e),a=e.mapDesc(n.changes,!0),r=n.mapped?n.mapped.composeDesc(a):a;return new Ds(s,Ot.mapEffects(n.effects,e),r,n.startSelection.map(a),i)}const wxe=/^(input\.type|delete)($|\.)/;class Kr{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new Kr(this.done,this.undone):this}addChanges(e,t,i,s,a){let r=this.done,o=r[r.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||wxe.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,yxe(o.changes,e.changes))||i=="input.type.compose")?r=db(r,r.length-1,s.minDepth,new Ds(e.changes.compose(o.changes),XU(Ot.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Fa)):r=db(r,r.length,s.minDepth,e),new Kr(r,Fa,t,i)}addSelection(e,t,i,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Fa;return a.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&bxe(a[a.length-1],e)?this:new Kr($U(this.done,e),this.undone,t,i)}addMapping(e){return new Kr(lS(this.done,e),lS(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let a=s[s.length-1],r=a.selectionsAfter[0]||t.selection;if(i&&a.selectionsAfter.length)return t.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:_k.of({side:e,rest:vxe(s),selection:r}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=s.length==1?Fa:s.slice(0,s.length-1);return a.mapped&&(o=lS(o,a.mapped)),t.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:_k.of({side:e,rest:o,selection:r}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Kr.empty=new Kr(Fa,Fa);const kxe=[{key:"Mod-z",run:GU,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:yk,preventDefault:!0},{linux:"Ctrl-Shift-z",run:yk,preventDefault:!0},{key:"Mod-u",run:gxe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:_xe,preventDefault:!0}];function Uh(n,e){return Oe.create(n.ranges.map(e),n.mainIndex)}function mr(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function pr({state:n,dispatch:e},t){let i=Uh(n.selection,t);return i.eq(n.selection,!0)?!1:(e(mr(n,i)),!0)}function fx(n,e){return Oe.cursor(e?n.to:n.from)}function QU(n,e){return pr(n,t=>t.empty?n.moveByChar(t,e):fx(t,e))}function rs(n){return n.textDirectionAt(n.state.selection.main.head)==Bn.LTR}const YU=n=>QU(n,!rs(n)),ZU=n=>QU(n,rs(n));function JU(n,e){return pr(n,t=>t.empty?n.moveByGroup(t,e):fx(t,e))}const Cxe=n=>JU(n,!rs(n)),Axe=n=>JU(n,rs(n));function Txe(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function mx(n,e,t){let i=as(n).resolveInner(e.head),s=t?Bt.closedBy:Bt.openedBy;for(let l=e.head;;){let u=t?i.childAfter(l):i.childBefore(l);if(!u)break;Txe(n,u,s)?i=u:l=t?u.to:u.from}let a=i.type.prop(s),r,o;return a&&(r=t?qr(n,i.from,1):qr(n,i.to,-1))&&r.matched?o=t?r.end.to:r.end.from:o=t?i.to:i.from,Oe.cursor(o,t?-1:1)}const Nxe=n=>pr(n,e=>mx(n.state,e,!rs(n))),Mxe=n=>pr(n,e=>mx(n.state,e,rs(n)));function eB(n,e){return pr(n,t=>{if(!t.empty)return fx(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const tB=n=>eB(n,!1),nB=n=>eB(n,!0);function iB(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let a of n.state.facet(Ke.scrollMargins)){let r=a(n);r?.top&&(t=Math.max(r?.top,t)),r?.bottom&&(i=Math.max(r?.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function sB(n,e){let t=iB(n),{state:i}=n,s=Uh(i.selection,r=>r.empty?n.moveVertically(r,e,t.height):fx(r,e));if(s.eq(i.selection))return!1;let a;if(t.selfScroll){let r=n.coordsAtPos(i.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),l=o.top+t.marginTop,u=o.bottom-t.marginBottom;r&&r.top>l&&r.bottom<u&&(a=Ke.scrollIntoView(s.main.head,{y:"start",yMargin:r.top-l}))}return n.dispatch(mr(i,s),{effects:a}),!0}const p3=n=>sB(n,!1),bk=n=>sB(n,!0);function lc(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let a=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;a&&e.head!=i.from+a&&(s=Oe.cursor(i.from+a))}return s}const Oxe=n=>pr(n,e=>lc(n,e,!0)),Lxe=n=>pr(n,e=>lc(n,e,!1)),Pxe=n=>pr(n,e=>lc(n,e,!rs(n))),Rxe=n=>pr(n,e=>lc(n,e,rs(n))),Exe=n=>pr(n,e=>Oe.cursor(n.lineBlockAt(e.head).from,1)),jxe=n=>pr(n,e=>Oe.cursor(n.lineBlockAt(e.head).to,-1));function Dxe(n,e,t){let i=!1,s=Uh(n.selection,a=>{let r=qr(n,a.head,-1)||qr(n,a.head,1)||a.head>0&&qr(n,a.head-1,1)||a.head<n.doc.length&&qr(n,a.head+1,-1);if(!r||!r.end)return a;i=!0;let o=r.start.from==a.head?r.end.to:r.end.from;return Oe.cursor(o)});return i?(e(mr(n,s)),!0):!1}const Fxe=({state:n,dispatch:e})=>Dxe(n,e);function Qa(n,e){let t=Uh(n.state.selection,i=>{let s=e(i);return Oe.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(mr(n.state,t)),!0)}function aB(n,e){return Qa(n,t=>n.moveByChar(t,e))}const rB=n=>aB(n,!rs(n)),oB=n=>aB(n,rs(n));function lB(n,e){return Qa(n,t=>n.moveByGroup(t,e))}const Uxe=n=>lB(n,!rs(n)),Bxe=n=>lB(n,rs(n)),Ixe=n=>Qa(n,e=>mx(n.state,e,!rs(n))),zxe=n=>Qa(n,e=>mx(n.state,e,rs(n)));function cB(n,e){return Qa(n,t=>n.moveVertically(t,e))}const uB=n=>cB(n,!1),dB=n=>cB(n,!0);function hB(n,e){return Qa(n,t=>n.moveVertically(t,e,iB(n).height))}const g3=n=>hB(n,!1),_3=n=>hB(n,!0),qxe=n=>Qa(n,e=>lc(n,e,!0)),Kxe=n=>Qa(n,e=>lc(n,e,!1)),Hxe=n=>Qa(n,e=>lc(n,e,!rs(n))),Vxe=n=>Qa(n,e=>lc(n,e,rs(n))),Wxe=n=>Qa(n,e=>Oe.cursor(n.lineBlockAt(e.head).from)),Gxe=n=>Qa(n,e=>Oe.cursor(n.lineBlockAt(e.head).to)),y3=({state:n,dispatch:e})=>(e(mr(n,{anchor:0})),!0),b3=({state:n,dispatch:e})=>(e(mr(n,{anchor:n.doc.length})),!0),x3=({state:n,dispatch:e})=>(e(mr(n,{anchor:n.selection.main.anchor,head:0})),!0),v3=({state:n,dispatch:e})=>(e(mr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),Xxe=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),$xe=({state:n,dispatch:e})=>{let t=px(n).map(({from:i,to:s})=>Oe.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:Oe.create(t),userEvent:"select"})),!0},Qxe=({state:n,dispatch:e})=>{let t=Uh(n.selection,i=>{let s=as(n),a=s.resolveStack(i.from,1);if(i.empty){let r=s.resolveStack(i.from,-1);r.node.from>=a.node.from&&r.node.to<=a.node.to&&(a=r)}for(let r=a;r;r=r.next){let{node:o}=r;if((o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from)&&r.next)return Oe.range(o.to,o.from)}return i});return t.eq(n.selection)?!1:(e(mr(n,t)),!0)};function fB(n,e){let{state:t}=n,i=t.selection,s=t.selection.ranges.slice();for(let a of t.selection.ranges){let r=t.doc.lineAt(a.head);if(e?r.to<n.state.doc.length:r.from>0)for(let o=a;;){let l=n.moveVertically(o,e);if(l.head<r.from||l.head>r.to){s.some(u=>u.head==l.head)||s.push(l);break}else{if(l.head==o.head)break;o=l}}}return s.length==i.ranges.length?!1:(n.dispatch(mr(t,Oe.create(s,s.length-1))),!0)}const Yxe=n=>fB(n,!1),Zxe=n=>fB(n,!0),Jxe=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=Oe.create([t.main]):t.main.empty||(i=Oe.create([Oe.cursor(t.main.head)])),i?(e(mr(n,i)),!0):!1};function pg(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(a=>{let{from:r,to:o}=a;if(r==o){let l=e(a);l<r?(t="delete.backward",l=P0(n,l,!1)):l>r&&(t="delete.forward",l=P0(n,l,!0)),r=Math.min(r,l),o=Math.max(o,l)}else r=P0(n,r,!1),o=P0(n,o,!0);return r==o?{range:a}:{changes:{from:r,to:o},range:Oe.cursor(r,r<a.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Ke.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function P0(n,e,t){if(n instanceof Ke)for(let i of n.state.facet(Ke.atomicRanges).map(s=>s(n)))i.between(e,e,(s,a)=>{s<e&&a>e&&(e=t?a:s)});return e}const mB=(n,e,t)=>pg(n,i=>{let s=i.from,{state:a}=n,r=a.doc.lineAt(s),o,l;if(t&&!e&&s>r.from&&s<r.from+200&&!/[^ \t]/.test(o=r.text.slice(0,s-r.from))){if(o[o.length-1]=="	")return s-1;let u=Fh(o,a.tabSize),h=u%lb(a)||lb(a);for(let m=0;m<h&&o[o.length-1-m]==" ";m++)s--;l=s}else l=zi(r.text,s-r.from,e,e)+r.from,l==s&&r.number!=(e?a.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(r.text.slice(l-r.from,s-r.from))&&(l=zi(r.text,l-r.from,!1,!1)+r.from);return l}),xk=n=>mB(n,!1,!0),pB=n=>mB(n,!0,!1),gB=(n,e)=>pg(n,t=>{let i=t.head,{state:s}=n,a=s.doc.lineAt(i),r=s.charCategorizer(i);for(let o=null;;){if(i==(e?a.to:a.from)){i==t.head&&a.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let l=zi(a.text,i-a.from,e)+a.from,u=a.text.slice(Math.min(i,l)-a.from,Math.max(i,l)-a.from),h=r(u);if(o!=null&&h!=o)break;(u!=" "||i!=t.head)&&(o=h),i=l}return i}),_B=n=>gB(n,!1),eve=n=>gB(n,!0),tve=n=>pg(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),nve=n=>pg(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),ive=n=>pg(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),sve=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Zt.of(["",""])},range:Oe.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},ave=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,a=n.doc.lineAt(s),r=s==a.from?s-1:zi(a.text,s-a.from,!1)+a.from,o=s==a.to?s+1:zi(a.text,s-a.from,!0)+a.from;return{changes:{from:r,to:o,insert:n.doc.slice(s,o).append(n.doc.slice(r,s))},range:Oe.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function px(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),a=n.doc.lineAt(i.to);if(!i.empty&&i.to==a.from&&(a=n.doc.lineAt(i.to-1)),t>=s.number){let r=e[e.length-1];r.to=a.to,r.ranges.push(i)}else e.push({from:s.from,to:a.to,ranges:[i]});t=a.number+1}return e}function yB(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let a of px(n)){if(t?a.to==n.doc.length:a.from==0)continue;let r=n.doc.lineAt(t?a.to+1:a.from-1),o=r.length+1;if(t){i.push({from:a.to,to:r.to},{from:a.from,insert:r.text+n.lineBreak});for(let l of a.ranges)s.push(Oe.range(Math.min(n.doc.length,l.anchor+o),Math.min(n.doc.length,l.head+o)))}else{i.push({from:r.from,to:a.from},{from:a.to,insert:n.lineBreak+r.text});for(let l of a.ranges)s.push(Oe.range(l.anchor-o,l.head-o))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:Oe.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const rve=({state:n,dispatch:e})=>yB(n,e,!1),ove=({state:n,dispatch:e})=>yB(n,e,!0);function bB(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of px(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const lve=({state:n,dispatch:e})=>bB(n,e,!1),cve=({state:n,dispatch:e})=>bB(n,e,!0),uve=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(px(e).map(({from:s,to:a})=>(s>0?s--:a<e.doc.length&&a++,{from:s,to:a}))),i=Uh(e.selection,s=>{let a;if(n.lineWrapping){let r=n.lineBlockAt(s.head),o=n.coordsAtPos(s.head,s.assoc||1);o&&(a=r.bottom+n.documentTop-o.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,a)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function dve(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=as(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),a;return i&&s&&i.to<=e&&s.from>=e&&(a=i.type.prop(Bt.closedBy))&&a.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}const S3=xB(!1),hve=xB(!0);function xB(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:a,to:r}=s,o=e.doc.lineAt(a),l=!n&&a==r&&dve(e,a);n&&(a=r=(r<=o.to?o:e.doc.lineAt(r)).to);let u=new ux(e,{simulateBreak:a,simulateDoubleBreak:!!l}),h=vA(u,a);for(h==null&&(h=Fh(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));r<o.to&&/\s/.test(o.text[r-o.from]);)r++;l?{from:a,to:r}=l:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let m=["",Mp(e,h)];return l&&m.push(Mp(e,u.lineIndent(o.from,-1))),{changes:{from:a,to:r,insert:Zt.of(m)},range:Oe.cursor(a+1+m[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function CA(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let r=i.from;r<=i.to;){let o=n.doc.lineAt(r);o.number>t&&(i.empty||i.to>o.from)&&(e(o,s,i),t=o.number),r=o.to+1}let a=n.changes(s);return{changes:s,range:Oe.range(a.mapPos(i.anchor,1),a.mapPos(i.head,1))}})}const fve=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new ux(n,{overrideIndentation:a=>{let r=t[a];return r??-1}}),s=CA(n,(a,r,o)=>{let l=vA(i,a.from);if(l==null)return;/\S/.test(a.text)||(l=0);let u=/^\s*/.exec(a.text)[0],h=Mp(n,l);(u!=h||o.from<a.from+u.length)&&(t[a.from]=l,r.push({from:a.from,to:a.from+u.length,insert:h}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},vB=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(CA(n,(t,i)=>{i.push({from:t.from,insert:n.facet(cx)})}),{userEvent:"input.indent"})),!0),SB=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(CA(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let a=Fh(s,n.tabSize),r=0,o=Mp(n,Math.max(0,a-lb(n)));for(;r<s.length&&r<o.length&&s.charCodeAt(r)==o.charCodeAt(r);)r++;i.push({from:t.from+r,to:t.from+s.length,insert:o.slice(r)})}),{userEvent:"delete.dedent"})),!0),mve=n=>(n.setTabFocusMode(),!0),pve=[{key:"Ctrl-b",run:YU,shift:rB,preventDefault:!0},{key:"Ctrl-f",run:ZU,shift:oB},{key:"Ctrl-p",run:tB,shift:uB},{key:"Ctrl-n",run:nB,shift:dB},{key:"Ctrl-a",run:Exe,shift:Wxe},{key:"Ctrl-e",run:jxe,shift:Gxe},{key:"Ctrl-d",run:pB},{key:"Ctrl-h",run:xk},{key:"Ctrl-k",run:tve},{key:"Ctrl-Alt-h",run:_B},{key:"Ctrl-o",run:sve},{key:"Ctrl-t",run:ave},{key:"Ctrl-v",run:bk}],gve=[{key:"ArrowLeft",run:YU,shift:rB,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Cxe,shift:Uxe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Pxe,shift:Hxe,preventDefault:!0},{key:"ArrowRight",run:ZU,shift:oB,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Axe,shift:Bxe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Rxe,shift:Vxe,preventDefault:!0},{key:"ArrowUp",run:tB,shift:uB,preventDefault:!0},{mac:"Cmd-ArrowUp",run:y3,shift:x3},{mac:"Ctrl-ArrowUp",run:p3,shift:g3},{key:"ArrowDown",run:nB,shift:dB,preventDefault:!0},{mac:"Cmd-ArrowDown",run:b3,shift:v3},{mac:"Ctrl-ArrowDown",run:bk,shift:_3},{key:"PageUp",run:p3,shift:g3},{key:"PageDown",run:bk,shift:_3},{key:"Home",run:Lxe,shift:Kxe,preventDefault:!0},{key:"Mod-Home",run:y3,shift:x3},{key:"End",run:Oxe,shift:qxe,preventDefault:!0},{key:"Mod-End",run:b3,shift:v3},{key:"Enter",run:S3,shift:S3},{key:"Mod-a",run:Xxe},{key:"Backspace",run:xk,shift:xk,preventDefault:!0},{key:"Delete",run:pB,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:_B,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:eve,preventDefault:!0},{mac:"Mod-Backspace",run:nve,preventDefault:!0},{mac:"Mod-Delete",run:ive,preventDefault:!0}].concat(pve.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),_ve=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Nxe,shift:Ixe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Mxe,shift:zxe},{key:"Alt-ArrowUp",run:rve},{key:"Shift-Alt-ArrowUp",run:lve},{key:"Alt-ArrowDown",run:ove},{key:"Shift-Alt-ArrowDown",run:cve},{key:"Mod-Alt-ArrowUp",run:Yxe},{key:"Mod-Alt-ArrowDown",run:Zxe},{key:"Escape",run:Jxe},{key:"Mod-Enter",run:hve},{key:"Alt-l",mac:"Ctrl-l",run:$xe},{key:"Mod-i",run:Qxe,preventDefault:!0},{key:"Mod-[",run:SB},{key:"Mod-]",run:vB},{key:"Mod-Alt-\\",run:fve},{key:"Shift-Mod-k",run:uve},{key:"Shift-Mod-\\",run:Fxe},{key:"Mod-/",run:rxe},{key:"Alt-A",run:lxe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:mve}].concat(gve),yve={key:"Tab",run:vB,shift:SB},w3=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class wh{constructor(e,t,i=0,s=e.length,a,r){this.test=r,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=a?o=>a(w3(o)):w3,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ps(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=iA(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Dr(e);let s=this.normalize(t);if(s.length)for(let a=0,r=i;;a++){let o=s.charCodeAt(a),l=this.match(o,r,this.bufferPos+this.bufferStart);if(a==s.length-1){if(l)return this.value=l,this;break}r==i&&a<t.length&&t.charCodeAt(a)==o&&r++}}}match(e,t,i){let s=null;for(let a=0;a<this.matches.length;a+=2){let r=this.matches[a],o=!1;this.query.charCodeAt(r)==e&&(r==this.query.length-1?s={from:this.matches[a+1],to:i}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:t,to:i}:this.matches.push(1,t)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(wh.prototype[Symbol.iterator]=function(){return this});const wB={from:-1,to:-1,match:/.*/.exec("")},AA="gm"+(/x/.unicode==null?"":"u");class kB{constructor(e,t,i,s=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=wB,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new CB(e,t,i,s,a);this.re=new RegExp(t,AA+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let r=e.lineAt(s);this.curLineStart=r.from,this.matchPos=hb(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=hb(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const cS=new WeakMap;class Jd{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=cS.get(e);if(!s||s.from>=i||s.to<=t){let o=new Jd(t,e.sliceString(t,i));return cS.set(e,o),o}if(s.from==t&&s.to==i)return s;let{text:a,from:r}=s;return r>t&&(a=e.sliceString(t,r)+a,r=t),s.to<i&&(a+=e.sliceString(s.to,i)),cS.set(e,new Jd(r,a)),new Jd(t,a.slice(t-r,i-r))}}class CB{constructor(e,t,i,s,a){this.text=e,this.to=a,this.done=!1,this.value=wB,this.matchPos=hb(e,s),this.re=new RegExp(t,AA+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=Jd.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=hb(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Jd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(kB.prototype[Symbol.iterator]=CB.prototype[Symbol.iterator]=function(){return this});function bve(n){try{return new RegExp(n,AA),!0}catch{return!1}}function hb(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function vk(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=An("input",{class:"cm-textfield",name:"line",value:e}),i=An("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),n.dispatch({effects:$m.of(!1)}),n.focus()):a.keyCode==13&&(a.preventDefault(),s())},onsubmit:a=>{a.preventDefault(),s()}},An("label",n.state.phrase("Go to line"),": ",t)," ",An("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),An("button",{name:"close",onclick:()=>{n.dispatch({effects:$m.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function s(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!a)return;let{state:r}=n,o=r.doc.lineAt(r.selection.main.head),[,l,u,h,m]=a,g=h?+h.slice(1):0,_=u?+u:o.number;if(u&&m){let v=_/100;l&&(v=v*(l=="-"?-1:1)+o.number/r.doc.lines),_=Math.round(r.doc.lines*v)}else u&&l&&(_=_*(l=="-"?-1:1)+o.number);let b=r.doc.line(Math.max(1,Math.min(r.doc.lines,_))),x=Oe.cursor(b.from+Math.max(0,Math.min(g,b.length)));n.dispatch({effects:[$m.of(!1),Ke.scrollIntoView(x.from,{y:"center"})],selection:x}),n.focus()}return{dom:i}}const $m=Ot.define(),k3=Hi.define({create(){return!0},update(n,e){for(let t of e.effects)t.is($m)&&(n=t.value);return n},provide:n=>Ap.from(n,e=>e?vk:null)}),xve=n=>{let e=Cp(n,vk);if(!e){let t=[$m.of(!0)];n.state.field(k3,!1)==null&&t.push(Ot.appendConfig.of([k3,vve])),n.dispatch({effects:t}),e=Cp(n,vk)}return e&&e.dom.querySelector("input").select(),!0},vve=Ke.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Sve={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},wve=We.define({combine(n){return io(n,Sve,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function AB(n){return[Nve,Tve]}const kve=ht.mark({class:"cm-selectionMatch"}),Cve=ht.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function C3(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Kn.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Kn.Word)}function Ave(n,e,t,i){return n(e.sliceDoc(t,t+1))==Kn.Word&&n(e.sliceDoc(i-1,i))==Kn.Word}const Tve=ui.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(wve),{state:t}=n,i=t.selection;if(i.ranges.length>1)return ht.none;let s=i.main,a,r=null;if(s.empty){if(!e.highlightWordAroundCursor)return ht.none;let l=t.wordAt(s.head);if(!l)return ht.none;r=t.charCategorizer(s.head),a=t.sliceDoc(l.from,l.to)}else{let l=s.to-s.from;if(l<e.minSelectionLength||l>200)return ht.none;if(e.wholeWords){if(a=t.sliceDoc(s.from,s.to),r=t.charCategorizer(s.head),!(C3(r,t,s.from,s.to)&&Ave(r,t,s.from,s.to)))return ht.none}else if(a=t.sliceDoc(s.from,s.to),!a)return ht.none}let o=[];for(let l of n.visibleRanges){let u=new wh(t.doc,a,l.from,l.to);for(;!u.next().done;){let{from:h,to:m}=u.value;if((!r||C3(r,t,h,m))&&(s.empty&&h<=s.from&&m>=s.to?o.push(Cve.range(h,m)):(h>=s.to||m<=s.from)&&o.push(kve.range(h,m)),o.length>e.maxMatches))return ht.none}}return ht.set(o)}},{decorations:n=>n.decorations}),Nve=Ke.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Mve=({state:n,dispatch:e})=>{let{selection:t}=n,i=Oe.create(t.ranges.map(s=>n.wordAt(s.head)||Oe.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function Ove(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),a=s&&s.from==t.from&&s.to==t.to;for(let r=!1,o=new wh(n.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(r)return null;o=new wh(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),r=!0}else{if(r&&i.some(l=>l.from==o.value.from))continue;if(a){let l=n.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const Lve=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(a=>a.from===a.to))return Mve({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=i))return!1;let s=Ove(n,i);return s?(e(n.update({selection:n.selection.addRange(Oe.range(s.from,s.to),!1),effects:Ke.scrollIntoView(s.to)})),!0):!1},Eu=We.define({combine(n){return io(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Kve(e),scrollToMatch:e=>Ke.scrollIntoView(e)})}});function Pve(n){return n?[Eu.of(n),wk]:wk}class TB{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||bve(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Dve(this):new Eve(this)}getCursor(e,t=0,i){let s=e.doc?e:Qt.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?Nd(this,s,t,i):Td(this,s,t,i)}}class NB{constructor(e){this.spec=e}}function Td(n,e,t,i){return new wh(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?Rve(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Rve(n,e){return(t,i,s,a)=>((a>t||a+s.length<i)&&(a=Math.max(0,t-2),s=n.sliceString(a,Math.min(n.length,i+2))),(e(fb(s,t-a))!=Kn.Word||e(mb(s,t-a))!=Kn.Word)&&(e(mb(s,i-a))!=Kn.Word||e(fb(s,i-a))!=Kn.Word))}class Eve extends NB{constructor(e){super(e)}nextMatch(e,t,i){let s=Td(this.spec,e,i,e.doc.length).nextOverlapping();if(s.done){let a=Math.min(e.doc.length,t+this.spec.unquoted.length);s=Td(this.spec,e,0,a).nextOverlapping()}return s.done||s.value.from==t&&s.value.to==i?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let a=Math.max(t,s-1e4-this.spec.unquoted.length),r=Td(this.spec,e,a,s),o=null;for(;!r.nextOverlapping().done;)o=r.value;if(o)return o;if(a==t)return null;s-=1e4}}prevMatch(e,t,i){let s=this.prevMatchInRange(e,0,t);return s||(s=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=t||s.to!=i)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Td(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let a=Td(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}function Nd(n,e,t,i){return new kB(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?jve(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function fb(n,e){return n.slice(zi(n,e,!1),e)}function mb(n,e){return n.slice(e,zi(n,e))}function jve(n){return(e,t,i)=>!i[0].length||(n(fb(i.input,i.index))!=Kn.Word||n(mb(i.input,i.index))!=Kn.Word)&&(n(mb(i.input,i.index+i[0].length))!=Kn.Word||n(fb(i.input,i.index+i[0].length))!=Kn.Word)}class Dve extends NB{nextMatch(e,t,i){let s=Nd(this.spec,e,i,e.doc.length).next();return s.done&&(s=Nd(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let a=Math.max(t,i-s*1e4),r=Nd(this.spec,e,a,i),o=null;for(;!r.next().done;)o=r.value;if(o&&(a==t||o.from>a+10))return o;if(a==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let s=i.length;s>0;s--){let a=+i.slice(0,s);if(a>0&&a<e.match.length)return e.match[a]+i.slice(s)}return t})}matchAll(e,t){let i=Nd(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let a=Nd(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}const Op=Ot.define(),TA=Ot.define(),Ql=Hi.define({create(n){return new uS(Sk(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Op)?n=new uS(t.value.create(),n.panel):t.is(TA)&&(n=new uS(n.query,t.value?NA:null));return n},provide:n=>Ap.from(n,e=>e.panel)});class uS{constructor(e,t){this.query=e,this.panel=t}}const Fve=ht.mark({class:"cm-searchMatch"}),Uve=ht.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Bve=ui.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ql))}update(n){let e=n.state.field(Ql);(e!=n.startState.field(Ql)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ht.none;let{view:t}=this,i=new Jo;for(let s=0,a=t.visibleRanges,r=a.length;s<r;s++){let{from:o,to:l}=a[s];for(;s<r-1&&l>a[s+1].from-500;)l=a[++s].to;n.highlight(t.state,o,l,(u,h)=>{let m=t.state.selection.ranges.some(g=>g.from==u&&g.to==h);i.add(u,h,m?Uve:Fve)})}return i.finish()}},{decorations:n=>n.decorations});function gg(n){return e=>{let t=e.state.field(Ql,!1);return t&&t.query.spec.valid?n(e,t):LB(e)}}const pb=gg((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=Oe.single(i.from,i.to),a=n.state.facet(Eu);return n.dispatch({selection:s,effects:[MA(n,i),a.scrollToMatch(s.main,n)],userEvent:"select.search"}),OB(n),!0}),gb=gg((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let a=Oe.single(s.from,s.to),r=n.state.facet(Eu);return n.dispatch({selection:a,effects:[MA(n,s),r.scrollToMatch(a.main,n)],userEvent:"select.search"}),OB(n),!0}),Ive=gg((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Oe.create(t.map(i=>Oe.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),zve=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,a=[],r=0;for(let o=new wh(n.doc,n.sliceDoc(i,s));!o.next().done;){if(a.length>1e3)return!1;o.value.from==i&&(r=a.length),a.push(Oe.range(o.value.from,o.value.to))}return e(n.update({selection:Oe.create(a,r),userEvent:"select.search.matches"})),!0},A3=gg((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let a=e.nextMatch(t,i,i);if(!a)return!1;let r=a,o=[],l,u,h=[];r.from==i&&r.to==s&&(u=t.toText(e.getReplacement(r)),o.push({from:r.from,to:r.to,insert:u}),r=e.nextMatch(t,r.from,r.to),h.push(Ke.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let m=n.state.changes(o);return r&&(l=Oe.single(r.from,r.to).map(m),h.push(MA(n,r)),h.push(t.facet(Eu).scrollToMatch(l.main,n))),n.dispatch({changes:m,selection:l,effects:h,userEvent:"input.replace"}),!0}),qve=gg((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:a,to:r}=s;return{from:a,to:r,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Ke.announce.of(i),userEvent:"input.replace.all"}),!0});function NA(n){return n.state.facet(Eu).createPanel(n)}function Sk(n,e){var t,i,s,a,r;let o=n.selection.main,l=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!l)return e;let u=n.facet(Eu);return new TB({search:((t=e?.literal)!==null&&t!==void 0?t:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:u.caseSensitive,literal:(s=e?.literal)!==null&&s!==void 0?s:u.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:u.regexp,wholeWord:(r=e?.wholeWord)!==null&&r!==void 0?r:u.wholeWord})}function MB(n){let e=Cp(n,NA);return e&&e.dom.querySelector("[main-field]")}function OB(n){let e=MB(n);e&&e==n.root.activeElement&&e.select()}const LB=n=>{let e=n.state.field(Ql,!1);if(e&&e.panel){let t=MB(n);if(t&&t!=n.root.activeElement){let i=Sk(n.state,e.query.spec);i.valid&&n.dispatch({effects:Op.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[TA.of(!0),e?Op.of(Sk(n.state,e.query.spec)):Ot.appendConfig.of(wk)]});return!0},PB=n=>{let e=n.state.field(Ql,!1);if(!e||!e.panel)return!1;let t=Cp(n,NA);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:TA.of(!1)}),!0},RB=[{key:"Mod-f",run:LB,scope:"editor search-panel"},{key:"F3",run:pb,shift:gb,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:pb,shift:gb,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:PB,scope:"editor search-panel"},{key:"Mod-Shift-l",run:zve},{key:"Mod-Alt-g",run:xve},{key:"Mod-d",run:Lve,preventDefault:!0}];class Kve{constructor(e){this.view=e;let t=this.query=e.state.field(Ql).query.spec;this.commit=this.commit.bind(this),this.searchField=An("input",{value:t.search,placeholder:na(e,"Find"),"aria-label":na(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=An("input",{value:t.replace,placeholder:na(e,"Replace"),"aria-label":na(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=An("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=An("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=An("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,a,r){return An("button",{class:"cm-button",name:s,onclick:a,type:"button"},r)}this.dom=An("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>pb(e),[na(e,"next")]),i("prev",()=>gb(e),[na(e,"previous")]),i("select",()=>Ive(e),[na(e,"all")]),An("label",null,[this.caseField,na(e,"match case")]),An("label",null,[this.reField,na(e,"regexp")]),An("label",null,[this.wordField,na(e,"by word")]),...e.state.readOnly?[]:[An("br"),this.replaceField,i("replace",()=>A3(e),[na(e,"replace")]),i("replaceAll",()=>qve(e),[na(e,"replace all")])],An("button",{name:"close",onclick:()=>PB(e),"aria-label":na(e,"close"),type:"button"},[""])])}commit(){let e=new TB({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Op.of(e)}))}keydown(e){Y0e(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?gb:pb)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),A3(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Op)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Eu).top}}function na(n,e){return n.state.phrase(e)}const R0=30,E0=/[\s\.,:;?!]/;function MA(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,a=Math.max(i.from,e-R0),r=Math.min(s,t+R0),o=n.state.sliceDoc(a,r);if(a!=i.from){for(let l=0;l<R0;l++)if(!E0.test(o[l+1])&&E0.test(o[l])){o=o.slice(l);break}}if(r!=s){for(let l=o.length-1;l>o.length-R0;l--)if(!E0.test(o[l-1])&&E0.test(o[l])){o=o.slice(0,l);break}}return Ke.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${i.number}.`)}const Hve=Ke.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),wk=[Ql,Ru.low(Bve),Hve];class EB{constructor(e,t,i,s){this.state=e,this.pos=t,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=as(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),a=s.search(jB(e,!1));return a<0?null:{from:i+a,to:this.pos,text:s.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function T3(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Vve(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let a=1;a<s.length;a++)t[s[a]]=!0}let i=T3(e)+T3(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Wve(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:Vve(e);return s=>{let a=s.matchBefore(i);return a||s.explicit?{from:a?a.from:s.pos,options:e,validFor:t}:null}}class N3{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function mu(n){return n.selection.main.from}function jB(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",a=i[i.length-1]!="$";return!s&&!a?n:new RegExp(`${s?"^":""}(?:${i})${a?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const DB=no.define();function Gve(n,e,t,i){let{main:s}=n.selection,a=t-s.from,r=i-s.from;return{...n.changeByRange(o=>{if(o!=s&&t!=i&&n.sliceDoc(o.from+a,o.from+r)!=n.sliceDoc(t,i))return{range:o};let l=n.toText(e);return{changes:{from:o.from+a,to:i==s.from?o.to:o.from+r,insert:l},range:Oe.cursor(o.from+a+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const M3=new WeakMap;function Xve(n){if(!Array.isArray(n))return n;let e=M3.get(n);return e||M3.set(n,e=Wve(n)),e}const _b=Ot.define(),Lp=Ot.define();class $ve{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Ps(e,t),s=Dr(i);this.chars.push(i);let a=e.slice(t,t+s),r=a.toUpperCase();this.folded.push(Ps(r==a?a.toLowerCase():r,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:a,byWord:r}=this;if(t.length==1){let k=Ps(e,0),N=Dr(k),O=N==e.length?0:-100;if(k!=t[0])if(k==i[0])O+=-200;else return null;return this.ret(O,[0,N])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,u=0;if(o<0){for(let k=0,N=Math.min(e.length,200);k<N&&u<l;){let O=Ps(e,k);(O==t[u]||O==i[u])&&(s[u++]=k),k+=Dr(O)}if(u<l)return null}let h=0,m=0,g=!1,_=0,b=-1,x=-1,v=/[a-z]/.test(e),C=!0;for(let k=0,N=Math.min(e.length,200),O=0;k<N&&m<l;){let T=Ps(e,k);o<0&&(h<l&&T==t[h]&&(a[h++]=k),_<l&&(T==t[_]||T==i[_]?(_==0&&(b=k),x=k+1,_++):_=0));let L,M=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(L=iA(T))!=L.toLowerCase()?1:L!=L.toUpperCase()?2:0;(!k||M==1&&v||O==0&&M!=0)&&(t[m]==T||i[m]==T&&(g=!0)?r[m++]=k:r.length&&(C=!1)),O=M,k+=Dr(T)}return m==l&&r[0]==0&&C?this.result(-100+(g?-200:0),r,e):_==l&&b==0?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):_==l?this.ret(-900-e.length,[b,x]):m==l?this.result(-100+(g?-200:0)+-700+(C?0:-1100),r,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[],a=0;for(let r of t){let o=r+(this.astral?Dr(Ps(i,r)):1);a&&s[a-1]==r?s[a-1]=o:(s[a++]=r,s[a++]=o)}return this.ret(e-i.length,s)}}class Qve{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Oi=We.define({combine(n){return io(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Yve,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>O3(e(i),t(i)),optionClass:(e,t)=>i=>O3(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function O3(n,e){return n?e?n+" "+e:n:e}function Yve(n,e,t,i,s,a){let r=n.textDirection==Bn.RTL,o=r,l=!1,u="top",h,m,g=e.left-s.left,_=s.right-e.right,b=i.right-i.left,x=i.bottom-i.top;if(o&&g<Math.min(b,_)?o=!1:!o&&_<Math.min(b,g)&&(o=!0),b<=(o?g:_))h=Math.max(s.top,Math.min(t.top,s.bottom-x))-e.top,m=Math.min(400,o?g:_);else{l=!0,m=Math.min(400,(r?e.right:s.right-e.left)-30);let k=s.bottom-e.bottom;k>=x||k>e.top?h=t.bottom-e.top:(u="bottom",h=e.bottom-t.top)}let v=(e.bottom-e.top)/a.offsetHeight,C=(e.right-e.left)/a.offsetWidth;return{style:`${u}: ${h/v}px; max-width: ${m/C}px`,class:"cm-completionInfo-"+(l?r?"left-narrow":"right-narrow":o?"left":"right")}}function Zve(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s,a){let r=document.createElement("span");r.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let u=0;u<a.length;){let h=a[u++],m=a[u++];h>l&&r.appendChild(document.createTextNode(o.slice(l,h)));let g=r.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(h,m))),g.className="cm-completionMatchedText",l=m}return l<o.length&&r.appendChild(document.createTextNode(o.slice(l))),r},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function dS(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class Jve{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:a,selected:r}=s.open,o=e.state.facet(Oi);this.optionContent=Zve(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=dS(a.length,r,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(t).open;for(let h=l.target,m;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(m=/-(\d+)$/.exec(h.id))&&+m[1]<u.length){this.applyCompletion(e,u[+m[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(Oi).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Lp.of(null)})}),this.showOptions(a,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=s){let{options:a,selected:r,disabled:o}=i.open;(!s.open||s.open.options!=a)&&(this.range=dS(a.length,r,e.state.facet(Oi).maxRenderedOptions),this.showOptions(a,i.id)),this.updateSel(),o!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=dS(t.options.length,t.selected,this.view.state.facet(Oi).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:s}=t.options[t.selected],{info:a}=s;if(!a)return;let r=typeof a=="string"?document.createTextNode(a):a(s);if(!r)return;"then"in r?r.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,s)}).catch(o=>js(this.view.state,o,"completion info")):(this.addInfoPane(r,s),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:a}=e;i.appendChild(s),this.infoDestroy=a||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&t1e(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),a=this.space;if(!a){let r=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:r.clientWidth,bottom:r.clientHeight}}return s.top>Math.min(a.bottom,t.bottom)-10||s.bottom<Math.max(a.top,t.top)+10?null:this.view.state.facet(Oi).positionInfo(this.view,t,s,i,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",r=>{r.target==s&&r.preventDefault()});let a=null;for(let r=i.from;r<i.to;r++){let{completion:o,match:l}=e[r],{section:u}=o;if(u){let g=typeof u=="string"?u:u.name;if(g!=a&&(r>i.from||i.from==0))if(a=g,typeof u!="string"&&u.header)s.appendChild(u.header(u));else{let _=s.appendChild(document.createElement("completion-section"));_.textContent=g}}const h=s.appendChild(document.createElement("li"));h.id=t+"-"+r,h.setAttribute("role","option");let m=this.optionClass(o);m&&(h.className=m);for(let g of this.optionContent){let _=g(o,this.view.state,this.view,l);_&&h.appendChild(_)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function e1e(n,e){return t=>new Jve(t,n,e)}function t1e(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/s:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/s)}function L3(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function n1e(n,e){let t=[],i=null,s=null,a=h=>{t.push(h);let{section:m}=h.completion;if(m){i||(i=[]);let g=typeof m=="string"?m:m.name;i.some(_=>_.name==g)||i.push(typeof m=="string"?{name:g}:m)}},r=e.facet(Oi);for(let h of n)if(h.hasResult()){let m=h.result.getMatch;if(h.result.filter===!1)for(let g of h.result.options)a(new N3(g,h.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(h.from,h.to),_,b=r.filterStrict?new Qve(g):new $ve(g);for(let x of h.result.options)if(_=b.match(x.label)){let v=x.displayLabel?m?m(x,_.matched):[]:_.matched,C=_.score+(x.boost||0);if(a(new N3(x,h.source,v,C)),typeof x.section=="object"&&x.section.rank==="dynamic"){let{name:k}=x.section;s||(s=Object.create(null)),s[k]=Math.max(C,s[k]||-1e9)}}}}if(i){let h=Object.create(null),m=0,g=(_,b)=>(_.rank==="dynamic"&&b.rank==="dynamic"?s[b.name]-s[_.name]:0)||(typeof _.rank=="number"?_.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(_.name<b.name?-1:1);for(let _ of i.sort(g))m-=1e5,h[_.name]=m;for(let _ of t){let{section:b}=_.completion;b&&(_.score+=h[typeof b=="string"?b:b.name])}}let o=[],l=null,u=r.compareCompletions;for(let h of t.sort((m,g)=>g.score-m.score||u(m.completion,g.completion))){let m=h.completion;!l||l.label!=m.label||l.detail!=m.detail||l.type!=null&&m.type!=null&&l.type!=m.type||l.apply!=m.apply||l.boost!=m.boost?o.push(h):L3(h.completion)>L3(l)&&(o[o.length-1]=h),l=h.completion}return o}class Fd{constructor(e,t,i,s,a,r){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=a,this.disabled=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Fd(this.options,P3(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,a,r){if(s&&!r&&e.some(u=>u.isPending))return s.setDisabled();let o=n1e(e,t);if(!o.length)return s&&e.some(u=>u.isPending)?s.setDisabled():null;let l=t.facet(Oi).selectOnOpen?0:-1;if(s&&s.selected!=l&&s.selected!=-1){let u=s.options[s.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==u){l=h;break}}return new Fd(o,P3(i,l),{pos:e.reduce((u,h)=>h.hasResult()?Math.min(u,h.from):u,1e8),create:l1e,above:a.aboveCursor},s?s.timestamp:Date.now(),l,!1)}map(e){return new Fd(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Fd(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class yb{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new yb(r1e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Oi),a=(i.override||t.languageDataAt("autocomplete",mu(t)).map(Xve)).map(l=>(this.active.find(h=>h.source==l)||new Ua(l,this.active.some(h=>h.state!=0)?1:0)).update(e,i));a.length==this.active.length&&a.every((l,u)=>l==this.active[u])&&(a=this.active);let r=this.open,o=e.effects.some(l=>l.is(OA));r&&e.docChanged&&(r=r.map(e.changes)),e.selection||a.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!i1e(a,this.active)||o?r=Fd.build(a,t,this.id,r,i,o):r&&r.disabled&&!a.some(l=>l.isPending)&&(r=null),!r&&a.every(l=>!l.isPending)&&a.some(l=>l.hasResult())&&(a=a.map(l=>l.hasResult()?new Ua(l.source,0):l));for(let l of e.effects)l.is(UB)&&(r=r&&r.setSelected(l.value,this.id));return a==this.active&&r==this.open?this:new yb(a,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?s1e:a1e}}function i1e(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let s=t==n.length,a=i==e.length;if(s||a)return s==a;if(n[t++].result!=e[i++].result)return!1}}const s1e={"aria-autocomplete":"list"},a1e={};function P3(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const r1e=[];function FB(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(DB);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Ua{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=FB(e,t),s=this;(i&8||i&16&&this.touches(e))&&(s=new Ua(s.source,0)),i&4&&s.state==0&&(s=new Ua(this.source,1)),s=s.updateFor(e,i);for(let a of e.effects)if(a.is(_b))s=new Ua(s.source,1,a.value);else if(a.is(Lp))s=new Ua(s.source,0);else if(a.is(OA))for(let r of a.value)r.source==s.source&&(s=r);return s}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(mu(e.state))}}class eh extends Ua{constructor(e,t,i,s,a,r){super(e,3,t),this.limit=i,this.result=s,this.from=a,this.to=r}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let a=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),o=mu(e.state);if(o>r||!s||t&2&&(mu(e.startState)==this.from||o<this.limit))return new Ua(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return o1e(s.validFor,e.state,a,r)?new eh(this.source,this.explicit,l,s,a,r):s.update&&(s=s.update(s,a,r,new EB(e.state,o,!1)))?new eh(this.source,this.explicit,l,s,s.from,(i=s.to)!==null&&i!==void 0?i:mu(e.state)):new Ua(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new eh(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ua(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function o1e(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):jB(n,!0).test(s)}const OA=Ot.define({map(n,e){return n.map(t=>t.map(e))}}),UB=Ot.define(),Rs=Hi.define({create(){return yb.start()},update(n,e){return n.update(e)},provide:n=>[gA.from(n,e=>e.tooltip),Ke.contentAttributes.from(n,e=>e.attrs)]});function LA(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Rs).active.find(s=>s.source==e.source);return i instanceof eh?(typeof t=="string"?n.dispatch({...Gve(n.state,t,i.from,i.to),annotations:DB.of(e.completion)}):t(n,e.completion,i.from,i.to),!0):!1}const l1e=e1e(Rs,LA);function j0(n,e="option"){return t=>{let i=t.state.field(Rs,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Oi).interactionDelay)return!1;let s=1,a;e=="page"&&(a=pU(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:r}=i.open.options,o=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:r-1;return o<0?o=e=="page"?0:r-1:o>=r&&(o=e=="page"?r-1:0),t.dispatch({effects:UB.of(o)}),!0}}const c1e=n=>{let e=n.state.field(Rs,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Oi).interactionDelay?!1:LA(n,e.open.options[e.open.selected])},hS=n=>n.state.field(Rs,!1)?(n.dispatch({effects:_b.of(!0)}),!0):!1,u1e=n=>{let e=n.state.field(Rs,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Lp.of(null)}),!0)};class d1e{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const h1e=50,f1e=1e3,m1e=ui.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Rs).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Rs),t=n.state.facet(Oi);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Rs)==e)return;let i=n.transactions.some(a=>{let r=FB(a,t);return r&8||(a.selection||a.docChanged)&&!(r&3)});for(let a=0;a<this.running.length;a++){let r=this.running[a];if(i||r.context.abortOnDocChange&&n.docChanged||r.updates.length+n.transactions.length>h1e&&Date.now()-r.time>f1e){for(let o of r.context.abortListeners)try{o()}catch(l){js(this.view.state,l)}r.context.abortListeners=null,this.running.splice(a--,1)}else r.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(r=>r.is(_b)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(r=>r.active.source==a.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let a of n.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Rs);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Oi).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=mu(e),i=new EB(e,t,n.explicit,this.view),s=new d1e(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(a=>{s.context.aborted||(s.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Lp.of(null)}),js(this.view.state,a)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Oi).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Oi),i=this.view.state.field(Rs);for(let s=0;s<this.running.length;s++){let a=this.running[s];if(a.done===void 0)continue;if(this.running.splice(s--,1),a.done){let o=mu(a.updates.length?a.updates[0].startState:this.view.state),l=Math.min(o,a.done.from+(a.active.explicit?0:1)),u=new eh(a.active.source,a.active.explicit,l,a.done,a.done.from,(n=a.done.to)!==null&&n!==void 0?n:o);for(let h of a.updates)u=u.update(h,t);if(u.hasResult()){e.push(u);continue}}let r=i.active.find(o=>o.source==a.active.source);if(r&&r.isPending)if(a.done==null){let o=new Ua(a.active.source,0);for(let l of a.updates)o=o.update(l,t);o.isPending||e.push(o)}else this.startQuery(r)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:OA.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Rs,!1);if(e&&e.tooltip&&this.view.state.facet(Oi).closeOnBlur){let t=e.open&&pU(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Lp.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:_b.of(!1)}),20),this.composing=0}}}),p1e=typeof navigator=="object"&&/Win/.test(navigator.platform),g1e=Ru.highest(Ke.domEventHandlers({keydown(n,e){let t=e.state.field(Rs,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(p1e&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],s=t.active.find(r=>r.source==i.source),a=i.completion.commitCharacters||s.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&LA(e,i),!1}})),_1e=Ke.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Pp={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},nu=Ot.define({map(n,e){let t=e.mapPos(n,-1,gs.TrackAfter);return t??void 0}}),PA=new class extends xu{};PA.startSide=1;PA.endSide=-1;const BB=Hi.define({create(){return sn.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(nu)&&(n=n.update({add:[PA.range(t.value,t.value+1)]}));return n}});function y1e(){return[x1e,BB]}const fS="()[]{}<>";function IB(n){for(let e=0;e<fS.length;e+=2)if(fS.charCodeAt(e)==n)return fS.charAt(e+1);return iA(n<128?n:n+1)}function zB(n,e){return n.languageDataAt("closeBrackets",e)[0]||Pp}const b1e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),x1e=Ke.inputHandler.of((n,e,t,i)=>{if((b1e?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&Dr(Ps(i,0))==1||e!=s.from||t!=s.to)return!1;let a=w1e(n.state,i);return a?(n.dispatch(a),!0):!1}),v1e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=zB(n,n.selection.main.head).brackets||Pp.brackets,s=null,a=n.changeByRange(r=>{if(r.empty){let o=k1e(n.doc,r.head);for(let l of i)if(l==o&&gx(n.doc,r.head)==IB(Ps(l,0)))return{changes:{from:r.head-l.length,to:r.head+l.length},range:Oe.cursor(r.head-l.length)}}return{range:s=r}});return s||e(n.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},S1e=[{key:"Backspace",run:v1e}];function w1e(n,e){let t=zB(n,n.selection.main.head),i=t.brackets||Pp.brackets;for(let s of i){let a=IB(Ps(s,0));if(e==s)return a==s?T1e(n,s,i.indexOf(s+s+s)>-1,t):C1e(n,s,a,t.before||Pp.before);if(e==a&&qB(n,n.selection.main.from))return A1e(n,s,a)}return null}function qB(n,e){let t=!1;return n.field(BB).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function gx(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Dr(Ps(t,0)))}function k1e(n,e){let t=n.sliceString(e-2,e);return Dr(Ps(t,0))==t.length?t:t.slice(1)}function C1e(n,e,t,i){let s=null,a=n.changeByRange(r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:t,from:r.to}],effects:nu.of(r.to+e.length),range:Oe.range(r.anchor+e.length,r.head+e.length)};let o=gx(n.doc,r.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:r.head},effects:nu.of(r.head+e.length),range:Oe.cursor(r.head+e.length)}:{range:s=r}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function A1e(n,e,t){let i=null,s=n.changeByRange(a=>a.empty&&gx(n.doc,a.head)==t?{changes:{from:a.head,to:a.head+t.length,insert:t},range:Oe.cursor(a.head+t.length)}:i={range:a});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function T1e(n,e,t,i){let s=i.stringPrefixes||Pp.stringPrefixes,a=null,r=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:nu.of(o.to+e.length),range:Oe.range(o.anchor+e.length,o.head+e.length)};let l=o.head,u=gx(n.doc,l),h;if(u==e){if(R3(n,l))return{changes:{insert:e+e,from:l},effects:nu.of(l+e.length),range:Oe.cursor(l+e.length)};if(qB(n,l)){let g=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+g.length,insert:g},range:Oe.cursor(l+g.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(h=E3(n,l-2*e.length,s))>-1&&R3(n,h))return{changes:{insert:e+e+e+e,from:l},effects:nu.of(l+e.length),range:Oe.cursor(l+e.length)};if(n.charCategorizer(l)(u)!=Kn.Word&&E3(n,l,s)>-1&&!N1e(n,l,e,s))return{changes:{insert:e+e,from:l},effects:nu.of(l+e.length),range:Oe.cursor(l+e.length)}}return{range:a=o}});return a?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function R3(n,e){let t=as(n).resolveInner(e+1);return t.parent&&t.from==e}function N1e(n,e,t,i){let s=as(n).resolveInner(e,-1),a=i.reduce((r,o)=>Math.max(r,o.length),0);for(let r=0;r<5;r++){let o=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+a)),l=o.indexOf(t);if(!l||l>-1&&i.indexOf(o.slice(0,l))>-1){let h=s.firstChild;for(;h&&h.from==s.from&&h.to-h.from>t.length+l;){if(n.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let u=s.to==e&&s.parent;if(!u)break;s=u}return!1}function E3(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Kn.Word)return e;for(let s of t){let a=e-s.length;if(n.sliceDoc(a,e)==s&&i(n.sliceDoc(a-1,a))!=Kn.Word)return a}return-1}function M1e(n={}){return[g1e,Rs,Oi.of(n),m1e,O1e,_1e]}const KB=[{key:"Ctrl-Space",run:hS},{mac:"Alt-`",run:hS},{mac:"Alt-i",run:hS},{key:"Escape",run:u1e},{key:"ArrowDown",run:j0(!0)},{key:"ArrowUp",run:j0(!1)},{key:"PageDown",run:j0(!0,"page")},{key:"PageUp",run:j0(!1,"page")},{key:"Enter",run:c1e}],O1e=Ru.highest(dg.computeN([Oi],n=>n.facet(Oi).defaultKeymap?[KB]:[]));class j3{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Vc{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=i.facet(Rp).markerFilter;s&&(e=s(e,i));let a=e.slice().sort((_,b)=>_.from-b.from||_.to-b.to),r=new Jo,o=[],l=0,u=i.doc.iter(),h=0,m=i.doc.length;for(let _=0;;){let b=_==a.length?null:a[_];if(!b&&!o.length)break;let x,v;if(o.length)x=l,v=o.reduce((N,O)=>Math.min(N,O.to),b&&b.from>x?b.from:1e8);else{if(x=b.from,x>m)break;v=b.to,o.push(b),_++}for(;_<a.length;){let N=a[_];if(N.from==x&&(N.to>N.from||N.to==x))o.push(N),_++,v=Math.min(N.to,v);else{v=Math.min(N.from,v);break}}v=Math.min(v,m);let C=!1;if(o.some(N=>N.from==x&&(N.to==v||v==m))&&(C=x==v,!C&&v-x<10)){let N=x-(h+u.value.length);N>0&&(u.next(N),h=x);for(let O=x;;){if(O>=v){C=!0;break}if(!u.lineBreak&&h+u.value.length>O)break;O=h+u.value.length,h+=u.value.length,u.next()}}let k=K1e(o);if(C)r.add(x,x,ht.widget({widget:new B1e(k),diagnostics:o.slice()}));else{let N=o.reduce((O,T)=>T.markClass?O+" "+T.markClass:O,"");r.add(x,v,ht.mark({class:"cm-lintRange cm-lintRange-"+k+N,diagnostics:o.slice(),inclusiveEnd:o.some(O=>O.to>v)}))}if(l=v,l==m)break;for(let N=0;N<o.length;N++)o[N].to<=l&&o.splice(N--,1)}let g=r.finish();return new Vc(g,t,kh(g))}}function kh(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,a,{spec:r})=>{if(!(e&&r.diagnostics.indexOf(e)<0))if(!i)i=new j3(s,a,e||r.diagnostics[0]);else{if(r.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new j3(i.from,a,i.diagnostic)}}),i}function L1e(n,e){let t=e.pos,i=e.end||t,s=n.state.facet(Rp).hideOn(n,t,i);if(s!=null)return s;let a=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(r=>r.is(HB))||n.changes.touchesRange(a.from,Math.max(a.to,i)))}function P1e(n,e){return n.field(da,!1)?e:e.concat(Ot.appendConfig.of(H1e))}const HB=Ot.define(),RA=Ot.define(),VB=Ot.define(),da=Hi.define({create(){return new Vc(ht.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,s=n.panel;if(n.selected){let a=e.changes.mapPos(n.selected.from,1);i=kh(t,n.selected.diagnostic,a)||kh(t,null,a)}!t.size&&s&&e.state.facet(Rp).autoPanel&&(s=null),n=new Vc(t,s,i)}for(let t of e.effects)if(t.is(HB)){let i=e.state.facet(Rp).autoPanel?t.value.length?Ep.open:null:n.panel;n=Vc.init(t.value,i,e.state)}else t.is(RA)?n=new Vc(n.diagnostics,t.value?Ep.open:null,n.selected):t.is(VB)&&(n=new Vc(n.diagnostics,n.panel,t.value));return n},provide:n=>[Ap.from(n,e=>e.panel),Ke.decorations.from(n,e=>e.diagnostics)]}),R1e=ht.mark({class:"cm-lintRange cm-lintRange-active"});function E1e(n,e,t){let{diagnostics:i}=n.state.field(da),s,a=-1,r=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,u,{spec:h})=>{if(e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0)))return s=h.diagnostics,a=l,r=u,!1});let o=n.state.facet(Rp).tooltipFilter;return s&&o&&(s=o(s,n.state)),s?{pos:a,end:r,above:n.state.doc.lineAt(a).to<r,create(){return{dom:j1e(n,s)}}}:null}function j1e(n,e){return An("ul",{class:"cm-tooltip-lint"},e.map(t=>GB(n,t,!1)))}const D1e=n=>{let e=n.state.field(da,!1);(!e||!e.panel)&&n.dispatch({effects:P1e(n.state,[RA.of(!0)])});let t=Cp(n,Ep.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},D3=n=>{let e=n.state.field(da,!1);return!e||!e.panel?!1:(n.dispatch({effects:RA.of(!1)}),!0)},F1e=n=>{let e=n.state.field(da,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},U1e=[{key:"Mod-Shift-m",run:D1e,preventDefault:!0},{key:"F8",run:F1e}],Rp=We.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...io(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:F3,tooltipFilter:F3,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,s,a)=>e(i,s,a)||t(i,s,a):e:t,autoPanel:(e,t)=>e||t})}}});function F3(n,e){return n?e?(t,i)=>e(n(t,i),i):n:e}function WB(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(a=>a.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function GB(n,e,t){var i;let s=t?WB(e.actions):[];return An("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},An("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((a,r)=>{let o=!1,l=_=>{if(_.preventDefault(),o)return;o=!0;let b=kh(n.state.field(da).diagnostics,e);b&&a.apply(n,b.from,b.to)},{name:u}=a,h=s[r]?u.indexOf(s[r]):-1,m=h<0?u:[u.slice(0,h),An("u",u.slice(h,h+1)),u.slice(h+1)],g=a.markClass?" "+a.markClass:"";return An("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:l,onmousedown:l,"aria-label":` Action: ${u}${h<0?"":` (access key "${s[r]})"`}.`},m)}),e.source&&An("div",{class:"cm-diagnosticSource"},e.source))}class B1e extends il{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return An("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class U3{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=GB(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ep{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)D3(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],r=WB(a.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==s.keyCode){let l=kh(this.view.state.field(da).diagnostics,a);l&&a.actions[o].apply(e,l.from,l.to)}}else return;s.preventDefault()},i=s=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(s.target)&&this.moveSelection(a)};this.list=An("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=An("div",{class:"cm-panel-lint"},this.list,An("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>D3(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(da).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(da),i=0,s=!1,a=null,r=new Set;for(e.between(0,this.view.state.doc.length,(o,l,{spec:u})=>{for(let h of u.diagnostics){if(r.has(h))continue;r.add(h);let m=-1,g;for(let _=i;_<this.items.length;_++)if(this.items[_].diagnostic==h){m=_;break}m<0?(g=new U3(this.view,h),this.items.splice(i,0,g),s=!0):(g=this.items[m],m>i&&(this.items.splice(i,m-i),s=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),a=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new U3(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let u=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/u:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(da),i=kh(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:VB.of(i)})}static open(e){return new Ep(e)}}function I1e(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function D0(n){return I1e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const z1e=Ke.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:D0("#d11")},".cm-lintRange-warning":{backgroundImage:D0("orange")},".cm-lintRange-info":{backgroundImage:D0("#999")},".cm-lintRange-hint":{backgroundImage:D0("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function q1e(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function K1e(n){let e="hint",t=1;for(let i of n){let s=q1e(i.severity);s>t&&(t=s,e=i.severity)}return e}const H1e=[da,Ke.decorations.compute([da],n=>{let{selected:e,panel:t}=n.field(da);return!e||!t||e.from==e.to?ht.none:ht.set([R1e.range(e.from,e.to)])}),Bye(E1e,{hideOn:L1e}),z1e];var B3=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(S1e)),e.defaultKeymap!==!1&&(i=i.concat(_ve)),e.searchKeymap!==!1&&(i=i.concat(RB)),e.historyKeymap!==!1&&(i=i.concat(kxe)),e.foldKeymap!==!1&&(i=i.concat(Ube)),e.completionKeymap!==!1&&(i=i.concat(KB)),e.lintKeymap!==!1&&(i=i.concat(U1e));var s=[];return e.lineNumbers!==!1&&s.push(Qye()),e.highlightActiveLineGutter!==!1&&s.push(Jye()),e.highlightSpecialChars!==!1&&s.push(mye()),e.history!==!1&&s.push(pxe()),e.foldGutter!==!1&&s.push(qbe()),e.drawSelection!==!1&&s.push(iye()),e.dropCursor!==!1&&s.push(lye()),e.allowMultipleSelections!==!1&&s.push(Qt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&s.push(Nbe()),e.syntaxHighlighting!==!1&&s.push(IU(Wbe,{fallback:!0})),e.bracketMatching!==!1&&s.push(Jbe()),e.closeBrackets!==!1&&s.push(y1e()),e.autocompletion!==!1&&s.push(M1e()),e.rectangularSelection!==!1&&s.push(Nye()),t!==!1&&s.push(Lye()),e.highlightActiveLine!==!1&&s.push(xye()),e.highlightSelectionMatches!==!1&&s.push(AB()),e.tabSize&&typeof e.tabSize=="number"&&s.push(cx.of(" ".repeat(e.tabSize))),s.concat([dg.of(i.flat())]).filter(Boolean)};const V1e="#e5c07b",I3="#e06c75",W1e="#56b6c2",G1e="#ffffff",yy="#abb2bf",kk="#7d8799",X1e="#61afef",$1e="#98c379",z3="#d19a66",Q1e="#c678dd",Y1e="#21252b",q3="#2c313a",K3="#282c34",mS="#353a42",Z1e="#3E4451",H3="#528bff",J1e=Ke.theme({"&":{color:yy,backgroundColor:K3},".cm-content":{caretColor:H3},".cm-cursor, .cm-dropCursor":{borderLeftColor:H3},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Z1e},".cm-panels":{backgroundColor:Y1e,color:yy},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:K3,color:kk,border:"none"},".cm-activeLineGutter":{backgroundColor:q3},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:mS},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:mS,borderBottomColor:mS},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:q3,color:yy}}},{dark:!0}),e2e=mg.define([{tag:ve.keyword,color:Q1e},{tag:[ve.name,ve.deleted,ve.character,ve.propertyName,ve.macroName],color:I3},{tag:[ve.function(ve.variableName),ve.labelName],color:X1e},{tag:[ve.color,ve.constant(ve.name),ve.standard(ve.name)],color:z3},{tag:[ve.definition(ve.name),ve.separator],color:yy},{tag:[ve.typeName,ve.className,ve.number,ve.changed,ve.annotation,ve.modifier,ve.self,ve.namespace],color:V1e},{tag:[ve.operator,ve.operatorKeyword,ve.url,ve.escape,ve.regexp,ve.link,ve.special(ve.string)],color:W1e},{tag:[ve.meta,ve.comment],color:kk},{tag:ve.strong,fontWeight:"bold"},{tag:ve.emphasis,fontStyle:"italic"},{tag:ve.strikethrough,textDecoration:"line-through"},{tag:ve.link,color:kk,textDecoration:"underline"},{tag:ve.heading,fontWeight:"bold",color:I3},{tag:[ve.atom,ve.bool,ve.special(ve.variableName)],color:z3},{tag:[ve.processingInstruction,ve.string,ve.inserted],color:$1e},{tag:ve.invalid,color:G1e}]),t2e=[J1e,IU(e2e)];var n2e=Ke.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),i2e=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:s=!1,theme:a="light",placeholder:r="",basicSetup:o=!0}=e,l=[];switch(t&&l.unshift(dg.of([yve])),o&&(typeof o=="boolean"?l.unshift(B3()):l.unshift(B3(o))),r&&l.unshift(kye(r)),a){case"light":l.push(n2e);break;case"dark":l.push(t2e);break;case"none":break;default:l.push(a);break}return i===!1&&l.push(Ke.editable.of(!1)),s&&l.push(Qt.readOnly.of(!0)),[...l]},s2e=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class a2e{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class V3{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var pS=null,r2e=()=>typeof window>"u"?new V3:(pS||(pS=new V3),pS),W3=no.define(),o2e=200,l2e=[];function c2e(n){var{value:e,selection:t,onChange:i,onStatistics:s,onCreateEditor:a,onUpdate:r,extensions:o=l2e,autoFocus:l,theme:u="light",height:h=null,minHeight:m=null,maxHeight:g=null,width:_=null,minWidth:b=null,maxWidth:x=null,placeholder:v="",editable:C=!0,readOnly:k=!1,indentWithTab:N=!0,basicSetup:O=!0,root:T,initialState:L}=n,[M,P]=w.useState(),[R,D]=w.useState(),[U,F]=w.useState(),H=w.useState(()=>({current:null}))[0],Z=w.useState(()=>({current:null}))[0],Y=Ke.theme({"&":{height:h,minHeight:m,maxHeight:g,width:_,minWidth:b,maxWidth:x},"& .cm-scroller":{height:"100% !important"}}),I=Ke.updateListener.of($=>{if($.docChanged&&typeof i=="function"&&!$.transactions.some(B=>B.annotation(W3))){H.current?H.current.reset():(H.current=new a2e(()=>{if(Z.current){var B=Z.current;Z.current=null,B()}H.current=null},o2e),r2e().add(H.current));var W=$.state.doc,j=W.toString();i(j,$)}s&&s(s2e($))}),K=i2e({theme:u,editable:C,readOnly:k,placeholder:v,indentWithTab:N,basicSetup:O}),V=[I,Y,...K];return r&&typeof r=="function"&&V.push(Ke.updateListener.of(r)),V=V.concat(o),w.useLayoutEffect(()=>{if(M&&!U){var $={doc:e,selection:t,extensions:V},W=L?Qt.fromJSON(L.json,$,L.fields):Qt.create($);if(F(W),!R){var j=new Ke({state:W,parent:M,root:T});D(j),a&&a(j,W)}}return()=>{R&&(F(void 0),D(void 0))}},[M,U]),w.useEffect(()=>{n.container&&P(n.container)},[n.container]),w.useEffect(()=>()=>{R&&(R.destroy(),D(void 0)),H.current&&(H.current.cancel(),H.current=null)},[R]),w.useEffect(()=>{l&&R&&R.focus()},[l,R]),w.useEffect(()=>{R&&R.dispatch({effects:Ot.reconfigure.of(V)})},[u,o,h,m,g,_,b,x,v,C,k,N,O,i,r]),w.useEffect(()=>{if(e!==void 0){var $=R?R.state.doc.toString():"";if(R&&e!==$){var W=H.current&&!H.current.isDone,j=()=>{R&&e!==R.state.doc.toString()&&R.dispatch({changes:{from:0,to:R.state.doc.toString().length,insert:e||""},annotations:[W3.of(!0)]})};W?Z.current=j:j()}}},[e,R]),{state:U,setState:F,view:R,setView:D,container:M,setContainer:P}}var u2e=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],XB=w.forwardRef((n,e)=>{var{className:t,value:i="",selection:s,extensions:a=[],onChange:r,onStatistics:o,onCreateEditor:l,onUpdate:u,autoFocus:h,theme:m="light",height:g,minHeight:_,maxHeight:b,width:x,minWidth:v,maxWidth:C,basicSetup:k,placeholder:N,indentWithTab:O,editable:T,readOnly:L,root:M,initialState:P}=n,R=Yge(n,u2e),D=w.useRef(null),{state:U,view:F,container:H,setContainer:Z}=c2e({root:M,value:i,autoFocus:h,theme:m,height:g,minHeight:_,maxHeight:b,width:x,minWidth:v,maxWidth:C,basicSetup:k,placeholder:N,indentWithTab:O,editable:T,readOnly:L,selection:s,onChange:r,onStatistics:o,onCreateEditor:l,onUpdate:u,extensions:a,initialState:P});w.useImperativeHandle(e,()=>({editor:D.current,state:U,view:F}),[D,H,U,F]);var Y=w.useCallback(K=>{D.current=K,Z(K)},[Z]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var I=typeof m=="string"?"cm-theme-"+m:"cm-theme";return f.jsx("div",Aw({ref:Y,className:""+I+(t?" "+t:"")},R))});XB.displayName="CodeMirror";var G3={};class bb{constructor(e,t,i,s,a,r,o,l,u,h=0,m){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=a,this.score=r,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=h,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new bb(e,[],t,i,i,0,[],0,s?new X3(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:a}=this.p,r=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=a.dynamicPrecedence(s);if(o&&(this.score+=o),i==0){this.pushState(a.getGoto(this.state,s,!0),this.reducePos),s<a.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,r?8:4,!0),this.reduceContext(s,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,h=this.reducePos-u;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=h));let m=l?this.stack[l-1]:0,g=this.bufferBase+this.buffer.length-m;if(s<a.minRepeatTerm||e&131072){let _=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,u,_,g+4,!0)}if(e&262144)this.state=this.stack[l];else{let _=this.stack[l-3];this.state=a.getGoto(_,s,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(s,u)}storeNode(e,t,i,s=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let r=this,o=this.buffer.length;if(o==0&&r.parent&&(o=r.bufferBase-r.parent.bufferBase,r=r.parent),o>0&&r.buffer[o-4]==0&&r.buffer[o-1]>-1){if(t==i)return;if(r.buffer[o-2]>=t){r.buffer[o-2]=i;return}}}if(!a||this.pos==i)this.buffer.push(e,t,i,s);else{let r=this.buffer.length;if(r>0&&(this.buffer[r-4]!=0||this.buffer[r-1]<0)){let o=!1;for(let l=r;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;r>0&&this.buffer[r-2]>i;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,s>4&&(s-=4)}this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=i,this.buffer[r+3]=s}}shift(e,t,i,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:r}=this.p;(s>this.pos||t<=r.maxNode)&&(this.pos=s,r.stateFlag(a,1)||(this.reducePos=s)),this.pushState(a,i),this.shiftContext(t,i),t<=r.maxNode&&this.buffer.push(t,i,s,4)}else this.pos=s,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,s,4)}apply(e,t,i,s){e&65536?this.reduce(e):this.shift(e,t,i,s)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new bb(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new d2e(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let a=0,r;a<t.length;a+=2)(r=t[a+1])!=this.state&&this.p.parser.hasAction(r,e)&&s.push(t[a],r);if(this.stack.length<120)for(let a=0;s.length<8&&a<t.length;a+=2){let r=t[a+1];s.some((o,l)=>l&1&&o==r)||s.push(t[a],r)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let a=t[s+1];if(a==this.state)continue;let r=this.split();r.pushState(a,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(t[s],this.pos),r.reducePos=this.pos,r.score-=200,i.push(r)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,a=this.stack.length-i*3;if(a<0||e.getGoto(this.stack[a],s,!1)<0){let r=this.findForcedReduction();if(r==null)return!1;t=r}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,a)=>{if(!t.includes(s))return t.push(s),e.allActions(s,r=>{if(!(r&393216))if(r&65536){let o=(r>>19)-a;if(o>1){let l=r&65535,u=this.stack.length-o*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return o<<19|65536|l}}else{let o=i(r,a+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new X3(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class X3{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class d2e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class xb{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new xb(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new xb(this.stack,this.pos,this.index)}}function F0(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,s=0;i<n.length;){let a=0;for(;;){let r=n.charCodeAt(i++),o=!1;if(r==126){a=65535;break}r>=92&&r--,r>=34&&r--;let l=r-32;if(l>=46&&(l-=46,o=!0),a+=l,o)break;a*=46}t?t[s++]=a:t=new e(a)}return t}class by{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const $3=new by;class h2e{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=$3,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,a=this.pos+e;for(;a<i.from;){if(!s)return null;let r=this.ranges[--s];a-=i.from-r.to,i=r}for(;t<0?a>i.to:a>=i.to;){if(s==this.ranges.length-1)return null;let r=this.ranges[++s];a+=r.from-i.to,i=r}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(i=a,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let r=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++r];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=$3,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class th{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;f2e(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}th.prototype.contextual=th.prototype.fallback=th.prototype.extend=!1;th.prototype.fallback=th.prototype.extend=!1;class _x{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function f2e(n,e,t,i,s,a){let r=0,o=1<<i,{dialect:l}=t.p.parser;e:for(;(o&n[r])!=0;){let u=n[r+1];for(let _=r+3;_<u;_+=2)if((n[_+1]&o)>0){let b=n[_];if(l.allows(b)&&(e.token.value==-1||e.token.value==b||m2e(b,e.token.value,s,a))){e.acceptToken(b);break}}let h=e.next,m=0,g=n[r+2];if(e.next<0&&g>m&&n[u+g*3-3]==65535){r=n[u+g*3-1];continue e}for(;m<g;){let _=m+g>>1,b=u+_+(_<<1),x=n[b],v=n[b+1]||65536;if(h<x)g=_;else if(h>=v)m=_+1;else{r=n[b+2],e.advance();continue e}}break}}function Q3(n,e,t){for(let i=e,s;(s=n[i])!=65535;i++)if(s==t)return i-e;return-1}function m2e(n,e,t,i){let s=Q3(t,i,e);return s<0||Q3(t,i,n)<s}const ia=typeof process<"u"&&G3&&/\bparse\b/.test(G3.LOG);let gS=null;function Y3(n,e,t){let i=n.cursor(Mi.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class p2e{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Y3(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Y3(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=i.children[s],r=this.start[t]+i.positions[s];if(r>e)return this.nextStart=r,null;if(a instanceof xi){if(r==e){if(r<this.safeFrom)return null;let o=r+a.length;if(o<=this.safeTo){let l=a.prop(Bt.lookAhead);if(!l||o+l<this.fragment.to)return a}}this.index[t]++,r+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+a.length}}}class g2e{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new by)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:a}=s,r=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<a.length;u++){if((1<<u&r)==0)continue;let h=a[u],m=this.tokens[u];if(!(i&&!h.fallback)&&((h.contextual||m.start!=e.pos||m.mask!=r||m.context!=o)&&(this.updateCachedToken(m,h,e),m.mask=r,m.context=o),m.lookAhead>m.end+25&&(l=Math.max(m.lookAhead,l)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!h.extend&&(i=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new by,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new by,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:a}=i.p;for(let r=0;r<a.specialized.length;r++)if(a.specialized[r]==e.value){let o=a.specializers[r](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let a=0;a<s;a+=3)if(this.actions[a]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:a}=e,{parser:r}=e.p,{data:o}=r;for(let l=0;l<2;l++)for(let u=r.stateSlot(a,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=Uo(o,u+2);else{s==0&&o[u+1]==2&&(s=this.putAction(Uo(o,u+2),t,i,s));break}o[u]==t&&(s=this.putAction(Uo(o,u+1),t,i,s))}return s}}class _2e{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new h2e(t,s),this.tokens=new g2e(e,this.stream),this.topTerm=e.top[1];let{from:a}=s[0];this.stacks=[bb.start(this,e.top[0],a)],this.fragments=i.length&&this.stream.end-a>e.bufferLength*4?new p2e(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,a;if(this.bigReductionCount>300&&e.length==1){let[r]=e;for(;r.forceReduce()&&r.stack.length&&r.stack[r.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<e.length;r++){let o=e[r];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{s||(s=[],a=[]),s.push(o);let l=this.tokens.getMainToken(o);a.push(l.value,l.end)}}break}}if(!i.length){let r=s&&x2e(s);if(r)return ia&&console.log("Finish with "+this.stackID(r)),this.stackToTree(r);if(this.parser.strict)throw ia&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let r=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,a,i);if(r)return ia&&console.log("Force-finish "+this.stackID(r)),this.stackToTree(r.forceAll())}if(this.recovering){let r=this.recovering==1?1:this.recovering*3;if(i.length>r)for(i.sort((o,l)=>l.score-o.score);i.length>r;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let r=0;r<i.length-1;r++){let o=i[r];for(let l=r+1;l<i.length;l++){let u=i[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)i.splice(l--,1);else{i.splice(r--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let r=1;r<i.length;r++)i[r].pos<this.minStackPos&&(this.minStackPos=i[r].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:a}=this,r=ia?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,h=u?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?a.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!u||(m.prop(Bt.contextHash)||0)==h))return e.useNode(m,g),ia&&console.log(r+this.stackID(e)+` (via reuse of ${a.getName(m.type.id)})`),!0;if(!(m instanceof xi)||m.children.length==0||m.positions[0]>0)break;let _=m.children[0];if(_ instanceof xi&&m.positions[0]==0)m=_;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),ia&&console.log(r+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let h=l[u++],m=l[u++],g=l[u++],_=u==l.length||!i,b=_?e:e.split(),x=this.tokens.mainToken;if(b.apply(h,m,x?x.start:b.pos,g),ia&&console.log(r+this.stackID(b)+` (via ${(h&65536)==0?"shift":`reduce of ${a.getName(h&65535)}`} for ${a.getName(m)} @ ${s}${b==e?"":", split"})`),_)return!0;b.pos>s?t.push(b):i.push(b)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Z3(e,t),!0}}runRecovery(e,t,i){let s=null,a=!1;for(let r=0;r<e.length;r++){let o=e[r],l=t[r<<1],u=t[(r<<1)+1],h=ia?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),ia&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let m=o.split(),g=h;for(let _=0;_<10&&m.forceReduce()&&(ia&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,i));_++)ia&&(g=this.stackID(m)+" -> ");for(let _ of o.recoverByInsert(l))ia&&console.log(h+this.stackID(_)+" (via recover-insert)"),this.advanceFully(_,i);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),ia&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),Z3(o,i)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),xi.build({buffer:xb.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(gS||(gS=new WeakMap)).get(e);return t||gS.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Z3(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class y2e{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const _S=n=>n;class b2e{constructor(e){this.start=e.start,this.shift=e.shift||_S,this.reduce=e.reduce||_S,this.reuse=e.reuse||_S,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class vb extends wU{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<t.length;o++)s.push([]);function a(o,l,u){s[o].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=Bt[l]);for(let u=1;u<o.length;){let h=o[u++];if(h>=0)a(h,l,o[u++]);else{let m=o[u+-h];for(let g=-h;g>0;g--)a(o[u++],l,m);u++}}}this.nodeSet=new _A(t.map((o,l)=>Ws.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:s[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=bU;let r=F0(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(J3),this.states=F0(e.states,Uint32Array),this.data=F0(e.stateData),this.goto=F0(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new th(r,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new _2e(this,e,t,i);for(let a of this.wrappers)s=a(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let a=s[t+1];;){let r=s[a++],o=r&1,l=s[a++];if(o&&i)return l;for(let u=a+(r>>1);a<u;a++)if(s[a]==e)return l;if(o)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let a=this.stateSlot(e,s?2:1),r;;a+=3){if((r=i[a])==65535)if(i[a+1]==1)r=i[a=Uo(i,a+2)];else{if(i[a+1]==2)return Uo(i,a+2);break}if(r==t||r==0)return Uo(i,a+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let a=this.stateSlot(e,1);s==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=Uo(this.data,a+2);else break;s=t(Uo(this.data,a+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Uo(this.data,i+2);else break;if((this.data[i+2]&1)==0){let s=this.data[i+1];t.some((a,r)=>r&1&&a==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(vb.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(a=>a.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let a=e.specializers.find(o=>o.from==i.external);if(!a)return i;let r=Object.assign(Object.assign({},i),{external:a.to});return t.specializers[s]=J3(r),r})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let a of e.split(" ")){let r=t.indexOf(a);r>=0&&(i[r]=!0)}let s=null;for(let a=0;a<t.length;a++)if(!i[a])for(let r=this.dialects[t[a]],o;(o=this.data[r++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new y2e(e,i,s)}static deserialize(e){return new vb(e)}}function Uo(n,e){return n[e]|n[e+1]<<16}function x2e(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function J3(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const Md=63,e4=64,v2e=1,S2e=2,$B=3,w2e=4,QB=5,k2e=6,C2e=7,YB=65,A2e=66,T2e=8,N2e=9,M2e=10,O2e=11,L2e=12,ZB=13,P2e=19,R2e=20,E2e=29,j2e=33,D2e=34,F2e=47,U2e=0,EA=1,Ck=2,jp=3,Ak=4;class Wc{constructor(e,t,i){this.parent=e,this.depth=t,this.type=i,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+i}}Wc.top=new Wc(null,-1,U2e);function Qm(n,e){for(let t=0,i=e-n.pos-1;;i--,t++){let s=n.peek(i);if(nl(s)||s==-1)return t}}function Tk(n){return n==32||n==9}function nl(n){return n==10||n==13}function JB(n){return Tk(n)||nl(n)}function iu(n){return n<0||JB(n)}const B2e=new b2e({start:Wc.top,reduce(n,e){return n.type==jp&&(e==R2e||e==D2e)?n.parent:n},shift(n,e,t,i){if(e==$B)return new Wc(n,Qm(i,i.pos),EA);if(e==YB||e==QB)return new Wc(n,Qm(i,i.pos),Ck);if(e==Md)return n.parent;if(e==P2e||e==j2e)return new Wc(n,0,jp);if(e==ZB&&n.type==Ak)return n.parent;if(e==F2e){let s=/[1-9]/.exec(i.read(i.pos,t.pos));if(s)return new Wc(n,n.depth+ +s[0],Ak)}return n},hash(n){return n.hash}});function Ch(n,e,t=0){return n.peek(t)==e&&n.peek(t+1)==e&&n.peek(t+2)==e&&iu(n.peek(t+3))}const I2e=new _x((n,e)=>{if(n.next==-1&&e.canShift(e4))return n.acceptToken(e4);let t=n.peek(-1);if((nl(t)||t<0)&&e.context.type!=jp){if(Ch(n,45))if(e.canShift(Md))n.acceptToken(Md);else return n.acceptToken(v2e,3);if(Ch(n,46))if(e.canShift(Md))n.acceptToken(Md);else return n.acceptToken(S2e,3);let i=0;for(;n.next==32;)i++,n.advance();(i<e.context.depth||i==e.context.depth&&e.context.type==EA&&(n.next!=45||!iu(n.peek(1))))&&n.next!=-1&&!nl(n.next)&&n.next!=35&&n.acceptToken(Md,-i)}},{contextual:!0}),z2e=new _x((n,e)=>{if(e.context.type==jp){n.next==63&&(n.advance(),iu(n.next)&&n.acceptToken(C2e));return}if(n.next==45)n.advance(),iu(n.next)&&n.acceptToken(e.context.type==EA&&e.context.depth==Qm(n,n.pos-1)?w2e:$B);else if(n.next==63)n.advance(),iu(n.next)&&n.acceptToken(e.context.type==Ck&&e.context.depth==Qm(n,n.pos-1)?k2e:QB);else{let t=n.pos;for(;;)if(Tk(n.next)){if(n.pos==t)return;n.advance()}else if(n.next==33)eI(n);else if(n.next==38)Nk(n);else if(n.next==42){Nk(n);break}else if(n.next==39||n.next==34){if(jA(n,!0))break;return}else if(n.next==91||n.next==123){if(!K2e(n))return;break}else{tI(n,!0,!1,0);break}for(;Tk(n.next);)n.advance();if(n.next==58){if(n.pos==t&&e.canShift(E2e))return;let i=n.peek(1);iu(i)&&n.acceptTokenTo(e.context.type==Ck&&e.context.depth==Qm(n,t)?A2e:YB,t)}}},{contextual:!0});function q2e(n){return n>32&&n<127&&n!=34&&n!=37&&n!=44&&n!=60&&n!=62&&n!=92&&n!=94&&n!=96&&n!=123&&n!=124&&n!=125}function t4(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function n4(n,e){return n.next==37?(n.advance(),t4(n.next)&&n.advance(),t4(n.next)&&n.advance(),!0):q2e(n.next)||e&&n.next==44?(n.advance(),!0):!1}function eI(n){if(n.advance(),n.next==60){for(n.advance();;)if(!n4(n,!0)){n.next==62&&n.advance();break}}else for(;n4(n,!1););}function Nk(n){for(n.advance();!iu(n.next)&&Sb(n.tag)!="f";)n.advance()}function jA(n,e){let t=n.next,i=!1,s=n.pos;for(n.advance();;){let a=n.next;if(a<0)break;if(n.advance(),a==t)if(a==39)if(n.next==39)n.advance();else break;else break;else if(a==92&&t==34)n.next>=0&&n.advance();else if(nl(a)){if(e)return!1;i=!0}else if(e&&n.pos>=s+1024)return!1}return!i}function K2e(n){for(let e=[],t=n.pos+1024;;)if(n.next==91||n.next==123)e.push(n.next),n.advance();else if(n.next==39||n.next==34){if(!jA(n,!0))return!1}else if(n.next==93||n.next==125){if(e[e.length-1]!=n.next-2)return!1;if(e.pop(),n.advance(),!e.length)return!0}else{if(n.next<0||n.pos>t||nl(n.next))return!1;n.advance()}}const H2e="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function Sb(n){return n<33?"u":n>125?"s":H2e[n-33]}function yS(n,e){let t=Sb(n);return t!="u"&&!(e&&t=="f")}function tI(n,e,t,i){if(Sb(n.next)=="s"||(n.next==63||n.next==58||n.next==45)&&yS(n.peek(1),t))n.advance();else return!1;let s=n.pos;for(;;){let a=n.next,r=0,o=i+1;for(;JB(a);){if(nl(a)){if(e)return!1;o=0}else o++;a=n.peek(++r)}if(!(a>=0&&(a==58?yS(n.peek(r+1),t):a==35?n.peek(r-1)!=32:yS(a,t)))||!t&&o<=i||o==0&&!t&&(Ch(n,45,r)||Ch(n,46,r)))break;if(e&&Sb(a)=="f")return!1;for(let u=r;u>=0;u--)n.advance();if(e&&n.pos>s+1024)return!1}return!0}const V2e=new _x((n,e)=>{if(n.next==33)eI(n),n.acceptToken(L2e);else if(n.next==38||n.next==42){let t=n.next==38?M2e:O2e;Nk(n),n.acceptToken(t)}else n.next==39||n.next==34?(jA(n,!1),n.acceptToken(N2e)):tI(n,!1,e.context.type==jp,e.context.depth)&&n.acceptToken(T2e)}),W2e=new _x((n,e)=>{let t=e.context.type==Ak?e.context.depth:-1,i=n.pos;e:for(;;){let s=0,a=n.next;for(;a==32;)a=n.peek(++s);if(!s&&(Ch(n,45,s)||Ch(n,46,s))||!nl(a)&&(t<0&&(t=Math.max(e.context.depth+1,s)),s<t))break;for(;;){if(n.next<0)break e;let r=nl(n.next);if(n.advance(),r)continue e;i=n.pos}}n.acceptTokenTo(ZB,i)}),G2e=kU({DirectiveName:ve.keyword,DirectiveContent:ve.attributeValue,"DirectiveEnd DocEnd":ve.meta,QuotedLiteral:ve.string,BlockLiteralHeader:ve.special(ve.string),BlockLiteralContent:ve.content,Literal:ve.content,"Key/Literal Key/QuotedLiteral":ve.definition(ve.propertyName),"Anchor Alias":ve.labelName,Tag:ve.typeName,Comment:ve.lineComment,": , -":ve.separator,"?":ve.punctuation,"[ ]":ve.squareBracket,"{ }":ve.brace}),X2e=vb.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:B2e,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[G2e],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[I2e,z2e,V2e,W2e,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),$2e=rb.define({name:"yaml",parser:X2e.configure({props:[NU.add({Stream:n=>{for(let e=n.node.resolve(n.pos,-1);e&&e.to>=n.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return n.baseIndentFor(e);if(e.name=="BlockLiteral")return n.baseIndentFor(e)+n.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return n.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let t=n.column(e.from,1);if(t==n.lineIndent(e.from,1))return t;if(e.to>n.pos)return null}}return null},FlowMapping:c3({closing:"}"}),FlowSequence:c3({closing:"]"})}),LU.add({"FlowMapping FlowSequence":Obe,"Item Pair BlockLiteral":(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function Q2e(){return new bbe($2e)}const DA=Symbol.for("yaml.alias"),Mk=Symbol.for("yaml.document"),Yl=Symbol.for("yaml.map"),nI=Symbol.for("yaml.pair"),Yr=Symbol.for("yaml.scalar"),Bh=Symbol.for("yaml.seq"),Wa=Symbol.for("yaml.node.type"),ju=n=>!!n&&typeof n=="object"&&n[Wa]===DA,yx=n=>!!n&&typeof n=="object"&&n[Wa]===Mk,cc=n=>!!n&&typeof n=="object"&&n[Wa]===Yl,di=n=>!!n&&typeof n=="object"&&n[Wa]===nI,Pn=n=>!!n&&typeof n=="object"&&n[Wa]===Yr,_g=n=>!!n&&typeof n=="object"&&n[Wa]===Bh;function oi(n){if(n&&typeof n=="object")switch(n[Wa]){case Yl:case Bh:return!0}return!1}function ci(n){if(n&&typeof n=="object")switch(n[Wa]){case DA:case Yl:case Yr:case Bh:return!0}return!1}const iI=n=>(Pn(n)||oi(n))&&!!n.anchor,Kc=Symbol("break visit"),Y2e=Symbol("skip children"),Ym=Symbol("remove node");function Ih(n,e){const t=Z2e(e);yx(n)?Ud(null,n.contents,t,Object.freeze([n]))===Ym&&(n.contents=null):Ud(null,n,t,Object.freeze([]))}Ih.BREAK=Kc;Ih.SKIP=Y2e;Ih.REMOVE=Ym;function Ud(n,e,t,i){const s=J2e(n,e,t,i);if(ci(s)||di(s))return eSe(n,i,s),Ud(n,s,t,i);if(typeof s!="symbol"){if(oi(e)){i=Object.freeze(i.concat(e));for(let a=0;a<e.items.length;++a){const r=Ud(a,e.items[a],t,i);if(typeof r=="number")a=r-1;else{if(r===Kc)return Kc;r===Ym&&(e.items.splice(a,1),a-=1)}}}else if(di(e)){i=Object.freeze(i.concat(e));const a=Ud("key",e.key,t,i);if(a===Kc)return Kc;a===Ym&&(e.key=null);const r=Ud("value",e.value,t,i);if(r===Kc)return Kc;r===Ym&&(e.value=null)}}return s}function Z2e(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function J2e(n,e,t,i){if(typeof t=="function")return t(n,e,i);if(cc(e))return t.Map?.(n,e,i);if(_g(e))return t.Seq?.(n,e,i);if(di(e))return t.Pair?.(n,e,i);if(Pn(e))return t.Scalar?.(n,e,i);if(ju(e))return t.Alias?.(n,e,i)}function eSe(n,e,t){const i=e[e.length-1];if(oi(i))i.items[n]=t;else if(di(i))n==="key"?i.key=t:i.value=t;else if(yx(i))i.contents=t;else{const s=ju(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const tSe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},nSe=n=>n.replace(/[!,[\]{}]/g,e=>tSe[e]);class hs{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},hs.defaultYaml,e),this.tags=Object.assign({},hs.defaultTags,t)}clone(){const e=new hs(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new hs(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:hs.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},hs.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:hs.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},hs.defaultTags),this.atNextDocument=!1);const i=e.trim().split(/[ \t]+/),s=i.shift();switch(s){case"%TAG":{if(i.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;const[a,r]=i;return this.tags[a]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,i.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[a]=i;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const r=/^\d+\.\d+$/.test(a);return t(6,`Unsupported YAML version ${a}`,r),!1}}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const r=e.slice(2,-1);return r==="!"||r==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),r)}const[,i,s]=e.match(/^(.*!)([^!]*)$/s);s||t(`The ${e} tag has no suffix`);const a=this.tags[i];if(a)try{return a+decodeURIComponent(s)}catch(r){return t(String(r)),null}return i==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,i]of Object.entries(this.tags))if(e.startsWith(i))return t+nSe(e.substring(i.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags);let s;if(e&&i.length>0&&ci(e.contents)){const a={};Ih(e.contents,(r,o)=>{ci(o)&&o.tag&&(a[o.tag]=!0)}),s=Object.keys(a)}else s=[];for(const[a,r]of i)a==="!!"&&r==="tag:yaml.org,2002:"||(!e||s.some(o=>o.startsWith(r)))&&t.push(`%TAG ${a} ${r}`);return t.join(`
`)}}hs.defaultYaml={explicit:!1,version:"1.2"};hs.defaultTags={"!!":"tag:yaml.org,2002:"};function sI(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function aI(n){const e=new Set;return Ih(n,{Value(t,i){i.anchor&&e.add(i.anchor)}}),e}function rI(n,e){for(let t=1;;++t){const i=`${n}${t}`;if(!e.has(i))return i}}function iSe(n,e){const t=[],i=new Map;let s=null;return{onAnchor:a=>{t.push(a),s??(s=aI(n));const r=rI(e,s);return s.add(r),r},setAnchors:()=>{for(const a of t){const r=i.get(a);if(typeof r=="object"&&r.anchor&&(Pn(r.node)||oi(r.node)))r.node.anchor=r.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=a,o}}},sourceObjects:i}}function Bd(n,e,t,i){if(i&&typeof i=="object")if(Array.isArray(i))for(let s=0,a=i.length;s<a;++s){const r=i[s],o=Bd(n,i,String(s),r);o===void 0?delete i[s]:o!==r&&(i[s]=o)}else if(i instanceof Map)for(const s of Array.from(i.keys())){const a=i.get(s),r=Bd(n,i,s,a);r===void 0?i.delete(s):r!==a&&i.set(s,r)}else if(i instanceof Set)for(const s of Array.from(i)){const a=Bd(n,i,s,s);a===void 0?i.delete(s):a!==s&&(i.delete(s),i.add(a))}else for(const[s,a]of Object.entries(i)){const r=Bd(n,i,s,a);r===void 0?delete i[s]:r!==a&&(i[s]=r)}return n.call(e,t,i)}function za(n,e,t){if(Array.isArray(n))return n.map((i,s)=>za(i,String(s),t));if(n&&typeof n.toJSON=="function"){if(!t||!iI(n))return n.toJSON(e,t);const i={aliasCount:0,count:1,res:void 0};t.anchors.set(n,i),t.onCreate=a=>{i.res=a,delete t.onCreate};const s=n.toJSON(e,t);return t.onCreate&&t.onCreate(s),s}return typeof n=="bigint"&&!t?.keep?Number(n):n}class FA{constructor(e){Object.defineProperty(this,Wa,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:i,onAnchor:s,reviver:a}={}){if(!yx(e))throw new TypeError("A document argument is required");const r={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},o=za(this,"",r);if(typeof s=="function")for(const{count:l,res:u}of r.anchors.values())s(u,l);return typeof a=="function"?Bd(a,{"":o},"",o):o}}class UA extends FA{constructor(e){super(DA),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let i;t?.aliasResolveCache?i=t.aliasResolveCache:(i=[],Ih(e,{Node:(a,r)=>{(ju(r)||iI(r))&&i.push(r)}}),t&&(t.aliasResolveCache=i));let s;for(const a of i){if(a===this)break;a.anchor===this.source&&(s=a)}return s}toJSON(e,t){if(!t)return{source:this.source};const{anchors:i,doc:s,maxAliasCount:a}=t,r=this.resolve(s,t);if(!r){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let o=i.get(r);if(o||(za(r,null,t),o=i.get(r)),o?.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(a>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=xy(s,r,i)),o.count*o.aliasCount>a)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return o.res}toString(e,t,i){const s=`*${this.source}`;if(e){if(sI(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(e.implicitKey)return`${s} `}return s}}function xy(n,e,t){if(ju(e)){const i=e.resolve(n),s=t&&i&&t.get(i);return s?s.count*s.aliasCount:0}else if(oi(e)){let i=0;for(const s of e.items){const a=xy(n,s,t);a>i&&(i=a)}return i}else if(di(e)){const i=xy(n,e.key,t),s=xy(n,e.value,t);return Math.max(i,s)}return 1}const oI=n=>!n||typeof n!="function"&&typeof n!="object";class Tt extends FA{constructor(e){super(Yr),this.value=e}toJSON(e,t){return t?.keep?this.value:za(this.value,e,t)}toString(){return String(this.value)}}Tt.BLOCK_FOLDED="BLOCK_FOLDED";Tt.BLOCK_LITERAL="BLOCK_LITERAL";Tt.PLAIN="PLAIN";Tt.QUOTE_DOUBLE="QUOTE_DOUBLE";Tt.QUOTE_SINGLE="QUOTE_SINGLE";const sSe="tag:yaml.org,2002:";function aSe(n,e,t){if(e){const i=t.filter(a=>a.tag===e),s=i.find(a=>!a.format)??i[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return t.find(i=>i.identify?.(n)&&!i.format)}function Dp(n,e,t){if(yx(n)&&(n=n.contents),ci(n))return n;if(di(n)){const m=t.schema[Yl].createNode?.(t.schema,null,t);return m.items.push(n),m}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:i,onAnchor:s,onTagObj:a,schema:r,sourceObjects:o}=t;let l;if(i&&n&&typeof n=="object"){if(l=o.get(n),l)return l.anchor??(l.anchor=s(n)),new UA(l.anchor);l={anchor:null,node:null},o.set(n,l)}e?.startsWith("!!")&&(e=sSe+e.slice(2));let u=aSe(n,e,r.tags);if(!u){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const m=new Tt(n);return l&&(l.node=m),m}u=n instanceof Map?r[Yl]:Symbol.iterator in Object(n)?r[Bh]:r[Yl]}a&&(a(u),delete t.onTagObj);const h=u?.createNode?u.createNode(t.schema,n,t):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(t.schema,n,t):new Tt(n);return e?h.tag=e:u.default||(h.tag=u.tag),l&&(l.node=h),h}function wb(n,e,t){let i=t;for(let s=e.length-1;s>=0;--s){const a=e[s];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const r=[];r[a]=i,i=r}else i=new Map([[a,i]])}return Dp(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const wm=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class lI extends FA{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(i=>ci(i)||di(i)?i.clone(e):i),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(wm(e))this.add(t);else{const[i,...s]=e,a=this.get(i,!0);if(oi(a))a.addIn(s,t);else if(a===void 0&&this.schema)this.set(i,wb(this.schema,s,t));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${s}`)}}deleteIn(e){const[t,...i]=e;if(i.length===0)return this.delete(t);const s=this.get(t,!0);if(oi(s))return s.deleteIn(i);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${i}`)}getIn(e,t){const[i,...s]=e,a=this.get(i,!0);return s.length===0?!t&&Pn(a)?a.value:a:oi(a)?a.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!di(t))return!1;const i=t.value;return i==null||e&&Pn(i)&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn(e){const[t,...i]=e;if(i.length===0)return this.has(t);const s=this.get(t,!0);return oi(s)?s.hasIn(i):!1}setIn(e,t){const[i,...s]=e;if(s.length===0)this.set(i,t);else{const a=this.get(i,!0);if(oi(a))a.setIn(s,t);else if(a===void 0&&this.schema)this.set(i,wb(this.schema,s,t));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${s}`)}}}const rSe=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function Ho(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const su=(n,e,t)=>n.endsWith(`
`)?Ho(t,e):t.includes(`
`)?`
`+Ho(t,e):(n.endsWith(" ")?"":" ")+t,cI="flow",Ok="block",vy="quoted";function bx(n,e,t="flow",{indentAtStart:i,lineWidth:s=80,minContentWidth:a=20,onFold:r,onOverflow:o}={}){if(!s||s<0)return n;s<a&&(a=0);const l=Math.max(1+a,1+s-e.length);if(n.length<=l)return n;const u=[],h={};let m=s-e.length;typeof i=="number"&&(i>s-Math.max(2,a)?u.push(0):m=s-i);let g,_,b=!1,x=-1,v=-1,C=-1;t===Ok&&(x=i4(n,x,e.length),x!==-1&&(m=x+l));for(let N;N=n[x+=1];){if(t===vy&&N==="\\"){switch(v=x,n[x+1]){case"x":x+=3;break;case"u":x+=5;break;case"U":x+=9;break;default:x+=1}C=x}if(N===`
`)t===Ok&&(x=i4(n,x,e.length)),m=x+e.length+l,g=void 0;else{if(N===" "&&_&&_!==" "&&_!==`
`&&_!=="	"){const O=n[x+1];O&&O!==" "&&O!==`
`&&O!=="	"&&(g=x)}if(x>=m)if(g)u.push(g),m=g+l,g=void 0;else if(t===vy){for(;_===" "||_==="	";)_=N,N=n[x+=1],b=!0;const O=x>C+1?x-2:v-1;if(h[O])return n;u.push(O),h[O]=!0,m=O+l,g=void 0}else b=!0}_=N}if(b&&o&&o(),u.length===0)return n;r&&r();let k=n.slice(0,u[0]);for(let N=0;N<u.length;++N){const O=u[N],T=u[N+1]||n.length;O===0?k=`
${e}${n.slice(0,T)}`:(t===vy&&h[O]&&(k+=`${n[O]}\\`),k+=`
${e}${n.slice(O+1,T)}`)}return k}function i4(n,e,t){let i=e,s=e+1,a=n[s];for(;a===" "||a==="	";)if(e<s+t)a=n[++e];else{do a=n[++e];while(a&&a!==`
`);i=e,s=e+1,a=n[s]}return i}const xx=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),vx=n=>/^(%|---|\.\.\.)/m.test(n);function oSe(n,e,t){if(!e||e<0)return!1;const i=e-t,s=n.length;if(s<=i)return!1;for(let a=0,r=0;a<s;++a)if(n[a]===`
`){if(a-r>i)return!0;if(r=a+1,s-r<=i)return!1}return!0}function Zm(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:i}=e,s=e.options.doubleQuotedMinMultiLineLength,a=e.indent||(vx(n)?"  ":"");let r="",o=0;for(let l=0,u=t[l];u;u=t[++l])if(u===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(r+=t.slice(o,l)+"\\ ",l+=1,o=l,u="\\"),u==="\\")switch(t[l+1]){case"u":{r+=t.slice(o,l);const h=t.substr(l+2,4);switch(h){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:h.substr(0,2)==="00"?r+="\\x"+h.substr(2):r+=t.substr(l,6)}l+=5,o=l+1}break;case"n":if(i||t[l+2]==='"'||t.length<s)l+=1;else{for(r+=t.slice(o,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)r+=`
`,l+=2;r+=a,t[l+2]===" "&&(r+="\\"),l+=1,o=l+1}break;default:l+=1}return r=o?r+t.slice(o):t,i?r:bx(r,a,vy,xx(e,!1))}function Lk(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return Zm(n,e);const t=e.indent||(vx(n)?"  ":""),i="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?i:bx(i,t,cI,xx(e,!1))}function Id(n,e){const{singleQuote:t}=e.options;let i;if(t===!1)i=Zm;else{const s=n.includes('"'),a=n.includes("'");s&&!a?i=Lk:a&&!s?i=Zm:i=t?Lk:Zm}return i(n,e)}let Pk;try{Pk=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Pk=/\n+(?!\n|$)/g}function Sy({comment:n,type:e,value:t},i,s,a){const{blockQuote:r,commentString:o,lineWidth:l}=i.options;if(!r||/\n[\t ]+$/.test(t))return Id(t,i);const u=i.indent||(i.forceBlockIndent||vx(t)?"  ":""),h=r==="literal"?!0:r==="folded"||e===Tt.BLOCK_FOLDED?!1:e===Tt.BLOCK_LITERAL?!0:!oSe(t,l,u.length);if(!t)return h?`|
`:`>
`;let m,g;for(g=t.length;g>0;--g){const T=t[g-1];if(T!==`
`&&T!=="	"&&T!==" ")break}let _=t.substring(g);const b=_.indexOf(`
`);b===-1?m="-":t===_||b!==_.length-1?(m="+",a&&a()):m="",_&&(t=t.slice(0,-_.length),_[_.length-1]===`
`&&(_=_.slice(0,-1)),_=_.replace(Pk,`$&${u}`));let x=!1,v,C=-1;for(v=0;v<t.length;++v){const T=t[v];if(T===" ")x=!0;else if(T===`
`)C=v;else break}let k=t.substring(0,C<v?C+1:v);k&&(t=t.substring(k.length),k=k.replace(/\n+/g,`$&${u}`));let O=(x?u?"2":"1":"")+m;if(n&&(O+=" "+o(n.replace(/ ?[\r\n]+/g," ")),s&&s()),!h){const T=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let L=!1;const M=xx(i,!0);r!=="folded"&&e!==Tt.BLOCK_FOLDED&&(M.onOverflow=()=>{L=!0});const P=bx(`${k}${T}${_}`,u,Ok,M);if(!L)return`>${O}
${u}${P}`}return t=t.replace(/\n+/g,`$&${u}`),`|${O}
${u}${k}${t}${_}`}function lSe(n,e,t,i){const{type:s,value:a}=n,{actualString:r,implicitKey:o,indent:l,indentStep:u,inFlow:h}=e;if(o&&a.includes(`
`)||h&&/[[\]{},]/.test(a))return Id(a,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return o||h||!a.includes(`
`)?Id(a,e):Sy(n,e,t,i);if(!o&&!h&&s!==Tt.PLAIN&&a.includes(`
`))return Sy(n,e,t,i);if(vx(a)){if(l==="")return e.forceBlockIndent=!0,Sy(n,e,t,i);if(o&&l===u)return Id(a,e)}const m=a.replace(/\n+/g,`$&
${l}`);if(r){const g=x=>x.default&&x.tag!=="tag:yaml.org,2002:str"&&x.test?.test(m),{compat:_,tags:b}=e.doc.schema;if(b.some(g)||_?.some(g))return Id(a,e)}return o?m:bx(m,l,cI,xx(e,!1))}function BA(n,e,t,i){const{implicitKey:s,inFlow:a}=e,r=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:o}=n;o!==Tt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(o=Tt.QUOTE_DOUBLE);const l=h=>{switch(h){case Tt.BLOCK_FOLDED:case Tt.BLOCK_LITERAL:return s||a?Id(r.value,e):Sy(r,e,t,i);case Tt.QUOTE_DOUBLE:return Zm(r.value,e);case Tt.QUOTE_SINGLE:return Lk(r.value,e);case Tt.PLAIN:return lSe(r,e,t,i);default:return null}};let u=l(o);if(u===null){const{defaultKeyType:h,defaultStringType:m}=e.options,g=s&&h||m;if(u=l(g),u===null)throw new Error(`Unsupported default string type ${g}`)}return u}function uI(n,e){const t=Object.assign({blockQuote:!0,commentString:rSe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let i;switch(t.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:i,options:t}}function cSe(n,e){if(e.tag){const s=n.filter(a=>a.tag===e.tag);if(s.length>0)return s.find(a=>a.format===e.format)??s[0]}let t,i;if(Pn(e)){i=e.value;let s=n.filter(a=>a.identify?.(i));if(s.length>1){const a=s.filter(r=>r.test);a.length>0&&(s=a)}t=s.find(a=>a.format===e.format)??s.find(a=>!a.format)}else i=e,t=n.find(s=>s.nodeClass&&i instanceof s.nodeClass);if(!t){const s=i?.constructor?.name??(i===null?"null":typeof i);throw new Error(`Tag not resolved for ${s} value`)}return t}function uSe(n,e,{anchors:t,doc:i}){if(!i.directives)return"";const s=[],a=(Pn(n)||oi(n))&&n.anchor;a&&sI(a)&&(t.add(a),s.push(`&${a}`));const r=n.tag??(e.default?null:e.tag);return r&&s.push(i.directives.tagString(r)),s.join(" ")}function Ah(n,e,t,i){if(di(n))return n.toString(e,t,i);if(ju(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let s;const a=ci(n)?n:e.doc.createNode(n,{onTagObj:l=>s=l});s??(s=cSe(e.doc.schema.tags,a));const r=uSe(a,s,e);r.length>0&&(e.indentAtStart=(e.indentAtStart??0)+r.length+1);const o=typeof s.stringify=="function"?s.stringify(a,e,t,i):Pn(a)?BA(a,e,t,i):a.toString(e,t,i);return r?Pn(a)||o[0]==="{"||o[0]==="["?`${r} ${o}`:`${r}
${e.indent}${o}`:o}function dSe({key:n,value:e},t,i,s){const{allNullValues:a,doc:r,indent:o,indentStep:l,options:{commentString:u,indentSeq:h,simpleKeys:m}}=t;let g=ci(n)&&n.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(oi(n)||!ci(n)&&typeof n=="object"){const M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let _=!m&&(!n||g&&e==null&&!t.inFlow||oi(n)||(Pn(n)?n.type===Tt.BLOCK_FOLDED||n.type===Tt.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!_&&(m||!a),indent:o+l});let b=!1,x=!1,v=Ah(n,t,()=>b=!0,()=>x=!0);if(!_&&!t.inFlow&&v.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");_=!0}if(t.inFlow){if(a||e==null)return b&&i&&i(),v===""?"?":_?`? ${v}`:v}else if(a&&!m||e==null&&_)return v=`? ${v}`,g&&!b?v+=su(v,t.indent,u(g)):x&&s&&s(),v;b&&(g=null),_?(g&&(v+=su(v,t.indent,u(g))),v=`? ${v}
${o}:`):(v=`${v}:`,g&&(v+=su(v,t.indent,u(g))));let C,k,N;ci(e)?(C=!!e.spaceBefore,k=e.commentBefore,N=e.comment):(C=!1,k=null,N=null,e&&typeof e=="object"&&(e=r.createNode(e))),t.implicitKey=!1,!_&&!g&&Pn(e)&&(t.indentAtStart=v.length+1),x=!1,!h&&l.length>=2&&!t.inFlow&&!_&&_g(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let O=!1;const T=Ah(e,t,()=>O=!0,()=>x=!0);let L=" ";if(g||C||k){if(L=C?`
`:"",k){const M=u(k);L+=`
${Ho(M,t.indent)}`}T===""&&!t.inFlow?L===`
`&&N&&(L=`

`):L+=`
${t.indent}`}else if(!_&&oi(e)){const M=T[0],P=T.indexOf(`
`),R=P!==-1,D=t.inFlow??e.flow??e.items.length===0;if(R||!D){let U=!1;if(R&&(M==="&"||M==="!")){let F=T.indexOf(" ");M==="&"&&F!==-1&&F<P&&T[F+1]==="!"&&(F=T.indexOf(" ",F+1)),(F===-1||P<F)&&(U=!0)}U||(L=`
${t.indent}`)}}else(T===""||T[0]===`
`)&&(L="");return v+=L+T,t.inFlow?O&&i&&i():N&&!O?v+=su(v,t.indent,u(N)):x&&s&&s(),v}function dI(n,e){(n==="debug"||n==="warn")&&console.warn(e)}const U0="<<",Xo={identify:n=>n===U0||typeof n=="symbol"&&n.description===U0,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Tt(Symbol(U0)),{addToJSMap:hI}),stringify:()=>U0},hSe=(n,e)=>(Xo.identify(e)||Pn(e)&&(!e.type||e.type===Tt.PLAIN)&&Xo.identify(e.value))&&n?.doc.schema.tags.some(t=>t.tag===Xo.tag&&t.default);function hI(n,e,t){if(t=n&&ju(t)?t.resolve(n.doc):t,_g(t))for(const i of t.items)bS(n,e,i);else if(Array.isArray(t))for(const i of t)bS(n,e,i);else bS(n,e,t)}function bS(n,e,t){const i=n&&ju(t)?t.resolve(n.doc):t;if(!cc(i))throw new Error("Merge sources must be maps or map aliases");const s=i.toJSON(null,n,Map);for(const[a,r]of s)e instanceof Map?e.has(a)||e.set(a,r):e instanceof Set?e.add(a):Object.prototype.hasOwnProperty.call(e,a)||Object.defineProperty(e,a,{value:r,writable:!0,enumerable:!0,configurable:!0});return e}function fI(n,e,{key:t,value:i}){if(ci(t)&&t.addToJSMap)t.addToJSMap(n,e,i);else if(hSe(n,t))hI(n,e,i);else{const s=za(t,"",n);if(e instanceof Map)e.set(s,za(i,s,n));else if(e instanceof Set)e.add(s);else{const a=fSe(t,s,n),r=za(i,a,n);a in e?Object.defineProperty(e,a,{value:r,writable:!0,enumerable:!0,configurable:!0}):e[a]=r}}return e}function fSe(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(ci(n)&&t?.doc){const i=uI(t.doc,{});i.anchors=new Set;for(const a of t.anchors.keys())i.anchors.add(a.anchor);i.inFlow=!0,i.inStringifyKey=!0;const s=n.toString(i);if(!t.mapKeyWarned){let a=JSON.stringify(s);a.length>40&&(a=a.substring(0,36)+'..."'),dI(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return s}return JSON.stringify(e)}function IA(n,e,t){const i=Dp(n,void 0,t),s=Dp(e,void 0,t);return new Ss(i,s)}class Ss{constructor(e,t=null){Object.defineProperty(this,Wa,{value:nI}),this.key=e,this.value=t}clone(e){let{key:t,value:i}=this;return ci(t)&&(t=t.clone(e)),ci(i)&&(i=i.clone(e)),new Ss(t,i)}toJSON(e,t){const i=t?.mapAsMap?new Map:{};return fI(t,i,this)}toString(e,t,i){return e?.doc?dSe(this,e,t,i):JSON.stringify(this)}}function mI(n,e,t){return(e.inFlow??n.flow?pSe:mSe)(n,e,t)}function mSe({comment:n,items:e},t,{blockItemPrefix:i,flowChars:s,itemIndent:a,onChompKeep:r,onComment:o}){const{indent:l,options:{commentString:u}}=t,h=Object.assign({},t,{indent:a,type:null});let m=!1;const g=[];for(let b=0;b<e.length;++b){const x=e[b];let v=null;if(ci(x))!m&&x.spaceBefore&&g.push(""),kb(t,g,x.commentBefore,m),x.comment&&(v=x.comment);else if(di(x)){const k=ci(x.key)?x.key:null;k&&(!m&&k.spaceBefore&&g.push(""),kb(t,g,k.commentBefore,m))}m=!1;let C=Ah(x,h,()=>v=null,()=>m=!0);v&&(C+=su(C,a,u(v))),m&&v&&(m=!1),g.push(i+C)}let _;if(g.length===0)_=s.start+s.end;else{_=g[0];for(let b=1;b<g.length;++b){const x=g[b];_+=x?`
${l}${x}`:`
`}}return n?(_+=`
`+Ho(u(n),l),o&&o()):m&&r&&r(),_}function pSe({items:n},e,{flowChars:t,itemIndent:i}){const{indent:s,indentStep:a,flowCollectionPadding:r,options:{commentString:o}}=e;i+=a;const l=Object.assign({},e,{indent:i,inFlow:!0,type:null});let u=!1,h=0;const m=[];for(let b=0;b<n.length;++b){const x=n[b];let v=null;if(ci(x))x.spaceBefore&&m.push(""),kb(e,m,x.commentBefore,!1),x.comment&&(v=x.comment);else if(di(x)){const k=ci(x.key)?x.key:null;k&&(k.spaceBefore&&m.push(""),kb(e,m,k.commentBefore,!1),k.comment&&(u=!0));const N=ci(x.value)?x.value:null;N?(N.comment&&(v=N.comment),N.commentBefore&&(u=!0)):x.value==null&&k?.comment&&(v=k.comment)}v&&(u=!0);let C=Ah(x,l,()=>v=null);b<n.length-1&&(C+=","),v&&(C+=su(C,i,o(v))),!u&&(m.length>h||C.includes(`
`))&&(u=!0),m.push(C),h=m.length}const{start:g,end:_}=t;if(m.length===0)return g+_;if(!u){const b=m.reduce((x,v)=>x+v.length+2,2);u=e.options.lineWidth>0&&b>e.options.lineWidth}if(u){let b=g;for(const x of m)b+=x?`
${a}${s}${x}`:`
`;return`${b}
${s}${_}`}else return`${g}${r}${m.join(" ")}${r}${_}`}function kb({indent:n,options:{commentString:e}},t,i,s){if(i&&s&&(i=i.replace(/^\n+/,"")),i){const a=Ho(e(i),n);t.push(a.trimStart())}}function au(n,e){const t=Pn(e)?e.value:e;for(const i of n)if(di(i)&&(i.key===e||i.key===t||Pn(i.key)&&i.key.value===t))return i}class Pa extends lI{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Yl,e),this.items=[]}static from(e,t,i){const{keepUndefined:s,replacer:a}=i,r=new this(e),o=(l,u)=>{if(typeof a=="function")u=a.call(t,l,u);else if(Array.isArray(a)&&!a.includes(l))return;(u!==void 0||s)&&r.items.push(IA(l,u,i))};if(t instanceof Map)for(const[l,u]of t)o(l,u);else if(t&&typeof t=="object")for(const l of Object.keys(t))o(l,t[l]);return typeof e.sortMapEntries=="function"&&r.items.sort(e.sortMapEntries),r}add(e,t){let i;di(e)?i=e:!e||typeof e!="object"||!("key"in e)?i=new Ss(e,e?.value):i=new Ss(e.key,e.value);const s=au(this.items,i.key),a=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${i.key} already set`);Pn(s.value)&&oI(i.value)?s.value.value=i.value:s.value=i.value}else if(a){const r=this.items.findIndex(o=>a(i,o)<0);r===-1?this.items.push(i):this.items.splice(r,0,i)}else this.items.push(i)}delete(e){const t=au(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const s=au(this.items,e)?.value;return(!t&&Pn(s)?s.value:s)??void 0}has(e){return!!au(this.items,e)}set(e,t){this.add(new Ss(e,t),!0)}toJSON(e,t,i){const s=i?new i:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const a of this.items)fI(t,s,a);return s}toString(e,t,i){if(!e)return JSON.stringify(this);for(const s of this.items)if(!di(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),mI(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:i,onComment:t})}}const zh={collection:"map",default:!0,nodeClass:Pa,tag:"tag:yaml.org,2002:map",resolve(n,e){return cc(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>Pa.from(n,e,t)};class Cu extends lI{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Bh,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=B0(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const i=B0(e);if(typeof i!="number")return;const s=this.items[i];return!t&&Pn(s)?s.value:s}has(e){const t=B0(e);return typeof t=="number"&&t<this.items.length}set(e,t){const i=B0(e);if(typeof i!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[i];Pn(s)&&oI(t)?s.value=t:this.items[i]=t}toJSON(e,t){const i=[];t?.onCreate&&t.onCreate(i);let s=0;for(const a of this.items)i.push(za(a,String(s++),t));return i}toString(e,t,i){return e?mI(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:i,onComment:t}):JSON.stringify(this)}static from(e,t,i){const{replacer:s}=i,a=new this(e);if(t&&Symbol.iterator in Object(t)){let r=0;for(let o of t){if(typeof s=="function"){const l=t instanceof Set?o:String(r++);o=s.call(t,l,o)}a.items.push(Dp(o,void 0,i))}}return a}}function B0(n){let e=Pn(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const qh={collection:"seq",default:!0,nodeClass:Cu,tag:"tag:yaml.org,2002:seq",resolve(n,e){return _g(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Cu.from(n,e,t)},Sx={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,i){return e=Object.assign({actualString:!0},e),BA(n,e,t,i)}},wx={identify:n=>n==null,createNode:()=>new Tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Tt(null),stringify:({source:n},e)=>typeof n=="string"&&wx.test.test(n)?n:e.options.nullStr},zA={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new Tt(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&zA.test.test(n)){const i=n[0]==="t"||n[0]==="T";if(e===i)return n}return e?t.options.trueStr:t.options.falseStr}};function gr({format:n,minFractionDigits:e,tag:t,value:i}){if(typeof i=="bigint")return String(i);const s=typeof i=="number"?i:Number(i);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let a=Object.is(i,-0)?"-0":JSON.stringify(i);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let r=a.indexOf(".");r<0&&(r=a.length,a+=".");let o=e-(a.length-r-1);for(;o-- >0;)a+="0"}return a}const pI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gr},gI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():gr(n)}},_I={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const e=new Tt(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:gr},kx=n=>typeof n=="bigint"||Number.isInteger(n),qA=(n,e,t,{intAsBigInt:i})=>i?BigInt(n):parseInt(n.substring(e),t);function yI(n,e,t){const{value:i}=n;return kx(i)&&i>=0?t+i.toString(e):gr(n)}const bI={identify:n=>kx(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>qA(n,2,8,t),stringify:n=>yI(n,8,"0o")},xI={identify:kx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>qA(n,0,10,t),stringify:gr},vI={identify:n=>kx(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>qA(n,2,16,t),stringify:n=>yI(n,16,"0x")},gSe=[zh,qh,Sx,wx,zA,bI,xI,vI,pI,gI,_I];function s4(n){return typeof n=="bigint"||Number.isInteger(n)}const I0=({value:n})=>JSON.stringify(n),_Se=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:I0},{identify:n=>n==null,createNode:()=>new Tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:I0},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:n=>n==="true",stringify:I0},{identify:s4,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>s4(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:I0}],ySe={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},bSe=[zh,qh].concat(_Se,ySe),KA={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof atob=="function"){const t=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(t.length);for(let s=0;s<t.length;++s)i[s]=t.charCodeAt(s);return i}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},i,s,a){if(!t)return"";const r=t;let o;if(typeof btoa=="function"){let l="";for(let u=0;u<r.length;++u)l+=String.fromCharCode(r[u]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Tt.BLOCK_LITERAL),e!==Tt.QUOTE_DOUBLE){const l=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),u=Math.ceil(o.length/l),h=new Array(u);for(let m=0,g=0;m<u;++m,g+=l)h[m]=o.substr(g,l);o=h.join(e===Tt.BLOCK_LITERAL?`
`:" ")}return BA({comment:n,type:e,value:o},i,s,a)}};function SI(n,e){if(_g(n))for(let t=0;t<n.items.length;++t){let i=n.items[t];if(!di(i)){if(cc(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");const s=i.items[0]||new Ss(new Tt(null));if(i.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${i.commentBefore}
${s.key.commentBefore}`:i.commentBefore),i.comment){const a=s.value??s.key;a.comment=a.comment?`${i.comment}
${a.comment}`:i.comment}i=s}n.items[t]=di(i)?i:new Ss(i)}}else e("Expected a sequence for this tag");return n}function wI(n,e,t){const{replacer:i}=t,s=new Cu(n);s.tag="tag:yaml.org,2002:pairs";let a=0;if(e&&Symbol.iterator in Object(e))for(let r of e){typeof i=="function"&&(r=i.call(e,String(a++),r));let o,l;if(Array.isArray(r))if(r.length===2)o=r[0],l=r[1];else throw new TypeError(`Expected [key, value] tuple: ${r}`);else if(r&&r instanceof Object){const u=Object.keys(r);if(u.length===1)o=u[0],l=r[o];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else o=r;s.items.push(IA(o,l,t))}return s}const HA={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:SI,createNode:wI};class nh extends Cu{constructor(){super(),this.add=Pa.prototype.add.bind(this),this.delete=Pa.prototype.delete.bind(this),this.get=Pa.prototype.get.bind(this),this.has=Pa.prototype.has.bind(this),this.set=Pa.prototype.set.bind(this),this.tag=nh.tag}toJSON(e,t){if(!t)return super.toJSON(e);const i=new Map;t?.onCreate&&t.onCreate(i);for(const s of this.items){let a,r;if(di(s)?(a=za(s.key,"",t),r=za(s.value,a,t)):a=za(s,"",t),i.has(a))throw new Error("Ordered maps must not include duplicate keys");i.set(a,r)}return i}static from(e,t,i){const s=wI(e,t,i),a=new this;return a.items=s.items,a}}nh.tag="tag:yaml.org,2002:omap";const VA={collection:"seq",identify:n=>n instanceof Map,nodeClass:nh,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=SI(n,e),i=[];for(const{key:s}of t.items)Pn(s)&&(i.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):i.push(s.value));return Object.assign(new nh,t)},createNode:(n,e,t)=>nh.from(n,e,t)};function kI({value:n,source:e},t){return e&&(n?CI:AI).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}const CI={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Tt(!0),stringify:kI},AI={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Tt(!1),stringify:kI},xSe={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gr},vSe={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():gr(n)}},SSe={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const e=new Tt(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){const i=n.substring(t+1).replace(/_/g,"");i[i.length-1]==="0"&&(e.minFractionDigits=i.length)}return e},stringify:gr},yg=n=>typeof n=="bigint"||Number.isInteger(n);function Cx(n,e,t,{intAsBigInt:i}){const s=n[0];if((s==="-"||s==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),i){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const r=BigInt(n);return s==="-"?BigInt(-1)*r:r}const a=parseInt(n,t);return s==="-"?-1*a:a}function WA(n,e,t){const{value:i}=n;if(yg(i)){const s=i.toString(e);return i<0?"-"+t+s.substr(1):t+s}return gr(n)}const wSe={identify:yg,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>Cx(n,2,2,t),stringify:n=>WA(n,2,"0b")},kSe={identify:yg,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>Cx(n,1,8,t),stringify:n=>WA(n,8,"0")},CSe={identify:yg,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>Cx(n,0,10,t),stringify:gr},ASe={identify:yg,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>Cx(n,2,16,t),stringify:n=>WA(n,16,"0x")};class ih extends Pa{constructor(e){super(e),this.tag=ih.tag}add(e){let t;di(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Ss(e.key,null):t=new Ss(e,null),au(this.items,t.key)||this.items.push(t)}get(e,t){const i=au(this.items,e);return!t&&di(i)?Pn(i.key)?i.key.value:i.key:i}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const i=au(this.items,e);i&&!t?this.items.splice(this.items.indexOf(i),1):!i&&t&&this.items.push(new Ss(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,i){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,i);throw new Error("Set items must all have null values")}static from(e,t,i){const{replacer:s}=i,a=new this(e);if(t&&Symbol.iterator in Object(t))for(let r of t)typeof s=="function"&&(r=s.call(t,r,r)),a.items.push(IA(r,null,i));return a}}ih.tag="tag:yaml.org,2002:set";const GA={collection:"map",identify:n=>n instanceof Set,nodeClass:ih,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>ih.from(n,e,t),resolve(n,e){if(cc(n)){if(n.hasAllNullValues(!0))return Object.assign(new ih,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}};function XA(n,e){const t=n[0],i=t==="-"||t==="+"?n.substring(1):n,s=r=>e?BigInt(r):Number(r),a=i.replace(/_/g,"").split(":").reduce((r,o)=>r*s(60)+s(o),s(0));return t==="-"?s(-1)*a:a}function TI(n){let{value:e}=n,t=r=>r;if(typeof e=="bigint")t=r=>BigInt(r);else if(isNaN(e)||!isFinite(e))return gr(n);let i="";e<0&&(i="-",e*=t(-1));const s=t(60),a=[e%s];return e<60?a.unshift(0):(e=(e-a[0])/s,a.unshift(e%s),e>=60&&(e=(e-a[0])/s,a.unshift(e))),i+a.map(r=>String(r).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const NI={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>XA(n,t),stringify:TI},MI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>XA(n,!1),stringify:TI},Ax={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const e=n.match(Ax.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,i,s,a,r,o]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(t,i-1,s,a||0,r||0,o||0,l);const h=e[8];if(h&&h!=="Z"){let m=XA(h,!1);Math.abs(m)<30&&(m*=60),u-=6e4*m}return new Date(u)},stringify:({value:n})=>n?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},a4=[zh,qh,Sx,wx,CI,AI,wSe,kSe,CSe,ASe,xSe,vSe,SSe,KA,Xo,VA,HA,GA,NI,MI,Ax],r4=new Map([["core",gSe],["failsafe",[zh,qh,Sx]],["json",bSe],["yaml11",a4],["yaml-1.1",a4]]),o4={binary:KA,bool:zA,float:_I,floatExp:gI,floatNaN:pI,floatTime:MI,int:xI,intHex:vI,intOct:bI,intTime:NI,map:zh,merge:Xo,null:wx,omap:VA,pairs:HA,seq:qh,set:GA,timestamp:Ax},TSe={"tag:yaml.org,2002:binary":KA,"tag:yaml.org,2002:merge":Xo,"tag:yaml.org,2002:omap":VA,"tag:yaml.org,2002:pairs":HA,"tag:yaml.org,2002:set":GA,"tag:yaml.org,2002:timestamp":Ax};function xS(n,e,t){const i=r4.get(e);if(i&&!n)return t&&!i.includes(Xo)?i.concat(Xo):i.slice();let s=i;if(!s)if(Array.isArray(n))s=[];else{const a=Array.from(r4.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${a} or define customTags array`)}if(Array.isArray(n))for(const a of n)s=s.concat(a);else typeof n=="function"&&(s=n(s.slice()));return t&&(s=s.concat(Xo)),s.reduce((a,r)=>{const o=typeof r=="string"?o4[r]:r;if(!o){const l=JSON.stringify(r),u=Object.keys(o4).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return a.includes(o)||a.push(o),a},[])}const NSe=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0;class $A{constructor({compat:e,customTags:t,merge:i,resolveKnownTags:s,schema:a,sortMapEntries:r,toStringDefaults:o}){this.compat=Array.isArray(e)?xS(e,"compat"):e?xS(null,e):null,this.name=typeof a=="string"&&a||"core",this.knownTags=s?TSe:{},this.tags=xS(t,this.name,i),this.toStringOptions=o??null,Object.defineProperty(this,Yl,{value:zh}),Object.defineProperty(this,Yr,{value:Sx}),Object.defineProperty(this,Bh,{value:qh}),this.sortMapEntries=typeof r=="function"?r:r===!0?NSe:null}clone(){const e=Object.create($A.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function MSe(n,e){const t=[];let i=e.directives===!0;if(e.directives!==!1&&n.directives){const l=n.directives.toString(n);l?(t.push(l),i=!0):n.directives.docStart&&(i=!0)}i&&t.push("---");const s=uI(n,e),{commentString:a}=s.options;if(n.commentBefore){t.length!==1&&t.unshift("");const l=a(n.commentBefore);t.unshift(Ho(l,""))}let r=!1,o=null;if(n.contents){if(ci(n.contents)){if(n.contents.spaceBefore&&i&&t.push(""),n.contents.commentBefore){const h=a(n.contents.commentBefore);t.push(Ho(h,""))}s.forceBlockIndent=!!n.comment,o=n.contents.comment}const l=o?void 0:()=>r=!0;let u=Ah(n.contents,s,()=>o=null,l);o&&(u+=su(u,"",a(o))),(u[0]==="|"||u[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${u}`:t.push(u)}else t.push(Ah(n.contents,s));if(n.directives?.docEnd)if(n.comment){const l=a(n.comment);l.includes(`
`)?(t.push("..."),t.push(Ho(l,""))):t.push(`... ${l}`)}else t.push("...");else{let l=n.comment;l&&r&&(l=l.replace(/^\n+/,"")),l&&((!r||o)&&t[t.length-1]!==""&&t.push(""),t.push(Ho(a(l),"")))}return t.join(`
`)+`
`}class Tx{constructor(e,t,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Wa,{value:Mk});let s=null;typeof t=="function"||Array.isArray(t)?s=t:i===void 0&&t&&(i=t,t=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},i);this.options=a;let{version:r}=a;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(r=this.directives.yaml.version)):this.directives=new hs({version:r}),this.setSchema(r,i),this.contents=e===void 0?null:this.createNode(e,s,i)}clone(){const e=Object.create(Tx.prototype,{[Wa]:{value:Mk}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ci(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){vd(this.contents)&&this.contents.add(e)}addIn(e,t){vd(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const i=aI(this);e.anchor=!t||i.has(t)?rI(t||"a",i):t}return new UA(e.anchor)}createNode(e,t,i){let s;if(typeof t=="function")e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const v=k=>typeof k=="number"||k instanceof String||k instanceof Number,C=t.filter(v).map(String);C.length>0&&(t=t.concat(C)),s=t}else i===void 0&&t&&(i=t,t=void 0);const{aliasDuplicateObjects:a,anchorPrefix:r,flow:o,keepUndefined:l,onTagObj:u,tag:h}=i??{},{onAnchor:m,setAnchors:g,sourceObjects:_}=iSe(this,r||"a"),b={aliasDuplicateObjects:a??!0,keepUndefined:l??!1,onAnchor:m,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:_},x=Dp(e,h,b);return o&&oi(x)&&(x.flow=!0),g(),x}createPair(e,t,i={}){const s=this.createNode(e,null,i),a=this.createNode(t,null,i);return new Ss(s,a)}delete(e){return vd(this.contents)?this.contents.delete(e):!1}deleteIn(e){return wm(e)?this.contents==null?!1:(this.contents=null,!0):vd(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return oi(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return wm(e)?!t&&Pn(this.contents)?this.contents.value:this.contents:oi(this.contents)?this.contents.getIn(e,t):void 0}has(e){return oi(this.contents)?this.contents.has(e):!1}hasIn(e){return wm(e)?this.contents!==void 0:oi(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=wb(this.schema,[e],t):vd(this.contents)&&this.contents.set(e,t)}setIn(e,t){wm(e)?this.contents=t:this.contents==null?this.contents=wb(this.schema,Array.from(e),t):vd(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let i;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new hs({version:"1.1"}),i={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new hs({version:e}),i={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(i)this.schema=new $A(Object.assign(i,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:i,maxAliasCount:s,onAnchor:a,reviver:r}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=za(this.contents,t??"",o);if(typeof a=="function")for(const{count:u,res:h}of o.anchors.values())a(h,u);return typeof r=="function"?Bd(r,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return MSe(this,e)}}function vd(n){if(oi(n))return!0;throw new Error("Expected a YAML collection as document contents")}class OI extends Error{constructor(e,t,i,s){super(),this.name=e,this.code=i,this.message=s,this.pos=t}}class km extends OI{constructor(e,t,i){super("YAMLParseError",e,t,i)}}class OSe extends OI{constructor(e,t,i){super("YAMLWarning",e,t,i)}}const l4=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(o=>e.linePos(o));const{line:i,col:s}=t.linePos[0];t.message+=` at line ${i}, column ${s}`;let a=s-1,r=n.substring(e.lineStarts[i-1],e.lineStarts[i]).replace(/[\n\r]+$/,"");if(a>=60&&r.length>80){const o=Math.min(a-39,r.length-79);r=""+r.substring(o),a-=o-1}if(r.length>80&&(r=r.substring(0,79)+""),i>1&&/^ *$/.test(r.substring(0,a))){let o=n.substring(e.lineStarts[i-2],e.lineStarts[i-1]);o.length>80&&(o=o.substring(0,79)+`
`),r=o+r}if(/[^ ]/.test(r)){let o=1;const l=t.linePos[1];l?.line===i&&l.col>s&&(o=Math.max(1,Math.min(l.col-s,80-a)));const u=" ".repeat(a)+"^".repeat(o);t.message+=`:

${r}
${u}
`}};function Th(n,{flow:e,indicator:t,next:i,offset:s,onError:a,parentIndent:r,startOnNewline:o}){let l=!1,u=o,h=o,m="",g="",_=!1,b=!1,x=null,v=null,C=null,k=null,N=null,O=null,T=null;for(const P of n)switch(b&&(P.type!=="space"&&P.type!=="newline"&&P.type!=="comma"&&a(P.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),x&&(u&&P.type!=="comment"&&P.type!=="newline"&&a(x,"TAB_AS_INDENT","Tabs are not allowed as indentation"),x=null),P.type){case"space":!e&&(t!=="doc-start"||i?.type!=="flow-collection")&&P.source.includes("	")&&(x=P),h=!0;break;case"comment":{h||a(P,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=P.source.substring(1)||" ";m?m+=g+R:m=R,g="",u=!1;break}case"newline":u?m?m+=P.source:(!O||t!=="seq-item-ind")&&(l=!0):g+=P.source,u=!0,_=!0,(v||C)&&(k=P),h=!0;break;case"anchor":v&&a(P,"MULTIPLE_ANCHORS","A node can have at most one anchor"),P.source.endsWith(":")&&a(P.offset+P.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),v=P,T??(T=P.offset),u=!1,h=!1,b=!0;break;case"tag":{C&&a(P,"MULTIPLE_TAGS","A node can have at most one tag"),C=P,T??(T=P.offset),u=!1,h=!1,b=!0;break}case t:(v||C)&&a(P,"BAD_PROP_ORDER",`Anchors and tags must be after the ${P.source} indicator`),O&&a(P,"UNEXPECTED_TOKEN",`Unexpected ${P.source} in ${e??"collection"}`),O=P,u=t==="seq-item-ind"||t==="explicit-key-ind",h=!1;break;case"comma":if(e){N&&a(P,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),N=P,u=!1,h=!1;break}default:a(P,"UNEXPECTED_TOKEN",`Unexpected ${P.type} token`),u=!1,h=!1}const L=n[n.length-1],M=L?L.offset+L.source.length:s;return b&&i&&i.type!=="space"&&i.type!=="newline"&&i.type!=="comma"&&(i.type!=="scalar"||i.source!=="")&&a(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),x&&(u&&x.indent<=r||i?.type==="block-map"||i?.type==="block-seq")&&a(x,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:N,found:O,spaceBefore:l,comment:m,hasNewline:_,anchor:v,tag:C,newlineAfterProp:k,end:M,start:T??M}}function Fp(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
`))return!0;if(n.end){for(const e of n.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of n.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(Fp(e.key)||Fp(e.value))return!0}return!1;default:return!0}}function Rk(n,e,t){if(e?.type==="flow-collection"){const i=e.end[0];i.indent===n&&(i.source==="]"||i.source==="}")&&Fp(e)&&t(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function LI(n,e,t){const{uniqueKeys:i}=n.options;if(i===!1)return!1;const s=typeof i=="function"?i:(a,r)=>a===r||Pn(a)&&Pn(r)&&a.value===r.value;return e.some(a=>s(a.key,t))}const c4="All mapping items must start at the same column";function LSe({composeNode:n,composeEmptyNode:e},t,i,s,a){const r=a?.nodeClass??Pa,o=new r(t.schema);t.atRoot&&(t.atRoot=!1);let l=i.offset,u=null;for(const h of i.items){const{start:m,key:g,sep:_,value:b}=h,x=Th(m,{indicator:"explicit-key-ind",next:g??_?.[0],offset:l,onError:s,parentIndent:i.indent,startOnNewline:!0}),v=!x.found;if(v){if(g&&(g.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==i.indent&&s(l,"BAD_INDENT",c4)),!x.anchor&&!x.tag&&!_){u=x.end,x.comment&&(o.comment?o.comment+=`
`+x.comment:o.comment=x.comment);continue}(x.newlineAfterProp||Fp(g))&&s(g??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else x.found?.indent!==i.indent&&s(l,"BAD_INDENT",c4);t.atKey=!0;const C=x.end,k=g?n(t,g,x,s):e(t,C,m,null,x,s);t.schema.compat&&Rk(i.indent,g,s),t.atKey=!1,LI(t,o.items,k)&&s(C,"DUPLICATE_KEY","Map keys must be unique");const N=Th(_??[],{indicator:"map-value-ind",next:b,offset:k.range[2],onError:s,parentIndent:i.indent,startOnNewline:!g||g.type==="block-scalar"});if(l=N.end,N.found){v&&(b?.type==="block-map"&&!N.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&x.start<N.found.offset-1024&&s(k.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const O=b?n(t,b,N,s):e(t,l,_,null,N,s);t.schema.compat&&Rk(i.indent,b,s),l=O.range[2];const T=new Ss(k,O);t.options.keepSourceTokens&&(T.srcToken=h),o.items.push(T)}else{v&&s(k.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),N.comment&&(k.comment?k.comment+=`
`+N.comment:k.comment=N.comment);const O=new Ss(k);t.options.keepSourceTokens&&(O.srcToken=h),o.items.push(O)}}return u&&u<l&&s(u,"IMPOSSIBLE","Map comment with trailing content"),o.range=[i.offset,l,u??l],o}function PSe({composeNode:n,composeEmptyNode:e},t,i,s,a){const r=a?.nodeClass??Cu,o=new r(t.schema);t.atRoot&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let l=i.offset,u=null;for(const{start:h,value:m}of i.items){const g=Th(h,{indicator:"seq-item-ind",next:m,offset:l,onError:s,parentIndent:i.indent,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||m)m?.type==="block-seq"?s(g.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{u=g.end,g.comment&&(o.comment=g.comment);continue}const _=m?n(t,m,g,s):e(t,g.end,h,null,g,s);t.schema.compat&&Rk(i.indent,m,s),l=_.range[2],o.items.push(_)}return o.range=[i.offset,l,u??l],o}function bg(n,e,t,i){let s="";if(n){let a=!1,r="";for(const o of n){const{source:l,type:u}=o;switch(u){case"space":a=!0;break;case"comment":{t&&!a&&i(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=l.substring(1)||" ";s?s+=r+h:s=h,r="";break}case"newline":s&&(r+=l),a=!0;break;default:i(o,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=l.length}}return{comment:s,offset:e}}const vS="Block collections are not allowed within flow collections",SS=n=>n&&(n.type==="block-map"||n.type==="block-seq");function RSe({composeNode:n,composeEmptyNode:e},t,i,s,a){const r=i.start.source==="{",o=r?"flow map":"flow sequence",l=a?.nodeClass??(r?Pa:Cu),u=new l(t.schema);u.flow=!0;const h=t.atRoot;h&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let m=i.offset+i.start.source.length;for(let v=0;v<i.items.length;++v){const C=i.items[v],{start:k,key:N,sep:O,value:T}=C,L=Th(k,{flow:o,indicator:"explicit-key-ind",next:N??O?.[0],offset:m,onError:s,parentIndent:i.indent,startOnNewline:!1});if(!L.found){if(!L.anchor&&!L.tag&&!O&&!T){v===0&&L.comma?s(L.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):v<i.items.length-1&&s(L.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),L.comment&&(u.comment?u.comment+=`
`+L.comment:u.comment=L.comment),m=L.end;continue}!r&&t.options.strict&&Fp(N)&&s(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(v===0)L.comma&&s(L.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(L.comma||s(L.start,"MISSING_CHAR",`Missing , between ${o} items`),L.comment){let M="";e:for(const P of k)switch(P.type){case"comma":case"space":break;case"comment":M=P.source.substring(1);break e;default:break e}if(M){let P=u.items[u.items.length-1];di(P)&&(P=P.value??P.key),P.comment?P.comment+=`
`+M:P.comment=M,L.comment=L.comment.substring(M.length+1)}}if(!r&&!O&&!L.found){const M=T?n(t,T,L,s):e(t,L.end,O,null,L,s);u.items.push(M),m=M.range[2],SS(T)&&s(M.range,"BLOCK_IN_FLOW",vS)}else{t.atKey=!0;const M=L.end,P=N?n(t,N,L,s):e(t,M,k,null,L,s);SS(N)&&s(P.range,"BLOCK_IN_FLOW",vS),t.atKey=!1;const R=Th(O??[],{flow:o,indicator:"map-value-ind",next:T,offset:P.range[2],onError:s,parentIndent:i.indent,startOnNewline:!1});if(R.found){if(!r&&!L.found&&t.options.strict){if(O)for(const F of O){if(F===R.found)break;if(F.type==="newline"){s(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}L.start<R.found.offset-1024&&s(R.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else T&&("source"in T&&T.source?.[0]===":"?s(T,"MISSING_CHAR",`Missing space after : in ${o}`):s(R.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const D=T?n(t,T,R,s):R.found?e(t,R.end,O,null,R,s):null;D?SS(T)&&s(D.range,"BLOCK_IN_FLOW",vS):R.comment&&(P.comment?P.comment+=`
`+R.comment:P.comment=R.comment);const U=new Ss(P,D);if(t.options.keepSourceTokens&&(U.srcToken=C),r){const F=u;LI(t,F.items,P)&&s(M,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(U)}else{const F=new Pa(t.schema);F.flow=!0,F.items.push(U);const H=(D??P).range;F.range=[P.range[0],H[1],H[2]],u.items.push(F)}m=D?D.range[2]:R.end}}const g=r?"}":"]",[_,...b]=i.end;let x=m;if(_?.source===g)x=_.offset+_.source.length;else{const v=o[0].toUpperCase()+o.substring(1),C=h?`${v} must end with a ${g}`:`${v} in block collection must be sufficiently indented and end with a ${g}`;s(m,h?"MISSING_CHAR":"BAD_INDENT",C),_&&_.source.length!==1&&b.unshift(_)}if(b.length>0){const v=bg(b,x,t.options.strict,s);v.comment&&(u.comment?u.comment+=`
`+v.comment:u.comment=v.comment),u.range=[i.offset,x,v.offset]}else u.range=[i.offset,x,x];return u}function wS(n,e,t,i,s,a){const r=t.type==="block-map"?LSe(n,e,t,i,a):t.type==="block-seq"?PSe(n,e,t,i,a):RSe(n,e,t,i,a),o=r.constructor;return s==="!"||s===o.tagName?(r.tag=o.tagName,r):(s&&(r.tag=s),r)}function ESe(n,e,t,i,s){const a=i.tag,r=a?e.directives.tagName(a.source,g=>s(a,"TAG_RESOLVE_FAILED",g)):null;if(t.type==="block-seq"){const{anchor:g,newlineAfterProp:_}=i,b=g&&a?g.offset>a.offset?g:a:g??a;b&&(!_||_.offset<b.offset)&&s(b,"MISSING_CHAR","Missing newline after block sequence props")}const o=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!a||!r||r==="!"||r===Pa.tagName&&o==="map"||r===Cu.tagName&&o==="seq")return wS(n,e,t,s,r);let l=e.schema.tags.find(g=>g.tag===r&&g.collection===o);if(!l){const g=e.schema.knownTags[r];if(g?.collection===o)e.schema.tags.push(Object.assign({},g,{default:!1})),l=g;else return g?s(a,"BAD_COLLECTION_TYPE",`${g.tag} used for ${o} collection, but expects ${g.collection??"scalar"}`,!0):s(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,!0),wS(n,e,t,s,r)}const u=wS(n,e,t,s,r,l),h=l.resolve?.(u,g=>s(a,"TAG_RESOLVE_FAILED",g),e.options)??u,m=ci(h)?h:new Tt(h);return m.range=u.range,m.tag=r,l?.format&&(m.format=l.format),m}function jSe(n,e,t){const i=e.offset,s=DSe(e,n.options.strict,t);if(!s)return{value:"",type:null,comment:"",range:[i,i,i]};const a=s.mode===">"?Tt.BLOCK_FOLDED:Tt.BLOCK_LITERAL,r=e.source?FSe(e.source):[];let o=r.length;for(let x=r.length-1;x>=0;--x){const v=r[x][1];if(v===""||v==="\r")o=x;else break}if(o===0){const x=s.chomp==="+"&&r.length>0?`
`.repeat(Math.max(1,r.length-1)):"";let v=i+s.length;return e.source&&(v+=e.source.length),{value:x,type:a,comment:s.comment,range:[i,v,v]}}let l=e.indent+s.indent,u=e.offset+s.length,h=0;for(let x=0;x<o;++x){const[v,C]=r[x];if(C===""||C==="\r")s.indent===0&&v.length>l&&(l=v.length);else{v.length<l&&t(u+v.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=v.length),h=x,l===0&&!n.atRoot&&t(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=v.length+C.length+1}for(let x=r.length-1;x>=o;--x)r[x][0].length>l&&(o=x+1);let m="",g="",_=!1;for(let x=0;x<h;++x)m+=r[x][0].slice(l)+`
`;for(let x=h;x<o;++x){let[v,C]=r[x];u+=v.length+C.length+1;const k=C[C.length-1]==="\r";if(k&&(C=C.slice(0,-1)),C&&v.length<l){const O=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;t(u-C.length-(k?2:1),"BAD_INDENT",O),v=""}a===Tt.BLOCK_LITERAL?(m+=g+v.slice(l)+C,g=`
`):v.length>l||C[0]==="	"?(g===" "?g=`
`:!_&&g===`
`&&(g=`

`),m+=g+v.slice(l)+C,g=`
`,_=!0):C===""?g===`
`?m+=`
`:g=`
`:(m+=g+C,g=" ",_=!1)}switch(s.chomp){case"-":break;case"+":for(let x=o;x<r.length;++x)m+=`
`+r[x][0].slice(l);m[m.length-1]!==`
`&&(m+=`
`);break;default:m+=`
`}const b=i+s.length+e.source.length;return{value:m,type:a,comment:s.comment,range:[i,b,b]}}function DSe({offset:n,props:e},t,i){if(e[0].type!=="block-scalar-header")return i(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],a=s[0];let r=0,o="",l=-1;for(let g=1;g<s.length;++g){const _=s[g];if(!o&&(_==="-"||_==="+"))o=_;else{const b=Number(_);!r&&b?r=b:l===-1&&(l=n+g)}}l!==-1&&i(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,h="",m=s.length;for(let g=1;g<e.length;++g){const _=e[g];switch(_.type){case"space":u=!0;case"newline":m+=_.source.length;break;case"comment":t&&!u&&i(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),m+=_.source.length,h=_.source.substring(1);break;case"error":i(_,"UNEXPECTED_TOKEN",_.message),m+=_.source.length;break;default:{const b=`Unexpected token in block scalar header: ${_.type}`;i(_,"UNEXPECTED_TOKEN",b);const x=_.source;x&&typeof x=="string"&&(m+=x.length)}}}return{mode:a,indent:r,chomp:o,comment:h,length:m}}function FSe(n){const e=n.split(/\n( *)/),t=e[0],i=t.match(/^( *)/),a=[i?.[1]?[i[1],t.slice(i[1].length)]:["",t]];for(let r=1;r<e.length;r+=2)a.push([e[r],e[r+1]]);return a}function USe(n,e,t){const{offset:i,type:s,source:a,end:r}=n;let o,l;const u=(g,_,b)=>t(i+g,_,b);switch(s){case"scalar":o=Tt.PLAIN,l=BSe(a,u);break;case"single-quoted-scalar":o=Tt.QUOTE_SINGLE,l=ISe(a,u);break;case"double-quoted-scalar":o=Tt.QUOTE_DOUBLE,l=zSe(a,u);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[i,i+a.length,i+a.length]}}const h=i+a.length,m=bg(r,h,e,t);return{value:l,type:o,comment:m.comment,range:[i,h,m.offset]}}function BSe(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),PI(n)}function ISe(n,e){return(n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),PI(n.slice(1,-1)).replace(/''/g,"'")}function PI(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=e.exec(n);if(!i)return n;let s=i[1],a=" ",r=e.lastIndex;for(t.lastIndex=r;i=t.exec(n);)i[1]===""?a===`
`?s+=a:a=`
`:(s+=a+i[1],a=" "),r=t.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=r,i=o.exec(n),s+a+(i?.[1]??"")}function zSe(n,e){let t="";for(let i=1;i<n.length-1;++i){const s=n[i];if(!(s==="\r"&&n[i+1]===`
`))if(s===`
`){const{fold:a,offset:r}=qSe(n,i);t+=a,i=r}else if(s==="\\"){let a=n[++i];const r=KSe[a];if(r)t+=r;else if(a===`
`)for(a=n[i+1];a===" "||a==="	";)a=n[++i+1];else if(a==="\r"&&n[i+1]===`
`)for(a=n[++i+1];a===" "||a==="	";)a=n[++i+1];else if(a==="x"||a==="u"||a==="U"){const o={x:2,u:4,U:8}[a];t+=HSe(n,i+1,o,e),i+=o}else{const o=n.substr(i-1,2);e(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),t+=o}}else if(s===" "||s==="	"){const a=i;let r=n[i+1];for(;r===" "||r==="	";)r=n[++i+1];r!==`
`&&!(r==="\r"&&n[i+2]===`
`)&&(t+=i>a?n.slice(a,i+1):s)}else t+=s}return(n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function qSe(n,e){let t="",i=n[e+1];for(;(i===" "||i==="	"||i===`
`||i==="\r")&&!(i==="\r"&&n[e+2]!==`
`);)i===`
`&&(t+=`
`),e+=1,i=n[e+1];return t||(t=" "),{fold:t,offset:e}}const KSe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function HSe(n,e,t,i){const s=n.substr(e,t),r=s.length===t&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(r)){const o=n.substr(e-2,t+2);return i(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(r)}function RI(n,e,t,i){const{value:s,type:a,comment:r,range:o}=e.type==="block-scalar"?jSe(n,e,i):USe(e,n.options.strict,i),l=t?n.directives.tagName(t.source,m=>i(t,"TAG_RESOLVE_FAILED",m)):null;let u;n.options.stringKeys&&n.atKey?u=n.schema[Yr]:l?u=VSe(n.schema,s,l,t,i):e.type==="scalar"?u=WSe(n,s,e,i):u=n.schema[Yr];let h;try{const m=u.resolve(s,g=>i(t??e,"TAG_RESOLVE_FAILED",g),n.options);h=Pn(m)?m:new Tt(m)}catch(m){const g=m instanceof Error?m.message:String(m);i(t??e,"TAG_RESOLVE_FAILED",g),h=new Tt(s)}return h.range=o,h.source=s,a&&(h.type=a),l&&(h.tag=l),u.format&&(h.format=u.format),r&&(h.comment=r),h}function VSe(n,e,t,i,s){if(t==="!")return n[Yr];const a=[];for(const o of n.tags)if(!o.collection&&o.tag===t)if(o.default&&o.test)a.push(o);else return o;for(const o of a)if(o.test?.test(e))return o;const r=n.knownTags[t];return r&&!r.collection?(n.tags.push(Object.assign({},r,{default:!1,test:void 0})),r):(s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[Yr])}function WSe({atKey:n,directives:e,schema:t},i,s,a){const r=t.tags.find(o=>(o.default===!0||n&&o.default==="key")&&o.test?.test(i))||t[Yr];if(t.compat){const o=t.compat.find(l=>l.default&&l.test?.test(i))??t[Yr];if(r.tag!==o.tag){const l=e.tagString(r.tag),u=e.tagString(o.tag),h=`Value may be parsed as either ${l} or ${u}`;a(s,"TAG_RESOLVE_FAILED",h,!0)}}return r}function GSe(n,e,t){if(e){t??(t=e.length);for(let i=t-1;i>=0;--i){let s=e[i];switch(s.type){case"space":case"comment":case"newline":n-=s.source.length;continue}for(s=e[++i];s?.type==="space";)n+=s.source.length,s=e[++i];break}}return n}const XSe={composeNode:EI,composeEmptyNode:QA};function EI(n,e,t,i){const s=n.atKey,{spaceBefore:a,comment:r,anchor:o,tag:l}=t;let u,h=!0;switch(e.type){case"alias":u=$Se(n,e,i),(o||l)&&i(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=RI(n,e,l,i),o&&(u.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=ESe(XSe,n,e,t,i),o&&(u.anchor=o.source.substring(1));break;default:{const m=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;i(e,"UNEXPECTED_TOKEN",m),u=QA(n,e.offset,void 0,null,t,i),h=!1}}return o&&u.anchor===""&&i(o,"BAD_ALIAS","Anchor cannot be an empty string"),s&&n.options.stringKeys&&(!Pn(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&i(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),a&&(u.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?u.comment=r:u.commentBefore=r),n.options.keepSourceTokens&&h&&(u.srcToken=e),u}function QA(n,e,t,i,{spaceBefore:s,comment:a,anchor:r,tag:o,end:l},u){const h={type:"scalar",offset:GSe(e,t,i),indent:-1,source:""},m=RI(n,h,o,u);return r&&(m.anchor=r.source.substring(1),m.anchor===""&&u(r,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(m.spaceBefore=!0),a&&(m.comment=a,m.range[2]=l),m}function $Se({options:n},{offset:e,source:t,end:i},s){const a=new UA(t.substring(1));a.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&s(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const r=e+t.length,o=bg(i,r,n.strict,s);return a.range=[e,r,o.offset],o.comment&&(a.comment=o.comment),a}function QSe(n,e,{offset:t,start:i,value:s,end:a},r){const o=Object.assign({_directives:e},n),l=new Tx(void 0,o),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},h=Th(i,{indicator:"doc-start",next:s??a?.[0],offset:t,onError:r,parentIndent:0,startOnNewline:!0});h.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!h.hasNewline&&r(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?EI(u,s,h,r):QA(u,h.end,i,null,h,r);const m=l.contents.range[2],g=bg(a,m,!1,r);return g.comment&&(l.comment=g.comment),l.range=[t,m,g.offset],l}function om(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];const{offset:e,source:t}=n;return[e,e+(typeof t=="string"?t.length:1)]}function u4(n){let e="",t=!1,i=!1;for(let s=0;s<n.length;++s){const a=n[s];switch(a[0]){case"#":e+=(e===""?"":i?`

`:`
`)+(a.substring(1)||" "),t=!0,i=!1;break;case"%":n[s+1]?.[0]!=="#"&&(s+=1),t=!1;break;default:t||(i=!0),t=!1}}return{comment:e,afterEmptyLine:i}}class YSe{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,i,s,a)=>{const r=om(t);a?this.warnings.push(new OSe(r,i,s)):this.errors.push(new km(r,i,s))},this.directives=new hs({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:i,afterEmptyLine:s}=u4(this.prelude);if(i){const a=e.contents;if(t)e.comment=e.comment?`${e.comment}
${i}`:i;else if(s||e.directives.docStart||!a)e.commentBefore=i;else if(oi(a)&&!a.flow&&a.items.length>0){let r=a.items[0];di(r)&&(r=r.key);const o=r.commentBefore;r.commentBefore=o?`${i}
${o}`:i}else{const r=a.commentBefore;a.commentBefore=r?`${i}
${r}`:i}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:u4(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,i=-1){for(const s of e)yield*this.next(s);yield*this.end(t,i)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,i,s)=>{const a=om(e);a[0]+=t,this.onError(a,"BAD_DIRECTIVE",i,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=QSe(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,i=new km(om(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){const i="Unexpected doc-end without preceding document";this.errors.push(new km(om(e),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;const t=bg(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const i=this.doc.comment;this.doc.comment=i?`${i}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new km(om(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const i=Object.assign({_directives:this.directives},this.options),s=new Tx(void 0,i);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,t,t],this.decorate(s,!1),yield s}}}const jI="\uFEFF",DI="",FI="",Ek="";function ZSe(n){switch(n){case jI:return"byte-order-mark";case DI:return"doc-mode";case FI:return"flow-error-end";case Ek:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function ar(n){switch(n){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const d4=new Set("0123456789ABCDEFabcdef"),JSe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),z0=new Set(",[]{}"),ewe=new Set(` ,[]{}
\r	`),kS=n=>!n||ewe.has(n);class twe{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let i=this.next??"stream";for(;i&&(t||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let i=0;for(;t===" ";)t=this.buffer[++i+e];if(t==="\r"){const s=this.buffer[i+e+1];if(s===`
`||!s&&!this.atEnd)return e+i+1}return t===`
`||i>=this.indentNext||!t&&!this.atEnd?e+i:-1}if(t==="-"||t==="."){const i=this.buffer.substr(e,3);if((i==="---"||i==="...")&&ar(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===jI&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,i=e.indexOf("#");for(;i!==-1;){const a=e[i-1];if(a===" "||a==="	"){t=i-1;break}else i=e.indexOf("#",i+1)}for(;;){const a=e[t-1];if(a===" "||a==="	")t-=1;else break}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield DI,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if((t==="---"||t==="...")&&ar(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,t==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ar(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ar(t)){const i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(kS),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,i=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=i=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((i!==-1&&i<this.indentNext&&s[0]!=="#"||i===0&&(s.startsWith("---")||s.startsWith("..."))&&ar(s[3]))&&!(i===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield FI,yield*this.parseLineStart();let a=0;for(;s[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),s[a]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(kS),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const r=this.charAt(1);if(this.flowKey||ar(r)||r===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let a=0;for(;this.buffer[t-1-a]==="\\";)a+=1;if(a%2===0)break;t=this.buffer.indexOf('"',t+1)}const i=this.buffer.substring(0,t);let s=i.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const a=this.continueScalar(s+1);if(a===-1)break;s=i.indexOf(`
`,a)}s!==-1&&(t=s-(i[s-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>ar(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,i;e:for(let a=this.pos;i=this.buffer[a];++a)switch(i){case" ":t+=1;break;case`
`:e=a,t=0;break;case"\r":{const r=this.buffer[a+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const a=this.continueScalar(e+1);if(a===-1)break;e=this.buffer.indexOf(`
`,a)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(i=this.buffer[s];i===" ";)i=this.buffer[++s];if(i==="	"){for(;i==="	"||i===" "||i==="\r"||i===`
`;)i=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let a=e-1,r=this.buffer[a];r==="\r"&&(r=this.buffer[--a]);const o=a;for(;r===" ";)r=this.buffer[--a];if(r===`
`&&a>=this.pos&&a+1+t>o)e=a;else break}while(!0);return yield Ek,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,i=this.pos-1,s;for(;s=this.buffer[++i];)if(s===":"){const a=this.buffer[i+1];if(ar(a)||e&&z0.has(a))break;t=i}else if(ar(s)){let a=this.buffer[i+1];if(s==="\r"&&(a===`
`?(i+=1,s=`
`,a=this.buffer[i+1]):t=i),a==="#"||e&&z0.has(a))break;if(s===`
`){const r=this.continueScalar(i+1);if(r===-1)break;i=Math.max(i,r-2)}}else{if(e&&z0.has(s))break;t=i}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Ek,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const i=this.buffer.slice(this.pos,e);return i?(yield i,this.pos+=i.length,i.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(kS))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(ar(t)||e&&z0.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!ar(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(JSe.has(t))t=this.buffer[++e];else if(t==="%"&&d4.has(this.buffer[e+1])&&d4.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,i;do i=this.buffer[++t];while(i===" "||e&&i==="	");const s=t-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=t),s}*pushUntil(e){let t=this.pos,i=this.buffer[t];for(;!e(i);)i=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class nwe{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,i=this.lineStarts.length;for(;t<i;){const a=t+i>>1;this.lineStarts[a]<e?t=a+1:i=a}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const s=this.lineStarts[t-1];return{line:t,col:e-s+1}}}}function Rl(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return!0;return!1}function h4(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function UI(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function q0(n){switch(n.type){case"document":return n.start;case"block-map":{const e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function Sd(n){if(n.length===0)return[];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function f4(n){if(n.start.type==="flow-seq-start")for(const e of n.items)e.sep&&!e.value&&!Rl(e.start,"explicit-key-ind")&&!Rl(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,UI(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class iwe{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new twe,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const i of this.lexer.lex(e,t))yield*this.next(i);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=ZSe(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const i=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&e?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{const i=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in i?i.indent:0:t.type==="flow-collection"&&i.type==="document"&&(t.indent=0),t.type==="flow-collection"&&f4(t),i.type){case"document":i.value=t;break;case"block-scalar":i.props.push(t);break;case"block-map":{const s=i.items[i.items.length-1];if(s.value){i.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=t;else{Object.assign(s,{key:t,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=i.items[i.items.length-1];s.value?i.items.push({start:[],value:t}):s.value=t;break}case"flow-collection":{const s=i.items[i.items.length-1];!s||s.value?i.items.push({start:[],key:t,sep:[]}):s.sep?s.value=t:Object.assign(s,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((i.type==="document"||i.type==="block-map"||i.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const s=t.items[t.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&h4(s.start)===-1&&(t.indent===0||s.start.every(a=>a.type!=="comment"||a.indent<t.indent))&&(i.type==="document"?i.end=s.start:i.items.push({start:s.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{h4(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=q0(this.peek(2)),i=Sd(t);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const i="end"in t.value?t.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent,s=i&&(t.sep||t.explicitKey)&&this.type!=="seq-item-ind";let a=[];if(s&&t.sep&&!t.value){const r=[];for(let o=0;o<t.sep.length;++o){const l=t.sep[o];switch(l.type){case"newline":r.push(o);break;case"space":break;case"comment":l.indent>e.indent&&(r.length=0);break;default:r.length=0}}r.length>=2&&(a=t.sep.splice(r[1]))}switch(this.type){case"anchor":case"tag":s||t.value?(a.push(this.sourceToken),e.items.push({start:a}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!t.explicitKey?(t.start.push(this.sourceToken),t.explicitKey=!0):s||t.value?(a.push(this.sourceToken),e.items.push({start:a,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Rl(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(UI(t.key)&&!Rl(t.sep,"newline")){const r=Sd(t.start),o=t.key,l=t.sep;l.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:o,sep:l}]})}else a.length>0?t.sep=t.sep.concat(a,this.sourceToken):t.sep.push(this.sourceToken);else if(Rl(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const r=Sd(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:a,key:null,sep:[this.sourceToken]}):Rl(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);s||t.value?(e.items.push({start:a,key:r,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(r):(Object.assign(t,{key:r,sep:[]}),this.onKeyLine=!0);return}default:{const r=this.startBlockValue(e);if(r){if(r.type==="block-seq"){if(!t.explicitKey&&t.sep&&!Rl(t.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&e.items.push({start:a});this.stack.push(r);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const i="end"in t.value?t.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const s=e.items[e.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||Rl(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let i;do yield*this.pop(),i=this.peek(1);while(i?.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:s,sep:[]}):t.sep?this.stack.push(s):Object.assign(t,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{const i=this.peek(2);if(i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===e.indent||this.type==="newline"&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&i.type!=="flow-collection"){const s=q0(i),a=Sd(s);f4(e);const r=e.end.splice(1,e.end.length);r.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:a,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=q0(e),i=Sd(t);return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=q0(e),i=Sd(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(i=>i.type==="newline"||i.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function swe(n){const e=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||e&&new nwe||null,prettyErrors:e}}function BI(n,e={}){const{lineCounter:t,prettyErrors:i}=swe(e),s=new iwe(t?.addNewLine),a=new YSe(e);let r=null;for(const o of a.compose(s.parse(n),!0,n.length))if(!r)r=o;else if(r.options.logLevel!=="silent"){r.errors.push(new km(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return i&&t&&(r.errors.forEach(l4(n,t)),r.warnings.forEach(l4(n,t))),r}function II(n,e,t){let i;const s=BI(n,t);if(!s)return null;if(s.warnings.forEach(a=>dI(s.options.logLevel,a)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:i},t))}function To({title:n,description:e,className:t,children:i}){return f.jsxs(wt,{title:n,className:t,children:[e&&f.jsx("p",{style:{margin:"-4px 0 16px 0",color:"var(--text-secondary)",fontSize:13},children:e}),i]})}const awe="VisualConfigEditor-module__payloadRuleModelRow___VKBv1",rwe="VisualConfigEditor-module__payloadRuleModelRowProtocolFirst___OaJ2F",owe="VisualConfigEditor-module__payloadRuleParamRow___KZJW-",lwe="VisualConfigEditor-module__payloadFilterModelRow___MeP9-",cwe="VisualConfigEditor-module__payloadRowActionButton___8Fdka",Gc={payloadRuleModelRow:awe,payloadRuleModelRowProtocolFirst:rwe,payloadRuleParamRow:owe,payloadFilterModelRow:lwe,payloadRowActionButton:cwe},Jm=()=>typeof globalThis.crypto?.randomUUID=="function"?globalThis.crypto.randomUUID():`${Date.now().toString(36)}_${Math.random().toString(36).slice(2,10)}`,K0={host:"",port:"",tlsEnable:!1,tlsCert:"",tlsKey:"",rmAllowRemote:!1,rmSecretKey:"",rmDisableControlPanel:!1,rmPanelRepo:"",authDir:"",apiKeysText:"",debug:!1,commercialMode:!1,loggingToFile:!1,logsMaxTotalSizeMb:"",usageStatisticsEnabled:!1,proxyUrl:"",forceModelPrefix:!1,requestRetry:"",maxRetryInterval:"",quotaSwitchProject:!0,quotaSwitchPreviewModel:!0,routingStrategy:"round-robin",wsAuth:!1,payloadDefaultRules:[],payloadOverrideRules:[],payloadFilterRules:[],streaming:{keepaliveSeconds:"",bootstrapRetries:"",nonstreamKeepaliveInterval:""}};function oa(n){return n===null||typeof n!="object"||Array.isArray(n)?null:n}function uwe(n){if(typeof n=="string"){const i=n.trim();return i||null}const e=oa(n);if(!e)return null;const t=[e["api-key"],e.apiKey,e.key,e.Key];for(const i of t)if(typeof i=="string"){const s=i.trim();if(s)return s}return null}function dwe(n){if(!Array.isArray(n))return"";const e=[];for(const t of n){const i=uwe(t);i&&e.push(i)}return e.join(`
`)}function ds(n,e){return n.hasIn(e)}function wd(n,e){const t=n.getIn(e,!0);cc(t)||n.setIn(e,{})}function kd(n,e){const t=n.getIn(e,!0);cc(t)&&t.items.length===0&&n.deleteIn(e)}function No(n,e,t){if(t){n.setIn(e,!0);return}ds(n,e)&&n.setIn(e,!1)}function Fc(n,e,t){const i=typeof t=="string"?t:"";if(i.trim()!==""){n.setIn(e,i);return}ds(n,e)&&n.deleteIn(e)}function Uc(n,e,t){const s=(typeof t=="string"?t:"").trim();if(s===""){ds(n,e)&&n.deleteIn(e);return}const a=Number.parseInt(s,10);if(Number.isFinite(a)){n.setIn(e,a);return}ds(n,e)&&n.deleteIn(e)}function m4(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function hwe(n){if(typeof n=="number")return{valueType:"number",value:String(n)};if(typeof n=="boolean")return{valueType:"boolean",value:String(n)};if(n===null||typeof n=="object")try{return{valueType:"json",value:JSON.stringify(n,null,2)??"null"}}catch{return{valueType:"json",value:String(n)}}return{valueType:"string",value:String(n??"")}}const fwe=["openai","openai-response","gemini","claude","codex","antigravity"];function zI(n){if(typeof n=="string")return fwe.includes(n)?n:void 0}function p4(n){return Array.isArray(n)?n.map((e,t)=>{const i=oa(e)??{},s=i.models,a=Array.isArray(s)?s.map((l,u)=>{const h=oa(l),m=typeof l=="string"?l:h?.name??h?.id??"",g=typeof m=="string"?m:String(m??"");return{id:`model-${t}-${u}`,name:g,protocol:zI(h?.protocol)}}):[],r=oa(i.params),o=r?Object.entries(r).map(([l,u],h)=>{const m=hwe(u);return{id:`param-${t}-${h}`,path:l,valueType:m.valueType,value:m.value}}):[];return{id:`payload-rule-${t}`,models:a,params:o}}):[]}function mwe(n){return Array.isArray(n)?n.map((e,t)=>{const i=oa(e)??{},s=i.models,a=Array.isArray(s)?s.map((l,u)=>{const h=oa(l),m=typeof l=="string"?l:h?.name??h?.id??"",g=typeof m=="string"?m:String(m??"");return{id:`filter-model-${t}-${u}`,name:g,protocol:zI(h?.protocol)}}):[],r=i.params,o=Array.isArray(r)?r.map(String):[];return{id:`payload-filter-rule-${t}`,models:a,params:o}}):[]}function g4(n){return n.map(e=>{const t=(e.models||[]).filter(s=>s.name?.trim()).map(s=>{const a={name:s.name.trim()};return s.protocol&&(a.protocol=s.protocol),a}),i={};for(const s of e.params||[]){if(!s.path?.trim())continue;let a=s.value;if(s.valueType==="number"){const r=Number(s.value);a=Number.isFinite(r)?r:s.value}else if(s.valueType==="boolean")a=s.value==="true";else if(s.valueType==="json")try{a=JSON.parse(s.value)}catch{a=s.value}i[s.path.trim()]=a}return{models:t,params:i}}).filter(e=>e.models.length>0)}function pwe(n){return n.map(e=>{const t=(e.models||[]).filter(s=>s.name?.trim()).map(s=>{const a={name:s.name.trim()};return s.protocol&&(a.protocol=s.protocol),a}),i=(Array.isArray(e.params)?e.params:[]).map(s=>String(s).trim()).filter(Boolean);return{models:t,params:i}}).filter(e=>e.models.length>0)}function gwe(){const[n,e]=w.useState({...K0}),[t,i]=w.useState({...K0}),s=w.useMemo(()=>JSON.stringify(n)!==JSON.stringify(t),[t,n]),a=w.useCallback(l=>{try{const u=II(l)||{},h=oa(u)??{},m=oa(h.tls),g=oa(h["remote-management"]),_=oa(h["quota-exceeded"]),b=oa(h.routing),x=oa(h.payload),v=oa(h.streaming),C={host:typeof h.host=="string"?h.host:"",port:String(h.port??""),tlsEnable:!!m?.enable,tlsCert:typeof m?.cert=="string"?m.cert:"",tlsKey:typeof m?.key=="string"?m.key:"",rmAllowRemote:!!g?.["allow-remote"],rmSecretKey:typeof g?.["secret-key"]=="string"?g["secret-key"]:"",rmDisableControlPanel:!!g?.["disable-control-panel"],rmPanelRepo:typeof g?.["panel-github-repository"]=="string"?g["panel-github-repository"]:typeof g?.["panel-repo"]=="string"?g["panel-repo"]:"",authDir:typeof h["auth-dir"]=="string"?h["auth-dir"]:"",apiKeysText:dwe(h["api-keys"]),debug:!!h.debug,commercialMode:!!h["commercial-mode"],loggingToFile:!!h["logging-to-file"],logsMaxTotalSizeMb:String(h["logs-max-total-size-mb"]??""),usageStatisticsEnabled:!!h["usage-statistics-enabled"],proxyUrl:typeof h["proxy-url"]=="string"?h["proxy-url"]:"",forceModelPrefix:!!h["force-model-prefix"],requestRetry:String(h["request-retry"]??""),maxRetryInterval:String(h["max-retry-interval"]??""),wsAuth:!!h["ws-auth"],quotaSwitchProject:!!(_?.["switch-project"]??!0),quotaSwitchPreviewModel:!!(_?.["switch-preview-model"]??!0),routingStrategy:b?.strategy==="fill-first"?"fill-first":"round-robin",payloadDefaultRules:p4(x?.default),payloadOverrideRules:p4(x?.override),payloadFilterRules:mwe(x?.filter),streaming:{keepaliveSeconds:String(v?.["keepalive-seconds"]??""),bootstrapRetries:String(v?.["bootstrap-retries"]??""),nonstreamKeepaliveInterval:String(h["nonstream-keepalive-interval"]??"")}};e(C),i(m4(C))}catch{e({...K0}),i(m4(K0))}},[]),r=w.useCallback(l=>{try{const u=BI(l);if(u.errors.length>0)return l;cc(u.contents)||(u.contents=u.createNode({}));const h=n;if(Fc(u,["host"],h.host),Uc(u,["port"],h.port),(ds(u,["tls"])||h.tlsEnable||h.tlsCert.trim()||h.tlsKey.trim())&&(wd(u,["tls"]),No(u,["tls","enable"],h.tlsEnable),Fc(u,["tls","cert"],h.tlsCert),Fc(u,["tls","key"],h.tlsKey),kd(u,["tls"])),(ds(u,["remote-management"])||h.rmAllowRemote||h.rmSecretKey.trim()||h.rmDisableControlPanel||h.rmPanelRepo.trim())&&(wd(u,["remote-management"]),No(u,["remote-management","allow-remote"],h.rmAllowRemote),Fc(u,["remote-management","secret-key"],h.rmSecretKey),No(u,["remote-management","disable-control-panel"],h.rmDisableControlPanel),Fc(u,["remote-management","panel-github-repository"],h.rmPanelRepo),ds(u,["remote-management","panel-repo"])&&u.deleteIn(["remote-management","panel-repo"]),kd(u,["remote-management"])),Fc(u,["auth-dir"],h.authDir),h.apiKeysText!==t.apiKeysText){const x=h.apiKeysText.split(`
`).map(v=>v.trim()).filter(Boolean);x.length>0?u.setIn(["api-keys"],x):ds(u,["api-keys"])&&u.deleteIn(["api-keys"])}No(u,["debug"],h.debug),No(u,["commercial-mode"],h.commercialMode),No(u,["logging-to-file"],h.loggingToFile),Uc(u,["logs-max-total-size-mb"],h.logsMaxTotalSizeMb),No(u,["usage-statistics-enabled"],h.usageStatisticsEnabled),Fc(u,["proxy-url"],h.proxyUrl),No(u,["force-model-prefix"],h.forceModelPrefix),Uc(u,["request-retry"],h.requestRetry),Uc(u,["max-retry-interval"],h.maxRetryInterval),No(u,["ws-auth"],h.wsAuth),(ds(u,["quota-exceeded"])||!h.quotaSwitchProject||!h.quotaSwitchPreviewModel)&&(wd(u,["quota-exceeded"]),u.setIn(["quota-exceeded","switch-project"],h.quotaSwitchProject),u.setIn(["quota-exceeded","switch-preview-model"],h.quotaSwitchPreviewModel),kd(u,["quota-exceeded"])),(ds(u,["routing"])||h.routingStrategy!=="round-robin")&&(wd(u,["routing"]),u.setIn(["routing","strategy"],h.routingStrategy),kd(u,["routing"]));const m=typeof h.streaming?.keepaliveSeconds=="string"?h.streaming.keepaliveSeconds:"",g=typeof h.streaming?.bootstrapRetries=="string"?h.streaming.bootstrapRetries:"",_=typeof h.streaming?.nonstreamKeepaliveInterval=="string"?h.streaming.nonstreamKeepaliveInterval:"";return(ds(u,["streaming"])||m.trim()||g.trim())&&(wd(u,["streaming"]),Uc(u,["streaming","keepalive-seconds"],m),Uc(u,["streaming","bootstrap-retries"],g),kd(u,["streaming"])),Uc(u,["nonstream-keepalive-interval"],_),(ds(u,["payload"])||h.payloadDefaultRules.length>0||h.payloadOverrideRules.length>0||h.payloadFilterRules.length>0)&&(wd(u,["payload"]),h.payloadDefaultRules.length>0?u.setIn(["payload","default"],g4(h.payloadDefaultRules)):ds(u,["payload","default"])&&u.deleteIn(["payload","default"]),h.payloadOverrideRules.length>0?u.setIn(["payload","override"],g4(h.payloadOverrideRules)):ds(u,["payload","override"])&&u.deleteIn(["payload","override"]),h.payloadFilterRules.length>0?u.setIn(["payload","filter"],pwe(h.payloadFilterRules)):ds(u,["payload","filter"])&&u.deleteIn(["payload","filter"]),kd(u,["payload"])),u.toString({indent:2,lineWidth:120,minContentWidth:0})}catch{return l}},[t,n]),o=w.useCallback(l=>{e(u=>{const h={...u,...l};return l.streaming&&(h.streaming={...u.streaming,...l.streaming}),h})},[]);return{visualValues:n,visualDirty:s,loadVisualValuesFromYaml:a,applyVisualChangesToYaml:r,setVisualValues:o}}const qI=[{value:"",labelKey:"config_management.visual.payload_rules.provider_default",defaultLabel:"Default"},{value:"openai",labelKey:"config_management.visual.payload_rules.provider_openai",defaultLabel:"OpenAI"},{value:"openai-response",labelKey:"config_management.visual.payload_rules.provider_openai_response",defaultLabel:"OpenAI Response"},{value:"gemini",labelKey:"config_management.visual.payload_rules.provider_gemini",defaultLabel:"Gemini"},{value:"claude",labelKey:"config_management.visual.payload_rules.provider_claude",defaultLabel:"Claude"},{value:"codex",labelKey:"config_management.visual.payload_rules.provider_codex",defaultLabel:"Codex"},{value:"antigravity",labelKey:"config_management.visual.payload_rules.provider_antigravity",defaultLabel:"Antigravity"}],_we=[{value:"string",labelKey:"config_management.visual.payload_rules.value_type_string",defaultLabel:"String"},{value:"number",labelKey:"config_management.visual.payload_rules.value_type_number",defaultLabel:"Number"},{value:"boolean",labelKey:"config_management.visual.payload_rules.value_type_boolean",defaultLabel:"Boolean"},{value:"json",labelKey:"config_management.visual.payload_rules.value_type_json",defaultLabel:"JSON"}];function ywe(n){return n?/^[\x21-\x7E]+$/.test(n):!1}function rr({title:n,description:e,checked:t,disabled:i,onChange:s}){return f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:16,flexWrap:"wrap"},children:[f.jsxs("div",{style:{minWidth:220},children:[f.jsx("div",{style:{fontWeight:600,color:"var(--text-primary)"},children:n}),e&&f.jsx("div",{style:{marginTop:4,fontSize:13,color:"var(--text-secondary)"},children:e})]}),f.jsx(ts,{checked:t,onChange:s,disabled:i,ariaLabel:n})]})}function Ml({children:n}){return f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16},children:n})}function bwe(){return f.jsx("div",{style:{height:1,background:"var(--border-color)",margin:"16px 0"}})}function xwe({value:n,disabled:e,onChange:t}){const{t:i}=Ze(),{showNotification:s}=un(),a=w.useMemo(()=>n.split(`
`).map(M=>M.trim()).filter(Boolean),[n]),[r,o]=w.useState(!1),[l,u]=w.useState(null),[h,m]=w.useState(""),[g,_]=w.useState("");function b(){const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",P=new Uint8Array(17);return crypto.getRandomValues(P),"sk-"+Array.from(P,R=>M[R%M.length]).join("")}const x=()=>{u(null),m(""),_(""),o(!0)},v=M=>{u(M),m(a[M]??""),_(""),o(!0)},C=()=>{o(!1),m(""),u(null),_("")},k=M=>{t(M.join(`
`))},N=M=>{k(a.filter((P,R)=>R!==M))},O=()=>{const M=h.trim();if(!M){_(i("config_management.visual.api_keys.error_empty"));return}if(!ywe(M)){_(i("config_management.visual.api_keys.error_invalid"));return}const P=l===null?[...a,M]:a.map((R,D)=>D===l?M:R);k(P),C()},T=async M=>{const P=await Xb(M);s(i(P?"notification.link_copied":"notification.copy_failed"),P?"success":"error")},L=()=>{m(b()),_("")};return f.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[f.jsx("label",{style:{margin:0},children:i("config_management.visual.api_keys.label")}),f.jsx(he,{size:"sm",onClick:x,disabled:e,children:i("config_management.visual.api_keys.add")})]}),a.length===0?f.jsx("div",{style:{border:"1px dashed var(--border-color)",borderRadius:12,padding:16,color:"var(--text-secondary)",textAlign:"center"},children:i("config_management.visual.api_keys.empty")}):f.jsx("div",{className:"item-list",style:{marginTop:4},children:a.map((M,P)=>f.jsxs("div",{className:"item-row",children:[f.jsxs("div",{className:"item-meta",children:[f.jsxs("div",{className:"pill",children:["#",P+1]}),f.jsx("div",{className:"item-title",children:"API Key"}),f.jsx("div",{className:"item-subtitle",children:Xa(String(M||""))})]}),f.jsxs("div",{className:"item-actions",children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>T(M),disabled:e,children:i("common.copy")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>v(P),disabled:e,children:i("config_management.visual.common.edit")}),f.jsx(he,{variant:"danger",size:"sm",onClick:()=>N(P),disabled:e,children:i("config_management.visual.common.delete")})]})]},`${M}-${P}`))}),f.jsx("div",{className:"hint",children:i("config_management.visual.api_keys.hint")}),f.jsx(is,{open:r,onClose:C,title:i(l!==null?"config_management.visual.api_keys.edit_title":"config_management.visual.api_keys.add_title"),footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:C,disabled:e,children:i("config_management.visual.common.cancel")}),f.jsx(he,{onClick:O,disabled:e,children:i(l!==null?"config_management.visual.common.update":"config_management.visual.common.add")})]}),children:f.jsx(st,{label:i("config_management.visual.api_keys.input_label"),placeholder:i("config_management.visual.api_keys.input_placeholder"),value:h,onChange:M=>m(M.target.value),disabled:e,error:g||void 0,hint:i("config_management.visual.api_keys.input_hint"),style:{paddingRight:148},rightElement:f.jsx(he,{type:"button",variant:"secondary",size:"sm",onClick:L,disabled:e,children:i("config_management.visual.api_keys.generate")})})})]})}function vwe({value:n,disabled:e,placeholder:t,onChange:i}){const{t:s}=Ze(),a=n.length?n:[],r=(u,h)=>i(a.map((m,g)=>g===u?h:m)),o=()=>i([...a,""]),l=u=>i(a.filter((h,m)=>m!==u));return f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.map((u,h)=>f.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[f.jsx("input",{className:"input",placeholder:t,value:u,onChange:m=>r(h,m.target.value),disabled:e,style:{flex:1}}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(h),disabled:e,children:s("config_management.visual.common.delete")})]},h)),f.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:f.jsx(he,{variant:"secondary",size:"sm",onClick:o,disabled:e,children:s("config_management.visual.common.add")})})]})}function _4({value:n,disabled:e,protocolFirst:t=!1,onChange:i}){const{t:s}=Ze(),a=n.length?n:[],r=w.useMemo(()=>qI.map(k=>({value:k.value,label:s(k.labelKey,{defaultValue:k.defaultLabel})})),[s]),o=w.useMemo(()=>_we.map(k=>({value:k.value,label:s(k.labelKey,{defaultValue:k.defaultLabel})})),[s]),l=()=>i([...a,{id:Jm(),models:[],params:[]}]),u=k=>i(a.filter((N,O)=>O!==k)),h=(k,N)=>i(a.map((O,T)=>T===k?{...O,...N}:O)),m=k=>{const N=a[k],O={id:Jm(),name:"",protocol:void 0};h(k,{models:[...N.models,O]})},g=(k,N)=>{const O=a[k];h(k,{models:O.models.filter((T,L)=>L!==N)})},_=(k,N,O)=>{const T=a[k];h(k,{models:T.models.map((L,M)=>M===N?{...L,...O}:L)})},b=k=>{const N=a[k],O={id:Jm(),path:"",valueType:"string",value:""};h(k,{params:[...N.params,O]})},x=(k,N)=>{const O=a[k];h(k,{params:O.params.filter((T,L)=>L!==N)})},v=(k,N,O)=>{const T=a[k];h(k,{params:T.params.map((L,M)=>M===N?{...L,...O}:L)})},C=k=>{switch(k){case"string":return s("config_management.visual.payload_rules.value_string");case"number":return s("config_management.visual.payload_rules.value_number");case"boolean":return s("config_management.visual.payload_rules.value_boolean");case"json":return s("config_management.visual.payload_rules.value_json");default:return s("config_management.visual.payload_rules.value_default")}};return f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[a.map((k,N)=>f.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:12,padding:12,display:"flex",flexDirection:"column",gap:12},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[f.jsxs("div",{style:{fontWeight:700,color:"var(--text-primary)"},children:[s("config_management.visual.payload_rules.rule")," ",N+1]}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>u(N),disabled:e,children:s("config_management.visual.common.delete")})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[f.jsx("div",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)"},children:s("config_management.visual.payload_rules.models")}),(k.models.length?k.models:[]).map((O,T)=>f.jsxs("div",{className:[Gc.payloadRuleModelRow,t?Gc.payloadRuleModelRowProtocolFirst:""].filter(Boolean).join(" "),children:[t?f.jsxs(f.Fragment,{children:[f.jsx(Ks,{value:O.protocol??"",options:r,disabled:e,ariaLabel:s("config_management.visual.payload_rules.provider_type"),onChange:L=>_(N,T,{protocol:L||void 0})}),f.jsx("input",{className:"input",placeholder:s("config_management.visual.payload_rules.model_name"),value:O.name,onChange:L=>_(N,T,{name:L.target.value}),disabled:e})]}):f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"input",placeholder:s("config_management.visual.payload_rules.model_name"),value:O.name,onChange:L=>_(N,T,{name:L.target.value}),disabled:e}),f.jsx(Ks,{value:O.protocol??"",options:r,disabled:e,ariaLabel:s("config_management.visual.payload_rules.provider_type"),onChange:L=>_(N,T,{protocol:L||void 0})})]}),f.jsx(he,{variant:"ghost",size:"sm",className:Gc.payloadRowActionButton,onClick:()=>g(N,T),disabled:e,children:s("config_management.visual.common.delete")})]},O.id)),f.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>m(N),disabled:e,children:s("config_management.visual.payload_rules.add_model")})})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[f.jsx("div",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)"},children:s("config_management.visual.payload_rules.params")}),(k.params.length?k.params:[]).map((O,T)=>f.jsxs("div",{className:Gc.payloadRuleParamRow,children:[f.jsx("input",{className:"input",placeholder:s("config_management.visual.payload_rules.json_path"),value:O.path,onChange:L=>v(N,T,{path:L.target.value}),disabled:e}),f.jsx(Ks,{value:O.valueType,options:o,disabled:e,ariaLabel:s("config_management.visual.payload_rules.param_type"),onChange:L=>v(N,T,{valueType:L})}),f.jsx("input",{className:"input",placeholder:C(O.valueType),value:O.value,onChange:L=>v(N,T,{value:L.target.value}),disabled:e}),f.jsx(he,{variant:"ghost",size:"sm",className:Gc.payloadRowActionButton,onClick:()=>x(N,T),disabled:e,children:s("config_management.visual.common.delete")})]},O.id)),f.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>b(N),disabled:e,children:s("config_management.visual.payload_rules.add_param")})})]})]},k.id)),a.length===0&&f.jsx("div",{style:{border:"1px dashed var(--border-color)",borderRadius:12,padding:16,color:"var(--text-secondary)",textAlign:"center"},children:s("config_management.visual.payload_rules.no_rules")}),f.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:f.jsx(he,{variant:"secondary",size:"sm",onClick:l,disabled:e,children:s("config_management.visual.payload_rules.add_rule")})})]})}function Swe({value:n,disabled:e,onChange:t}){const{t:i}=Ze(),s=n.length?n:[],a=w.useMemo(()=>qI.map(g=>({value:g.value,label:i(g.labelKey,{defaultValue:g.defaultLabel})})),[i]),r=()=>t([...s,{id:Jm(),models:[],params:[]}]),o=g=>t(s.filter((_,b)=>b!==g)),l=(g,_)=>t(s.map((b,x)=>x===g?{...b,..._}:b)),u=g=>{const _=s[g],b={id:Jm(),name:"",protocol:void 0};l(g,{models:[..._.models,b]})},h=(g,_)=>{const b=s[g];l(g,{models:b.models.filter((x,v)=>v!==_)})},m=(g,_,b)=>{const x=s[g];l(g,{models:x.models.map((v,C)=>C===_?{...v,...b}:v)})};return f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[s.map((g,_)=>f.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:12,padding:12,display:"flex",flexDirection:"column",gap:12},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[f.jsxs("div",{style:{fontWeight:700,color:"var(--text-primary)"},children:[i("config_management.visual.payload_rules.rule")," ",_+1]}),f.jsx(he,{variant:"ghost",size:"sm",onClick:()=>o(_),disabled:e,children:i("config_management.visual.common.delete")})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[f.jsx("div",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)"},children:i("config_management.visual.payload_rules.models")}),g.models.map((b,x)=>f.jsxs("div",{className:Gc.payloadFilterModelRow,children:[f.jsx("input",{className:"input",placeholder:i("config_management.visual.payload_rules.model_name"),value:b.name,onChange:v=>m(_,x,{name:v.target.value}),disabled:e}),f.jsx(Ks,{value:b.protocol??"",options:a,disabled:e,ariaLabel:i("config_management.visual.payload_rules.provider_type"),onChange:v=>m(_,x,{protocol:v||void 0})}),f.jsx(he,{variant:"ghost",size:"sm",className:Gc.payloadRowActionButton,onClick:()=>h(_,x),disabled:e,children:i("config_management.visual.common.delete")})]},b.id)),f.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>u(_),disabled:e,children:i("config_management.visual.payload_rules.add_model")})})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[f.jsx("div",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)"},children:i("config_management.visual.payload_rules.remove_params")}),f.jsx(vwe,{value:g.params,disabled:e,placeholder:i("config_management.visual.payload_rules.json_path_filter"),onChange:b=>l(_,{params:b})})]})]},g.id)),s.length===0&&f.jsx("div",{style:{border:"1px dashed var(--border-color)",borderRadius:12,padding:16,color:"var(--text-secondary)",textAlign:"center"},children:i("config_management.visual.payload_rules.no_rules")}),f.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:f.jsx(he,{variant:"secondary",size:"sm",onClick:r,disabled:e,children:i("config_management.visual.payload_rules.add_rule")})})]})}function wwe({values:n,disabled:e=!1,onChange:t}){const{t:i}=Ze(),s=n.streaming.keepaliveSeconds===""||n.streaming.keepaliveSeconds==="0",a=n.streaming.nonstreamKeepaliveInterval===""||n.streaming.nonstreamKeepaliveInterval==="0";return f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx(To,{title:i("config_management.visual.sections.server.title"),description:i("config_management.visual.sections.server.description"),children:f.jsxs(Ml,{children:[f.jsx(st,{label:i("config_management.visual.sections.server.host"),placeholder:"0.0.0.0",value:n.host,onChange:r=>t({host:r.target.value}),disabled:e}),f.jsx(st,{label:i("config_management.visual.sections.server.port"),type:"number",placeholder:"8317",value:n.port,onChange:r=>t({port:r.target.value}),disabled:e})]})}),f.jsx(To,{title:i("config_management.visual.sections.tls.title"),description:i("config_management.visual.sections.tls.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx(rr,{title:i("config_management.visual.sections.tls.enable"),description:i("config_management.visual.sections.tls.enable_desc"),checked:n.tlsEnable,disabled:e,onChange:r=>t({tlsEnable:r})}),n.tlsEnable&&f.jsxs(f.Fragment,{children:[f.jsx(bwe,{}),f.jsxs(Ml,{children:[f.jsx(st,{label:i("config_management.visual.sections.tls.cert"),placeholder:"/path/to/cert.pem",value:n.tlsCert,onChange:r=>t({tlsCert:r.target.value}),disabled:e}),f.jsx(st,{label:i("config_management.visual.sections.tls.key"),placeholder:"/path/to/key.pem",value:n.tlsKey,onChange:r=>t({tlsKey:r.target.value}),disabled:e})]})]})]})}),f.jsx(To,{title:i("config_management.visual.sections.remote.title"),description:i("config_management.visual.sections.remote.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx(rr,{title:i("config_management.visual.sections.remote.allow_remote"),description:i("config_management.visual.sections.remote.allow_remote_desc"),checked:n.rmAllowRemote,disabled:e,onChange:r=>t({rmAllowRemote:r})}),f.jsx(rr,{title:i("config_management.visual.sections.remote.disable_panel"),description:i("config_management.visual.sections.remote.disable_panel_desc"),checked:n.rmDisableControlPanel,disabled:e,onChange:r=>t({rmDisableControlPanel:r})}),f.jsxs(Ml,{children:[f.jsx(st,{label:i("config_management.visual.sections.remote.secret_key"),type:"password",placeholder:i("config_management.visual.sections.remote.secret_key_placeholder"),value:n.rmSecretKey,onChange:r=>t({rmSecretKey:r.target.value}),disabled:e}),f.jsx(st,{label:i("config_management.visual.sections.remote.panel_repo"),placeholder:"https://github.com/router-for-me/Cli-Proxy-API-Management-Center",value:n.rmPanelRepo,onChange:r=>t({rmPanelRepo:r.target.value}),disabled:e})]})]})}),f.jsx(To,{title:i("config_management.visual.sections.auth.title"),description:i("config_management.visual.sections.auth.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx(st,{label:i("config_management.visual.sections.auth.auth_dir"),placeholder:"~/.cli-proxy-api",value:n.authDir,onChange:r=>t({authDir:r.target.value}),disabled:e,hint:i("config_management.visual.sections.auth.auth_dir_hint")}),f.jsx(xwe,{value:n.apiKeysText,disabled:e,onChange:r=>t({apiKeysText:r})})]})}),f.jsx(To,{title:i("config_management.visual.sections.system.title"),description:i("config_management.visual.sections.system.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsxs(Ml,{children:[f.jsx(rr,{title:i("config_management.visual.sections.system.debug"),description:i("config_management.visual.sections.system.debug_desc"),checked:n.debug,disabled:e,onChange:r=>t({debug:r})}),f.jsx(rr,{title:i("config_management.visual.sections.system.commercial_mode"),description:i("config_management.visual.sections.system.commercial_mode_desc"),checked:n.commercialMode,disabled:e,onChange:r=>t({commercialMode:r})}),f.jsx(rr,{title:i("config_management.visual.sections.system.logging_to_file"),description:i("config_management.visual.sections.system.logging_to_file_desc"),checked:n.loggingToFile,disabled:e,onChange:r=>t({loggingToFile:r})}),f.jsx(rr,{title:i("config_management.visual.sections.system.usage_statistics"),description:i("config_management.visual.sections.system.usage_statistics_desc"),checked:n.usageStatisticsEnabled,disabled:e,onChange:r=>t({usageStatisticsEnabled:r})})]}),f.jsx(Ml,{children:f.jsx(st,{label:i("config_management.visual.sections.system.logs_max_size"),type:"number",placeholder:"0",value:n.logsMaxTotalSizeMb,onChange:r=>t({logsMaxTotalSizeMb:r.target.value}),disabled:e})})]})}),f.jsx(To,{title:i("config_management.visual.sections.network.title"),description:i("config_management.visual.sections.network.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsxs(Ml,{children:[f.jsx(st,{label:i("config_management.visual.sections.network.proxy_url"),placeholder:"socks5://user:pass@127.0.0.1:1080/",value:n.proxyUrl,onChange:r=>t({proxyUrl:r.target.value}),disabled:e}),f.jsx(st,{label:i("config_management.visual.sections.network.request_retry"),type:"number",placeholder:"3",value:n.requestRetry,onChange:r=>t({requestRetry:r.target.value}),disabled:e}),f.jsx(st,{label:i("config_management.visual.sections.network.max_retry_interval"),type:"number",placeholder:"30",value:n.maxRetryInterval,onChange:r=>t({maxRetryInterval:r.target.value}),disabled:e}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:i("config_management.visual.sections.network.routing_strategy")}),f.jsx(Ks,{value:n.routingStrategy,options:[{value:"round-robin",label:i("config_management.visual.sections.network.strategy_round_robin")},{value:"fill-first",label:i("config_management.visual.sections.network.strategy_fill_first")}],disabled:e,ariaLabel:i("config_management.visual.sections.network.routing_strategy"),onChange:r=>t({routingStrategy:r})}),f.jsx("div",{className:"hint",children:i("config_management.visual.sections.network.routing_strategy_hint")})]})]}),f.jsx(rr,{title:i("config_management.visual.sections.network.force_model_prefix"),description:i("config_management.visual.sections.network.force_model_prefix_desc"),checked:n.forceModelPrefix,disabled:e,onChange:r=>t({forceModelPrefix:r})}),f.jsx(rr,{title:i("config_management.visual.sections.network.ws_auth"),description:i("config_management.visual.sections.network.ws_auth_desc"),checked:n.wsAuth,disabled:e,onChange:r=>t({wsAuth:r})})]})}),f.jsx(To,{title:i("config_management.visual.sections.quota.title"),description:i("config_management.visual.sections.quota.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx(rr,{title:i("config_management.visual.sections.quota.switch_project"),description:i("config_management.visual.sections.quota.switch_project_desc"),checked:n.quotaSwitchProject,disabled:e,onChange:r=>t({quotaSwitchProject:r})}),f.jsx(rr,{title:i("config_management.visual.sections.quota.switch_preview_model"),description:i("config_management.visual.sections.quota.switch_preview_model_desc"),checked:n.quotaSwitchPreviewModel,disabled:e,onChange:r=>t({quotaSwitchPreviewModel:r})})]})}),f.jsx(To,{title:i("config_management.visual.sections.streaming.title"),description:i("config_management.visual.sections.streaming.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsxs(Ml,{children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:i("config_management.visual.sections.streaming.keepalive_seconds")}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("input",{className:"input",type:"number",placeholder:"0",value:n.streaming.keepaliveSeconds,onChange:r=>t({streaming:{...n.streaming,keepaliveSeconds:r.target.value}}),disabled:e}),s&&f.jsx("span",{style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",fontSize:12,color:"var(--text-secondary)",background:"var(--bg-secondary)",padding:"2px 8px",borderRadius:999,border:"1px solid var(--border-color)"},children:i("config_management.visual.sections.streaming.disabled")})]}),f.jsx("div",{className:"hint",children:i("config_management.visual.sections.streaming.keepalive_hint")})]}),f.jsx(st,{label:i("config_management.visual.sections.streaming.bootstrap_retries"),type:"number",placeholder:"1",value:n.streaming.bootstrapRetries,onChange:r=>t({streaming:{...n.streaming,bootstrapRetries:r.target.value}}),disabled:e,hint:i("config_management.visual.sections.streaming.bootstrap_hint")})]}),f.jsx(Ml,{children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:i("config_management.visual.sections.streaming.nonstream_keepalive")}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("input",{className:"input",type:"number",placeholder:"0",value:n.streaming.nonstreamKeepaliveInterval,onChange:r=>t({streaming:{...n.streaming,nonstreamKeepaliveInterval:r.target.value}}),disabled:e}),a&&f.jsx("span",{style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",fontSize:12,color:"var(--text-secondary)",background:"var(--bg-secondary)",padding:"2px 8px",borderRadius:999,border:"1px solid var(--border-color)"},children:i("config_management.visual.sections.streaming.disabled")})]}),f.jsx("div",{className:"hint",children:i("config_management.visual.sections.streaming.nonstream_keepalive_hint")})]})})]})}),f.jsx(To,{title:i("config_management.visual.sections.payload.title"),description:i("config_management.visual.sections.payload.description"),children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:700,color:"var(--text-primary)",marginBottom:6},children:i("config_management.visual.sections.payload.default_rules")}),f.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:12},children:i("config_management.visual.sections.payload.default_rules_desc")}),f.jsx(_4,{value:n.payloadDefaultRules,disabled:e,onChange:r=>t({payloadDefaultRules:r})})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:700,color:"var(--text-primary)",marginBottom:6},children:i("config_management.visual.sections.payload.override_rules")}),f.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:12},children:i("config_management.visual.sections.payload.override_rules_desc")}),f.jsx(_4,{value:n.payloadOverrideRules,disabled:e,protocolFirst:!0,onChange:r=>t({payloadOverrideRules:r})})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:700,color:"var(--text-primary)",marginBottom:6},children:i("config_management.visual.sections.payload.filter_rules")}),f.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:12},children:i("config_management.visual.sections.payload.filter_rules_desc")}),f.jsx(Swe,{value:n.payloadFilterRules,disabled:e,onChange:r=>t({payloadFilterRules:r})})]})]})})]})}class bi{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}offset(e,t=e){return new bi(this.fromA+e,this.toA+e,this.fromB+t,this.toB+t)}}function Au(n,e,t,i,s,a){if(n==i)return[];let r=ZA(n,e,t,i,s,a),o=JA(n,e+r,t,i,s+r,a);e+=r,t-=o,s+=r,a-=o;let l=t-e,u=a-s;if(!l||!u)return[new bi(e,t,s,a)];if(l>u){let m=n.slice(e,t).indexOf(i.slice(s,a));if(m>-1)return[new bi(e,e+m,s,s),new bi(e+m+u,t,a,a)]}else if(u>l){let m=i.slice(s,a).indexOf(n.slice(e,t));if(m>-1)return[new bi(e,e,s,s+m),new bi(t,t,s+m+l,a)]}if(l==1||u==1)return[new bi(e,t,s,a)];let h=VI(n,e,t,i,s,a);if(h){let[m,g,_]=h;return Au(n,e,m,i,s,g).concat(Au(n,m+_,t,i,g+_,a))}return kwe(n,e,t,i,s,a)}let Cm=1e9,Am=0,YA=!1;function kwe(n,e,t,i,s,a){let r=t-e,o=a-s;if(Cm<1e9&&Math.min(r,o)>Cm*16||Am>0&&Date.now()>Am)return Math.min(r,o)>Cm*64?[new bi(e,t,s,a)]:y4(n,e,t,i,s,a);let l=Math.ceil((r+o)/2);CS.reset(l),AS.reset(l);let u=(_,b)=>n.charCodeAt(e+_)==i.charCodeAt(s+b),h=(_,b)=>n.charCodeAt(t-_-1)==i.charCodeAt(a-b-1),m=(r-o)%2!=0?AS:null,g=m?null:CS;for(let _=0;_<l;_++){if(_>Cm||Am>0&&!(_&63)&&Date.now()>Am)return y4(n,e,t,i,s,a);let b=CS.advance(_,r,o,l,m,!1,u)||AS.advance(_,r,o,l,g,!0,h);if(b)return Cwe(n,e,t,e+b[0],i,s,a,s+b[1])}return[new bi(e,t,s,a)]}class KI{constructor(){this.vec=[]}reset(e){this.len=e<<1;for(let t=0;t<this.len;t++)this.vec[t]=-1;this.vec[e+1]=0,this.start=this.end=0}advance(e,t,i,s,a,r,o){for(let l=-e+this.start;l<=e-this.end;l+=2){let u=s+l,h=l==-e||l!=e&&this.vec[u-1]<this.vec[u+1]?this.vec[u+1]:this.vec[u-1]+1,m=h-l;for(;h<t&&m<i&&o(h,m);)h++,m++;if(this.vec[u]=h,h>t)this.end+=2;else if(m>i)this.start+=2;else if(a){let g=s+(t-i)-l;if(g>=0&&g<this.len&&a.vec[g]!=-1)if(r){let _=a.vec[g];if(_>=t-h)return[_,s+_-g]}else{let _=t-a.vec[g];if(h>=_)return[h,m]}}}return null}}const CS=new KI,AS=new KI;function Cwe(n,e,t,i,s,a,r,o){let l=!1;return!Nh(n,i)&&++i==t&&(l=!0),!Nh(s,o)&&++o==r&&(l=!0),l?[new bi(e,t,a,r)]:Au(n,e,i,s,a,o).concat(Au(n,i,t,s,o,r))}function HI(n,e){let t=1,i=Math.min(n,e);for(;t<i;)t=t<<1;return t}function ZA(n,e,t,i,s,a){if(e==t||e==a||n.charCodeAt(e)!=i.charCodeAt(s))return 0;let r=HI(t-e,a-s);for(let o=e,l=s;;){let u=o+r,h=l+r;if(u>t||h>a||n.slice(o,u)!=i.slice(l,h)){if(r==1)return o-e-(Nh(n,o)?0:1);r=r>>1}else{if(u==t||h==a)return u-e;o=u,l=h}}}function JA(n,e,t,i,s,a){if(e==t||s==a||n.charCodeAt(t-1)!=i.charCodeAt(a-1))return 0;let r=HI(t-e,a-s);for(let o=t,l=a;;){let u=o-r,h=l-r;if(u<e||h<s||n.slice(u,o)!=i.slice(h,l)){if(r==1)return t-o-(Nh(n,o)?0:1);r=r>>1}else{if(u==e||h==s)return t-u;o=u,l=h}}}function jk(n,e,t,i,s,a,r,o){let l=i.slice(s,a),u=null;for(;;){if(u||r<o)return u;for(let h=e+r;;){Nh(n,h)||h++;let m=h+r;if(Nh(n,m)||(m+=m==h+1?1:-1),m>=t)break;let g=n.slice(h,m),_=-1;for(;(_=l.indexOf(g,_+1))!=-1;){let b=ZA(n,m,t,i,s+_+g.length,a),x=JA(n,e,h,i,s,s+_),v=g.length+b+x;(!u||u[2]<v)&&(u=[h-x,s+_-x,v])}h=m}if(o<0)return u;r=r>>1}}function VI(n,e,t,i,s,a){let r=t-e,o=a-s;if(r<o){let l=VI(i,s,a,n,e,t);return l&&[l[1],l[0],l[2]]}return r<4||o*2<r?null:jk(n,e,t,i,s,a,Math.floor(r/4),-1)}function y4(n,e,t,i,s,a){YA=!0;let r=t-e,o=a-s,l;if(r<o){let g=jk(i,s,a,n,e,t,Math.floor(r/6),50);l=g&&[g[1],g[0],g[2]]}else l=jk(n,e,t,i,s,a,Math.floor(o/6),50);if(!l)return[new bi(e,t,s,a)];let[u,h,m]=l;return Au(n,e,u,i,s,h).concat(Au(n,u+m,t,i,h+m,a))}function WI(n,e){for(let t=1;t<n.length;t++){let i=n[t-1],s=n[t];i.toA>s.fromA-e&&i.toB>s.fromB-e&&(n[t-1]=new bi(i.fromA,s.toA,i.fromB,s.toB),n.splice(t--,1))}}function Awe(n,e,t){for(;;){WI(t,1);let i=!1;for(let s=0;s<t.length;s++){let a=t[s],r,o;(r=ZA(n,a.fromA,a.toA,e,a.fromB,a.toB))&&(a=t[s]=new bi(a.fromA+r,a.toA,a.fromB+r,a.toB)),(o=JA(n,a.fromA,a.toA,e,a.fromB,a.toB))&&(a=t[s]=new bi(a.fromA,a.toA-o,a.fromB,a.toB-o));let l=a.toA-a.fromA,u=a.toB-a.fromB;if(l&&u)continue;let h=a.fromA-(s?t[s-1].toA:0),m=(s<t.length-1?t[s+1].fromA:n.length)-a.toA;if(!h||!m)continue;let g=l?n.slice(a.fromA,a.toA):e.slice(a.fromB,a.toB);h<=g.length&&n.slice(a.fromA-h,a.fromA)==g.slice(g.length-h)?(t[s]=new bi(a.fromA-h,a.toA-h,a.fromB-h,a.toB-h),i=!0):m<=g.length&&n.slice(a.toA,a.toA+m)==g.slice(0,m)&&(t[s]=new bi(a.fromA+m,a.toA+m,a.fromB+m,a.toB+m),i=!0)}if(!i)break}return t}function Twe(n,e,t){for(let i=0,s=0;s<n.length;s++){let a=n[s],r=a.toA-a.fromA,o=a.toB-a.fromB;if(r&&o||r>3||o>3){let l=s==n.length-1?e.length:n[s+1].fromA,u=a.fromA-i,h=l-a.toA,m=x4(e,a.fromA,u),g=b4(e,a.toA,h),_=a.fromA-m,b=g-a.toA;if((!r||!o)&&_&&b){let x=Math.max(r,o),[v,C,k]=r?[e,a.fromA,a.toA]:[t,a.fromB,a.toB];x>_&&e.slice(m,a.fromA)==v.slice(k-_,k)?(a=n[s]=new bi(m,m+r,a.fromB-_,a.toB-_),m=a.fromA,g=b4(e,a.toA,l-a.toA)):x>b&&e.slice(a.toA,g)==v.slice(C,C+b)&&(a=n[s]=new bi(g-r,g,a.fromB+b,a.toB+b),g=a.toA,m=x4(e,a.fromA,a.fromA-i)),_=a.fromA-m,b=g-a.toA}if(_||b)a=n[s]=new bi(a.fromA-_,a.toA+b,a.fromB-_,a.toB+b);else if(r){if(!o){let x=S4(e,a.fromA,a.toA),v,C=x<0?-1:v4(e,a.toA,a.fromA);x>-1&&(v=x-a.fromA)<=h&&e.slice(a.fromA,x)==e.slice(a.toA,a.toA+v)?a=n[s]=a.offset(v):C>-1&&(v=a.toA-C)<=u&&e.slice(a.fromA-v,a.fromA)==e.slice(C,a.toA)&&(a=n[s]=a.offset(-v))}}else{let x=S4(t,a.fromB,a.toB),v,C=x<0?-1:v4(t,a.toB,a.fromB);x>-1&&(v=x-a.fromB)<=h&&t.slice(a.fromB,x)==t.slice(a.toB,a.toB+v)?a=n[s]=a.offset(v):C>-1&&(v=a.toB-C)<=u&&t.slice(a.fromB-v,a.fromB)==t.slice(C,a.toB)&&(a=n[s]=a.offset(-v))}}i=a.toA}return WI(n,3),n}let pu;try{pu=new RegExp("[\\p{Alphabetic}\\p{Number}]","u")}catch{}function GI(n){return n>48&&n<58||n>64&&n<91||n>96&&n<123}function XI(n,e){if(e==n.length)return 0;let t=n.charCodeAt(e);return t<192?GI(t)?1:0:pu?!YI(t)||e==n.length-1?pu.test(String.fromCharCode(t))?1:0:pu.test(n.slice(e,e+2))?2:0:0}function $I(n,e){if(!e)return 0;let t=n.charCodeAt(e-1);return t<192?GI(t)?1:0:pu?!ZI(t)||e==1?pu.test(String.fromCharCode(t))?1:0:pu.test(n.slice(e-2,e))?2:0:0}const QI=8;function b4(n,e,t){if(e==n.length||!$I(n,e))return e;for(let i=e,s=e+t,a=0;a<QI;a++){let r=XI(n,i);if(!r||i+r>s)return i;i+=r}return e}function x4(n,e,t){if(!e||!XI(n,e))return e;for(let i=e,s=e-t,a=0;a<QI;a++){let r=$I(n,i);if(!r||i-r<s)return i;i-=r}return e}function v4(n,e,t){for(;e!=t;e--)if(n.charCodeAt(e-1)==10)return e;return-1}function S4(n,e,t){for(;e!=t;e++)if(n.charCodeAt(e)==10)return e;return-1}const YI=n=>n>=55296&&n<=56319,ZI=n=>n>=56320&&n<=57343;function Nh(n,e){return!e||e==n.length||!YI(n.charCodeAt(e-1))||!ZI(n.charCodeAt(e))}function Nwe(n,e,t){var i;let s=t?.override;return s?s(n,e):(Cm=((i=t?.scanLimit)!==null&&i!==void 0?i:1e9)>>1,Am=t?.timeout?Date.now()+t.timeout:0,YA=!1,Awe(n,e,Au(n,0,n.length,e,0,e.length)))}function JI(){return!YA}function e7(n,e,t){return Twe(Nwe(n,e,t),n,e)}class Nx{constructor(e,t,i,s,a,r=!0){this.changes=e,this.fromA=t,this.toA=i,this.fromB=s,this.toB=a,this.precise=r}offset(e,t){return e||t?new Nx(this.changes,this.fromA+e,this.toA+e,this.fromB+t,this.toB+t,this.precise):this}get endA(){return Math.max(this.fromA,this.toA-1)}get endB(){return Math.max(this.fromB,this.toB-1)}static build(e,t,i){let s=e7(e.toString(),t.toString(),i);return t7(s,e,t,0,0,JI())}static updateA(e,t,i,s,a){return T4(A4(e,s,!0,i.length),e,t,i,a)}static updateB(e,t,i,s,a){return T4(A4(e,s,!1,t.length),e,t,i,a)}}function w4(n,e,t,i){let s=t.lineAt(n),a=i.lineAt(e);return s.to==n&&a.to==e&&n<t.length&&e<i.length?[n+1,e+1]:[s.from,a.from]}function k4(n,e,t,i){let s=t.lineAt(n),a=i.lineAt(e);return s.from==n&&a.from==e?[n,e]:[s.to+1,a.to+1]}function t7(n,e,t,i,s,a){let r=[];for(let o=0;o<n.length;o++){let l=n[o],[u,h]=w4(l.fromA+i,l.fromB+s,e,t),[m,g]=k4(l.toA+i,l.toB+s,e,t),_=[l.offset(-u+i,-h+s)];for(;o<n.length-1;){let b=n[o+1],[x,v]=w4(b.fromA+i,b.fromB+s,e,t);if(x>m+1&&v>g+1)break;_.push(b.offset(-u+i,-h+s)),[m,g]=k4(b.toA+i,b.toB+s,e,t),o++}r.push(new Nx(_,u,Math.max(u,m),h,Math.max(h,g),a))}return r}const H0=1e3;function C4(n,e,t,i){let s=0,a=n.length;for(;;){if(s==a){let h=0,m=0;s&&({toA:h,toB:m}=n[s-1]);let g=e-(t?h:m);return[h+g,m+g]}let r=s+a>>1,o=n[r],[l,u]=t?[o.fromA,o.toA]:[o.fromB,o.toB];if(l>e)a=r;else if(u<=e)s=r+1;else return i?[o.fromA,o.fromB]:[o.toA,o.toB]}}function A4(n,e,t,i){let s=[];return e.iterChangedRanges((a,r,o,l)=>{let u=0,h=t?e.length:i,m=0,g=t?i:e.length;a>H0&&([u,m]=C4(n,a-H0,t,!0)),r<e.length-H0&&([h,g]=C4(n,r+H0,t,!1));let _=l-o-(r-a),b,[x,v]=t?[_,0]:[0,_];s.length&&(b=s[s.length-1]).toA>=u?s[s.length-1]={fromA:b.fromA,fromB:b.fromB,toA:h,toB:g,diffA:b.diffA+x,diffB:b.diffB+v}:s.push({fromA:u,toA:h,fromB:m,toB:g,diffA:x,diffB:v})}),s}function T4(n,e,t,i,s){if(!n.length)return e;let a=[];for(let r=0,o=0,l=0,u=0;;r++){let h=r==n.length?null:n[r],m=h?h.fromA+o:t.length,g=h?h.fromB+l:i.length;for(;u<e.length;){let v=e[u];if(v.endA+o>m||v.endB+l>g)break;a.push(v.offset(o,l)),u++}if(!h)break;let _=h.toA+o+h.diffA,b=h.toB+l+h.diffB,x=e7(t.sliceString(m,_),i.sliceString(g,b),s);for(let v of t7(x,t,i,m,g,JI()))a.push(v);for(o+=h.diffA,l+=h.diffB;u<e.length;){let v=e[u];if(v.fromA+o>_&&v.fromB+l>b)break;u++}}return a}const Mwe="DiffModal-module__diffModal___v1LSh",Owe="DiffModal-module__content___CqXvC",Lwe="DiffModal-module__emptyState___gS4Kg",Pwe="DiffModal-module__diffList___T2FFf",Rwe="DiffModal-module__diffCard___SkBPu",Ewe="DiffModal-module__diffCardHeader___xm6MH",jwe="DiffModal-module__diffColumns___Lr6D6",Dwe="DiffModal-module__diffColumn___jyz4S",Fwe="DiffModal-module__diffColumnHeader___2XCh5",Uwe="DiffModal-module__lineMeta___3iZ46",Bwe="DiffModal-module__lineRange___oZ6Hy",Iwe="DiffModal-module__contextRange___f-3xU",zwe="DiffModal-module__codeList___WFY2T",qwe="DiffModal-module__codeLine___Zf8YM",Kwe="DiffModal-module__codeLineChanged___KTzsk",Hwe="DiffModal-module__codeLineNumber___kpo3-",Vwe="DiffModal-module__codeLineText___Duodl",kn={diffModal:Mwe,content:Owe,emptyState:Lwe,diffList:Pwe,diffCard:Rwe,diffCardHeader:Ewe,diffColumns:jwe,diffColumn:Dwe,diffColumnHeader:Fwe,lineMeta:Uwe,lineRange:Bwe,contextRange:Iwe,codeList:zwe,codeLine:qwe,codeLineChanged:Kwe,codeLineNumber:Hwe,codeLineText:Vwe},Cb=2,N4=(n,e)=>Math.max(0,Math.min(e,n.length)),V0=n=>n.start===n.end?String(n.start):`${n.start}-${n.end}`,M4=(n,e,t)=>{const i=N4(n,e),s=N4(n,t);if(i===s){const o=Math.min(i,n.length),l=n.lineAt(o).number;return{start:l,end:l}}const a=n.lineAt(i).number,r=n.lineAt(Math.max(i,s-1)).number;return{start:a,end:r}},O4=(n,e)=>({start:Math.max(1,e.start-Cb),end:Math.min(n.lines,e.end+Cb)}),L4=(n,e,t)=>{const i=[];for(let s=e.start;s<=e.end;s+=1)i.push({lineNumber:s,text:n.line(s).text,changed:s>=t.start&&s<=t.end});return i};function Wwe({open:n,original:e,modified:t,onConfirm:i,onCancel:s,loading:a=!1}){const{t:r}=Ze(),o=w.useMemo(()=>{const l=Zt.of(e.split(`
`)),u=Zt.of(t.split(`
`));return Nx.build(l,u).map((m,g)=>{const _=M4(l,m.fromA,m.toA),b=M4(u,m.fromB,m.toB),x=O4(l,_),v=O4(u,b);return{id:`${g}-${m.fromA}-${m.toA}-${m.fromB}-${m.toB}`,current:{changedRangeLabel:V0(_),contextRangeLabel:V0(x),lines:L4(l,x,_)},modified:{changedRangeLabel:V0(b),contextRangeLabel:V0(v),lines:L4(u,v,b)}}})},[t,e]);return f.jsx(is,{open:n,title:r("config_management.diff.title"),onClose:s,width:"min(1200px, 90vw)",className:kn.diffModal,closeDisabled:a,footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:s,disabled:a,children:r("common.cancel")}),f.jsx(he,{onClick:i,loading:a,disabled:a,children:r("config_management.diff.confirm")})]}),children:f.jsx("div",{className:kn.content,children:o.length===0?f.jsx("div",{className:kn.emptyState,children:r("config_management.diff.no_changes")}):f.jsx("div",{className:kn.diffList,children:o.map((l,u)=>f.jsxs("article",{className:kn.diffCard,children:[f.jsxs("div",{className:kn.diffCardHeader,children:["#",u+1]}),f.jsxs("div",{className:kn.diffColumns,children:[f.jsxs("section",{className:kn.diffColumn,children:[f.jsxs("header",{className:kn.diffColumnHeader,children:[f.jsx("span",{children:r("config_management.diff.current")}),f.jsxs("span",{className:kn.lineMeta,children:[f.jsxs("span",{className:kn.lineRange,children:["L",l.current.changedRangeLabel]}),f.jsxs("span",{className:kn.contextRange,children:["",Cb,": L",l.current.contextRangeLabel]})]})]}),f.jsx("div",{className:kn.codeList,children:l.current.lines.map(h=>f.jsxs("div",{className:`${kn.codeLine} ${h.changed?kn.codeLineChanged:""}`,children:[f.jsx("span",{className:kn.codeLineNumber,children:h.lineNumber}),f.jsx("code",{className:kn.codeLineText,children:h.text||" "})]},`${l.id}-a-${h.lineNumber}`))})]}),f.jsxs("section",{className:kn.diffColumn,children:[f.jsxs("header",{className:kn.diffColumnHeader,children:[f.jsx("span",{children:r("config_management.diff.modified")}),f.jsxs("span",{className:kn.lineMeta,children:[f.jsxs("span",{className:kn.lineRange,children:["L",l.modified.changedRangeLabel]}),f.jsxs("span",{className:kn.contextRange,children:["",Cb,": L",l.modified.contextRangeLabel]})]})]}),f.jsx("div",{className:kn.codeList,children:l.modified.lines.map(h=>f.jsxs("div",{className:`${kn.codeLine} ${h.changed?kn.codeLineChanged:""}`,children:[f.jsx("span",{className:kn.codeLineNumber,children:h.lineNumber}),f.jsx("code",{className:kn.codeLineText,children:h.text||" "})]},`${l.id}-b-${h.lineNumber}`))})]})]})]},l.id))})})})}const Gwe="ConfigPage-module__container___5kN-Y",Xwe="ConfigPage-module__pageTitle___BoVLE",$we="ConfigPage-module__description___qruwQ",Qwe="ConfigPage-module__tabBar___PelpE",Ywe="ConfigPage-module__tabItem___Uj1rU",Zwe="ConfigPage-module__tabActive___sZLh-",Jwe="ConfigPage-module__content___PgFbt",eke="ConfigPage-module__searchInputWrapper___-GeEQ",tke="ConfigPage-module__searchInput___ock8o",nke="ConfigPage-module__searchCount___AIry7",ike="ConfigPage-module__searchRight___pwWBV",ske="ConfigPage-module__searchButton___GRbfi",ake="ConfigPage-module__searchActions___ZGITa",rke="ConfigPage-module__controls___OTpD4",oke="ConfigPage-module__status___QYXYr",lke="ConfigPage-module__modified___4mzgT",cke="ConfigPage-module__saved___zmZx2",uke="ConfigPage-module__error___qlpX1",dke="ConfigPage-module__editorWrapper___yBudn",hke="ConfigPage-module__floatingControls___RqBnu",fke="ConfigPage-module__configCard___DdVq0",mke="ConfigPage-module__floatingActionContainer___3ZQ-z",pke="ConfigPage-module__floatingActionList___ky8bV",gke="ConfigPage-module__floatingStatus___u8zOi",_ke="ConfigPage-module__floatingActionButton___Htxmz",yke="ConfigPage-module__dirtyDot___zXEnD",cn={container:Gwe,pageTitle:Xwe,description:$we,tabBar:Qwe,tabItem:Ywe,tabActive:Zwe,content:Jwe,searchInputWrapper:eke,searchInput:tke,searchCount:nke,searchRight:ike,searchButton:ske,searchActions:ake,controls:rke,status:oke,modified:lke,saved:cke,error:uke,editorWrapper:dke,floatingControls:hke,configCard:fke,floatingActionContainer:mke,floatingActionList:pke,floatingStatus:gke,floatingActionButton:_ke,dirtyDot:yke};function P4(n){try{const e=II(n);return!e||typeof e!="object"||Array.isArray(e)?!1:!!e["commercial-mode"]}catch{return!1}}function bke(){const{t:n}=Ze(),{showNotification:e}=un(),t=Kt(me=>me.connectionStatus),i=qa(me=>me.resolvedTheme),{visualValues:s,visualDirty:a,loadVisualValuesFromYaml:r,applyVisualChangesToYaml:o,setVisualValues:l}=gwe(),[u,h]=w.useState(()=>{const me=localStorage.getItem("config-management:tab");return me==="visual"||me==="source"?me:"visual"}),[m,g]=w.useState(""),[_,b]=w.useState(!0),[x,v]=w.useState(!1),[C,k]=w.useState(""),[N,O]=w.useState(!1),[T,L]=w.useState(!1),[M,P]=w.useState(""),[R,D]=w.useState(""),[U,F]=w.useState(""),[H,Z]=w.useState({current:0,total:0}),[Y,I]=w.useState(""),K=w.useRef(null),V=w.useRef(null),$=w.useRef(null),W=w.useRef(null),j=t!=="connected",B=N||a,X=w.useCallback(async()=>{b(!0),k("");try{const me=await dm.fetchConfigYaml();g(me),O(!1),L(!1),P(me),D(me),r(me)}catch(me){const Ie=me instanceof Error?me.message:n("notification.refresh_failed");k(Ie)}finally{b(!1)}},[r,n]);w.useEffect(()=>{X()},[X]);const te=async()=>{v(!0);try{const me=P4(M),Ie=P4(R),Je=me!==Ie;await dm.saveConfigYaml(R);const ct=await dm.fetchConfigYaml();O(!1),L(!1),g(ct),P(ct),D(ct),r(ct),e(n("config_management.save_success"),"success"),Je&&e(n("notification.commercial_mode_restart_required"),"warning")}catch(me){const Ie=me instanceof Error?me.message:"";e(`${n("notification.save_failed")}: ${Ie}`,"error")}finally{v(!1)}},Q=async()=>{v(!0);try{const me=o(m),Ie=await dm.fetchConfigYaml();if(Ie===me){O(!1),g(Ie),P(Ie),D(me),r(Ie),e(n("config_management.diff.no_changes"),"info");return}P(Ie),D(me),L(!0)}catch(me){const Ie=me instanceof Error?me.message:"";e(`${n("notification.save_failed")}: ${Ie}`,"error")}finally{v(!1)}},G=w.useCallback(me=>{g(me),O(!0)},[]),ne=w.useCallback(me=>{if(me!==u){if(me==="source"){const Ie=o(m);Ie!==m&&(g(Ie),O(!0))}else r(m);h(me),localStorage.setItem("config-management:tab",me)}},[u,o,m,r]),J=w.useCallback((me,Ie="next")=>{if(!me||!K.current?.view)return;const Je=K.current.view,ct=Je.state.doc.toString(),le=[],_e=me.toLowerCase(),Pe=ct.toLowerCase();let $e=0;for(;$e<Pe.length;){const ce=Pe.indexOf(_e,$e);if(ce===-1)break;le.push(ce),$e=ce+1}if(le.length===0){Z({current:0,total:0});return}const yt=Je.state.selection.main,bt=Ie==="prev"?yt.from:yt.to;let pt=0;if(Ie==="next")for(let ce=0;ce<le.length;ce++){if(le[ce]>bt){pt=ce;break}ce===le.length-1&&(pt=0)}else for(let ce=le.length-1;ce>=0;ce--){if(le[ce]<bt){pt=ce;break}ce===0&&(pt=le.length-1)}const hn=le[pt];Z({current:pt+1,total:le.length}),Je.dispatch({selection:{anchor:hn,head:hn+me.length},scrollIntoView:!0}),Je.focus()},[]),re=w.useCallback(me=>{F(me),me?Z({current:0,total:0}):(Z({current:0,total:0}),I(""))},[]),de=w.useCallback((me="next")=>{U&&(I(U),J(U,me))},[U,J]),Le=w.useCallback(me=>{me.key==="Enter"&&(me.preventDefault(),de(me.shiftKey?"prev":"next"))},[de]),ke=w.useCallback(()=>{Y&&J(Y,"prev")},[Y,J]),nt=w.useCallback(()=>{Y&&J(Y,"next")},[Y,J]);w.useLayoutEffect(()=>{if(u!=="source")return;const me=V.current,Ie=$.current;if(!me||!Ie)return;const Je=()=>{const le=me.getBoundingClientRect().height;Ie.style.setProperty("--floating-controls-height",`${le}px`)};Je(),window.addEventListener("resize",Je);const ct=typeof ResizeObserver>"u"?null:new ResizeObserver(Je);return ct?.observe(me),()=>{ct?.disconnect(),window.removeEventListener("resize",Je)}},[u]),w.useLayoutEffect(()=>{if(typeof window>"u")return;const me=W.current;if(!me)return;const Ie=()=>{const ct=me.getBoundingClientRect().height;document.documentElement.style.setProperty("--config-action-bar-height",`${ct}px`)};Ie(),window.addEventListener("resize",Ie);const Je=typeof ResizeObserver>"u"?null:new ResizeObserver(Ie);return Je?.observe(me),()=>{Je?.disconnect(),window.removeEventListener("resize",Ie),document.documentElement.style.removeProperty("--config-action-bar-height")}},[]);const _t=w.useMemo(()=>[Q2e(),Pve(),AB(),dg.of(RB)],[]),Ft=()=>n(j?"config_management.status_disconnected":_?"config_management.status_loading":C?"config_management.status_load_failed":x?"config_management.status_saving":B?"config_management.status_dirty":"config_management.status_loaded"),Ee=!j&&!_&&!C&&!x&&!B,Ye=()=>C?cn.error:B?cn.modified:!_&&!x?cn.saved:"",Lt=f.jsx("div",{className:cn.floatingActionContainer,ref:W,children:f.jsxs("div",{className:cn.floatingActionList,children:[f.jsx("div",{className:`${cn.floatingStatus} ${cn.status} ${Ye()}`,children:Ft()}),f.jsx("button",{type:"button",className:cn.floatingActionButton,onClick:X,disabled:_,title:n("config_management.reload"),"aria-label":n("config_management.reload"),children:f.jsx($k,{size:16})}),f.jsxs("button",{type:"button",className:cn.floatingActionButton,onClick:Q,disabled:j||_||x||!B||T,title:n("config_management.save"),"aria-label":n("config_management.save"),children:[f.jsx(Yk,{size:16}),B&&f.jsx("span",{className:cn.dirtyDot,"aria-hidden":"true"})]})]})});return f.jsxs("div",{className:cn.container,children:[f.jsx("h1",{className:cn.pageTitle,children:n("config_management.title")}),f.jsx("p",{className:cn.description,children:n("config_management.description")}),f.jsxs("div",{className:cn.tabBar,children:[f.jsx("button",{type:"button",className:`${cn.tabItem} ${u==="visual"?cn.tabActive:""}`,onClick:()=>ne("visual"),disabled:x||_,children:n("config_management.tabs.visual",{defaultValue:""})}),f.jsx("button",{type:"button",className:`${cn.tabItem} ${u==="source"?cn.tabActive:""}`,onClick:()=>ne("source"),disabled:x||_,children:n("config_management.tabs.source",{defaultValue:""})})]}),f.jsx(wt,{className:cn.configCard,children:f.jsxs("div",{className:cn.content,children:[C&&f.jsx("div",{className:"error-box",children:C}),u==="visual"?f.jsx(wwe,{values:s,disabled:j||_,onChange:l}):f.jsxs("div",{className:cn.editorWrapper,ref:$,children:[f.jsxs("div",{className:cn.floatingControls,ref:V,children:[f.jsx("div",{className:cn.searchInputWrapper,children:f.jsx(st,{value:U,onChange:me=>re(me.target.value),onKeyDown:Le,placeholder:n("config_management.search_placeholder",{defaultValue:"..."}),disabled:j||_,className:cn.searchInput,rightElement:f.jsxs("div",{className:cn.searchRight,children:[U&&Y===U&&f.jsx("span",{className:cn.searchCount,children:H.total>0?`${H.current} / ${H.total}`:n("config_management.search_no_results",{defaultValue:""})}),f.jsx("button",{type:"button",className:cn.searchButton,onClick:()=>de("next"),disabled:!U||j||_,title:n("config_management.search_button",{defaultValue:""}),children:f.jsx(DD,{size:16})})]})})}),f.jsxs("div",{className:cn.searchActions,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:ke,disabled:!U||Y!==U||H.total===0,title:n("config_management.search_prev",{defaultValue:""}),children:f.jsx(jD,{size:16})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:nt,disabled:!U||Y!==U||H.total===0,title:n("config_management.search_next",{defaultValue:""}),children:f.jsx(Qk,{size:16})})]})]}),f.jsx(XB,{ref:K,value:m,onChange:G,extensions:_t,theme:i,editable:!j&&!_,placeholder:n("config_management.editor_placeholder"),height:"100%",style:{height:"100%"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,foldGutter:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!1,rectangularSelection:!0,crosshairCursor:!1,highlightSelectionMatches:!0,closeBracketsKeymap:!0,searchKeymap:!0,foldKeymap:!0,completionKeymap:!1,lintKeymap:!0}})]}),f.jsx("div",{className:cn.controls,children:!Ee&&f.jsx("span",{className:`${cn.status} ${Ye()}`,children:Ft()})})]})}),typeof document<"u"?Nu.createPortal(Lt,document.body):null,f.jsx(Wwe,{open:T,original:M,modified:R,onConfirm:te,onCancel:()=>L(!1),loading:x})]})}const eT=["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"],xke=["2xx","3xx","4xx","5xx"],n7=n=>{if(typeof n=="number"){if(n>=200&&n<300)return"2xx";if(n>=300&&n<400)return"3xx";if(n>=400&&n<500)return"4xx";if(n>=500&&n<600)return"5xx"}},vke=new RegExp(`\\b(${eT.join("|")})\\b`),Ske=/^\[?(\d{4}-\d{2}-\d{2}[ T]\d{2}:\d{2}:\d{2}(?:\.\d{1,3})?)\]?/,wke=/^\[?(trace|debug|info|warn|warning|error|fatal)\s*\]?(?=\s|\[|$)\s*/i,TS=/^\[([^\]]+)\]/,i7=/\b(?:\d+(?:\.\d+)?\s*(?:s|us|ms|s|m))(?:\s*\d+(?:\.\d+)?\s*(?:s|us|ms|s|m))*\b/i,kke=/\b(?:\d{1,3}\.){3}\d{1,3}\b/,Cke=/\b(?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}\b/i,R4=/^([a-f0-9]{8}|--------)$/i,Ake=/^\d{1,2}:\d{2}:\d{2}(?:\.\d{1,3})?$/,NS=/^\[GIN\]\s+(\d{4})\/(\d{2})\/(\d{2})\s*-\s*(\d{2}:\d{2}:\d{2}(?:\.\d{1,3})?)\s*$/,Tke=[/\|\s*([1-5]\d{2})\s*\|/,/\b([1-5]\d{2})\s*-/,new RegExp(`\\b(?:${eT.join("|")})\\s+\\S+\\s+([1-5]\\d{2})\\b`),/\b(?:status|code|http)[:\s]+([1-5]\d{2})\b/i,/\b([1-5]\d{2})\s+(?:OK|Created|Accepted|No Content|Moved|Found|Bad Request|Unauthorized|Forbidden|Not Found|Method Not Allowed|Internal Server Error|Bad Gateway|Service Unavailable|Gateway Timeout)\b/i],Nke=n=>{for(const e of Tke){const t=n.match(e);if(!t)continue;const i=Number.parseInt(t[1],10);if(Number.isFinite(i)&&i>=100&&i<=599)return i}},MS=n=>{const e=n.match(kke);if(e)return e[0];const t=n.match(Cke);if(!t)return;const i=t[0];if(!Ake.test(i)&&!(!i.includes("::")&&i.split(":").length!==8))return i},W0=n=>{const e=n.trim(),t=e.match(/^(\d{4}-\d{2}-\d{2})[ T](\d{2}:\d{2}:\d{2})/);return t?`${t[1]} ${t[2]}`:e},E4=n=>{const e=n.match(i7);if(e)return e[0].replace(/\s+/g,"")},Mke=n=>{const e=n.trim().toLowerCase();if(e==="warning"||e==="warn")return"warn";if(e==="info")return"info";if(e==="error")return"error";if(e==="fatal")return"fatal";if(e==="debug")return"debug";if(e==="trace")return"trace"},Oke=n=>{const e=n.toLowerCase();if(/\bfatal\b/.test(e))return"fatal";if(/\berror\b/.test(e))return"error";if(/\bwarn(?:ing)?\b/.test(e)||n.includes(""))return"warn";if(/\binfo\b/.test(e))return"info";if(/\bdebug\b/.test(e))return"debug";if(/\btrace\b/.test(e))return"trace"},OS=n=>{const e=n.match(vke);if(!e)return{};const t=e[1],i=e.index??0,s=n.slice(i+e[0].length).trim(),a=s?s.split(/\s+/)[0]:void 0;return{method:t,path:a}},Lke=n=>{let e=n.trim(),t;const i=e.match(Ske);i&&(t=i[1],e=e.slice(i[0].length).trim());let s;const a=e.match(/^\[([a-f0-9]{8}|--------)\]\s*/i);if(a){const v=a[1];/^-+$/.test(v)||(s=v),e=e.slice(a[0].length).trim()}let r;const o=e.match(wke);o&&(r=Mke(o[1]),e=e.slice(o[0].length).trim());let l;const u=e.match(TS);u&&(l=u[1],e=e.slice(u[0].length).trim());let h,m,g,_,b,x=e;if(e.includes("|")){const v=e.split("|").map(R=>R.trim()).filter(Boolean),C=new Set,k=v.findIndex(R=>NS.test(R));if(k>=0){const R=v[k].match(NS);if(R){const D=`${R[1]}-${R[2]}-${R[3]} ${R[4]}`,U=W0(D),F=t?W0(t):void 0;t?F===U&&C.add(k):(t=D,C.add(k))}}const N=v.findIndex(R=>R4.test(R));if(N>=0){const R=v[N].match(R4);if(R){const D=R[1];/^-+$/.test(D)||(s=D),C.add(N)}}const O=v.findIndex(R=>/^\d{3}$/.test(R));if(O>=0){const R=v[O].match(/^(\d{3})$/);if(R){const D=Number.parseInt(R[1],10);D>=100&&D<=599&&(h=D,C.add(O))}}const T=v.findIndex(R=>i7.test(R));if(T>=0){const R=E4(v[T]);R&&(m=R,C.add(T))}const L=v.findIndex(R=>!!MS(R));if(L>=0){const R=MS(v[L]);R&&(g=R,C.add(L))}const M=v.findIndex(R=>{const{method:D}=OS(R);return!!D});if(M>=0){const R=OS(v[M]);_=R.method,b=R.path,C.add(M)}const P=v.findIndex(R=>TS.test(R));if(P>=0){const R=v[P].match(TS);R&&(l=R[1],C.add(P))}x=v.filter((R,D)=>!C.has(D)).join(" | ")}else{h=Nke(e);const v=E4(e);v&&(m=v),g=MS(e);const C=OS(e);_=C.method,b=C.path}if(r||(r=Oke(n)),x){const v=x.match(NS);if(v){const C=`${v[1]}-${v[2]}-${v[3]} ${v[4]}`;t||(t=C),W0(t)===W0(C)&&(x="")}}return{raw:n,timestamp:t,level:r,source:l,requestId:s,statusCode:h,latency:m,ip:g,method:_,path:b,message:x}},Pke=12;function Rke(n){const{parsedLines:e}=n,[t,i]=w.useState([]),[s,a]=w.useState([]),[r,o]=w.useState([]),l=w.useMemo(()=>new Set(t),[t]),u=w.useMemo(()=>new Set(s),[s]),h=w.useMemo(()=>new Set(r),[r]),m=t.length>0||s.length>0||r.length>0,g=w.useMemo(()=>{const N={};return e.forEach(O=>{O.method&&(N[O.method]=(N[O.method]??0)+1)}),N},[e]),_=w.useMemo(()=>{const N={};return e.forEach(O=>{const T=n7(O.statusCode);T&&(N[T]=(N[T]??0)+1)}),N},[e]),b=w.useMemo(()=>{const N=new Map;return e.forEach(O=>{O.path&&N.set(O.path,(N.get(O.path)??0)+1)}),Array.from(N.entries()).sort((O,T)=>T[1]-O[1]||O[0].localeCompare(T[0])).slice(0,Pke).map(([O,T])=>({path:O,count:T}))},[e]);return w.useEffect(()=>{const N=new Set(b.map(O=>O.path));o(O=>{if(O.length===0)return O;const T=O.filter(L=>N.has(L));return T.length===O.length?O:T})},[b]),{methodFilters:t,statusFilters:s,pathFilters:r,methodFilterSet:l,statusFilterSet:u,pathFilterSet:h,hasStructuredFilters:m,methodCounts:g,statusCounts:_,pathOptions:b,toggleMethodFilter:N=>{i(O=>O.includes(N)?O.filter(T=>T!==N):[...O,N])},toggleStatusFilter:N=>{a(O=>O.includes(N)?O.filter(T=>T!==N):[...O,N])},togglePathFilter:N=>{o(O=>O.includes(N)?O.filter(T=>T!==N):[...O,N])},clearStructuredFilters:()=>{i([]),a([]),o([])}}}const Eke=200,jke=72,Dke=n=>n?n.scrollHeight-n.scrollTop-n.clientHeight<=24:!0;function Fke(n){const{logState:e,setLogState:t,loading:i,isSearching:s,filteredLineCount:a,hasStructuredFilters:r,showRawLogs:o}=n,l=w.useRef(null),u=w.useRef(!1),h=w.useRef(null),m=!s&&e.visibleFrom>0,g=w.useCallback(()=>{const C=l.current;C&&(C.scrollTop=C.scrollHeight)},[]),_=w.useCallback(()=>{u.current=!0},[]),b=w.useCallback(()=>{const C=l.current;C&&(h.current||s||t(k=>k.visibleFrom<=0?k:(h.current={scrollHeight:C.scrollHeight,scrollTop:C.scrollTop},{...k,visibleFrom:Math.max(k.visibleFrom-Eke,0)})))},[s,t]),x=w.useCallback(C=>{const k=l.current;k&&(s||m&&(h.current||k.scrollTop>jke||b()))},[m,s,b]);w.useLayoutEffect(()=>{const C=l.current,k=h.current;if(!C||!k)return;const N=C.scrollHeight-k.scrollHeight;C.scrollTop=k.scrollTop+N,h.current=null},[e.visibleFrom]);const v=w.useCallback(()=>{const C=l.current;!C||!m||s||h.current||C.scrollHeight>C.clientHeight+1||b()},[m,s,b]);return w.useEffect(()=>{if(i||!l.current)return;const k=window.requestAnimationFrame(()=>{v()});return()=>{window.cancelAnimationFrame(k)}},[a,r,i,e.visibleFrom,o,v]),w.useEffect(()=>{const C=()=>{window.requestAnimationFrame(()=>{v()})};return window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[v]),w.useEffect(()=>{u.current&&(i||l.current&&(g(),u.current=!1))},[i,e.buffer,e.visibleFrom,g]),{logViewerRef:l,canLoadMore:m,handleLogScroll:x,scrollToBottom:g,requestScrollToBottom:_}}const Uke=60*1e3,Bke=3*1e3,Ike=10*1e3,j4=30*1e3,zke=new Set(["/v1/chat/completions","/v1/messages","/v1/responses"]),qke=["/v1beta/models"],Dk=n=>String(n??"").replace(/^"+|"+$/g,"").split("?")[0].trim(),Kke=n=>{const e=Dk(n);return!e||e==="/"?e:e.replace(/\/+$/,"")},s7=n=>{const e=Kke(n);return e?zke.has(e)?!0:qke.some(t=>e.startsWith(t)):!1},Hke=(n,e)=>{let t=0,i=null;const s=n.timestamp?Date.parse(n.timestamp):Number.NaN,a=e.__timestampMs;!Number.isNaN(s)&&a>0&&(i=Math.abs(s-a),i<=Bke?t+=42:i<=Ike?t+=30:i<=j4?t+=12:t-=12);let r=!1;n.method&&e.__endpointMethod&&(n.method.toUpperCase()===e.__endpointMethod.toUpperCase()?(t+=18,r=!0):t-=8);const o=Dk(n.path),l=Dk(e.__endpointPath);let u=!1;if(o&&l&&(o===l?(t+=24,u=!0):o.startsWith(l)||l.startsWith(o)?(t+=12,u=!0):t-=8),typeof n.statusCode=="number"){const m=n.statusCode>=400;t+=m===e.failed?10:-6}if(i!==null&&i>j4&&!r&&!u||t<=0)return null;const h=t>=70?"high":t>=45?"medium":"low";return{detail:e,score:t,confidence:h,timeDeltaMs:i}},Vke=n=>{if(n instanceof Error)return n.message;if(typeof n=="string")return n;if(typeof n!="object"||n===null||!("message"in n))return"";const e=n.message;return typeof e=="string"?e:""};function Wke(n){const{traceScopeKey:e,connectionStatus:t,config:i,requestLogDownloading:s}=n,{t:a}=Ze(),r=ms(H=>H.usage),o=ms(H=>H.scopeKey),l=ms(H=>H.loadUsageStats),[u,h]=w.useState(null),[m,g]=w.useState(new Map),[_,b]=w.useState(!1),[x,v]=w.useState(""),C=w.useRef(0),k=w.useRef(""),N=o===e?r:null,O=w.useMemo(()=>b$(N),[N]),T=w.useMemo(()=>U8(i??{}),[i]),L=w.useCallback(async H=>{if(k.current!==e&&(k.current=e,C.current=0,g(new Map),v("")),_)return;const Z=Date.now(),Y=C.current>0&&Z-C.current<Uke;b(!0),v("");try{const[,I]=await Promise.all([l({force:H,staleTimeMs:Wo}),Y?Promise.resolve(null):At.list().catch(()=>null)]);if(I!==null){const K=Array.isArray(I)?I:I?.files;if(Array.isArray(K)){const V=new Map;K.forEach($=>{const W=ws($.auth_index??$.authIndex);W&&V.set(W,{name:$.name||W,type:($.type||$.provider||"").toString()})}),g(V),C.current=Date.now()}}}catch(I){v(Vke(I)||a("logs.trace_usage_load_error"))}finally{b(!1)}},[l,a,_,e]),M=w.useCallback(async()=>{await L(!1)},[L]),P=w.useCallback(async()=>{await L(!0)},[L]);w.useEffect(()=>{t==="connected"&&(k.current=e,C.current=0,g(new Map),b(!1),v(""))},[t,e]);const R=w.useMemo(()=>u?O.map(Z=>Hke(u,Z)).filter(Z=>Z!==null).sort((Z,Y)=>{if(Y.score!==Z.score)return Y.score-Z.score;const I=Z.timeDeltaMs??Number.MAX_SAFE_INTEGER,K=Y.timeDeltaMs??Number.MAX_SAFE_INTEGER;return I-K}).slice(0,8):[],[u,O]),D=w.useCallback((H,Z)=>B8(H,Z,T,m),[m,T]),U=w.useCallback(H=>{s7(H.path)&&(v(""),h(H),M())},[M]),F=w.useCallback(()=>{s||h(null)},[s]);return{traceLogLine:u,traceLoading:_,traceError:x,traceCandidates:R,resolveTraceSourceInfo:D,loadTraceUsageDetails:M,refreshTraceUsageDetails:P,openTraceModal:U,closeTraceModal:F}}const Gke="LogsPage-module__container___aQ0JL",Xke="LogsPage-module__pageTitle___vZY55",$ke="LogsPage-module__tabBar___bI3hW",Qke="LogsPage-module__tabItem___5tb4J",Yke="LogsPage-module__tabActive___JjbWX",Zke="LogsPage-module__content___hGaGn",Jke="LogsPage-module__logCard___KG4Jd",eCe="LogsPage-module__toolbar___9dY5F",tCe="LogsPage-module__filters___nUahU",nCe="LogsPage-module__searchWrapper___mrEmr",iCe="LogsPage-module__structuredFilters___fW4v7",sCe="LogsPage-module__filterChipGroup___bbPoy",aCe="LogsPage-module__filterChipLabel___jy0D3",rCe="LogsPage-module__filterChipList___hHeOY",oCe="LogsPage-module__filterChip___Efqh7",lCe="LogsPage-module__filterChipActive___8S8ki",cCe="LogsPage-module__filterChipHint___shcVo",uCe="LogsPage-module__searchInput___eoPij",dCe="LogsPage-module__searchIcon___73cvF",hCe="LogsPage-module__searchClear___yTM1y",fCe="LogsPage-module__actionButton___aYJPR",mCe="LogsPage-module__buttonContent___qjHrB",pCe="LogsPage-module__switchLabel___EfB3d",gCe="LogsPage-module__logPanel___2wjiP",_Ce="LogsPage-module__errorPanel___0w-se",yCe="LogsPage-module__loadMoreBanner___BUD0t",bCe="LogsPage-module__loadMoreCount___UsdBd",xCe="LogsPage-module__loadMoreStats___e9bVk",vCe="LogsPage-module__logList___lFt6f",SCe="LogsPage-module__rawLog___F5YBd",wCe="LogsPage-module__logRow___rxZS5",kCe="LogsPage-module__rowWarn___Lhg4M",CCe="LogsPage-module__rowError___XQ3Qi",ACe="LogsPage-module__timestamp___TZvLq",TCe="LogsPage-module__rowMain___f--We",NCe="LogsPage-module__badge___tR566",MCe="LogsPage-module__pill___vGA2z",OCe="LogsPage-module__source___nv7Zu",LCe="LogsPage-module__requestIdBadge___yPO1b",PCe="LogsPage-module__statusBadge___hj08j",RCe="LogsPage-module__statusSuccess___3llcn",ECe="LogsPage-module__statusInfo___B6DaE",jCe="LogsPage-module__statusWarn___1Dwki",DCe="LogsPage-module__statusError___xxTDc",FCe="LogsPage-module__levelInfo___oZMOp",UCe="LogsPage-module__levelWarn___DsCD0",BCe="LogsPage-module__levelError___8VjWc",ICe="LogsPage-module__levelDebug___l-5yk",zCe="LogsPage-module__levelTrace___XvRLF",qCe="LogsPage-module__methodBadge___Cf9jC",KCe="LogsPage-module__path___frHAs",HCe="LogsPage-module__message___bNHRw",VCe="LogsPage-module__traceButton___TpMAt",WCe="LogsPage-module__tracePanel___qLlvU",GCe="LogsPage-module__traceNotice___brNFz",XCe="LogsPage-module__traceSectionTitle___oZ-a0",$Ce="LogsPage-module__traceCandidatesHeader___b8sav",QCe="LogsPage-module__traceInfoGrid___7bY40",YCe="LogsPage-module__traceInfoItem___ydd7g",ZCe="LogsPage-module__traceInfoItemWide___pmNic",JCe="LogsPage-module__traceInfoLabel___zidDI",eAe="LogsPage-module__traceInfoValue___3AiSj",tAe="LogsPage-module__traceSourceType___4TLzV",nAe="LogsPage-module__traceCandidates___TbNAE",iAe="LogsPage-module__traceCandidate___jBw7W",sAe="LogsPage-module__traceCandidateHeader___daeEH",aAe="LogsPage-module__traceConfidenceBadge___N4bwS",rAe="LogsPage-module__traceConfidenceHigh___3jA6L",oAe="LogsPage-module__traceConfidenceMedium___wVoxs",lAe="LogsPage-module__traceConfidenceLow___YGaSl",cAe="LogsPage-module__traceScore___SRa4N",uAe="LogsPage-module__traceDelta___gfgPb",dAe="LogsPage-module__traceCandidateGrid___qPwow",Se={container:Gke,pageTitle:Xke,tabBar:$ke,tabItem:Qke,tabActive:Yke,content:Zke,logCard:Jke,toolbar:eCe,filters:tCe,searchWrapper:nCe,structuredFilters:iCe,filterChipGroup:sCe,filterChipLabel:aCe,filterChipList:rCe,filterChip:oCe,filterChipActive:lCe,filterChipHint:cCe,searchInput:uCe,searchIcon:dCe,searchClear:hCe,actionButton:fCe,buttonContent:mCe,switchLabel:pCe,logPanel:gCe,errorPanel:_Ce,loadMoreBanner:yCe,loadMoreCount:bCe,loadMoreStats:xCe,logList:vCe,rawLog:SCe,logRow:wCe,rowWarn:kCe,rowError:CCe,timestamp:ACe,rowMain:TCe,badge:NCe,pill:MCe,source:OCe,requestIdBadge:LCe,statusBadge:PCe,statusSuccess:RCe,statusInfo:ECe,statusWarn:jCe,statusError:DCe,levelInfo:FCe,levelWarn:UCe,levelError:BCe,levelDebug:ICe,levelTrace:zCe,methodBadge:qCe,path:KCe,message:HCe,traceButton:VCe,tracePanel:WCe,traceNotice:GCe,traceSectionTitle:XCe,traceCandidatesHeader:$Ce,traceInfoGrid:QCe,traceInfoItem:YCe,traceInfoItemWide:ZCe,traceInfoLabel:JCe,traceInfoValue:eAe,traceSourceType:tAe,traceCandidates:nAe,traceCandidate:iAe,traceCandidateHeader:sAe,traceConfidenceBadge:aAe,traceConfidenceHigh:rAe,traceConfidenceMedium:oAe,traceConfidenceLow:lAe,traceScore:cAe,traceDelta:uAe,traceCandidateGrid:dAe},hAe=100,D4=1e4,fAe=650,F4=10,lm=n=>{if(n instanceof Error)return n.message;if(typeof n=="string")return n;if(typeof n!="object"||n===null||!("message"in n))return"";const e=n.message;return typeof e=="string"?e:""};function mAe(){const{t:n}=Ze(),{showNotification:e,showConfirmation:t}=un(),i=Kt(ce=>ce.connectionStatus),s=Kt(ce=>ce.apiBase),a=Kt(ce=>ce.managementKey),r=`${s}::${a}`,o=Dt(ce=>ce.config),l=o?.requestLog??!1,[u,h]=w.useState("logs"),[m,g]=w.useState({buffer:[],visibleFrom:0}),[_,b]=w.useState(!0),[x,v]=w.useState(""),[C,k]=w.useState(!1),[N,O]=w.useState(""),T=w.useDeferredValue(N),[L,M]=w.useState(!0),[P,R]=w.useState(!1),[D,U]=w.useState([]),[F,H]=w.useState(!1),[Z,Y]=w.useState(""),[I,K]=w.useState(null),[V,$]=w.useState(!1),W=Wke({traceScopeKey:r,connectionStatus:i,config:o,requestLogDownloading:V}),j=w.useRef(null),B=w.useRef(null),X=w.useRef(!1),te=w.useRef(!1),Q=w.useRef(0),G=i!=="connected",ne=async(ce=!1)=>{if(i!=="connected"){b(!1);return}if(X.current){ce||(te.current=!0);return}X.current=!0,ce||b(!0),v("");try{const He=j.current,Nt=!ce||Dke(He?.logViewerRef.current??null);Nt&&He?.requestScrollToBottom();const Ut=ce&&Q.current>0?{after:Q.current}:{},Mn=await Kf.fetchLogs(Ut);Mn["latest-timestamp"]&&(Q.current=Mn["latest-timestamp"]);const Rn=Array.isArray(Mn.lines)?Mn.lines:[];if(ce&&Rn.length>0)g(Vi=>{const Ya=Vi.buffer.length-Vi.visibleFrom,Gs=[...Vi.buffer,...Rn],Ai=Math.max(Gs.length-D4,0),ks=Ai>0?Gs.slice(Ai):Gs;let os=Math.max(Vi.visibleFrom-Ai,0);return Nt&&(os=Math.max(ks.length-Ya,0)),{buffer:ks,visibleFrom:os}});else if(!ce){const Vi=Rn.slice(-D4),Ya=Math.max(Vi.length-hAe,0);g({buffer:Vi,visibleFrom:Ya})}}catch(He){console.error("Failed to load logs:",He),ce||v(lm(He)||n("logs.load_error"))}finally{ce||b(!1),X.current=!1,te.current&&(te.current=!1,ne(!1))}};ng(()=>ne(!1));const J=async()=>{t({title:n("logs.clear_confirm_title",{defaultValue:"Clear Logs"}),message:n("logs.clear_confirm"),variant:"danger",confirmText:n("common.confirm"),onConfirm:async()=>{try{await Kf.clearLogs(),g({buffer:[],visibleFrom:0}),Q.current=0,e(n("logs.clear_success"),"success")}catch(ce){const He=lm(ce);e(`${n("notification.delete_failed")}${He?`: ${He}`:""}`,"error")}}})},re=()=>{const ce=m.buffer.join(`
`);du({filename:"logs.txt",blob:new Blob([ce],{type:"text/plain"})}),e(n("logs.download_success"),"success")},de=async()=>{if(i!=="connected"){H(!1);return}H(!0),Y("");try{const ce=await Kf.fetchErrorLogs();U(Array.isArray(ce.files)?ce.files:[])}catch(ce){console.error("Failed to load error logs:",ce),U([]);const He=lm(ce);Y(He?`${n("logs.error_logs_load_error")}: ${He}`:n("logs.error_logs_load_error"))}finally{H(!1)}},Le=async ce=>{try{const He=await Kf.downloadErrorLog(ce);du({filename:ce,blob:new Blob([He.data],{type:"text/plain"})}),e(n("logs.error_log_download_success"),"success")}catch(He){const Nt=lm(He);e(`${n("notification.download_failed")}${Nt?`: ${Nt}`:""}`,"error")}};w.useEffect(()=>{i==="connected"&&(Q.current=0,ne(!1))},[i]),w.useEffect(()=>{u==="errors"&&i==="connected"&&de()},[u,i,l]),w.useEffect(()=>{if(!C||i!=="connected")return;const ce=window.setInterval(()=>{ne(!0)},8e3);return()=>window.clearInterval(ce)},[C,i]);const ke=w.useMemo(()=>m.buffer.slice(m.visibleFrom),[m.buffer,m.visibleFrom]),nt=T.trim(),_t=nt.length>0,Ft=_t?m.buffer:ke,Ee=w.useMemo(()=>{let ce=Ft;if(L&&(ce=ce.filter(He=>!He.includes(IS))),nt){const He=nt.toLowerCase();ce=ce.filter(Nt=>Nt.toLowerCase().includes(He))}return ce.map(He=>Lke(He))},[Ft,L,nt]),Ye=Rke({parsedLines:Ee}),{filteredParsedLines:Lt,filteredLines:me,removedCount:Ie}=w.useMemo(()=>{const ce=Ee.filter(He=>{if(Ye.methodFilterSet.size>0&&(!He.method||!Ye.methodFilterSet.has(He.method)))return!1;const Nt=n7(He.statusCode);return!(Ye.statusFilterSet.size>0&&(!Nt||!Ye.statusFilterSet.has(Nt))||Ye.pathFilterSet.size>0&&(!He.path||!Ye.pathFilterSet.has(He.path)))});return{filteredParsedLines:ce,filteredLines:ce.map(He=>He.raw),removedCount:Math.max(Ft.length-ce.length,0)}},[Ft,Ye.methodFilterSet,Ye.pathFilterSet,Ye.statusFilterSet,Ee]),Je=w.useMemo(()=>P?[]:Lt,[Lt,P]),ct=w.useMemo(()=>me.join(`
`),[me]),le=Fke({logState:m,setLogState:g,loading:_,isSearching:_t,filteredLineCount:me.length,hasStructuredFilters:Ye.hasStructuredFilters,showRawLogs:P});j.current=le;const _e=async ce=>{await Xb(ce)?e(n("logs.copy_success",{defaultValue:"Copied to clipboard"}),"success"):e(n("logs.copy_failed",{defaultValue:"Copy failed"}),"error")},Pe=()=>{B.current?.timer&&(window.clearTimeout(B.current.timer),B.current.timer=null)},$e=(ce,He)=>{l&&He&&(I||(Pe(),B.current={timer:window.setTimeout(()=>{K(He),B.current&&(B.current.fired=!0,B.current.timer=null)},fAe),startX:ce.clientX,startY:ce.clientY,fired:!1}))},yt=()=>{Pe(),B.current=null},bt=ce=>{const He=B.current;if(!He||He.timer===null||He.fired)return;const Nt=Math.abs(ce.clientX-He.startX),Ut=Math.abs(ce.clientY-He.startY);(Nt>F4||Ut>F4)&&yt()},pt=()=>{V||K(null)},hn=async ce=>{$(!0);try{const He=await Kf.downloadRequestLogById(ce);du({filename:`request-${ce}.log`,blob:new Blob([He.data],{type:"text/plain"})}),e(n("logs.request_log_download_success"),"success"),K(null)}catch(He){const Nt=lm(He);e(`${n("notification.download_failed")}${Nt?`: ${Nt}`:""}`,"error")}finally{$(!1)}};return w.useEffect(()=>()=>{B.current?.timer&&(window.clearTimeout(B.current.timer),B.current.timer=null)},[]),f.jsxs("div",{className:Se.container,children:[f.jsx("h1",{className:Se.pageTitle,children:n("logs.title")}),f.jsxs("div",{className:Se.tabBar,children:[f.jsx("button",{type:"button",className:`${Se.tabItem} ${u==="logs"?Se.tabActive:""}`,onClick:()=>h("logs"),children:n("logs.log_content")}),f.jsx("button",{type:"button",className:`${Se.tabItem} ${u==="errors"?Se.tabActive:""}`,onClick:()=>h("errors"),children:n("logs.error_logs_modal_title")})]}),f.jsxs("div",{className:Se.content,children:[u==="logs"&&f.jsxs(wt,{className:Se.logCard,children:[x&&f.jsx("div",{className:"error-box",children:x}),f.jsxs("div",{className:Se.filters,children:[f.jsx("div",{className:Se.searchWrapper,children:f.jsx(st,{value:N,onChange:ce=>O(ce.target.value),placeholder:n("logs.search_placeholder"),className:Se.searchInput,rightElement:N?f.jsx("button",{type:"button",className:Se.searchClear,onClick:()=>O(""),title:"Clear","aria-label":"Clear",children:f.jsx(Mu,{size:16})}):f.jsx(DD,{size:16,className:Se.searchIcon})})}),f.jsxs("div",{className:Se.structuredFilters,children:[f.jsxs("div",{className:Se.filterChipGroup,children:[f.jsx("span",{className:Se.filterChipLabel,children:n("logs.filter_method")}),f.jsx("div",{className:Se.filterChipList,children:eT.map(ce=>{const He=Ye.methodFilters.includes(ce),Nt=Ye.methodCounts[ce]??0;return f.jsxs("button",{type:"button",className:`${Se.filterChip} ${He?Se.filterChipActive:""}`,onClick:()=>Ye.toggleMethodFilter(ce),disabled:Nt===0&&!He,"aria-pressed":He,children:[ce," (",Nt,")"]},ce)})})]}),f.jsxs("div",{className:Se.filterChipGroup,children:[f.jsx("span",{className:Se.filterChipLabel,children:n("logs.filter_status")}),f.jsx("div",{className:Se.filterChipList,children:xke.map(ce=>{const He=Ye.statusFilters.includes(ce),Nt=Ye.statusCounts[ce]??0;return f.jsxs("button",{type:"button",className:`${Se.filterChip} ${He?Se.filterChipActive:""}`,onClick:()=>Ye.toggleStatusFilter(ce),disabled:Nt===0&&!He,"aria-pressed":He,children:[n(`logs.filter_status_${ce}`)," (",Nt,")"]},ce)})})]}),f.jsxs("div",{className:Se.filterChipGroup,children:[f.jsx("span",{className:Se.filterChipLabel,children:n("logs.filter_path")}),f.jsx("div",{className:Se.filterChipList,children:Ye.pathOptions.length===0?f.jsx("span",{className:Se.filterChipHint,children:n("logs.filter_path_empty")}):Ye.pathOptions.map(({path:ce,count:He})=>{const Nt=Ye.pathFilters.includes(ce);return f.jsxs("button",{type:"button",className:`${Se.filterChip} ${Nt?Se.filterChipActive:""}`,onClick:()=>Ye.togglePathFilter(ce),"aria-pressed":Nt,title:ce,children:[ce," (",He,")"]},ce)})})]}),f.jsx(he,{variant:"ghost",size:"sm",onClick:Ye.clearStructuredFilters,disabled:!Ye.hasStructuredFilters,children:n("logs.clear_filters")})]}),f.jsx(ts,{checked:L,onChange:M,label:f.jsxs("span",{className:Se.switchLabel,children:[f.jsx(FD,{size:16}),n("logs.hide_management_logs",{prefix:IS})]})}),f.jsx(ts,{checked:P,onChange:R,label:f.jsxs("span",{className:Se.switchLabel,title:n("logs.show_raw_logs_hint",{defaultValue:"Show original log text for easier multi-line copy"}),children:[f.jsx(Jk,{size:16}),n("logs.show_raw_logs",{defaultValue:"Show raw logs"})]})}),f.jsxs("div",{className:Se.toolbar,children:[f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>ne(!1),disabled:G||_,className:Se.actionButton,children:f.jsxs("span",{className:Se.buttonContent,children:[f.jsx($k,{size:16}),n("logs.refresh_button")]})}),f.jsx(ts,{checked:C,onChange:ce=>k(ce),disabled:G,label:f.jsxs("span",{className:Se.switchLabel,children:[f.jsx(Zk,{size:16}),n("logs.auto_refresh")]})}),f.jsx(he,{variant:"secondary",size:"sm",onClick:re,disabled:m.buffer.length===0,className:Se.actionButton,children:f.jsxs("span",{className:Se.buttonContent,children:[f.jsx(ED,{size:16}),n("logs.download_button")]})}),f.jsx(he,{variant:"danger",size:"sm",onClick:J,disabled:G,className:Se.actionButton,children:f.jsxs("span",{className:Se.buttonContent,children:[f.jsx(jb,{size:16}),n("logs.clear_button")]})})]})]}),_?f.jsx("div",{className:"hint",children:n("logs.loading")}):m.buffer.length>0&&me.length>0?f.jsxs("div",{ref:le.logViewerRef,className:Se.logPanel,onScroll:le.handleLogScroll,children:[le.canLoadMore&&f.jsxs("div",{className:Se.loadMoreBanner,children:[f.jsx("span",{children:n("logs.load_more_hint")}),f.jsxs("div",{className:Se.loadMoreStats,children:[f.jsx("span",{children:n("logs.loaded_lines",{count:me.length})}),Ie>0&&f.jsx("span",{className:Se.loadMoreCount,children:n("logs.filtered_lines",{count:Ie})}),f.jsx("span",{className:Se.loadMoreCount,children:n("logs.hidden_lines",{count:m.visibleFrom})})]})]}),P?f.jsx("pre",{className:Se.rawLog,spellCheck:!1,children:ct}):f.jsx("div",{className:Se.logList,children:Je.map((ce,He)=>{const Nt=s7(ce.path),Ut=[Se.logRow];return ce.level==="warn"&&Ut.push(Se.rowWarn),(ce.level==="error"||ce.level==="fatal")&&Ut.push(Se.rowError),f.jsxs("div",{className:Ut.join(" "),onDoubleClick:()=>{_e(ce.raw)},onPointerDown:Mn=>$e(Mn,ce.requestId),onPointerUp:yt,onPointerLeave:yt,onPointerCancel:yt,onPointerMove:bt,title:n("logs.double_click_copy_hint",{defaultValue:"Double-click to copy"}),children:[f.jsx("div",{className:Se.timestamp,children:ce.timestamp||""}),f.jsxs("div",{className:Se.rowMain,children:[ce.level&&f.jsx("span",{className:[Se.badge,ce.level==="info"?Se.levelInfo:"",ce.level==="warn"?Se.levelWarn:"",ce.level==="error"||ce.level==="fatal"?Se.levelError:"",ce.level==="debug"?Se.levelDebug:"",ce.level==="trace"?Se.levelTrace:""].filter(Boolean).join(" "),children:ce.level.toUpperCase()}),ce.source&&f.jsx("span",{className:Se.source,title:ce.source,children:ce.source}),ce.requestId&&f.jsx("span",{className:[Se.badge,Se.requestIdBadge].join(" "),title:ce.requestId,children:ce.requestId}),typeof ce.statusCode=="number"&&f.jsx("span",{className:[Se.badge,Se.statusBadge,ce.statusCode>=200&&ce.statusCode<300?Se.statusSuccess:ce.statusCode>=300&&ce.statusCode<400?Se.statusInfo:ce.statusCode>=400&&ce.statusCode<500?Se.statusWarn:Se.statusError].join(" "),children:ce.statusCode}),ce.latency&&f.jsx("span",{className:Se.pill,children:ce.latency}),ce.ip&&f.jsx("span",{className:Se.pill,children:ce.ip}),ce.method&&f.jsx("span",{className:[Se.badge,Se.methodBadge].join(" "),children:ce.method}),ce.path&&f.jsx("span",{className:Se.path,title:ce.path,children:ce.path}),ce.message&&f.jsx("span",{className:Se.message,children:ce.message}),Nt&&f.jsx("button",{type:"button",className:Se.traceButton,onClick:Mn=>{Mn.stopPropagation(),yt(),W.openTraceModal(ce)},title:n("logs.trace_button"),children:n("logs.trace_button")})]})]},`${m.visibleFrom+He}-${ce.raw}`)})})]}):m.buffer.length>0?f.jsx(ns,{title:n("logs.search_empty_title"),description:n("logs.search_empty_desc")}):f.jsx(ns,{title:n("logs.empty_title"),description:n("logs.empty_desc")})]}),u==="errors"&&f.jsx(wt,{extra:f.jsx(he,{variant:"secondary",size:"sm",onClick:de,loading:F,disabled:G,children:n("common.refresh")}),children:f.jsxs("div",{className:"stack",children:[f.jsx("div",{className:"hint",children:n("logs.error_logs_description")}),l&&f.jsx("div",{children:f.jsx("div",{className:"status-badge warning",children:n("logs.error_logs_request_log_enabled")})}),Z&&f.jsx("div",{className:"error-box",children:Z}),f.jsx("div",{className:Se.errorPanel,children:F?f.jsx("div",{className:"hint",children:n("common.loading")}):D.length===0?f.jsx("div",{className:"hint",children:n("logs.error_logs_empty")}):f.jsx("div",{className:"item-list",children:D.map(ce=>f.jsxs("div",{className:"item-row",children:[f.jsxs("div",{className:"item-meta",children:[f.jsx("div",{className:"item-title",children:ce.name}),f.jsxs("div",{className:"item-subtitle",children:[ce.size?`${(ce.size/1024).toFixed(1)} KB`:""," ",ce.modified?h$(ce.modified):""]})]}),f.jsx("div",{className:"item-actions",children:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>Le(ce.name),disabled:G,children:n("logs.error_logs_download")})})]},ce.name))})})]})})]}),f.jsx(is,{open:!!W.traceLogLine,onClose:W.closeTraceModal,title:n("logs.trace_title"),footer:f.jsxs(f.Fragment,{children:[W.traceLogLine?.requestId&&f.jsx(he,{variant:"secondary",onClick:()=>{W.traceLogLine?.requestId&&hn(W.traceLogLine.requestId)},loading:V,children:n("logs.trace_download_request_log")}),f.jsx(he,{variant:"secondary",onClick:W.closeTraceModal,disabled:V,children:n("common.close")})]}),children:W.traceLogLine&&f.jsxs("div",{className:Se.tracePanel,children:[f.jsx("div",{className:Se.traceNotice,children:n("logs.trace_notice")}),f.jsx("h3",{className:Se.traceSectionTitle,children:n("logs.trace_log_info")}),f.jsxs("div",{className:Se.traceInfoGrid,children:[f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_request_id")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.requestId||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_method")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.method||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_path")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.path||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_status_code")}),f.jsx("span",{className:Se.traceInfoValue,children:typeof W.traceLogLine.statusCode=="number"?W.traceLogLine.statusCode:"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_latency")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.latency||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_ip")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.ip||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_timestamp")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.timestamp||"-"})]}),f.jsxs("div",{className:`${Se.traceInfoItem} ${Se.traceInfoItemWide}`,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_message")}),f.jsx("span",{className:Se.traceInfoValue,children:W.traceLogLine.message||"-"})]})]}),f.jsxs("div",{className:Se.traceCandidatesHeader,children:[f.jsx("h3",{className:Se.traceSectionTitle,children:n("logs.trace_candidates_title")}),f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>{W.refreshTraceUsageDetails().catch(()=>{})},loading:W.traceLoading,disabled:V,children:n("common.refresh")})]}),W.traceLoading?f.jsx("div",{className:"hint",children:n("logs.trace_loading")}):W.traceError?f.jsx("div",{className:"error-box",children:W.traceError}):W.traceCandidates.length===0?f.jsx("div",{className:"hint",children:n("logs.trace_no_match")}):f.jsx("div",{className:Se.traceCandidates,children:W.traceCandidates.map(ce=>{const He=ce.confidence==="high"?Se.traceConfidenceHigh:ce.confidence==="medium"?Se.traceConfidenceMedium:Se.traceConfidenceLow,Nt=W.resolveTraceSourceInfo(String(ce.detail.source??""),ce.detail.auth_index);return f.jsxs("div",{className:Se.traceCandidate,children:[f.jsxs("div",{className:Se.traceCandidateHeader,children:[f.jsx("span",{className:`${Se.traceConfidenceBadge} ${He}`,children:n(`logs.trace_confidence_${ce.confidence}`)}),f.jsx("span",{className:Se.traceScore,children:n("logs.trace_score",{score:ce.score})}),ce.timeDeltaMs!==null&&f.jsx("span",{className:Se.traceDelta,children:n("logs.trace_delta_seconds",{seconds:(ce.timeDeltaMs/1e3).toFixed(2)})})]}),f.jsxs("div",{className:Se.traceCandidateGrid,children:[f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_endpoint")}),f.jsx("span",{className:Se.traceInfoValue,children:ce.detail.__endpoint})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_model")}),f.jsx("span",{className:Se.traceInfoValue,children:ce.detail.__modelName||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_source")}),f.jsxs("span",{className:Se.traceInfoValue,title:String(ce.detail.source||"-"),children:[f.jsx("span",{children:Nt.displayName}),Nt.type&&f.jsx("span",{className:Se.traceSourceType,children:Nt.type})]})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_auth_index")}),f.jsx("span",{className:Se.traceInfoValue,children:ce.detail.auth_index??"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_timestamp")}),f.jsx("span",{className:Se.traceInfoValue,children:ce.detail.timestamp||"-"})]}),f.jsxs("div",{className:Se.traceInfoItem,children:[f.jsx("span",{className:Se.traceInfoLabel,children:n("logs.trace_result")}),f.jsx("span",{className:Se.traceInfoValue,children:ce.detail.failed?n("stats.failure"):n("stats.success")})]})]})]},`${ce.detail.__endpoint}-${ce.detail.__modelName}-${ce.detail.timestamp}-${ce.detail.source}`)})})]})}),f.jsx(is,{open:!!I,onClose:pt,title:n("logs.request_log_download_title"),footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:pt,disabled:V,children:n("common.cancel")}),f.jsx(he,{onClick:()=>{I&&hn(I)},loading:V,disabled:!I,children:n("common.confirm")})]}),children:I?n("logs.request_log_download_confirm",{id:I}):null})]})}const pAe="data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eZhipu%3c/title%3e%3cpath%20d='M11.991%2023.503a.24.24%200%2000-.244.248.24.24%200%2000.244.249.24.24%200%2000.245-.249.24.24%200%2000-.22-.247l-.025-.001zM9.671%205.365a1.697%201.697%200%20011.099%202.132l-.071.172-.016.04-.018.054c-.07.16-.104.32-.104.498-.035.71.47%201.279%201.186%201.314h.366c1.309.053%202.338%201.173%202.286%202.523-.052%201.332-1.152%202.38-2.478%202.327h-.174c-.715.018-1.274.64-1.239%201.368%200%20.124.018.23.053.337.209.373.54.658.96.8.75.23%201.517-.125%201.9-.782l.018-.035c.402-.64%201.17-.96%201.92-.711.854.284%201.378%201.226%201.099%202.167a1.661%201.661%200%2001-2.077%201.102%201.711%201.711%200%2001-.907-.711l-.017-.035c-.2-.323-.463-.58-.851-.711l-.056-.018a1.646%201.646%200%2000-1.954.746%201.66%201.66%200%2001-1.065.764%201.677%201.677%200%2001-1.989-1.279c-.209-.906.332-1.83%201.257-2.043a1.51%201.51%200%2001.296-.035h.018c.68-.071%201.151-.622%201.116-1.333a1.307%201.307%200%2000-.227-.693%202.515%202.515%200%2001-.366-1.403%202.39%202.39%200%2001.366-1.208c.14-.195.21-.444.227-.693.018-.71-.506-1.261-1.186-1.332l-.07-.018a1.43%201.43%200%2001-.299-.07l-.05-.019a1.7%201.7%200%2001-1.047-2.114%201.68%201.68%200%20012.094-1.101zm-5.575%2010.11c.26-.264.639-.367.994-.27.355.096.633.379.728.74.095.362-.007.748-.267%201.013-.402.41-1.053.41-1.455%200a1.062%201.062%200%20010-1.482zm14.845-.294c.359-.09.738.024.992.297.254.274.344.665.237%201.025-.107.36-.396.634-.756.718-.551.128-1.1-.22-1.23-.781a1.05%201.05%200%2001.757-1.26zm-.064-4.39c.314.32.49.753.49%201.206%200%20.452-.176.886-.49%201.206-.315.32-.74.5-1.185.5-.444%200-.87-.18-1.184-.5a1.727%201.727%200%20010-2.412%201.654%201.654%200%20012.369%200zm-11.243.163c.364.484.447%201.128.218%201.691a1.665%201.665%200%2001-2.188.923c-.855-.36-1.26-1.358-.907-2.228a1.68%201.68%200%20011.33-1.038c.593-.08%201.183.169%201.547.652zm11.545-4.221c.368%200%20.708.2.892.524.184.324.184.724%200%201.048a1.026%201.026%200%2001-.892.524c-.568%200-1.03-.47-1.03-1.048%200-.579.462-1.048%201.03-1.048zm-14.358%200c.368%200%20.707.2.891.524.184.324.184.724%200%201.048a1.026%201.026%200%2001-.891.524c-.569%200-1.03-.47-1.03-1.048%200-.579.461-1.048%201.03-1.048zm10.031-1.475c.925%200%201.675.764%201.675%201.706s-.75%201.705-1.675%201.705-1.674-.763-1.674-1.705c0-.942.75-1.706%201.674-1.706zm-2.626-.684c.362-.082.653-.356.761-.718a1.062%201.062%200%2000-.238-1.028%201.017%201.017%200%2000-.996-.294c-.547.14-.881.7-.752%201.257.13.558.675.907%201.225.783zm0%2016.876c.359-.087.644-.36.75-.72a1.062%201.062%200%2000-.237-1.019%201.018%201.018%200%2000-.985-.301%201.037%201.037%200%2000-.762.717c-.108.361-.017.754.239%201.028.245.263.606.377.953.305l.043-.01zM17.19%203.5a.631.631%200%2000.628-.64c0-.355-.279-.64-.628-.64a.631.631%200%2000-.628.64c0%20.355.28.64.628.64zm-10.38%200a.631.631%200%2000.628-.64c0-.355-.28-.64-.628-.64a.631.631%200%2000-.628.64c0%20.355.279.64.628.64zm-5.182%207.852a.631.631%200%2000-.628.64c0%20.354.28.639.628.639a.63.63%200%2000.627-.606l.001-.034a.62.62%200%2000-.628-.64zm5.182%209.13a.631.631%200%2000-.628.64c0%20.355.279.64.628.64a.631.631%200%2000.628-.64c0-.355-.28-.64-.628-.64zm10.38.018a.631.631%200%2000-.628.64c0%20.355.28.64.628.64a.631.631%200%2000.628-.64c0-.355-.279-.64-.628-.64zm5.182-9.148a.631.631%200%2000-.628.64c0%20.354.279.639.628.639a.631.631%200%2000.628-.64c0-.355-.28-.64-.628-.64zm-.384-4.992a.24.24%200%2000.244-.249.24.24%200%2000-.244-.249.24.24%200%2000-.244.249c0%20.142.122.249.244.249zM11.991.497a.24.24%200%2000.245-.248A.24.24%200%200011.99%200a.24.24%200%2000-.244.249c0%20.133.108.236.223.247l.021.001zM2.011%206.36a.24.24%200%2000.245-.249.24.24%200%2000-.244-.249.24.24%200%2000-.244.249.24.24%200%2000.244.249zm0%2011.263a.24.24%200%2000-.243.248.24.24%200%2000.244.249.24.24%200%2000.244-.249.252.252%200%2000-.244-.248zm19.995-.018a.24.24%200%2000-.245.248.24.24%200%2000.245.25.24.24%200%2000.244-.25.252.252%200%2000-.244-.248z'%20fill='%233859FF'%20fill-rule='nonzero'%3e%3c/path%3e%3c/svg%3e",gAe="data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGrok%3c/title%3e%3cpath%20d='M9.27%2015.29l7.978-5.897c.391-.29.95-.177%201.137.272.98%202.369.542%205.215-1.41%207.169-1.951%201.954-4.667%202.382-7.149%201.406l-2.711%201.257c3.889%202.661%208.611%202.003%2011.562-.953%202.341-2.344%203.066-5.539%202.388-8.42l.006.007c-.983-4.232.242-5.924%202.75-9.383.06-.082.12-.164.179-.248l-3.301%203.305v-.01L9.267%2015.292M7.623%2016.723c-2.792-2.67-2.31-6.801.071-9.184%201.761-1.763%204.647-2.483%207.166-1.425l2.705-1.25a7.808%207.808%200%2000-1.829-1A8.975%208.975%200%20005.984%205.83c-2.533%202.536-3.33%206.436-1.962%209.764%201.022%202.487-.653%204.246-2.34%206.022-.599.63-1.199%201.259-1.682%201.925l7.62-6.815'%3e%3c/path%3e%3c/svg%3e",_Ae="data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDeepSeek%3c/title%3e%3cpath%20d='M23.748%204.482c-.254-.124-.364.113-.512.234-.051.039-.094.09-.137.136-.372.397-.806.657-1.373.626-.829-.046-1.537.214-2.163.848-.133-.782-.575-1.248-1.247-1.548-.352-.156-.708-.311-.955-.65-.172-.241-.219-.51-.305-.774-.055-.16-.11-.323-.293-.35-.2-.031-.278.136-.356.276-.313.572-.434%201.202-.422%201.84.027%201.436.633%202.58%201.838%203.393.137.093.172.187.129.323-.082.28-.18.552-.266.833-.055.179-.137.217-.329.14a5.526%205.526%200%2001-1.736-1.18c-.857-.828-1.631-1.742-2.597-2.458a11.365%2011.365%200%2000-.689-.471c-.985-.957.13-1.743.388-1.836.27-.098.093-.432-.779-.428-.872.004-1.67.295-2.687.684a3.055%203.055%200%2001-.465.137%209.597%209.597%200%2000-2.883-.102c-1.885.21-3.39%201.102-4.497%202.623C.082%208.606-.231%2010.684.152%2012.85c.403%202.284%201.569%204.175%203.36%205.653%201.858%201.533%203.997%202.284%206.438%202.14%201.482-.085%203.133-.284%204.994-1.86.47.234.962.327%201.78.397.63.059%201.236-.03%201.705-.128.735-.156.684-.837.419-.961-2.155-1.004-1.682-.595-2.113-.926%201.096-1.296%202.746-2.642%203.392-7.003.05-.347.007-.565%200-.845-.004-.17.035-.237.23-.256a4.173%204.173%200%20001.545-.475c1.396-.763%201.96-2.015%202.093-3.517.02-.23-.004-.467-.247-.588zM11.581%2018c-2.089-1.642-3.102-2.183-3.52-2.16-.392.024-.321.471-.235.763.09.288.207.486.371.739.114.167.192.416-.113.603-.673.416-1.842-.14-1.897-.167-1.361-.802-2.5-1.86-3.301-3.307-.774-1.393-1.224-2.887-1.298-4.482-.02-.386.093-.522.477-.592a4.696%204.696%200%20011.529-.039c2.132.312%203.946%201.265%205.468%202.774.868.86%201.525%201.887%202.202%202.891.72%201.066%201.494%202.082%202.48%202.914.348.292.625.514.891.677-.802.09-2.14.11-3.054-.614zm1-6.44a.306.306%200%2001.415-.287.302.302%200%2001.2.288.306.306%200%2001-.31.307.303.303%200%2001-.304-.308zm3.11%201.596c-.2.081-.399.151-.59.16a1.245%201.245%200%2001-.798-.254c-.274-.23-.47-.358-.552-.758a1.73%201.73%200%2001.016-.588c.07-.327-.008-.537-.239-.727-.187-.156-.426-.199-.688-.199a.559.559%200%2001-.254-.078c-.11-.054-.2-.19-.114-.358.028-.054.16-.186.192-.21.356-.202.767-.136%201.146.016.352.144.618.408%201.001.782.391.451.462.576.685.914.176.265.336.537.445.848.067.195-.019.354-.25.452z'%20fill='%234D6BFE'%3e%3c/path%3e%3c/svg%3e",yAe="data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMinimax%3c/title%3e%3cdefs%3e%3clinearGradient%20id='lobe-icons-minimax-fill'%20x1='0%25'%20x2='100.182%25'%20y1='50.057%25'%20y2='50.057%25'%3e%3cstop%20offset='0%25'%20stop-color='%23E2167E'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FE603C'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M16.278%202c1.156%200%202.093.927%202.093%202.07v12.501a.74.74%200%2000.744.709.74.74%200%2000.743-.709V9.099a2.06%202.06%200%20012.071-2.049A2.06%202.06%200%200124%209.1v6.561a.649.649%200%2001-.652.645.649.649%200%2001-.653-.645V9.1a.762.762%200%2000-.766-.758.762.762%200%2000-.766.758v7.472a2.037%202.037%200%2001-2.048%202.026%202.037%202.037%200%2001-2.048-2.026v-12.5a.785.785%200%2000-.788-.753.785.785%200%2000-.789.752l-.001%2015.904A2.037%202.037%200%200113.441%2022a2.037%202.037%200%2001-2.048-2.026V18.04c0-.356.292-.645.652-.645.36%200%20.652.289.652.645v1.934c0%20.263.142.506.372.638.23.131.514.131.744%200a.734.734%200%2000.372-.638V4.07c0-1.143.937-2.07%202.093-2.07zm-5.674%200c1.156%200%202.093.927%202.093%202.07v11.523a.648.648%200%2001-.652.645.648.648%200%2001-.652-.645V4.07a.785.785%200%2000-.789-.78.785.785%200%2000-.789.78v14.013a2.06%202.06%200%2001-2.07%202.048%202.06%202.06%200%2001-2.071-2.048V9.1a.762.762%200%2000-.766-.758.762.762%200%2000-.766.758v3.8a2.06%202.06%200%2001-2.071%202.049A2.06%202.06%200%20010%2012.9v-1.378c0-.357.292-.646.652-.646.36%200%20.653.29.653.646V12.9c0%20.418.343.757.766.757s.766-.339.766-.757V9.099a2.06%202.06%200%20012.07-2.048%202.06%202.06%200%20012.071%202.048v8.984c0%20.419.343.758.767.758.423%200%20.766-.339.766-.758V4.07c0-1.143.937-2.07%202.093-2.07z'%20fill='url(%23lobe-icons-minimax-fill)'%20fill-rule='nonzero'%3e%3c/path%3e%3c/svg%3e",bAe="SystemPage-module__container___KAydo",xAe="SystemPage-module__pageTitle___DiF5E",vAe="SystemPage-module__content___SauLn",SAe="SystemPage-module__aboutCard___v2-ui",wAe="SystemPage-module__aboutHeader___hT4-J",kAe="SystemPage-module__aboutLogo___KXoLr",CAe="SystemPage-module__aboutTitle___BTLGy",AAe="SystemPage-module__aboutInfoGrid___b7AR0",TAe="SystemPage-module__infoTile___6AuIY",NAe="SystemPage-module__tapTile___-9SaX",MAe="SystemPage-module__tileLabel___eMn4v",OAe="SystemPage-module__tileValue___Up02X",LAe="SystemPage-module__tileSub___ysVDj",PAe="SystemPage-module__aboutActions___AicFv",RAe="SystemPage-module__sectionDescription___nI7Jo",EAe="SystemPage-module__clearLoginActions___4ek-m",jAe="SystemPage-module__modelTags___M0sci",DAe="SystemPage-module__groupTitle___bTqIN",FAe="SystemPage-module__groupIcon___-XXrb",UAe="SystemPage-module__modelTag___5Ar53",BAe="SystemPage-module__modelName___LKdAK",IAe="SystemPage-module__modelAlias___zioM-",zAe="SystemPage-module__quickLinks___QTmT3",qAe="SystemPage-module__linkCard___iSrVF",KAe="SystemPage-module__linkIcon___gNqz2",HAe="SystemPage-module__github___V8I3m",VAe="SystemPage-module__docs___cA-rG",WAe="SystemPage-module__linkContent___Rfh7h",GAe="SystemPage-module__linkTitle___Zpr4Q",XAe="SystemPage-module__linkDesc___KKavC",ft={container:bAe,pageTitle:xAe,content:vAe,aboutCard:SAe,aboutHeader:wAe,aboutLogo:kAe,aboutTitle:CAe,aboutInfoGrid:AAe,infoTile:TAe,tapTile:NAe,tileLabel:MAe,tileValue:OAe,tileSub:LAe,aboutActions:PAe,sectionDescription:RAe,clearLoginActions:EAe,modelTags:jAe,groupTitle:DAe,groupIcon:FAe,modelTag:UAe,modelName:BAe,modelAlias:IAe,quickLinks:zAe,linkCard:qAe,linkIcon:KAe,github:HAe,docs:VAe,linkContent:WAe,linkTitle:GAe,linkDesc:XAe},$Ae={gpt:{light:DC,dark:FC},claude:Wb,gemini:Gb,qwen:V6,kimi:{light:K6,dark:H6},glm:pAe,grok:gAe,deepseek:_Ae,minimax:yAe};function QAe(){const{t:n,i18n:e}=Ze(),{showNotification:t,showConfirmation:i}=un(),s=qa(J=>J.resolvedTheme),a=Kt(),r=Dt(J=>J.config),o=Dt(J=>J.fetchConfig),l=Dt(J=>J.clearCache),u=Dt(J=>J.updateConfigValue),h=Yc(J=>J.models),m=Yc(J=>J.loading),g=Yc(J=>J.error),_=Yc(J=>J.fetchModels),[b,x]=w.useState(),[v,C]=w.useState(!1),[k,N]=w.useState(!1),[O,T]=w.useState(!1),[L,M]=w.useState(!1),P=w.useRef([]),R=w.useRef(0),D=w.useRef(null),U=w.useMemo(()=>e.language?.toLowerCase().startsWith("zh")?"":"Other",[e.language]),F=w.useMemo(()=>i$(h,{otherLabel:U}),[h,U]),H=r?.requestLog??!1,Z=k!==H,Y=a.connectionStatus==="connected"&&!!r,I="v1.6.2",K=a.serverVersion||n("system_info.version_unknown"),V=a.serverBuildDate?new Date(a.serverBuildDate).toLocaleString(e.language):n("system_info.version_unknown"),$=J=>{const re=$Ae[J];return re?typeof re=="string"?re:s==="dark"?re.dark:re.light:null},W=J=>{if(!Array.isArray(J))return[];const re=new Set,de=[];return J.forEach(Le=>{const ke=Le!==null&&typeof Le=="object"&&!Array.isArray(Le)?Le:null,nt=typeof Le=="string"?Le:ke?ke["api-key"]??ke.apiKey??ke.key??ke.Key:"",_t=String(nt??"").trim();!_t||re.has(_t)||(re.add(_t),de.push(_t))}),de},j=w.useCallback(async()=>{if(P.current.length)return P.current;const J=W(r?.apiKeys);if(J.length)return P.current=J,J;try{const re=await XS.list(),de=W(re);return de.length&&(P.current=de),de}catch(re){return console.warn("Auto loading API keys for models failed:",re),[]}},[r?.apiKeys]),B=async({forceRefresh:J=!1}={})=>{if(a.connectionStatus!=="connected"){x({type:"warning",message:n("notification.connection_required")});return}if(!a.apiBase){t(n("notification.connection_required"),"warning");return}J&&(P.current=[]),x({type:"muted",message:n("system_info.models_loading")});try{const de=(await j())[0],Le=await _(a.apiBase,de,J),ke=Le.length>0;x({type:ke?"success":"warning",message:ke?n("system_info.models_count",{count:Le.length}):n("system_info.models_empty")})}catch(re){const de=re instanceof Error?re.message:typeof re=="string"?re:"",Le=de?`: ${de}`:"",ke=`${n("system_info.models_error")}${Le}`;x({type:"error",message:ke})}},X=()=>{i({title:n("system_info.clear_login_title",{defaultValue:"Clear Login Storage"}),message:n("system_info.clear_login_confirm"),variant:"danger",confirmText:n("common.confirm"),onConfirm:()=>{if(a.logout(),typeof localStorage>"u")return;[ID,"isLoggedIn","apiBase","apiUrl","managementKey"].forEach(re=>localStorage.removeItem(re)),t(n("notification.login_storage_cleared"),"success")}})},te=w.useCallback(()=>{T(!1),N(H),C(!0)},[H]),Q=w.useCallback(()=>{if(R.current+=1,D.current&&clearTimeout(D.current),R.current>=7){R.current=0,D.current=null,te();return}D.current=setTimeout(()=>{R.current=0,D.current=null},1500)},[te]),G=w.useCallback(()=>{C(!1),T(!1)},[]),ne=async()=>{if(!Y)return;if(!Z){C(!1);return}const J=H;M(!0),u("request-log",k);try{await x5.updateRequestLog(k),l("request-log"),t(n("notification.request_log_updated"),"success"),C(!1)}catch(re){const de=re instanceof Error?re.message:typeof re=="string"?re:"";u("request-log",J),t(`${n("notification.update_failed")}${de?`: ${de}`:""}`,"error")}finally{M(!1)}};return w.useEffect(()=>{o().catch(()=>{})},[o]),w.useEffect(()=>{v&&!O&&N(H)},[v,O,H]),w.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]),w.useEffect(()=>{B()},[a.connectionStatus,a.apiBase]),f.jsxs("div",{className:ft.container,children:[f.jsx("h1",{className:ft.pageTitle,children:n("system_info.title")}),f.jsxs("div",{className:ft.content,children:[f.jsxs(wt,{className:ft.aboutCard,children:[f.jsxs("div",{className:ft.aboutHeader,children:[f.jsx("img",{src:sh,alt:"CPAMC",className:ft.aboutLogo}),f.jsx("div",{className:ft.aboutTitle,children:n("system_info.about_title")})]}),f.jsxs("div",{className:ft.aboutInfoGrid,children:[f.jsxs("button",{type:"button",className:`${ft.infoTile} ${ft.tapTile}`,onClick:Q,children:[f.jsx("div",{className:ft.tileLabel,children:n("footer.version")}),f.jsx("div",{className:ft.tileValue,children:I})]}),f.jsxs("div",{className:ft.infoTile,children:[f.jsx("div",{className:ft.tileLabel,children:n("footer.api_version")}),f.jsx("div",{className:ft.tileValue,children:K})]}),f.jsxs("div",{className:ft.infoTile,children:[f.jsx("div",{className:ft.tileLabel,children:n("footer.build_date")}),f.jsx("div",{className:ft.tileValue,children:V})]}),f.jsxs("div",{className:ft.infoTile,children:[f.jsx("div",{className:ft.tileLabel,children:n("connection.status")}),f.jsx("div",{className:ft.tileValue,children:n(`common.${a.connectionStatus}_status`)}),f.jsx("div",{className:ft.tileSub,children:a.apiBase||"-"})]})]}),f.jsx("div",{className:ft.aboutActions,children:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>o(void 0,!0),children:n("common.refresh")})})]}),f.jsxs(wt,{title:n("system_info.quick_links_title"),children:[f.jsx("p",{className:ft.sectionDescription,children:n("system_info.quick_links_desc")}),f.jsxs("div",{className:ft.quickLinks,children:[f.jsxs("a",{href:"https://github.com/router-for-me/CLIProxyAPI",target:"_blank",rel:"noopener noreferrer",className:ft.linkCard,children:[f.jsx("div",{className:`${ft.linkIcon} ${ft.github}`,children:f.jsx(iV,{size:22})}),f.jsxs("div",{className:ft.linkContent,children:[f.jsxs("div",{className:ft.linkTitle,children:[n("system_info.link_main_repo"),f.jsx(Z1,{size:14})]}),f.jsx("div",{className:ft.linkDesc,children:n("system_info.link_main_repo_desc")})]})]}),f.jsxs("a",{href:"https://github.com/router-for-me/Cli-Proxy-API-Management-Center",target:"_blank",rel:"noopener noreferrer",className:ft.linkCard,children:[f.jsx("div",{className:`${ft.linkIcon} ${ft.github}`,children:f.jsx(Jk,{size:22})}),f.jsxs("div",{className:ft.linkContent,children:[f.jsxs("div",{className:ft.linkTitle,children:[n("system_info.link_webui_repo"),f.jsx(Z1,{size:14})]}),f.jsx("div",{className:ft.linkDesc,children:n("system_info.link_webui_repo_desc")})]})]}),f.jsxs("a",{href:"https://help.router-for.me/",target:"_blank",rel:"noopener noreferrer",className:ft.linkCard,children:[f.jsx("div",{className:`${ft.linkIcon} ${ft.docs}`,children:f.jsx(sV,{size:22})}),f.jsxs("div",{className:ft.linkContent,children:[f.jsxs("div",{className:ft.linkTitle,children:[n("system_info.link_docs"),f.jsx(Z1,{size:14})]}),f.jsx("div",{className:ft.linkDesc,children:n("system_info.link_docs_desc")})]})]})]})]}),f.jsxs(wt,{title:n("system_info.models_title"),extra:f.jsx(he,{variant:"secondary",size:"sm",onClick:()=>B({forceRefresh:!0}),loading:m,children:n("common.refresh")}),children:[f.jsx("p",{className:ft.sectionDescription,children:n("system_info.models_desc")}),b&&f.jsx("div",{className:`status-badge ${b.type}`,children:b.message}),g&&f.jsx("div",{className:"error-box",children:g}),m?f.jsx("div",{className:"hint",children:n("common.loading")}):h.length===0?f.jsx("div",{className:"hint",children:n("system_info.models_empty")}):f.jsx("div",{className:"item-list",children:F.map(J=>{const re=$(J.id);return f.jsxs("div",{className:"item-row",children:[f.jsxs("div",{className:"item-meta",children:[f.jsxs("div",{className:ft.groupTitle,children:[re&&f.jsx("img",{src:re,alt:"",className:ft.groupIcon}),f.jsx("span",{className:"item-title",children:J.label})]}),f.jsx("div",{className:"item-subtitle",children:n("system_info.models_count",{count:J.items.length})})]}),f.jsx("div",{className:ft.modelTags,children:J.items.map(de=>f.jsxs("span",{className:ft.modelTag,title:de.description||"",children:[f.jsx("span",{className:ft.modelName,children:de.name}),de.alias&&f.jsx("span",{className:ft.modelAlias,children:de.alias})]},`${de.name}-${de.alias??"default"}`))})]},J.id)})})]}),f.jsxs(wt,{title:n("system_info.clear_login_title"),children:[f.jsx("p",{className:ft.sectionDescription,children:n("system_info.clear_login_desc")}),f.jsx("div",{className:ft.clearLoginActions,children:f.jsx(he,{variant:"danger",onClick:X,children:n("system_info.clear_login_button")})})]})]}),f.jsx(is,{open:v,onClose:G,title:n("basic_settings.request_log_title"),footer:f.jsxs(f.Fragment,{children:[f.jsx(he,{variant:"secondary",onClick:G,disabled:L,children:n("common.cancel")}),f.jsx(he,{onClick:ne,loading:L,disabled:!Y||!Z,children:n("common.save")})]}),children:f.jsxs("div",{className:"request-log-modal",children:[f.jsx("div",{className:"status-badge warning",children:n("basic_settings.request_log_warning")}),f.jsx(ts,{label:n("basic_settings.request_log_enable"),labelPosition:"left",checked:k,disabled:!Y||L,onChange:J=>{N(J),T(!0)}})]})})]})}const YAe=[{path:"/",element:f.jsx(JP,{})},{path:"/dashboard",element:f.jsx(JP,{})},{path:"/settings",element:f.jsx(Nm,{to:"/config",replace:!0})},{path:"/api-keys",element:f.jsx(Nm,{to:"/config",replace:!0})},{path:"/ai-providers/gemini/new",element:f.jsx(fR,{})},{path:"/ai-providers/gemini/:index",element:f.jsx(fR,{})},{path:"/ai-providers/codex/new",element:f.jsx(hR,{})},{path:"/ai-providers/codex/:index",element:f.jsx(hR,{})},{path:"/ai-providers/claude/new",element:f.jsx(rR,{}),children:[{index:!0,element:f.jsx(uR,{})},{path:"models",element:f.jsx(dR,{})}]},{path:"/ai-providers/claude/:index",element:f.jsx(rR,{}),children:[{index:!0,element:f.jsx(uR,{})},{path:"models",element:f.jsx(dR,{})}]},{path:"/ai-providers/vertex/new",element:f.jsx(xR,{})},{path:"/ai-providers/vertex/:index",element:f.jsx(xR,{})},{path:"/ai-providers/openai/new",element:f.jsx(gR,{}),children:[{index:!0,element:f.jsx(yR,{})},{path:"models",element:f.jsx(bR,{})}]},{path:"/ai-providers/openai/:index",element:f.jsx(gR,{}),children:[{index:!0,element:f.jsx(yR,{})},{path:"models",element:f.jsx(bR,{})}]},{path:"/ai-providers/ampcode",element:f.jsx(xte,{})},{path:"/ai-providers",element:f.jsx(nR,{})},{path:"/ai-providers/*",element:f.jsx(nR,{})},{path:"/auth-files",element:f.jsx(ule,{})},{path:"/auth-files/oauth-excluded",element:f.jsx(Ele,{})},{path:"/auth-files/oauth-model-alias",element:f.jsx(sce,{})},{path:"/oauth",element:f.jsx(Fce,{})},{path:"/quota",element:f.jsx(Uce,{})},{path:"/usage",element:f.jsx(Qge,{})},{path:"/config",element:f.jsx(bke,{})},{path:"/logs",element:f.jsx(mAe,{})},{path:"/system",element:f.jsx(QAe,{})},{path:"*",element:f.jsx(Nm,{to:"/",replace:!0})}];function ZAe({location:n}){return Hq(YAe,n)}const Mo={dashboard:f.jsx(aV,{size:18}),aiProviders:f.jsx(Xk,{size:18}),authFiles:f.jsx(RD,{size:18}),oauth:f.jsx(GH,{size:18}),quota:f.jsx(Zk,{size:18}),usage:f.jsx(XH,{size:18}),config:f.jsx($H,{size:18}),logs:f.jsx(QH,{size:18}),system:f.jsx(Eb,{size:18})},Ar={width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false"},Tr={refresh:f.jsxs("svg",{...Ar,children:[f.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),f.jsx("path",{d:"M21 3v5h-5"})]}),update:f.jsxs("svg",{...Ar,children:[f.jsx("path",{d:"M12 19V5"}),f.jsx("path",{d:"m5 12 7-7 7 7"})]}),menu:f.jsxs("svg",{...Ar,children:[f.jsx("path",{d:"M4 7h16"}),f.jsx("path",{d:"M4 12h16"}),f.jsx("path",{d:"M4 17h16"})]}),chevronLeft:f.jsx("svg",{...Ar,children:f.jsx("path",{d:"m14 18-6-6 6-6"})}),chevronRight:f.jsx("svg",{...Ar,children:f.jsx("path",{d:"m10 6 6 6-6 6"})}),language:f.jsxs("svg",{...Ar,children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M2 12h20"}),f.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),sun:f.jsxs("svg",{...Ar,children:[f.jsx("circle",{cx:"12",cy:"12",r:"4"}),f.jsx("path",{d:"M12 2v2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),f.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),f.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),moon:f.jsx("svg",{...Ar,children:f.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9z"})}),autoTheme:f.jsxs("svg",{...Ar,children:[f.jsx("defs",{children:f.jsx("clipPath",{id:"mainLayoutAutoThemeSunLeftHalf",children:f.jsx("rect",{x:"0",y:"0",width:"12",height:"24"})})}),f.jsx("circle",{cx:"12",cy:"12",r:"4"}),f.jsx("circle",{cx:"12",cy:"12",r:"4",clipPath:"url(#mainLayoutAutoThemeSunLeftHalf)",fill:"currentColor"}),f.jsx("path",{d:"M12 2v2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"M4.93 4.93l1.41 1.41"}),f.jsx("path",{d:"M17.66 17.66l1.41 1.41"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"M6.34 17.66l-1.41 1.41"}),f.jsx("path",{d:"M19.07 4.93l-1.41 1.41"})]}),logout:f.jsxs("svg",{...Ar,children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("path",{d:"m16 17 5-5-5-5"}),f.jsx("path",{d:"M21 12H9"})]})},U4=n=>{if(!n)return null;const e=n.trim().replace(/^v/i,"");if(!e)return null;const t=e.split(/[^0-9]+/).filter(Boolean).map(i=>Number.parseInt(i,10)).filter(Number.isFinite);return t.length?t:null},JAe=(n,e)=>{const t=U4(n),i=U4(e);if(!t||!i)return null;const s=Math.max(t.length,i.length);for(let a=0;a<s;a++){const r=t[a]||0,o=i[a]||0;if(r>o)return 1;if(r<o)return-1}return 0};function eTe(){const{t:n}=Ze(),{showNotification:e}=un(),t=$n(),i=Kt(Q=>Q.apiBase),s=Kt(Q=>Q.serverVersion),a=Kt(Q=>Q.connectionStatus),r=Kt(Q=>Q.logout),o=Dt(Q=>Q.config),l=Dt(Q=>Q.fetchConfig),u=Dt(Q=>Q.clearCache),h=qa(Q=>Q.theme),m=qa(Q=>Q.cycleTheme),g=rh(Q=>Q.language),_=rh(Q=>Q.setLanguage),[b,x]=w.useState(!1),[v,C]=w.useState(!1),[k,N]=w.useState(!1),[O,T]=w.useState(!1),[L,M]=w.useState(!0),P=w.useRef(null),R=w.useRef(null),D=w.useRef(null),U=w.useRef(null),F="CLI Proxy API Management Center",H=n("title.abbr"),Z=t.pathname.startsWith("/logs");w.useLayoutEffect(()=>{const Q=()=>{const ne=U.current?.offsetHeight;ne&&document.documentElement.style.setProperty("--header-height",`${ne}px`)};Q();const G=typeof ResizeObserver<"u"&&U.current?new ResizeObserver(Q):null;return G&&U.current&&G.observe(U.current),window.addEventListener("resize",Q),()=>{G&&G.disconnect(),window.removeEventListener("resize",Q)}},[]),w.useLayoutEffect(()=>{const Q=()=>{const ne=P.current;if(!ne)return;const J=ne.getBoundingClientRect(),re=J.left+J.width/2;document.documentElement.style.setProperty("--content-center-x",`${re}px`)};Q();const G=typeof ResizeObserver<"u"&&P.current?new ResizeObserver(Q):null;return G&&P.current&&G.observe(P.current),window.addEventListener("resize",Q),()=>{G&&G.disconnect(),window.removeEventListener("resize",Q),document.documentElement.style.removeProperty("--content-center-x")}},[]),w.useEffect(()=>(D.current=setTimeout(()=>{M(!1)},5e3),()=>{D.current&&clearTimeout(D.current)}),[]),w.useEffect(()=>{if(!O)return;const Q=ne=>{R.current?.contains(ne.target)||T(!1)},G=ne=>{ne.key==="Escape"&&T(!1)};return document.addEventListener("mousedown",Q),document.addEventListener("keydown",G),()=>{document.removeEventListener("mousedown",Q),document.removeEventListener("keydown",G)}},[O]);const Y=w.useCallback(()=>{L||(M(!0),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{M(!1)},5e3))},[L]),I=w.useCallback(()=>{T(Q=>!Q)},[]),K=w.useCallback(Q=>{ah(Q)&&(_(Q),T(!1))},[_]);w.useEffect(()=>{l().catch(()=>{})},[l]);const V=a==="connected"?"success":a==="connecting"?"warning":a==="error"?"error":"muted",$=[{path:"/",label:n("nav.dashboard"),icon:Mo.dashboard},{path:"/config",label:n("nav.config_management"),icon:Mo.config},{path:"/ai-providers",label:n("nav.ai_providers"),icon:Mo.aiProviders},{path:"/auth-files",label:n("nav.auth_files"),icon:Mo.authFiles},{path:"/oauth",label:n("nav.oauth",{defaultValue:"OAuth"}),icon:Mo.oauth},{path:"/quota",label:n("nav.quota_management"),icon:Mo.quota},{path:"/usage",label:n("nav.usage_stats"),icon:Mo.usage},...o?.loggingToFile?[{path:"/logs",label:n("nav.logs"),icon:Mo.logs}]:[],{path:"/system",label:n("nav.system_info"),icon:Mo.system}],W=$.map(Q=>Q.path),j=Q=>{const G=Q.length>1&&Q.endsWith("/")?Q.slice(0,-1):Q,ne=G==="/dashboard"?"/":G,J=W.indexOf("/ai-providers");if(J!==-1){if(ne==="/ai-providers")return J;if(ne.startsWith("/ai-providers/"))return ne.startsWith("/ai-providers/gemini")?J+.1:ne.startsWith("/ai-providers/codex")?J+.2:ne.startsWith("/ai-providers/claude")?J+.3:ne.startsWith("/ai-providers/vertex")?J+.4:ne.startsWith("/ai-providers/ampcode")?J+.5:ne.startsWith("/ai-providers/openai")?J+.6:J+.05}const re=W.indexOf("/auth-files");if(re!==-1){if(ne==="/auth-files")return re;if(ne.startsWith("/auth-files/"))return ne.startsWith("/auth-files/oauth-excluded")?re+.1:ne.startsWith("/auth-files/oauth-model-alias")?re+.2:re+.05}const de=W.indexOf(ne);if(de!==-1)return de;const Le=W.findIndex(ke=>ke!=="/"&&ne.startsWith(`${ke}/`));return Le===-1?null:Le},B=w.useCallback((Q,G)=>{const ne=ke=>{const nt=ke.length>1&&ke.endsWith("/")?ke.slice(0,-1):ke;return nt==="/dashboard"?"/":nt},J=ne(Q),re=ne(G),de=ke=>ke==="/auth-files"||ke.startsWith("/auth-files/"),Le=ke=>ke==="/ai-providers"||ke.startsWith("/ai-providers/");return de(J)&&de(re)||Le(J)&&Le(re)?"ios":"vertical"},[]),X=async()=>{u();const G=(await Promise.allSettled([l(void 0,!0),L6()])).find(ne=>ne.status==="rejected");if(G&&G.status==="rejected"){const ne=G.reason,J=typeof ne=="string"?ne:ne instanceof Error?ne.message:"";e(`${n("notification.refresh_failed")}${J?`: ${J}`:""}`,"error");return}e(n("notification.data_refreshed"),"success")},te=async()=>{N(!0);try{const Q=await Y$.checkLatest(),G=Q?.["latest-version"]??Q?.latest_version??Q?.latest??"",ne=typeof G=="string"?G:String(G??""),J=JAe(ne,s);if(!ne){e(n("system_info.version_check_error"),"error");return}if(J===null){e(n("system_info.version_current_missing"),"warning");return}J>0?e(n("system_info.version_update_available",{version:ne}),"warning"):e(n("system_info.version_is_latest"),"success")}catch(Q){const G=Q instanceof Error?Q.message:typeof Q=="string"?Q:"",ne=G?`: ${G}`:"";e(`${n("system_info.version_check_error")}${ne}`,"error")}finally{N(!1)}};return f.jsxs("div",{className:"app-shell",children:[f.jsxs("header",{className:"main-header",ref:U,children:[f.jsxs("div",{className:"left",children:[f.jsx("button",{className:"sidebar-toggle-header",onClick:()=>C(Q=>!Q),title:v?n("sidebar.expand",{defaultValue:""}):n("sidebar.collapse",{defaultValue:""}),children:v?Tr.chevronRight:Tr.chevronLeft}),f.jsx("img",{src:sh,alt:"CPAMC logo",className:"brand-logo"}),f.jsxs("div",{className:`brand-header ${L?"expanded":"collapsed"}`,onClick:Y,title:L?void 0:F,children:[f.jsx("span",{className:"brand-full",children:F}),f.jsx("span",{className:"brand-abbr",children:H})]})]}),f.jsxs("div",{className:"right",children:[f.jsxs("div",{className:"connection",children:[f.jsx("span",{className:`status-badge ${V}`,children:n(a==="connected"?"common.connected_status":a==="connecting"?"common.connecting_status":"common.disconnected_status")}),f.jsx("span",{className:"base",children:i||"-"})]}),f.jsxs("div",{className:"header-actions",children:[f.jsx(he,{className:"mobile-menu-btn",variant:"ghost",size:"sm",onClick:()=>x(Q=>!Q),children:Tr.menu}),f.jsx(he,{variant:"ghost",size:"sm",onClick:X,title:n("header.refresh_all"),children:Tr.refresh}),f.jsx(he,{variant:"ghost",size:"sm",onClick:te,loading:k,title:n("system_info.version_check_button"),children:Tr.update}),f.jsxs("div",{className:`language-menu ${O?"open":""}`,ref:R,children:[f.jsx(he,{variant:"ghost",size:"sm",onClick:I,title:n("language.switch"),"aria-label":n("language.switch"),"aria-haspopup":"menu","aria-expanded":O,children:Tr.language}),O&&f.jsx("div",{className:"notification entering language-menu-popover",role:"menu","aria-label":n("language.switch"),children:qd.map(Q=>f.jsxs("button",{type:"button",className:`language-menu-option ${g===Q?"active":""}`,onClick:()=>K(Q),role:"menuitemradio","aria-checked":g===Q,children:[f.jsx("span",{children:n(qD[Q])}),g===Q?f.jsx("span",{className:"language-menu-check",children:""}):null]},Q))})]}),f.jsx(he,{variant:"ghost",size:"sm",onClick:m,title:n("theme.switch"),children:h==="auto"?Tr.autoTheme:h==="dark"?Tr.moon:Tr.sun}),f.jsx(he,{variant:"ghost",size:"sm",onClick:r,title:n("header.logout"),children:Tr.logout})]})]})]}),f.jsxs("div",{className:"main-body",children:[f.jsx("aside",{className:`sidebar ${b?"open":""} ${v?"collapsed":""}`,children:f.jsx("div",{className:"nav-section",children:$.map(Q=>f.jsxs(xD,{to:Q.path,className:({isActive:G})=>`nav-item ${G?"active":""}`,onClick:()=>x(!1),title:v?Q.label:void 0,children:[f.jsx("span",{className:"nav-icon",children:Q.icon}),!v&&f.jsx("span",{className:"nav-label",children:Q.label})]},Q.path))})}),f.jsx("div",{className:`content${Z?" content-logs":""}`,ref:P,children:f.jsx("main",{className:`main-content${Z?" main-content-logs":""}`,children:f.jsx(nZ,{render:Q=>f.jsx(ZAe,{location:Q}),getRouteOrder:j,getTransitionVariant:B,scrollContainerRef:P})})})]})]})}function tTe({children:n}){const e=$n(),t=Kt(l=>l.isAuthenticated),i=Kt(l=>l.managementKey),s=Kt(l=>l.apiBase),a=Kt(l=>l.checkAuth),[r,o]=w.useState(!1);return w.useEffect(()=>{(async()=>{if(!t&&i&&s){o(!0);try{await a()}finally{o(!1)}}})()},[s,t,i,a]),r?f.jsx("div",{className:"main-content",children:f.jsx(_u,{})}):t?n:f.jsx(Nm,{to:"/login",replace:!0,state:{from:e}})}function nTe(){return f.jsxs(f.Fragment,{children:[f.jsx(TQ,{}),f.jsx(PQ,{}),f.jsx(Hk,{})]})}const iTe=DK([{element:f.jsx(nTe,{}),children:[{path:"/login",element:f.jsx(AQ,{})},{path:"/*",element:f.jsx(tTe,{children:f.jsx(eTe,{})})}]}]);function sTe(){const n=qa(i=>i.initializeTheme),e=rh(i=>i.language),t=rh(i=>i.setLanguage);return w.useEffect(()=>n(),[n]),w.useEffect(()=>{t(e)},[]),w.useEffect(()=>{document.documentElement.lang=e},[e]),f.jsx(GK,{router:iTe})}document.title="CLI Proxy API Management Center";const LS=document.querySelector('link[rel="icon"]');if(LS)LS.href=sh,LS.type="image/jpeg";else{const n=document.createElement("link");n.rel="icon",n.type="image/jpeg",n.href=sh,document.head.appendChild(n)}wz.createRoot(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(sTe,{})}));</script>
    <style rel="stylesheet" crossorigin>*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;width:100%}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5}#root{height:100%;width:100%}button,input,textarea,select{font:inherit}a{color:inherit;text-decoration:none}ul,ol{list-style:none}:root{--bg-secondary: #faf9f5;--bg-primary: #f0eee8;--bg-tertiary: #e9e6df;--bg-hover: var(--bg-tertiary);--bg-quinary: #f6f4ee;--bg-error-light: rgba(198, 87, 70, .1);--text-primary: #2d2a26;--text-secondary: #6d6760;--text-tertiary: #a29c95;--text-quaternary: #c0bab3;--text-muted: var(--text-tertiary);--border-color: #e3e1db;--border-secondary: var(--border-color);--border-primary: #d5d2cb;--border-hover: #cecac4;--primary-color: #8b8680;--primary-hover: #7f7a74;--primary-active: #726d67;--primary-contrast: #ffffff;--success-color: #10b981;--warning-color: #c65746;--error-color: #c65746;--danger-color: var(--error-color);--info-color: var(--primary-color);--warning-bg: rgba(198, 87, 70, .12);--warning-border: rgba(198, 87, 70, .35);--warning-text: var(--warning-color);--success-badge-bg: #d1fae5;--success-badge-text: #065f46;--success-badge-border: #6ee7b7;--failure-badge-bg: rgba(198, 87, 70, .14);--failure-badge-text: #8a3a30;--failure-badge-border: rgba(198, 87, 70, .35);--count-badge-bg: rgba(139, 134, 128, .18);--count-badge-text: var(--primary-active);--shadow: 0 1px 2px 0 rgb(0 0 0 / .08);--shadow-lg: 0 10px 18px -3px rgb(0 0 0 / .1);--radius-md: 8px;--accent-tertiary: var(--bg-tertiary)}[data-theme=dark]{--bg-secondary: #151412;--bg-primary: #1d1b18;--bg-tertiary: #262320;--bg-hover: #2e2a26;--bg-quinary: #191714;--bg-error-light: rgba(198, 87, 70, .18);--text-primary: #f6f4f1;--text-secondary: #c9c3bb;--text-tertiary: #9c958d;--text-quaternary: #6f6962;--text-muted: var(--text-tertiary);--border-color: #3a3530;--border-secondary: var(--border-color);--border-primary: #4a453f;--border-hover: #5a544d;--primary-color: #8b8680;--primary-hover: #9a948e;--primary-active: #a6a099;--primary-contrast: #ffffff;--success-color: #10b981;--warning-color: #c65746;--error-color: #c65746;--danger-color: var(--error-color);--info-color: var(--primary-color);--warning-bg: rgba(198, 87, 70, .22);--warning-border: rgba(198, 87, 70, .45);--warning-text: #f1b0a6;--success-badge-bg: rgba(6, 78, 59, .3);--success-badge-text: #6ee7b7;--success-badge-border: #059669;--failure-badge-bg: rgba(198, 87, 70, .24);--failure-badge-text: #f1b0a6;--failure-badge-border: rgba(198, 87, 70, .5);--count-badge-bg: rgba(139, 134, 128, .28);--count-badge-text: var(--primary-active);--shadow: 0 1px 3px 0 rgb(0 0 0 / .3);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .3);--radius-md: 8px;--accent-tertiary: var(--bg-tertiary)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;border:1px solid transparent;border-radius:8px;padding:10px 14px;font-weight:600;cursor:pointer;transition:all .15s ease;background-color:var(--bg-secondary);color:var(--text-primary)}.btn.btn-primary{background-color:var(--primary-color);color:var(--primary-contrast, #fff);border-color:var(--primary-color)}.btn.btn-primary:hover{background-color:var(--primary-hover);border-color:var(--primary-hover)}.btn.btn-secondary{background-color:var(--bg-tertiary);border-color:var(--border-color);color:var(--text-primary)}.btn.btn-secondary:hover{background-color:var(--bg-hover, var(--bg-tertiary));border-color:var(--border-hover)}.btn.btn-ghost{background:transparent;border-color:transparent;color:var(--text-secondary)}.btn.btn-ghost:hover{color:var(--text-primary);background:var(--bg-tertiary)}.btn.btn-danger{background-color:#c65746;border-color:#c65746;color:#fff}.btn.btn-danger:hover{background-color:#b94a39}.btn.btn-full{width:100%}.btn.btn-sm{padding:8px 10px;font-size:14px}.btn:disabled{opacity:.6;cursor:not-allowed}:global([data-theme=dark]) .btn{color:#fff}:global([data-theme=dark]) .btn.btn-secondary,:global([data-theme=dark]) .btn.btn-ghost{color:#fff}.input,textarea{width:100%;border:1px solid var(--border-color);border-radius:8px;padding:10px 12px;background-color:var(--bg-secondary);color:var(--text-primary);transition:border-color .15s ease,box-shadow .15s ease}.input:focus,textarea:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #8b86802e}.form-group{display:flex;flex-direction:column;gap:4px;margin-bottom:16px}.form-group label{font-weight:600;color:var(--text-primary)}.form-group .hint{color:var(--text-secondary);font-size:13px}.card{background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;box-shadow:var(--shadow);padding:24px}.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.card-header .title{font-size:18px;font-weight:700;color:var(--text-primary)}.status-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:9999px;font-size:13px;border:1px solid var(--border-color);margin-bottom:16px}.status-badge+*{display:block}.status-badge.success{color:#10b981;border-color:#10b98159;background:#10b98114}.status-badge.warning,.status-badge.error{color:#c65746;border-color:#c6574659;background:#c6574614}.status-badge.muted{color:var(--text-secondary)}.notification-container{position:fixed;top:24px;right:24px;display:flex;flex-direction:column;gap:8px;z-index:3000;max-width:360px}@keyframes notification-enter{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes notification-exit{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100%)}}.notification{padding:16px;border-radius:8px;box-shadow:var(--shadow);border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-primary);display:flex;justify-content:space-between;align-items:center;gap:8px}.notification.entering{animation:notification-enter .3s ease-out forwards}.notification.exiting{animation:notification-exit .3s ease-in forwards}.notification.success{border-color:#10b98166}.notification.warning,.notification.error{border-color:#c6574666}.notification .message{flex:1;font-weight:500}.notification .close-btn{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;padding:0;background:transparent;border:none;color:var(--text-secondary);border-radius:8px;cursor:pointer;transition:color .15s ease,background-color .15s ease}.notification .close-btn svg{display:block}.notification .close-btn:hover{color:var(--text-primary);background:var(--bg-secondary)}.switch{position:relative;display:inline-flex;align-items:center;gap:8px;cursor:pointer}.switch input{width:0;height:0;opacity:0;position:absolute}.switch .track{width:44px;height:24px;background:var(--border-color);border-radius:9999px;position:relative;transition:background .15s ease}.switch .thumb{position:absolute;top:3px;left:3px;width:18px;height:18px;background:#fff;border-radius:9999px;box-shadow:0 1px 2px #0000000d;transition:transform .15s ease}.switch input:checked+.track{background:var(--primary-color)}.switch input:checked+.track .thumb{transform:translate(20px)}.switch .label{color:var(--text-primary);font-weight:600}.switch-label-left .label{order:-1}.pill{padding:4px 10px;border-radius:9999px;background:var(--bg-secondary);color:var(--text-secondary);border:1px solid var(--border-color);font-size:12px}.loading-spinner{border:3px solid rgba(255,255,255,.2);border-top-color:#fff;border-radius:50%;width:16px;height:16px;animation:spin .8s linear infinite}@supports (color: color-mix(in srgb,currentColor 22%,transparent)){.loading-spinner{border-color:color-mix(in srgb,currentColor 22%,transparent);border-top-color:currentColor}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-overlay{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:2000;padding:24px}.modal-overlay.modal-overlay-entering{animation:modal-overlay-fade-in .25s ease-out forwards}.modal-overlay.modal-overlay-closing{animation:modal-overlay-fade-out .35s ease-in forwards}@keyframes modal-overlay-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-overlay-fade-out{0%{opacity:1}to{opacity:0}}.modal{background:var(--bg-primary);border-radius:12px;border:1px solid var(--border-color);box-shadow:0 10px 15px -3px #0000001a;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;position:relative;transform-origin:calc(100% - 28px) 28px}.modal.modal-entering{animation:modal-scale-in .3s cubic-bezier(.34,1.56,.64,1) forwards}.modal.modal-closing{animation:modal-collapse-to-close .35s cubic-bezier(.4,0,.2,1) forwards}@keyframes modal-scale-in{0%{opacity:0;transform:scale(.85) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes modal-collapse-to-close{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}.modal-close-floating{position:absolute;top:12px;right:12px;width:32px;height:32px;padding:0;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;border-radius:9999px;display:inline-flex;align-items:center;justify-content:center;transition:color .15s ease,background-color .15s ease,transform .15s ease;z-index:10}.modal-close-floating svg{display:block}.modal-close-floating:hover{color:var(--text-primary);background:var(--bg-tertiary);transform:scale(1.1)}.modal-close-floating:active{transform:scale(.95)}.modal-close-floating:disabled{cursor:not-allowed;opacity:.6;transform:none}.modal-close-floating:disabled:hover{color:var(--text-secondary);background:var(--bg-secondary);transform:none}.modal-header{display:flex;align-items:center;padding:16px 24px;border-bottom:1px solid var(--border-color)}.modal-header .modal-title{font-weight:700;font-size:18px;color:var(--text-primary)}.modal-body{padding:24px;overflow:auto;max-height:65vh}.modal-footer{padding:16px 24px;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end;gap:8px;background:var(--bg-primary)}.request-log-modal{display:flex;flex-direction:column;align-items:flex-start;gap:16px}.request-log-modal .status-badge{margin-bottom:0}.empty-state{border:1px dashed var(--border-color);border-radius:12px;padding:24px;background:var(--bg-secondary);display:flex;justify-content:space-between;gap:16px;align-items:center}.empty-state .empty-content{display:flex;align-items:center;gap:16px}.empty-state .empty-icon{width:42px;height:42px;border-radius:9999px;border:2px solid var(--border-color);display:grid;place-items:center;color:var(--text-secondary)}.empty-state .empty-icon svg{display:block}.empty-state .empty-title{font-weight:700;color:var(--text-primary)}.empty-state .empty-desc{color:var(--text-secondary);margin-top:4px}.header-input-list{display:flex;flex-direction:column;gap:8px}.header-input-list .header-input-row{display:grid;grid-template-columns:1fr auto 1fr auto;align-items:center;gap:8px}.header-input-list .header-separator{color:var(--text-secondary);text-align:center}.header-input-list .align-start{width:fit-content}.item-list{display:flex;flex-direction:column;gap:8px}.item-row{border:1px solid var(--border-color);border-radius:8px;padding:16px;background:var(--bg-primary);display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}.item-row .item-meta{display:flex;flex-direction:column;gap:6px}.item-row .item-title{font-weight:700;color:var(--text-primary)}.item-row .item-subtitle{color:var(--text-secondary);font-family:ui-monospace,SFMono-Regular,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;word-break:break-all}.item-row .item-actions{display:flex;gap:8px}.error-box{background:#c657461a;border:1px solid rgba(198,87,70,.4);border-radius:8px;padding:8px 16px;color:#c65746}.stack{display:flex;flex-direction:column;gap:24px}.filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:16px}.filters .filter-item{display:flex;flex-direction:column;gap:4px}.table{display:flex;flex-direction:column;border:1px solid var(--border-color);border-radius:8px;overflow:hidden}.table .table-header,.table .table-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:8px;padding:8px 16px;align-items:center}.table .table-header{background:var(--bg-secondary);font-weight:700;color:var(--text-primary)}.table .table-row{border-top:1px solid var(--border-color)}.table .cell{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.pagination{display:flex;align-items:center;gap:8px;margin-top:16px}.stat-card{border:1px solid var(--border-color);border-radius:8px;padding:16px;background:var(--bg-primary);display:flex;flex-direction:column;gap:4px}.stat-card .stat-label{color:var(--text-secondary);font-size:14px}.stat-card .stat-value{font-weight:800;color:var(--text-primary);font-size:18px}.log-viewer{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;max-height:520px;overflow:auto;white-space:pre-wrap;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;color:var(--text-primary)}.log-viewer-lines .log-line{display:block;padding:1px 0}.log-viewer-lines .log-line-warning{color:var(--warning-text, #92400e);background:var(--warning-bg, rgba(251, 191, 36, .18));border-radius:4px;padding:2px 6px}.hint{color:var(--text-secondary)}:root{--header-height: 64px}.app-shell{display:flex;flex-direction:column;min-height:100vh;height:100vh;overflow:hidden;background:var(--bg-secondary);color:var(--text-primary)}@media(max-width:768px){.app-shell{height:auto;min-height:100vh;overflow:visible;overflow-y:auto}}.main-header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:16px 24px;background:var(--bg-primary);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:10;width:100%}@media(max-width:768px){.main-header{position:fixed;left:0;right:0;padding:8px 16px;gap:8px}}.main-header .left{display:flex;align-items:center;gap:8px;min-width:0;flex:0 1 auto}.main-header .left .brand-logo{height:32px;width:32px;object-fit:contain;flex-shrink:0;border-radius:4px}.main-header .right{display:flex;align-items:center;gap:16px;min-width:0;flex:1 1 auto;justify-content:flex-end}@media(max-width:768px){.main-header .right{flex:0 1 auto;gap:8px}}.main-header .sidebar-toggle-header{padding:0;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-secondary);cursor:pointer;font-size:16px;font-weight:700;transition:background .15s ease,color .15s ease;display:flex;align-items:center;justify-content:center;width:32px;height:32px;flex-shrink:0;line-height:1}.main-header .sidebar-toggle-header:hover{background:var(--bg-tertiary, var(--border-color));color:var(--text-primary)}@media(max-width:768px){.main-header .sidebar-toggle-header{display:none}}.main-header .brand-header{display:flex;align-items:center;gap:4px;font-weight:800;font-size:18px;color:var(--text-primary);margin-right:16px;cursor:pointer;overflow:hidden;white-space:nowrap;flex-shrink:0}.main-header .brand-header .brand-full{display:inline-block;max-width:320px;opacity:1;transform:translate(0);transition:max-width .4s ease,opacity .4s ease,transform .4s ease}.main-header .brand-header .brand-abbr{display:inline-block;transform:translate(12px);opacity:0;pointer-events:none;transition:opacity .4s ease,transform .4s ease}.main-header .brand-header.collapsed .brand-full{max-width:0;opacity:0;transform:translate(-12px)}.main-header .brand-header.collapsed .brand-abbr{transform:translate(0);opacity:1;pointer-events:auto}.main-header .brand-header:hover{color:var(--primary-color)}@media(max-width:768px){.main-header .brand-header{cursor:default;flex-shrink:1;min-width:0;margin-right:0}.main-header .brand-header .brand-full,.main-header .brand-header .brand-abbr{transition:none}.main-header .brand-header .brand-full{display:none}.main-header .brand-header .brand-abbr{transform:translate(0);opacity:1;pointer-events:auto}.main-header .brand-header:hover{color:var(--text-primary)}}.main-header .mobile-menu-btn{display:none;flex-shrink:0}@media(max-width:768px){.main-header .mobile-menu-btn{display:inline-flex}}.main-header .header-actions{display:flex;align-items:center;gap:4px;flex-shrink:0}.main-header .header-actions .language-menu{position:relative;display:inline-flex;align-items:center}.main-header .header-actions .language-menu .language-menu-popover{position:absolute;top:calc(100% + 8px);right:0;z-index:1000;min-width:164px;padding:4px;display:flex;flex-direction:column;gap:2px}.main-header .header-actions .language-menu .language-menu-option{width:100%;border:none;border-radius:4px;background:transparent;color:var(--text-primary);cursor:pointer;padding:8px 10px;font-size:14px;font-weight:500;display:flex;align-items:center;justify-content:space-between;transition:background-color .15s ease,color .15s ease}.main-header .header-actions .language-menu .language-menu-option:hover{background:var(--bg-secondary)}.main-header .header-actions .language-menu .language-menu-option:focus-visible{outline:none;background:var(--bg-secondary);box-shadow:0 0 0 2px #8b868038}.main-header .header-actions .language-menu .language-menu-option.active{color:var(--primary-color);font-weight:600}.main-header .header-actions .language-menu .language-menu-check{font-size:13px;line-height:1}@media(max-width:768px){.main-header .header-actions .language-menu .language-menu-popover{right:auto;left:0}}.main-header .header-actions svg{display:block}@media(max-width:768px){.main-header .header-actions{gap:2px}}.main-header .connection{display:flex;align-items:center;gap:8px;color:var(--text-secondary);min-width:0;flex-shrink:1;overflow:hidden}.main-header .connection .status-badge{flex-shrink:0;white-space:nowrap;margin-bottom:0}.main-header .connection .base{font-weight:600;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:80px}@media(max-width:768px){.main-header .connection{display:none}}.main-body{display:flex;flex:1;min-height:0;height:calc(100vh - var(--header-height));overflow:hidden;position:relative}@supports (height: 100dvh){.main-body{height:calc(100dvh - var(--header-height))}}@media(max-width:768px){.main-body{height:auto;min-height:calc(100vh - var(--header-height));overflow:visible;padding-top:var(--header-height)}@supports (min-height: 100dvh){.main-body{min-height:calc(100dvh - var(--header-height))}}}.sidebar{width:240px;background:var(--bg-primary);border-right:1px solid var(--border-color);padding:16px;display:flex;flex-direction:column;gap:24px;transition:width .3s ease,transform .3s ease;overflow-y:auto;flex-shrink:0;height:100%}.sidebar.collapsed{width:60px;padding:16px 8px}.sidebar.collapsed .nav-item{justify-content:center;padding:10px}.sidebar .nav-section{display:flex;flex-direction:column;gap:8px;flex:1}.sidebar .nav-item{padding:10px 12px;border-radius:8px;color:var(--text-primary);font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:background .15s ease,color .15s ease}.sidebar .nav-item .nav-icon{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;opacity:.9}.sidebar .nav-item .nav-icon svg{width:18px;height:18px;display:block}.sidebar .nav-item .nav-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar .nav-item:hover{background:var(--bg-secondary)}.sidebar .nav-item.active{background:#8b868024;color:var(--primary-color);border:1px solid rgba(139,134,128,.35)}@media(max-width:768px){.sidebar{position:fixed;z-index:1000;left:0;top:var(--header-height);bottom:0;transform:translate(-100%);box-shadow:0 10px 15px -3px #0000001a}.sidebar.open{transform:translate(0)}}.content{flex:1;display:flex;flex-direction:column;min-width:0;overflow-y:auto;scrollbar-gutter:stable;height:100%}.content.content-logs{overflow:hidden}@media(max-width:768px){.content.content-logs{overflow:visible;overflow-y:auto;height:auto}}.main-content{flex:1 0 auto;padding:24px;display:flex;flex-direction:column;gap:24px;overflow-x:hidden}.main-content.main-content-logs{flex:1 1 auto;min-height:0;overflow:hidden}@media(max-width:768px){.main-content.main-content-logs{flex:0 0 auto;min-height:auto;overflow:visible}}@media(max-width:768px){.main-content{padding:16px}}.grid{display:grid;gap:24px}@media(min-width:1024px){.grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}body{background-color:var(--bg-secondary);color:var(--text-primary);transition:background-color .3s ease,color .3s ease}html.modal-open,body.modal-open,body.modal-open .content{overflow:hidden}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-secondary)}::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:9999px}::-webkit-scrollbar-thumb:hover{background:var(--border-hover)}.container{width:100%;max-width:1280px;margin:0 auto;padding:0 16px}.flex-center{display:flex;align-items:center;justify-content:center}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fade-enter{opacity:0}.fade-enter-active{opacity:1;transition:opacity .3s ease}.fade-exit{opacity:1}.fade-exit-active{opacity:0;transition:opacity .3s ease}.LoginPage-module__container___bHtIX{min-height:100vh;display:flex;background:var(--bg-secondary)}.LoginPage-module__brandPanel___kKUR5{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#000;padding:48px;position:relative;overflow:hidden}@media(max-width:768px){.LoginPage-module__brandPanel___kKUR5{display:none}}.LoginPage-module__brandContent___ZEhbk{position:relative;z-index:1;display:flex;flex-direction:column;align-items:flex-end;width:100%;padding:0;gap:0}@keyframes LoginPage-module__brandFadeIn___tpmGl{0%{opacity:0;transform:translateY(-10px)}to{opacity:var(--target-opacity, .9);transform:translateY(0)}}.LoginPage-module__brandWord___3DkwD{font-size:14vw;font-weight:900;color:#ffffffe6;letter-spacing:-.02em;line-height:.85;text-transform:uppercase;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;text-align:right;padding-right:0;opacity:0;animation:LoginPage-module__brandFadeIn___tpmGl .8s ease-out forwards}.LoginPage-module__brandWord___3DkwD:nth-child(1){--target-opacity: .95;animation-delay:.1s}.LoginPage-module__brandWord___3DkwD:nth-child(2){--target-opacity: .7;animation-delay:.35s}.LoginPage-module__brandWord___3DkwD:nth-child(3){--target-opacity: .45;animation-delay:.6s}.LoginPage-module__formPanel___Nrtrt{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:48px;background:var(--bg-secondary);position:relative}@media(max-width:768px){.LoginPage-module__formPanel___Nrtrt{padding:24px;min-height:100vh}}.LoginPage-module__formContent___H8fD-{width:100%;max-width:420px;display:flex;flex-direction:column;align-items:center;gap:32px}.LoginPage-module__logo___ASmao{width:80px;height:80px;border-radius:12px;object-fit:cover;box-shadow:var(--shadow-lg);border:3px solid var(--border-color)}.LoginPage-module__loginCard___OgP-R{width:100%;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;box-shadow:var(--shadow-lg);padding:32px;display:flex;flex-direction:column;gap:24px}@media(max-width:768px){.LoginPage-module__loginCard___OgP-R{padding:24px;box-shadow:none;border:none;background:transparent}}.LoginPage-module__loginHeader___3kAvs{display:flex;flex-direction:column;gap:8px;text-align:center}.LoginPage-module__titleRow___9h914{display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap}.LoginPage-module__title___I-LuY{font-size:22px;font-weight:800;color:var(--text-primary)}.LoginPage-module__subtitle___Q41SH{color:var(--text-secondary);font-size:14px}.LoginPage-module__languageSelect___KUNwV{white-space:nowrap;border:1px solid var(--border-color);border-radius:8px;padding:10px 12px;font-size:14px;background:var(--bg-primary);color:var(--text-primary);cursor:pointer;height:40px;box-sizing:border-box}.LoginPage-module__languageSelect___KUNwV:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #8b86802e}.LoginPage-module__connectionBox___B5--X{background:var(--bg-secondary);border:1px dashed var(--border-color);border-radius:8px;padding:16px;display:flex;flex-direction:column;gap:4px}.LoginPage-module__connectionBox___B5--X .LoginPage-module__label___2fkY-{color:var(--text-secondary);font-size:14px}.LoginPage-module__connectionBox___B5--X .LoginPage-module__value___JFrYC{font-weight:700;color:var(--text-primary);word-break:break-all}.LoginPage-module__connectionBox___B5--X .LoginPage-module__hint___bcz4d{color:var(--text-secondary);font-size:12px}.LoginPage-module__toggleAdvanced___4aKnv{display:flex;justify-content:flex-start;align-items:center;gap:4px;color:var(--text-secondary);cursor:pointer}.LoginPage-module__toggleAdvanced___4aKnv input[type=checkbox]{cursor:pointer}.LoginPage-module__toggleAdvanced___4aKnv label{cursor:pointer;font-size:14px}.LoginPage-module__errorBox___wX1tT{background:#c657461a;border:1px solid rgba(198,87,70,.4);border-radius:8px;padding:8px 16px;color:#c65746;font-size:14px}@keyframes LoginPage-module__splashEnter___K-Jk9{0%{opacity:0;transform:scale(.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes LoginPage-module__splashLogoPulse___DIteW{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes LoginPage-module__splashLoading___jAaFC{0%{transform:scaleX(0);transform-origin:left}50%{transform:scaleX(1);transform-origin:left}50.01%{transform-origin:right}to{transform:scaleX(0);transform-origin:right}}.LoginPage-module__splashContent___Cc3DZ{display:flex;flex-direction:column;align-items:center;gap:16px;animation:LoginPage-module__splashEnter___K-Jk9 .6s ease-out}.LoginPage-module__splashLogo___yzbbw{height:80px;width:auto;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a;animation:LoginPage-module__splashLogoPulse___DIteW 1.5s ease-in-out infinite}.LoginPage-module__splashTitle___G-HEP{font-size:28px;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px}.LoginPage-module__splashSubtitle___BYSQi{font-size:16px;font-weight:500;color:var(--text-secondary);margin:-8px 0 0}.LoginPage-module__splashLoader___SdvUl{width:120px;height:3px;background:var(--border-color);border-radius:9999px;overflow:hidden;margin-top:16px}.LoginPage-module__splashLoaderBar___lyVXw{width:100%;height:100%;background:var(--primary-color);border-radius:9999px;animation:LoginPage-module__splashLoading___jAaFC 1.2s ease-in-out infinite}.page-transition{position:relative;flex:1 1 auto;display:flex;flex-direction:column;min-height:0;overflow:hidden}.page-transition__layer{display:flex;flex-direction:column;gap:24px;min-height:0;flex:1;background:var(--bg-secondary);backface-visibility:hidden;transform:translateZ(0)}.page-transition__layer--exit{position:absolute;inset:0;overflow:hidden;pointer-events:none;will-change:transform,opacity}.page-transition__layer--stacked{display:none}.page-transition__layer--stacked.page-transition__layer--stacked-keep{display:flex;position:absolute;inset:0;overflow:hidden;pointer-events:none;opacity:0;will-change:transform,opacity}.page-transition--animating .page-transition__layer{will-change:transform,opacity}.page-transition--animating .page-transition__layer:not(.page-transition__layer--exit):not(.page-transition__layer--stacked){position:relative}.DashboardPage-module__dashboard___c-JEy{display:flex;flex-direction:column;gap:24px;max-width:1000px;margin:0 auto}.DashboardPage-module__header___DrpYQ{margin-bottom:8px}.DashboardPage-module__title___aKMJy{font-size:26px;font-weight:800;color:var(--text-primary);margin:0;line-height:1.4}.DashboardPage-module__subtitle___o9pSe{font-size:15px;color:var(--text-secondary);margin:4px 0 0}.DashboardPage-module__connectionCard___6o2zO{display:flex;align-items:center;justify-content:space-between;gap:16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:16px 24px;flex-wrap:wrap}.DashboardPage-module__connectionStatus___UhJ2s{display:flex;align-items:center;gap:8px}.DashboardPage-module__statusDot___4w7W-{width:10px;height:10px;border-radius:50%;background:#9ca3af}.DashboardPage-module__statusDot___4w7W-.DashboardPage-module__connected___CeELY{background:#10b981;box-shadow:0 0 8px #10b98180}.DashboardPage-module__statusDot___4w7W-.DashboardPage-module__connecting___j03PZ{background:#c65746;animation:DashboardPage-module__pulse___GLJju 1s ease-in-out infinite}.DashboardPage-module__statusDot___4w7W-.DashboardPage-module__disconnected___3l11q{background:#c65746}@keyframes DashboardPage-module__pulse___GLJju{0%,to{opacity:1}50%{opacity:.5}}.DashboardPage-module__statusText___QDIvv{font-weight:600;color:var(--text-primary)}.DashboardPage-module__connectionInfo___oh7A1{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.DashboardPage-module__serverUrl___9-jgp{font-family:Courier New,Courier,monospace;font-size:13px;color:var(--text-secondary);background:var(--bg-primary);padding:4px 10px;border-radius:8px;border:1px solid var(--border-color)}.DashboardPage-module__serverVersion___fmQMs{font-size:13px;font-weight:600;color:var(--primary-color);background:#8b86801a;padding:4px 10px;border-radius:9999px}.DashboardPage-module__buildDate___zr4hY{font-size:12px;color:var(--text-secondary)}.DashboardPage-module__statsGrid___y7hZp{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:900px){.DashboardPage-module__statsGrid___y7hZp{grid-template-columns:repeat(2,1fr)}}@media(max-width:500px){.DashboardPage-module__statsGrid___y7hZp{grid-template-columns:1fr}}.DashboardPage-module__statCard___Du41R{display:flex;align-items:center;gap:16px;padding:24px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;text-decoration:none;transition:all .15s ease}.DashboardPage-module__statCard___Du41R:hover{border-color:var(--primary-color);box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}.DashboardPage-module__statIcon___EmbpQ{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:8px;background:var(--bg-secondary);color:var(--primary-color)}.DashboardPage-module__statContent___IJemf{display:flex;flex-direction:column;gap:2px}.DashboardPage-module__statValue___w491L{font-size:24px;font-weight:800;color:var(--text-primary)}.DashboardPage-module__statLabel___b-2c9{font-size:13px;color:var(--text-secondary)}.DashboardPage-module__statSublabel___0oB31{font-size:11px;color:var(--text-secondary);opacity:.8;margin-top:2px}.DashboardPage-module__section___i4jzh{display:flex;flex-direction:column;gap:16px}.DashboardPage-module__sectionTitle___uLbzI{font-size:16px;font-weight:700;color:var(--text-primary);margin:0}.DashboardPage-module__actionsGrid___1Gqms{display:flex;flex-wrap:wrap;gap:8px}.DashboardPage-module__actionsGrid___1Gqms a{text-decoration:none}.DashboardPage-module__actionButton___nQwMv{display:inline-flex;align-items:center;gap:8px}.DashboardPage-module__actionButton___nQwMv>span{display:inline-flex;align-items:center;gap:8px}.DashboardPage-module__actionButton___nQwMv svg{flex-shrink:0}.DashboardPage-module__configGrid___5UhRW{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:8px}.DashboardPage-module__configItem___NBY1m{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.DashboardPage-module__configLabel___RoXI2{font-size:13px;color:var(--text-secondary)}.DashboardPage-module__configValue___6vWwa{font-size:13px;font-weight:600;color:var(--text-primary)}.DashboardPage-module__configValue___6vWwa.DashboardPage-module__enabled___R3JFn{color:#10b981}.DashboardPage-module__configValue___6vWwa.DashboardPage-module__disabled___ievwL{color:var(--text-secondary)}.DashboardPage-module__configValueMono___tc-ax{font-size:12px;font-family:Courier New,Courier,monospace;color:var(--text-secondary);word-break:break-all}.DashboardPage-module__configBadge___TrJTP{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);font-size:12px;font-weight:600;line-height:1.2;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.DashboardPage-module__configBadgeRoundRobin___wgPLB{color:var(--primary-color);border-color:#8b86803d;background:#8b86801f}.DashboardPage-module__configBadgeFillFirst___N5vai{color:#10b981;border-color:#10b9814d;background:#10b9811f}.DashboardPage-module__configBadgeUnknown___Jo3zP{color:var(--text-secondary);background:var(--bg-primary)}.DashboardPage-module__configItemFull___Apt9u{grid-column:1/-1}.DashboardPage-module__usageGrid___Kw8w-{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px}.DashboardPage-module__usageCard___aZLqg{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;text-align:center}.DashboardPage-module__usageValue___NU6fZ{font-size:22px;font-weight:800;color:var(--primary-color)}.DashboardPage-module__usageLabel___G2xLC{font-size:12px;color:var(--text-secondary);margin-top:4px}.DashboardPage-module__usageLoading___mqty7,.DashboardPage-module__usageEmpty___R766M{padding:24px;text-align:center;color:var(--text-secondary);background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.DashboardPage-module__viewMoreLink___wKvoJ{display:inline-flex;align-items:center;font-size:13px;color:var(--primary-color);text-decoration:none;margin-top:4px}.DashboardPage-module__viewMoreLink___wKvoJ:hover{text-decoration:underline}.AiProvidersPage-module__container___y-jfS{width:100%}.AiProvidersPage-module__cardTitle___vO4i3{display:flex;align-items:center;gap:8px}.AiProvidersPage-module__cardTitleIcon___-rTw0{width:24px;height:24px}.AiProvidersPage-module__pageTitle___DoSv8{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 32px}.AiProvidersPage-module__content___E2Czu{display:flex;flex-direction:column;gap:32px;padding-bottom:calc(var(--provider-nav-height, 60px) + 12px + env(safe-area-inset-bottom) + 16px)}.AiProvidersPage-module__section___IvT9j{display:flex;flex-direction:column;gap:16px}.AiProvidersPage-module__sectionHeader___DP-H3{display:flex;justify-content:space-between;align-items:center;gap:16px}.AiProvidersPage-module__sectionHeader___DP-H3 h3{margin:0;font-size:20px;font-weight:600;color:var(--text-primary)}.AiProvidersPage-module__providerList___mKQc1{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(350px,1fr))}@media(max-width:768px){.AiProvidersPage-module__providerList___mKQc1{grid-template-columns:1fr}}.AiProvidersPage-module__cardStats___rELY1{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;padding-top:4px}.AiProvidersPage-module__statPill___d812A{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600;line-height:1.1;border:1px solid transparent;background-color:var(--bg-tertiary);color:var(--text-primary);white-space:nowrap}.AiProvidersPage-module__statSuccess___5dRtj{background-color:var(--success-badge-bg, #d1fae5);color:var(--success-badge-text, #065f46);border-color:var(--success-badge-border, #6ee7b7)}.AiProvidersPage-module__statFailure___krDjY{background-color:var(--failure-badge-bg);color:var(--failure-badge-text);border-color:var(--failure-badge-border)}.AiProvidersPage-module__fieldRow___XK6hX{display:flex;flex-wrap:wrap;align-items:baseline;gap:6px;margin-bottom:4px;font-size:13px;line-height:1.4}.AiProvidersPage-module__fieldLabel___cLX9f{color:var(--text-tertiary);font-weight:500;white-space:nowrap;flex-shrink:0}.AiProvidersPage-module__fieldValue___VdFCH{color:var(--text-primary);font-weight:600;word-break:break-all;font-family:Monaco,Menlo,Consolas,Ubuntu Mono,monospace}.AiProvidersPage-module__headerBadgeList___kwkIM{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.AiProvidersPage-module__headerBadge___eN0Fd{display:inline-flex;align-items:center;gap:4px;background:var(--accent-tertiary, #f3f4f6);border:1px solid var(--border-primary);border-radius:12px;padding:4px 10px;font-size:12px;color:var(--text-secondary)}.AiProvidersPage-module__headerBadge___eN0Fd strong{font-weight:600;color:var(--text-primary)}.AiProvidersPage-module__modelTagList___shUnj{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;align-items:center}.AiProvidersPage-module__modelCountLabel___uV8s-{display:inline-flex;align-items:center;font-size:13px;font-weight:500;line-height:1.4;color:var(--text-tertiary);white-space:nowrap;flex-shrink:0}.AiProvidersPage-module__modelTag___k-VuJ{display:inline-flex;align-items:center;gap:4px;background:var(--bg-quinary, #f8f9fa);color:var(--text-secondary);border:1px solid var(--border-secondary);border-radius:14px;padding:4px 10px;font-size:12px;transition:all .15s ease}.AiProvidersPage-module__modelTag___k-VuJ:hover{background:var(--bg-tertiary);border-color:var(--primary-color)}.AiProvidersPage-module__modelName___-6r4h{font-weight:600;color:var(--text-primary)}.AiProvidersPage-module__modelAlias___ljQjM{color:var(--text-tertiary);font-style:italic}.AiProvidersPage-module__modelAlias___ljQjM:before{content:" "}.AiProvidersPage-module__excludedModelTag___emTfi{background:var(--warning-bg, #fef3c7);border-color:var(--warning-border, #fbbf24);color:var(--warning-text, #92400e)}.AiProvidersPage-module__excludedModelTag___emTfi .AiProvidersPage-module__modelName___-6r4h{color:var(--warning-text, #92400e)}.AiProvidersPage-module__excludedModelsSection___XFykq{margin-top:8px}.AiProvidersPage-module__excludedModelsLabel___Drdds{font-size:12px;font-weight:500;color:var(--warning-text, #92400e);margin-bottom:4px}.AiProvidersPage-module__apiKeyEntriesSection___60ydj{margin-top:10px}.AiProvidersPage-module__apiKeyEntriesLabel___c5W8h{font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:6px}.AiProvidersPage-module__apiKeyEntryList___-xrgk{display:flex;flex-direction:column;gap:6px}.AiProvidersPage-module__apiKeyEntryCard___Y5gRi{display:flex;flex-wrap:wrap;align-items:center;gap:8px;padding:8px 12px;background:var(--bg-secondary, #f9fafb);border:1px solid var(--border-secondary);border-radius:8px;font-size:12px}.AiProvidersPage-module__apiKeyEntryIndex___h8oWW{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background:var(--primary-color);color:#fff;font-size:11px;font-weight:600;flex-shrink:0}.AiProvidersPage-module__apiKeyEntryKey___JgU0c{font-family:Monaco,Menlo,Consolas,Ubuntu Mono,monospace;font-weight:600;color:var(--text-primary);word-break:break-all}.AiProvidersPage-module__apiKeyEntryProxy___gy9Vu{color:var(--text-tertiary);font-size:11px}.AiProvidersPage-module__apiKeyEntryProxy___gy9Vu:before{content:"| Proxy: ";color:var(--text-quaternary)}.AiProvidersPage-module__apiKeyEntryStats___Whq5E{display:flex;gap:6px;margin-left:auto}.AiProvidersPage-module__apiKeyEntryStat___rwvkB{display:inline-flex;align-items:center;gap:3px;padding:2px 6px;border-radius:10px;font-size:10px;font-weight:600}.AiProvidersPage-module__apiKeyEntryStat___rwvkB svg{display:block}.AiProvidersPage-module__apiKeyEntryStatSuccess___GXIwG{background:var(--success-badge-bg, #d1fae5);color:var(--success-badge-text, #065f46)}.AiProvidersPage-module__apiKeyEntryStatFailure___XV9wg{background:var(--failure-badge-bg);color:var(--failure-badge-text)}.AiProvidersPage-module__modelDiscoveryList___HKeOb{display:flex;flex-direction:column;gap:6px;max-height:360px;overflow-y:auto;margin-top:0;padding-right:4px}.AiProvidersPage-module__modelDiscoveryRow___3J8pc{display:flex;align-items:flex-start;gap:8px;padding:8px 10px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);cursor:pointer;transition:background .15s ease,border-color .15s ease}.AiProvidersPage-module__modelDiscoveryRow___3J8pc input[type=checkbox]{margin-top:2px;cursor:pointer}.AiProvidersPage-module__modelDiscoveryRow___3J8pc:hover{border-color:var(--primary-color);background:var(--bg-secondary)}.AiProvidersPage-module__modelDiscoveryRowSelected___VLfIp{border-color:var(--primary-color);background:var(--bg-tertiary)}.AiProvidersPage-module__modelDiscoveryMeta___7D6Y5{display:flex;flex-direction:column;gap:2px}.AiProvidersPage-module__modelDiscoveryName___yf70V{font-weight:600;color:var(--text-primary)}.AiProvidersPage-module__modelDiscoveryAlias___N2nU7{margin-left:6px;color:var(--text-tertiary);font-style:italic}.AiProvidersPage-module__modelDiscoveryDesc___nsrtd{font-size:12px;color:var(--text-secondary);line-height:1.4}.AiProvidersPage-module__openaiTestButtonSuccess___ZiymQ{background-color:var(--success-badge-bg, #d1fae5);border-color:var(--success-badge-border, #6ee7b7);color:var(--success-badge-text, #065f46)}.AiProvidersPage-module__openaiTestButtonSuccess___ZiymQ:hover{background-color:var(--success-badge-bg, #d1fae5);border-color:var(--success-badge-border, #6ee7b7)}.AiProvidersPage-module__statusBar___gAS9s{display:flex;align-items:center;gap:8px;margin-top:8px;padding:8px 0;max-width:280px}.AiProvidersPage-module__statusBlocks___RESqk{display:flex;gap:2px;flex:1;min-width:180px;position:relative}.AiProvidersPage-module__statusBlockWrapper___crE7L{flex:1;min-width:6px;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent}.AiProvidersPage-module__statusBlock___nUV1s{width:100%;height:8px;border-radius:2px;transition:transform .15s ease,opacity .15s ease}.AiProvidersPage-module__statusBlockWrapper___crE7L:hover .AiProvidersPage-module__statusBlock___nUV1s,.AiProvidersPage-module__statusBlockWrapper___crE7L.AiProvidersPage-module__statusBlockActive___MgbMs .AiProvidersPage-module__statusBlock___nUV1s{transform:scaleY(1.8);opacity:.9}.AiProvidersPage-module__statusBlockIdle___WEMXo{background-color:var(--border-secondary, #e5e7eb)}.AiProvidersPage-module__statusTooltip___leV9X{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translate(-50%);background:var(--bg-primary, #fff);border:1px solid var(--border-secondary, #e5e7eb);border-radius:6px;padding:6px 10px;font-size:11px;line-height:1.5;white-space:nowrap;box-shadow:0 4px 12px #0000001f;z-index:1000;pointer-events:none;color:var(--text-primary)}.AiProvidersPage-module__statusTooltip___leV9X:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:var(--bg-primary, #fff)}.AiProvidersPage-module__statusTooltip___leV9X:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:6px solid transparent;border-top-color:var(--border-secondary, #e5e7eb)}.AiProvidersPage-module__statusTooltipLeft___avU77{left:0;transform:translate(0)}.AiProvidersPage-module__statusTooltipLeft___avU77:after,.AiProvidersPage-module__statusTooltipLeft___avU77:before{left:8px;transform:none}.AiProvidersPage-module__statusTooltipRight___k2gcI{left:auto;right:0;transform:translate(0)}.AiProvidersPage-module__statusTooltipRight___k2gcI:after,.AiProvidersPage-module__statusTooltipRight___k2gcI:before{left:auto;right:8px;transform:none}.AiProvidersPage-module__tooltipTime___SU0zH{color:var(--text-secondary);display:block;margin-bottom:2px}.AiProvidersPage-module__tooltipStats___c6Xho{display:flex;align-items:center;gap:8px}.AiProvidersPage-module__tooltipSuccess___Nl3Pt{color:var(--success-color, #22c55e)}.AiProvidersPage-module__tooltipFailure___1XMCP{color:var(--danger-color, #ef4444)}.AiProvidersPage-module__tooltipRate___YDCOe{color:var(--text-secondary);margin-left:2px}.AiProvidersPage-module__statusRate___mqcEs{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:600;white-space:nowrap;padding:4px 8px;border-radius:6px;background:var(--bg-tertiary)}.AiProvidersPage-module__statusRateHigh___GpDhl{color:var(--success-badge-text, #065f46);background:var(--success-badge-bg, #d1fae5)}.AiProvidersPage-module__statusRateMedium___hdtEj{color:var(--warning-text, #92400e);background:var(--warning-bg, #fef3c7)}.AiProvidersPage-module__statusRateLow___mNI2c{color:var(--failure-badge-text);background:var(--failure-badge-bg)}@media(max-width:768px){.AiProvidersPage-module__statusTooltip___leV9X{font-size:12px;padding:8px 12px}.AiProvidersPage-module__statusBlocks___RESqk{min-width:140px}}.AiProvidersPage-module__openaiEditForm___axTov{display:flex;flex-direction:column;gap:16px}.AiProvidersPage-module__openaiEditForm___axTov .form-group,.AiProvidersPage-module__openaiEditForm___axTov .AiProvidersPage-module__modelConfigSection___0v-e8{margin-bottom:0}.AiProvidersPage-module__openaiEditForm___axTov .status-badge{margin-bottom:0;align-self:flex-start}.AiProvidersPage-module__sectionHint___-aBFT{margin:0;font-size:13px;line-height:1.5;color:var(--text-secondary)}.AiProvidersPage-module__openaiModelsContent___yEApy{display:flex;flex-direction:column;gap:16px}.AiProvidersPage-module__openaiModelsContent___yEApy .form-group{margin-bottom:0}.AiProvidersPage-module__openaiModelsEndpointSection___FvBIQ{display:flex;flex-direction:column;gap:4px}.AiProvidersPage-module__openaiModelsEndpointLabel___-rOEU{display:block;margin:0;font-weight:600;color:var(--text-primary)}.AiProvidersPage-module__openaiModelsEndpointControls___pLkMs{display:flex;align-items:center;gap:8px}@media(max-width:768px){.AiProvidersPage-module__openaiModelsEndpointControls___pLkMs{flex-direction:column;align-items:stretch}}.AiProvidersPage-module__openaiModelsEndpointInput___4xH3Y{flex:1;min-width:0}.AiProvidersPage-module__modelConfigSection___0v-e8{margin-bottom:16px;display:flex;flex-direction:column;gap:8px}.AiProvidersPage-module__modelConfigHeader___bXtq4{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}@media(max-width:768px){.AiProvidersPage-module__modelConfigHeader___bXtq4{align-items:flex-start}}.AiProvidersPage-module__modelConfigTitle___ppVRn{margin:0;font-weight:600;color:var(--text-primary);line-height:1.5}.AiProvidersPage-module__modelConfigToolbar___nrb6R{display:flex;align-items:center;gap:4px;flex-wrap:wrap;justify-content:flex-end}@media(max-width:768px){.AiProvidersPage-module__modelConfigToolbar___nrb6R{width:100%;justify-content:flex-start}}.AiProvidersPage-module__modelConfigToolbar___nrb6R .btn{white-space:nowrap}.AiProvidersPage-module__modelInputList___AbYq6{gap:4px}.AiProvidersPage-module__modelInputRow___j-ubV{display:grid;grid-template-columns:minmax(0,1fr) auto minmax(0,1fr) auto;gap:8px;align-items:center}@media(max-width:768px){.AiProvidersPage-module__modelInputRow___j-ubV{grid-template-columns:minmax(0,1fr) auto;row-gap:4px}.AiProvidersPage-module__modelInputRow___j-ubV>:nth-child(2){display:none}.AiProvidersPage-module__modelInputRow___j-ubV>:nth-child(3){grid-column:1/3}.AiProvidersPage-module__modelInputRow___j-ubV>:nth-child(4){grid-column:2/3;grid-row:1/2}}.AiProvidersPage-module__modelInputField___QdqkU{min-width:0}.AiProvidersPage-module__modelRowRemoveButton___lEFpT{justify-self:center}.AiProvidersPage-module__modelTestPanel___SyW9P{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;margin-top:0;padding:8px 16px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary)}@media(max-width:768px){.AiProvidersPage-module__modelTestPanel___SyW9P{flex-direction:column;align-items:stretch}}.AiProvidersPage-module__modelTestMeta___XMH-g{display:flex;flex-direction:column;gap:6px;min-width:0}.AiProvidersPage-module__modelTestLabel___HqcWx{font-size:13px;font-weight:600;color:var(--text-secondary);line-height:1.5}.AiProvidersPage-module__modelTestHint___kUgyp{font-size:12px;color:var(--text-tertiary);line-height:1.5}.AiProvidersPage-module__modelTestControls___yPmI0{display:flex;align-items:center;justify-content:flex-end;gap:4px;flex:1;min-width:0}@media(max-width:768px){.AiProvidersPage-module__modelTestControls___yPmI0{justify-content:flex-start}}.AiProvidersPage-module__keyEntriesSection___XD0xH{margin-bottom:0;display:flex;flex-direction:column;gap:8px}.AiProvidersPage-module__keyEntriesHeader___yZxok{display:flex;flex-direction:column;gap:6px;margin-bottom:0}.AiProvidersPage-module__keyEntriesTitle___MEybu{display:block;margin:0;font-weight:600;color:var(--text-primary);line-height:1.5}.AiProvidersPage-module__keyEntriesHint___gn0EN{font-size:13px;line-height:1.5;color:var(--text-secondary)}.AiProvidersPage-module__keyEntriesList___Gtpin{display:flex;flex-direction:column;gap:8px}.AiProvidersPage-module__keyEntriesToolbar___eSzyC{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}.AiProvidersPage-module__keyEntriesCount___e6jgL{font-size:13px;font-weight:600;color:var(--text-secondary)}.AiProvidersPage-module__keyTableShell___0nNxe{overflow-x:auto;border-radius:8px}.AiProvidersPage-module__keyTableHeader___ZbWah{display:grid;grid-template-columns:46px 56px minmax(220px,1.4fr) minmax(200px,1.1fr) 180px;gap:8px;min-width:760px;padding:10px 16px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-bottom:none;border-radius:8px 8px 0 0;font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:none;align-items:center;text-align:center}.AiProvidersPage-module__keyTableRow___0MOQW{display:grid;grid-template-columns:46px 56px minmax(220px,1.4fr) minmax(200px,1.1fr) 180px;gap:8px;min-width:760px;padding:10px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-top:none;align-items:center}.AiProvidersPage-module__keyTableRow___0MOQW:last-child{border-radius:0 0 8px 8px}.AiProvidersPage-module__keyTableRow___0MOQW:hover{background:var(--bg-tertiary)}.AiProvidersPage-module__keyTableColIndex___U12X-{display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--text-tertiary)}.AiProvidersPage-module__keyTableColStatus___Dzw88{display:flex;align-items:center;justify-content:center}.AiProvidersPage-module__keyTableColStatus___Dzw88 svg{display:block}.AiProvidersPage-module__keyTableColKey___V9Md3,.AiProvidersPage-module__keyTableColProxy___9hcue{min-width:0;display:flex;align-items:center;justify-content:center}.AiProvidersPage-module__keyTableColAction___oZsbE{display:flex;align-items:center;justify-content:center;gap:4px;flex-shrink:0;white-space:nowrap}.AiProvidersPage-module__keyTableInput___bo5JN{width:100%;padding:8px 10px;font-size:14px;min-height:38px;text-align:center}.AiProvidersPage-module__addKeyButton___xuMah{align-self:auto;margin-top:0}.AiProvidersPage-module__openaiTestSelect___7-Upw{flex:1 1 260px;min-width:180px;max-width:380px}@media(max-width:768px){.AiProvidersPage-module__openaiTestSelect___7-Upw{min-width:0;max-width:none}}.AiProvidersPage-module__modelTestAllButton___SRL9M{white-space:nowrap;flex-shrink:0}.AiProvidersPage-module__statusIconWrapper___yoMZR{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;color:var(--text-secondary);flex-shrink:0}.AiProvidersPage-module__statusIconSpin___DC8Ww{animation:AiProvidersPage-module__spin___D9eR3 1s linear infinite}@keyframes AiProvidersPage-module__spin___D9eR3{0%{transform:rotate(0)}to{transform:rotate(360deg)}}[data-theme=dark] .AiProvidersPage-module__headerBadge___eN0Fd{background:#8b868024;border-color:#8b868059;color:var(--text-secondary)}[data-theme=dark] .AiProvidersPage-module__headerBadge___eN0Fd strong{color:var(--text-secondary)}[data-theme=dark] .AiProvidersPage-module__modelTag___k-VuJ{background:#8b86801a;border-color:var(--border-secondary)}[data-theme=dark] .AiProvidersPage-module__excludedModelTag___emTfi{background:#c6574638;border-color:#c657468c;color:var(--warning-color)}[data-theme=dark] .AiProvidersPage-module__excludedModelTag___emTfi .AiProvidersPage-module__modelName___-6r4h,[data-theme=dark] .AiProvidersPage-module__excludedModelsLabel___Drdds{color:var(--warning-color)}[data-theme=dark] .AiProvidersPage-module__apiKeyEntryCard___Y5gRi{background:var(--bg-tertiary);border-color:var(--border-primary)}[data-theme=dark] .AiProvidersPage-module__apiKeyEntryIndex___h8oWW{background:var(--primary-color)}[data-theme=dark] .AiProvidersPage-module__statusBlockIdle___WEMXo{background-color:var(--border-primary, #374151)}[data-theme=dark] .AiProvidersPage-module__statusTooltip___leV9X{background:var(--bg-secondary, #1f2937);border-color:var(--border-primary, #374151);box-shadow:0 4px 12px #0006}[data-theme=dark] .AiProvidersPage-module__statusTooltip___leV9X:after{border-top-color:var(--bg-secondary, #1f2937)}[data-theme=dark] .AiProvidersPage-module__statusTooltip___leV9X:before{border-top-color:var(--border-primary, #374151)}[data-theme=dark] .AiProvidersPage-module__statusRateHigh___GpDhl{background:#22c55e33;color:#86efac}[data-theme=dark] .AiProvidersPage-module__statusRateMedium___hdtEj{background:#fbbf2433;color:#fde68a}[data-theme=dark] .AiProvidersPage-module__statusRateLow___mNI2c{background:#c657463d;color:#f1b0a6}.ToggleSwitch-module__root___IUqKD{position:relative;display:inline-flex;align-items:center;gap:8px;cursor:pointer}.ToggleSwitch-module__labelLeft___Pc6fJ .ToggleSwitch-module__label___4iQkR{order:-1}.ToggleSwitch-module__disabled___GNGHj{cursor:not-allowed}.ToggleSwitch-module__root___IUqKD input{width:0;height:0;opacity:0;position:absolute}.ToggleSwitch-module__track___zFtXx{width:44px;height:24px;background:var(--border-color);border-radius:9999px;position:relative;transition:background .15s ease}.ToggleSwitch-module__thumb___gQ45C{position:absolute;top:3px;left:3px;width:18px;height:18px;background:#fff;border-radius:9999px;box-shadow:0 1px 2px #0000000d;transition:transform .15s ease}.ToggleSwitch-module__root___IUqKD input:checked+.ToggleSwitch-module__track___zFtXx{background:var(--primary-color)}.ToggleSwitch-module__root___IUqKD input:checked+.ToggleSwitch-module__track___zFtXx .ToggleSwitch-module__thumb___gQ45C{transform:translate(20px)}.ToggleSwitch-module__label___4iQkR{color:var(--text-primary);font-weight:600}.ProviderNav-module__navContainer___Ym-Eg{position:fixed;left:var(--content-center-x, 50%);bottom:calc(12px + env(safe-area-inset-bottom));transform:translate(-50%);z-index:50;pointer-events:auto;width:fit-content;max-width:calc(100vw - 24px)}.ProviderNav-module__navList___7nsum{position:relative;display:inline-flex;flex-direction:row;gap:6px;padding:10px 12px;background:color-mix(in srgb,var(--bg-primary) 82%,transparent);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid color-mix(in srgb,var(--border-color) 60%,transparent);border-radius:999px;box-shadow:0 4px 24px #00000014;overflow-x:auto;scrollbar-width:none;max-width:inherit}.ProviderNav-module__navList___7nsum::-webkit-scrollbar{display:none}.ProviderNav-module__indicator___Ta8ib{position:absolute;top:0;left:0;pointer-events:none;opacity:0;border-radius:999px;background:#8b868029;box-shadow:inset 0 0 0 2px var(--primary-color);transition:transform .22s cubic-bezier(.22,1,.36,1),width .22s cubic-bezier(.22,1,.36,1),height .22s cubic-bezier(.22,1,.36,1),opacity .12s ease;will-change:transform,width,height}.ProviderNav-module__indicatorVisible___U7LEL{opacity:1}.ProviderNav-module__indicatorNoTransition___dtZdn{transition:none}.ProviderNav-module__navItem___LRkPI{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;width:40px;height:40px;padding:0;border:none;background:transparent;border-radius:999px;cursor:pointer;transition:background-color .2s ease,transform .15s ease;flex:0 0 auto}.ProviderNav-module__navItem___LRkPI:hover{background:color-mix(in srgb,var(--text-primary) 10%,transparent);transform:scale(1.08)}.ProviderNav-module__navItem___LRkPI:active{transform:scale(.95)}.ProviderNav-module__navItem___LRkPI.ProviderNav-module__active___Jo0X6:hover{background:transparent;transform:none}.ProviderNav-module__icon___X-NJQ{width:24px;height:24px;object-fit:contain}.ProviderNav-module__active___Jo0X6{background:transparent;box-shadow:none}[data-theme=dark] .ProviderNav-module__navList___7nsum{background:color-mix(in srgb,var(--bg-primary) 82%,transparent);border-color:color-mix(in srgb,var(--border-color) 55%,transparent);box-shadow:0 4px 24px #0006}[data-theme=dark] .ProviderNav-module__indicator___Ta8ib{background:#8b868047}@media(max-width:1200px){.ProviderNav-module__navContainer___Ym-Eg{max-width:calc(100vw - 16px)}.ProviderNav-module__navList___7nsum{gap:6px;padding:8px 10px}.ProviderNav-module__navItem___LRkPI{width:36px;height:36px}.ProviderNav-module__icon___X-NJQ{width:22px;height:22px}}@media(prefers-reduced-motion:reduce){.ProviderNav-module__indicator___Ta8ib{transition:none}.ProviderNav-module__navItem___LRkPI{transition:background-color .2s ease}}.SecondaryScreenShell-module__container___9DAwq{display:flex;flex-direction:column;gap:24px;min-height:0}.SecondaryScreenShell-module__topBar___vHzq4{position:sticky;top:0;z-index:5;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:16px;padding:8px 16px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);min-height:44px}.SecondaryScreenShell-module__topBarTitle___Q8LCy{min-width:0;text-align:center;font-size:16px;font-weight:650;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;justify-self:center}.SecondaryScreenShell-module__backButton___d6Zgy{padding-left:6px;padding-right:10px;justify-self:start;gap:0}.SecondaryScreenShell-module__backButton___d6Zgy>span:last-child{display:inline-flex;align-items:center;gap:6px}.SecondaryScreenShell-module__backIcon___R8Iyn{display:inline-flex;align-items:center;justify-content:center}.SecondaryScreenShell-module__backIcon___R8Iyn svg{display:block}.SecondaryScreenShell-module__backText___CODk7{font-weight:600;line-height:18px}.SecondaryScreenShell-module__rightSlot___ZvWJR{justify-self:end;display:flex;justify-content:flex-end}.SecondaryScreenShell-module__loadingState___4Jbsa{display:flex;align-items:center;justify-content:center;gap:8px;padding:48px 0;color:var(--text-secondary)}.SecondaryScreenShell-module__content___nVk3R{display:flex;flex-direction:column;gap:24px}.SecondaryScreenShell-module__contentWithFloatingAction___4gXgb{padding-bottom:calc(var(--secondary-shell-floating-action-height, 56px) + 12px + env(safe-area-inset-bottom))}.SecondaryScreenShell-module__floatingActionContainer___sSKk-{position:fixed;left:var(--content-center-x, 50%);bottom:calc(12px + env(safe-area-inset-bottom));transform:translate(-50%);z-index:50;pointer-events:none;width:fit-content;max-width:calc(100vw - 24px)}.SecondaryScreenShell-module__floatingActionSurface___Wfab-{pointer-events:auto;display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;background:color-mix(in srgb,var(--bg-primary) 82%,transparent);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid color-mix(in srgb,var(--border-color) 60%,transparent);box-shadow:0 4px 24px #00000014}[data-theme=dark] .SecondaryScreenShell-module__floatingActionSurface___Wfab-{background:color-mix(in srgb,var(--bg-primary) 82%,transparent);border-color:color-mix(in srgb,var(--border-color) 55%,transparent);box-shadow:0 4px 24px #0006}@media(max-width:1200px){.SecondaryScreenShell-module__floatingActionContainer___sSKk-{max-width:calc(100vw - 16px)}.SecondaryScreenShell-module__floatingActionSurface___Wfab-{padding:8px 10px}}.AiProvidersEditLayout-module__content___v2E8m{width:100%;max-width:960px;margin:0 auto}.AiProvidersEditLayout-module__floatingActions___PxOCK{display:inline-flex;align-items:center;gap:8px}.AiProvidersEditLayout-module__floatingBackButton___8aBq-{min-width:82px}.AiProvidersEditLayout-module__floatingSaveButton___mkAOu{min-width:88px}.AiProvidersEditLayout-module__upstreamApiKeyRow___z09Am{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:16px}.AiProvidersEditLayout-module__upstreamApiKeyHint___xz0n6{margin:0;color:var(--text-secondary);font-size:13px}.Select-module__wrap___8GKsa{position:relative;display:inline-flex;align-items:center}.Select-module__wrapFullWidth___uQ1gt{width:100%}.Select-module__trigger___nKY0l{display:inline-flex;align-items:center;justify-content:space-between;gap:8px;width:100%;height:40px;padding:0 12px;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-primary);box-shadow:var(--shadow);color:var(--text-primary);font-size:13px;font-weight:500;cursor:pointer;appearance:none;text-align:left;box-sizing:border-box}.Select-module__trigger___nKY0l:hover{border-color:var(--border-hover)}.Select-module__trigger___nKY0l:focus{outline:none;box-shadow:var(--shadow),0 0 0 3px #8b86802e}.Select-module__trigger___nKY0l[aria-expanded=true]{border-color:var(--primary-color);box-shadow:var(--shadow),0 0 0 3px #8b86802e}.Select-module__triggerText___zQEIp{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-module__placeholder___N04iW{color:var(--text-tertiary)}.Select-module__triggerIcon___ipYKn{display:inline-flex;color:var(--text-secondary);flex-shrink:0;transition:transform .2s ease}[aria-expanded=true]>.Select-module__triggerIcon___ipYKn{transform:rotate(180deg)}.Select-module__dropdown___6YdcD{position:absolute;top:calc(100% + 6px);left:0;right:0;z-index:1000;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;padding:6px;box-shadow:var(--shadow-lg);display:flex;flex-direction:column;gap:4px;max-height:240px;overflow-y:auto;overscroll-behavior:contain}.Select-module__option___EKsSG{padding:8px 12px;border-radius:8px;border:1px solid transparent;background:transparent;color:var(--text-primary);cursor:pointer;text-align:left;font-size:13px;font-weight:500;transition:background-color .15s ease,border-color .15s ease;flex-shrink:0}.Select-module__option___EKsSG:hover{background:var(--bg-secondary)}.Select-module__optionActive___y280o{border-color:#8b868080;background:#8b86801a;font-weight:600}.QuotaPage-module__container___CkTNE{display:flex;flex-direction:column;gap:24px}.QuotaPage-module__pageHeader___7RVAE{display:flex;flex-direction:column;gap:8px}.QuotaPage-module__pageTitle___c6BF7{font-size:28px;font-weight:700;color:var(--text-primary);margin:0}.QuotaPage-module__description___qDPuI{font-size:14px;color:var(--text-secondary);margin:0}.QuotaPage-module__headerActions___Jfu3A{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.QuotaPage-module__headerActions___Jfu3A .btn-sm{line-height:16px}.QuotaPage-module__headerActions___Jfu3A svg{display:block}.QuotaPage-module__titleWrapper___lHVCF{display:flex;align-items:center;gap:8px;line-height:24px}.QuotaPage-module__countBadge___tuPLs{display:inline-flex;align-items:center;justify-content:center;height:24px;min-width:24px;padding:0 8px;border-radius:999px;font-size:13px;font-weight:600;color:var(--count-badge-text);background-color:var(--count-badge-bg);box-sizing:border-box}.QuotaPage-module__errorBox___Ub2Qs{padding:16px;background-color:#c657461a;border:1px solid var(--danger-color);border-radius:8px;color:var(--danger-color);font-size:14px}.QuotaPage-module__pageSizeSelect___1AaaU{padding:8px 12px;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-primary);color:var(--text-primary);font-size:14px;cursor:text;height:38px;box-sizing:border-box}.QuotaPage-module__pageSizeSelect___1AaaU:focus{outline:none;border-color:var(--primary-color)}.QuotaPage-module__statsInfo___coFxw{padding:8px 12px;background-color:var(--bg-secondary);border-radius:8px;font-size:13px;color:var(--text-secondary);white-space:nowrap;height:38px;box-sizing:border-box;display:flex;align-items:center}.QuotaPage-module__antigravityGrid___d29-f,.QuotaPage-module__claudeGrid___g3N0r,.QuotaPage-module__codexGrid___gQjcK,.QuotaPage-module__geminiCliGrid___R6KEW{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(380px,1fr))}@media(max-width:768px){.QuotaPage-module__antigravityGrid___d29-f,.QuotaPage-module__claudeGrid___g3N0r,.QuotaPage-module__codexGrid___gQjcK,.QuotaPage-module__geminiCliGrid___R6KEW{grid-template-columns:1fr}}.QuotaPage-module__antigravityControls___jdhuf,.QuotaPage-module__claudeControls___CJ9XX,.QuotaPage-module__codexControls___ZabMA,.QuotaPage-module__geminiCliControls___aWZsx{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end;margin-bottom:16px}.QuotaPage-module__antigravityControl___Z2Ti6,.QuotaPage-module__claudeControl___4J9Tz,.QuotaPage-module__codexControl___P4r4g,.QuotaPage-module__geminiCliControl___SIXi-{display:flex;flex-direction:column;gap:4px}.QuotaPage-module__antigravityControl___Z2Ti6 label,.QuotaPage-module__claudeControl___4J9Tz label,.QuotaPage-module__codexControl___P4r4g label,.QuotaPage-module__geminiCliControl___SIXi- label{font-size:12px;color:var(--text-secondary);font-weight:500;white-space:nowrap}.QuotaPage-module__viewModeToggle___BHo1O{display:flex;gap:4px;align-items:center}.QuotaPage-module__claudeCard___z9zBZ{background-image:linear-gradient(180deg,#fce4ec2e,#fce4ec00)}.QuotaPage-module__antigravityCard___0jKaG{background-image:linear-gradient(180deg,#e0f7fa1f,#e0f7fa00)}.QuotaPage-module__codexCard___2xhZX{background-image:linear-gradient(180deg,#fff3e02e,#fff3e000)}.QuotaPage-module__geminiCliCard___i8Qjn{background-image:linear-gradient(180deg,#e7efff33,#e7efff00)}.QuotaPage-module__quotaSection___Yb6bk{display:flex;flex-direction:column;gap:8px;padding-top:8px;margin-top:4px;border-top:1px dashed var(--border-color)}.QuotaPage-module__quotaRow___uNjD0{display:flex;flex-direction:column;gap:4px}.QuotaPage-module__quotaRowHeader___jr9zd{display:flex;align-items:center;justify-content:space-between;gap:8px;min-width:0}@media(max-width:768px){.QuotaPage-module__quotaRowHeader___jr9zd{flex-direction:column;align-items:flex-start}}.QuotaPage-module__quotaModel___-3mcR{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}@media(max-width:768px){.QuotaPage-module__quotaModel___-3mcR{white-space:normal}}.QuotaPage-module__quotaBar___ATY20{height:8px;background-color:var(--bg-tertiary);border-radius:999px;overflow:hidden}.QuotaPage-module__quotaBarFill___arMGf{height:100%;background-color:var(--success-color, #22c55e);transition:width .2s ease}.QuotaPage-module__quotaBarFillHigh___yfdzz{background-color:var(--success-color, #22c55e)}.QuotaPage-module__quotaBarFillMedium___PbU2j{background-color:var(--warning-color)}.QuotaPage-module__quotaBarFillLow___1dvgT{background-color:var(--danger-color)}.QuotaPage-module__quotaMeta___2Gr-S{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--text-secondary);white-space:nowrap}@media(max-width:768px){.QuotaPage-module__quotaMeta___2Gr-S{justify-content:flex-start}}.QuotaPage-module__quotaPercent___dwFKN{font-weight:600;color:var(--text-primary)}.QuotaPage-module__quotaReset___AQC0c{color:var(--text-tertiary)}.QuotaPage-module__quotaAmount___liJkK{color:var(--text-secondary)}.QuotaPage-module__quotaMessage___tXEKQ{font-size:12px;color:var(--text-tertiary);text-align:center;padding:8px 0}.QuotaPage-module__quotaError___rIKP-{font-size:12px;color:var(--danger-color);background-color:#c6574614;border:1px solid var(--danger-color);border-radius:4px;padding:4px 8px}.QuotaPage-module__quotaWarning___phfIc{font-size:12px;color:var(--warning-text);background-color:var(--warning-bg);border:1px solid var(--warning-border);border-radius:4px;padding:4px 8px}.QuotaPage-module__codexPlan___cNsir{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-secondary)}.QuotaPage-module__codexPlanLabel___NR4tn{color:var(--text-tertiary)}.QuotaPage-module__codexPlanValue___TZDzO{font-weight:600;color:var(--text-primary);text-transform:capitalize}.QuotaPage-module__fileCard___7ZTk-{background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:8px;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease}.QuotaPage-module__fileCard___7ZTk-:hover{transform:translateY(-2px);box-shadow:0 4px 6px -1px #0000001a;border-color:#2563eb33}.QuotaPage-module__cardHeader___vBGld{display:flex;align-items:center;gap:8px;min-height:28px}.QuotaPage-module__typeBadge___ubtCA{padding:4px 10px;border-radius:12px;font-size:12px;font-weight:600;white-space:nowrap;flex-shrink:0}.QuotaPage-module__fileName___ATlvN{font-size:14px;font-weight:600;color:var(--text-primary);word-break:break-all;line-height:1.4}.QuotaPage-module__pagination___W2eGv{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:24px;padding-top:16px;border-top:1px solid var(--border-color)}.QuotaPage-module__pageInfo___yNU7E{font-size:13px;color:var(--text-secondary);padding:4px 16px;background-color:var(--bg-secondary);border-radius:8px}.QuotaPage-module__warningOverlay___lVjB7{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.QuotaPage-module__warningModal___2pPNd{background-color:var(--bg-primary);border-radius:12px;padding:24px;max-width:400px;text-align:center;box-shadow:0 10px 15px -3px #0000001a}.QuotaPage-module__warningModal___2pPNd p{margin:0 0 16px;color:var(--text-primary);font-size:14px;line-height:1.6}.AuthFilesPage-module__container___u1c4k{display:flex;flex-direction:column;gap:24px;padding-bottom:calc(var(--auth-files-action-bar-height, 0px) + 16px + env(safe-area-inset-bottom))}.AuthFilesPage-module__pageHeader___DVV58{display:flex;flex-direction:column;gap:8px}.AuthFilesPage-module__pageTitle___1TOZn{font-size:28px;font-weight:700;color:var(--text-primary);margin:0}.AuthFilesPage-module__description___N3RjR{font-size:14px;color:var(--text-secondary);margin:0}.AuthFilesPage-module__headerActions___j0ROO{display:flex;gap:8px;flex-wrap:wrap}.AuthFilesPage-module__titleWrapper___PLYyj{display:flex;align-items:center;gap:8px;line-height:24px}.AuthFilesPage-module__countBadge___DQWug{display:inline-flex;align-items:center;justify-content:center;height:24px;min-width:24px;padding:0 8px;border-radius:999px;font-size:13px;font-weight:600;color:var(--count-badge-text);background-color:var(--count-badge-bg);box-sizing:border-box}.AuthFilesPage-module__errorBox___A9vF2{padding:16px;background-color:#c657461a;border:1px solid var(--danger-color);border-radius:8px;color:var(--danger-color);font-size:14px;margin-bottom:16px}.AuthFilesPage-module__filterSection___qQ3Zo{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}.AuthFilesPage-module__filterTags___A24A3{display:flex;flex-wrap:wrap;gap:4px}.AuthFilesPage-module__filterTag___-YnCU{display:inline-flex;align-items:baseline;gap:8px;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:500;line-height:1;border:1px solid transparent;cursor:pointer;transition:all .15s ease}.AuthFilesPage-module__filterTag___-YnCU:hover{transform:translateY(-1px);box-shadow:0 1px 2px #0000000d}.AuthFilesPage-module__filterTagActive___Rnbcs{font-weight:600}.AuthFilesPage-module__filterTagLabel___pP8yh{display:inline-flex;align-items:baseline;white-space:nowrap}.AuthFilesPage-module__filterTagCount___RxSVk{display:inline-flex;align-items:baseline;justify-content:flex-end;min-width:2ch;font-size:12px;font-weight:600;font-variant-numeric:tabular-nums;opacity:.85}.AuthFilesPage-module__filterControls___PfZDU{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end}.AuthFilesPage-module__filterControls___PfZDU .form-group{margin:0}.AuthFilesPage-module__filterControls___PfZDU .input{height:38px;box-sizing:border-box}.AuthFilesPage-module__filterItem___Kko4o{display:flex;flex-direction:column;gap:4px}.AuthFilesPage-module__filterItem___Kko4o label{font-size:12px;color:var(--text-secondary);font-weight:500;white-space:nowrap}.AuthFilesPage-module__filterItem___Kko4o:first-child{min-width:220px;flex:1;max-width:320px}.AuthFilesPage-module__filterItem___Kko4o:not(:first-child){min-width:auto}.AuthFilesPage-module__pageSizeSelect___yEBvp{padding:8px 12px;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-primary);color:var(--text-primary);font-size:14px;cursor:text;height:38px;box-sizing:border-box}.AuthFilesPage-module__pageSizeSelect___yEBvp:focus{outline:none;border-color:var(--primary-color)}.AuthFilesPage-module__fileGrid___ajvi5{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}@media(min-width:769px)and (max-width:1024px){.AuthFilesPage-module__fileGrid___ajvi5{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:768px){.AuthFilesPage-module__fileGrid___ajvi5{grid-template-columns:1fr}}.AuthFilesPage-module__fileGridQuotaManaged___kOhRx{grid-template-columns:repeat(3,minmax(0,1fr))}@media(min-width:769px)and (max-width:1024px){.AuthFilesPage-module__fileGridQuotaManaged___kOhRx{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:768px){.AuthFilesPage-module__fileGridQuotaManaged___kOhRx{grid-template-columns:1fr}}.AuthFilesPage-module__antigravityGrid___N7Got{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}@media(min-width:769px)and (max-width:1024px){.AuthFilesPage-module__antigravityGrid___N7Got{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:768px){.AuthFilesPage-module__antigravityGrid___N7Got{grid-template-columns:1fr}}.AuthFilesPage-module__codexGrid___vLB3H{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}@media(min-width:769px)and (max-width:1024px){.AuthFilesPage-module__codexGrid___vLB3H{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:768px){.AuthFilesPage-module__codexGrid___vLB3H{grid-template-columns:1fr}}.AuthFilesPage-module__geminiCliGrid___5IwI3{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}@media(min-width:769px)and (max-width:1024px){.AuthFilesPage-module__geminiCliGrid___5IwI3{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:768px){.AuthFilesPage-module__geminiCliGrid___5IwI3{grid-template-columns:1fr}}.AuthFilesPage-module__antigravityControls___gn3rt{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end;margin-bottom:16px}.AuthFilesPage-module__antigravityControl___rQ8wo{display:flex;flex-direction:column;gap:4px}.AuthFilesPage-module__antigravityControl___rQ8wo label{font-size:12px;color:var(--text-secondary);font-weight:500;white-space:nowrap}.AuthFilesPage-module__codexControls___Clxl6{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end;margin-bottom:16px}.AuthFilesPage-module__codexControl___E7Mtk{display:flex;flex-direction:column;gap:4px}.AuthFilesPage-module__codexControl___E7Mtk label{font-size:12px;color:var(--text-secondary);font-weight:500;white-space:nowrap}.AuthFilesPage-module__geminiCliControls___Y3V2-{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end;margin-bottom:16px}.AuthFilesPage-module__geminiCliControl___ZOIpb{display:flex;flex-direction:column;gap:4px}.AuthFilesPage-module__geminiCliControl___ZOIpb label{font-size:12px;color:var(--text-secondary);font-weight:500;white-space:nowrap}.AuthFilesPage-module__antigravityCard___rt36l{background-image:linear-gradient(180deg,#e0f7fa1f,#e0f7fa00)}.AuthFilesPage-module__codexCard___FiEQ6{background-image:linear-gradient(180deg,#fff3e02e,#fff3e000)}.AuthFilesPage-module__geminiCliCard___4PuI5{background-image:linear-gradient(180deg,#e7efff33,#e7efff00)}.AuthFilesPage-module__quotaSection___hXy5f{display:flex;flex-direction:column;gap:8px;padding-top:8px;margin-top:4px;border-top:1px dashed var(--border-color)}.AuthFilesPage-module__quotaRow___P2dUi{display:flex;flex-direction:column;gap:4px}.AuthFilesPage-module__quotaRowHeader___IKu7H{display:flex;align-items:center;justify-content:space-between;gap:8px;min-width:0}@media(max-width:768px){.AuthFilesPage-module__quotaRowHeader___IKu7H{flex-direction:column;align-items:flex-start}}.AuthFilesPage-module__quotaModel___huwv6{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}@media(max-width:768px){.AuthFilesPage-module__quotaModel___huwv6{white-space:normal}}.AuthFilesPage-module__quotaBar___ex7am{height:8px;background-color:var(--bg-tertiary);border-radius:999px;overflow:hidden}.AuthFilesPage-module__quotaBarFill___KqH7M{height:100%;background-color:var(--success-color, #22c55e);transition:width .2s ease}.AuthFilesPage-module__quotaBarFillHigh___F8WGP{background-color:var(--success-color, #22c55e)}.AuthFilesPage-module__quotaBarFillMedium___ae0Pi{background-color:var(--warning-color)}.AuthFilesPage-module__quotaBarFillLow___dX4lb{background-color:var(--danger-color)}.AuthFilesPage-module__quotaMeta___HcbUH{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--text-secondary);white-space:nowrap}@media(max-width:768px){.AuthFilesPage-module__quotaMeta___HcbUH{justify-content:flex-start}}.AuthFilesPage-module__quotaPercent___6J9UR{font-weight:600;color:var(--text-primary)}.AuthFilesPage-module__quotaReset___bmEse{color:var(--text-tertiary)}.AuthFilesPage-module__quotaAmount___k3Wx6{color:var(--text-secondary)}.AuthFilesPage-module__quotaMessage___1w3oM{font-size:12px;color:var(--text-tertiary);text-align:center;padding:8px 0}.AuthFilesPage-module__quotaMessageAction___9r9cq{width:100%;border:none;background:none;cursor:pointer;text-decoration:underline}.AuthFilesPage-module__quotaMessageAction___9r9cq:hover:not(:disabled){color:var(--text-primary)}.AuthFilesPage-module__quotaMessageAction___9r9cq:disabled{cursor:not-allowed;opacity:.6;text-decoration:none}.AuthFilesPage-module__quotaError___dEV4B{font-size:12px;color:var(--danger-color);background-color:#c6574614;border:1px solid var(--danger-color);border-radius:4px;padding:4px 8px}.AuthFilesPage-module__quotaWarning___G1Tvc{font-size:12px;color:var(--warning-text);background-color:var(--warning-bg);border:1px solid var(--warning-border);border-radius:4px;padding:4px 8px}.AuthFilesPage-module__codexPlan___4IbAU{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-secondary)}.AuthFilesPage-module__codexPlanLabel___RZN4K{color:var(--text-tertiary)}.AuthFilesPage-module__codexPlanValue___Z0Kgr{font-weight:600;color:var(--text-primary);text-transform:capitalize}.AuthFilesPage-module__fileCard___j9Jtq{background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:8px;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease}.AuthFilesPage-module__fileCard___j9Jtq:hover{transform:translateY(-2px);box-shadow:0 4px 6px -1px #0000001a;border-color:#2563eb33}.AuthFilesPage-module__fileCardSelected___9i7m1{border-color:var(--primary-color);box-shadow:0 0 0 1px color-mix(in srgb,var(--primary-color) 70%,transparent)}.AuthFilesPage-module__fileCardSelected___9i7m1:hover{border-color:var(--primary-color)}.AuthFilesPage-module__fileCardDisabled___hbSbQ{opacity:.6}.AuthFilesPage-module__fileCardDisabled___hbSbQ:hover{transform:none;box-shadow:none;border-color:var(--border-color)}.AuthFilesPage-module__fileCardLayout___HRpBj{display:flex;align-items:stretch;gap:16px}.AuthFilesPage-module__fileCardMain___6JwC7{display:flex;flex-direction:column;gap:8px;flex:1;min-width:0}.AuthFilesPage-module__cardHeader___uJMtL{display:flex;align-items:center;gap:8px;min-height:28px}.AuthFilesPage-module__selectionToggle___jgHb0{width:22px;height:22px;margin:0;flex-shrink:0;border-radius:7px;border:1px solid var(--border-color);background:color-mix(in srgb,var(--bg-secondary) 92%,transparent);color:var(--primary-contrast, #fff);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:border-color .15s ease,background-color .15s ease,box-shadow .15s ease,transform .15s ease}.AuthFilesPage-module__selectionToggle___jgHb0:hover{border-color:var(--primary-color);box-shadow:0 0 0 3px color-mix(in srgb,var(--primary-color) 16%,transparent)}.AuthFilesPage-module__selectionToggle___jgHb0:active{transform:scale(.95)}.AuthFilesPage-module__selectionToggleActive___aj1-w{border-color:var(--primary-color);background:var(--primary-color)}.AuthFilesPage-module__selectionToggleActive___aj1-w svg{display:block;stroke-width:2.4}.AuthFilesPage-module__typeBadge___Dtm6A{padding:4px 10px;border-radius:12px;font-size:12px;font-weight:600;white-space:nowrap;flex-shrink:0}.AuthFilesPage-module__fileName___DZ39s{font-size:14px;font-weight:600;color:var(--text-primary);word-break:break-all;line-height:1.4}.AuthFilesPage-module__cardMeta___H6kAQ{display:flex;flex-direction:column;gap:2px;font-size:12px;color:var(--text-secondary);padding:4px 0;border-top:1px solid var(--border-color);border-bottom:1px solid var(--border-color)}.AuthFilesPage-module__cardHealthRow___H4OPL{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}.AuthFilesPage-module__healthStatusBadge___gqOdA{display:inline-flex;align-items:center;gap:6px;padding:5px 10px;border-radius:9999px;border:1px solid var(--border-color);font-size:12px;font-weight:600;line-height:1.2}.AuthFilesPage-module__healthStatusHealthy___GGNFg{color:var(--success-badge-text, #065f46);background-color:var(--success-badge-bg, #d1fae5);border-color:var(--success-badge-border, #6ee7b7)}.AuthFilesPage-module__healthStatusWarning___9gQm4{color:var(--warning-text);background-color:var(--warning-bg);border-color:var(--warning-border)}.AuthFilesPage-module__healthStatusDisabled___ns7K7{color:var(--text-secondary);background-color:var(--bg-tertiary);border-color:var(--border-color)}.AuthFilesPage-module__healthStatusUnknown___A2oFj{color:var(--text-secondary);background-color:var(--bg-secondary);border-style:dashed}.AuthFilesPage-module__lastRefreshText___l-VYO{font-size:12px;color:var(--text-secondary)}.AuthFilesPage-module__lastRefreshStale___eITq5{color:var(--warning-text)}.AuthFilesPage-module__healthStatusMessage___KKfW-{font-size:12px;color:var(--warning-text);background-color:var(--warning-bg);border:1px solid var(--warning-border);border-radius:4px;padding:5px 8px;word-break:break-word}.AuthFilesPage-module__cardStats___JQ4ig{display:flex;flex-wrap:wrap;gap:8px;padding-top:4px;margin-top:4px}.AuthFilesPage-module__statPill___wFsBu{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600;line-height:1.1;border:1px solid transparent;background-color:var(--bg-tertiary);color:var(--text-primary);white-space:nowrap}.AuthFilesPage-module__statSuccess___mh8iR{background-color:var(--success-badge-bg, #d1fae5);color:var(--success-badge-text, #065f46);border-color:var(--success-badge-border, #6ee7b7)}.AuthFilesPage-module__statFailure___ivDGu{background-color:var(--failure-badge-bg);color:var(--failure-badge-text);border-color:var(--failure-badge-border)}.AuthFilesPage-module__statusBar___n-3Gp{display:flex;align-items:center;gap:8px;padding:4px 0;max-width:280px}.AuthFilesPage-module__statusBlocks___DpQaY{display:flex;gap:2px;flex:1;min-width:180px;position:relative}.AuthFilesPage-module__statusBlockWrapper___XCgvC{flex:1;min-width:6px;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent}.AuthFilesPage-module__statusBlock___RPMAs{width:100%;height:8px;border-radius:2px;transition:transform .15s ease,opacity .15s ease}.AuthFilesPage-module__statusBlockWrapper___XCgvC:hover .AuthFilesPage-module__statusBlock___RPMAs,.AuthFilesPage-module__statusBlockWrapper___XCgvC.AuthFilesPage-module__statusBlockActive___pjNyd .AuthFilesPage-module__statusBlock___RPMAs{transform:scaleY(1.8);opacity:.9}.AuthFilesPage-module__statusBlockIdle___6Uc0C{background-color:var(--border-secondary, #e5e7eb)}.AuthFilesPage-module__statusTooltip___skNaB{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translate(-50%);background:var(--bg-primary, #fff);border:1px solid var(--border-secondary, #e5e7eb);border-radius:6px;padding:6px 10px;font-size:11px;line-height:1.5;white-space:nowrap;box-shadow:0 4px 12px #0000001f;z-index:1000;pointer-events:none;color:var(--text-primary)}.AuthFilesPage-module__statusTooltip___skNaB:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:var(--bg-primary, #fff)}.AuthFilesPage-module__statusTooltip___skNaB:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:6px solid transparent;border-top-color:var(--border-secondary, #e5e7eb)}.AuthFilesPage-module__statusTooltipLeft___ZK0OM{left:0;transform:translate(0)}.AuthFilesPage-module__statusTooltipLeft___ZK0OM:after,.AuthFilesPage-module__statusTooltipLeft___ZK0OM:before{left:8px;transform:none}.AuthFilesPage-module__statusTooltipRight___MrcVP{left:auto;right:0;transform:translate(0)}.AuthFilesPage-module__statusTooltipRight___MrcVP:after,.AuthFilesPage-module__statusTooltipRight___MrcVP:before{left:auto;right:8px;transform:none}.AuthFilesPage-module__tooltipTime___6rx7A{color:var(--text-secondary);display:block;margin-bottom:2px}.AuthFilesPage-module__tooltipStats___rDF8h{display:flex;align-items:center;gap:8px}.AuthFilesPage-module__tooltipSuccess___DygUj{color:var(--success-color, #22c55e)}.AuthFilesPage-module__tooltipFailure___Som0h{color:var(--danger-color, #ef4444)}.AuthFilesPage-module__tooltipRate___gbhZZ{color:var(--text-secondary);margin-left:2px}.AuthFilesPage-module__statusRate___LZm5e{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:600;white-space:nowrap;padding:4px 8px;border-radius:6px;background:var(--bg-tertiary)}.AuthFilesPage-module__statusRateHigh___seYyb{color:var(--success-badge-text, #065f46);background:var(--success-badge-bg, #d1fae5)}.AuthFilesPage-module__statusRateMedium___aNblo{color:var(--warning-text, #92400e);background:var(--warning-bg, #fef3c7)}.AuthFilesPage-module__statusRateLow___BxxBi{color:var(--failure-badge-text);background:var(--failure-badge-bg)}@media(max-width:768px){.AuthFilesPage-module__statusTooltip___skNaB{font-size:12px;padding:8px 12px}.AuthFilesPage-module__statusBlocks___DpQaY{min-width:140px}}.AuthFilesPage-module__prefixProxyEditor___QyoN1{display:flex;flex-direction:column;gap:16px;max-height:60vh;overflow:auto}.AuthFilesPage-module__prefixProxyLoading___pipJw{display:flex;align-items:center;justify-content:center;gap:8px;font-size:12px;color:var(--text-secondary);padding:8px 0}.AuthFilesPage-module__prefixProxyError___HNtOZ{padding:8px 16px;border-radius:8px;border:1px solid var(--danger-color);background-color:#c657461a;color:var(--danger-color);font-size:12px}.AuthFilesPage-module__prefixProxyJsonWrapper___j237Y{display:flex;flex-direction:column;gap:6px}.AuthFilesPage-module__prefixProxyLabel___IJHtd{font-size:12px;color:var(--text-secondary);font-weight:600}.AuthFilesPage-module__prefixProxyTextarea___wcym6{width:100%;padding:8px 16px;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-secondary);color:var(--text-primary);font-size:12px;font-family:monospace;resize:vertical;min-height:120px;box-sizing:border-box}.AuthFilesPage-module__prefixProxyTextarea___wcym6:focus{outline:none;border-color:var(--primary-color)}.AuthFilesPage-module__prefixProxyFields___da72p{display:grid;grid-template-columns:1fr;gap:8px}.AuthFilesPage-module__prefixProxyFields___da72p .form-group{margin:0}.AuthFilesPage-module__cardActions___mJgkW{display:flex;gap:4px;justify-content:flex-end;align-items:center;margin-top:auto;padding-top:8px}.AuthFilesPage-module__statusToggle___H8bxD{display:flex;align-items:center;flex-shrink:0;margin-left:8px}.AuthFilesPage-module__iconButton___XT5TY.btn.btn-sm{width:34px;height:34px;min-width:34px;padding:0;box-sizing:border-box;border-radius:6px;gap:0}.AuthFilesPage-module__actionIcon___F2TRI{display:block}.AuthFilesPage-module__virtualBadge___s32vc{font-size:12px;color:var(--text-secondary);background-color:var(--bg-tertiary);padding:4px 10px;border-radius:4px;font-style:italic;display:inline-flex;align-items:center}.AuthFilesPage-module__pagination___Hwpg2{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:24px;padding-top:16px;border-top:1px solid var(--border-color)}.AuthFilesPage-module__batchActionContainer___qPwxN{position:fixed;left:var(--content-center-x, 50%);bottom:calc(16px + env(safe-area-inset-bottom));transform:translate(-50%);z-index:50;width:min(960px,100vw - 24px);will-change:transform,opacity}.AuthFilesPage-module__batchActionBar___YEJju{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid color-mix(in srgb,var(--border-color) 70%,transparent);background:color-mix(in srgb,var(--bg-primary) 84%,transparent);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:var(--shadow-lg)}.AuthFilesPage-module__batchActionLeft___g851y,.AuthFilesPage-module__batchActionRight___NDPeh{display:flex;align-items:center;gap:4px;flex-wrap:wrap}.AuthFilesPage-module__batchActionRight___NDPeh{justify-content:flex-end}.AuthFilesPage-module__batchSelectionText___rSTLk{font-size:13px;font-weight:600;color:var(--text-primary);margin-right:2px}@media(max-width:768px){.AuthFilesPage-module__batchActionContainer___qPwxN{width:calc(100vw - 16px);bottom:calc(12px + env(safe-area-inset-bottom))}.AuthFilesPage-module__batchActionBar___YEJju{flex-direction:column;align-items:stretch}.AuthFilesPage-module__batchActionLeft___g851y,.AuthFilesPage-module__batchActionRight___NDPeh{justify-content:center}}.AuthFilesPage-module__pageInfo___Fkfbg{font-size:13px;color:var(--text-secondary);padding:4px 16px;background-color:var(--bg-secondary);border-radius:8px}.AuthFilesPage-module__excludedList___9OGiS{display:flex;flex-direction:column;gap:8px}.AuthFilesPage-module__excludedItem___J3Xxa{display:flex;justify-content:space-between;align-items:center;padding:16px;background-color:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);gap:16px}@media(max-width:768px){.AuthFilesPage-module__excludedItem___J3Xxa{flex-direction:column;align-items:flex-start}}.AuthFilesPage-module__excludedInfo___0hKQa{display:flex;flex-direction:column;gap:2px;min-width:0;flex:1}.AuthFilesPage-module__excludedProvider___6pkYz{font-weight:600;color:var(--text-primary);font-size:14px}.AuthFilesPage-module__excludedModels___QdpJB{font-size:12px;color:var(--text-secondary)}.AuthFilesPage-module__excludedActions___jP49M{display:flex;gap:4px;flex-shrink:0}.AuthFilesPage-module__providerField___end0y{display:flex;flex-direction:column;gap:4px}.AuthFilesPage-module__providerField___end0y .form-group{margin-bottom:0}.AuthFilesPage-module__providerTagList___dCCYW{display:flex;flex-wrap:wrap;gap:4px}.AuthFilesPage-module__providerTag___RADdc{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background-color:var(--bg-secondary);color:var(--text-secondary);font-size:12px;cursor:pointer;transition:all .15s ease}.AuthFilesPage-module__providerTag___RADdc:hover{border-color:var(--primary-color);color:var(--text-primary);background-color:var(--bg-hover)}.AuthFilesPage-module__providerTag___RADdc:disabled{opacity:.6;cursor:not-allowed}.AuthFilesPage-module__providerTagActive___j4vQJ,.AuthFilesPage-module__providerTagActive___j4vQJ:hover{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.AuthFilesPage-module__aliasChartSection___uS-yX{margin-bottom:24px;padding-bottom:24px;border-bottom:1px solid var(--border-color)}.AuthFilesPage-module__aliasChartHeader___ABhkk{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}.AuthFilesPage-module__aliasChartTitle___OSz75{margin:0;font-size:14px;font-weight:600;color:var(--text-secondary)}.AuthFilesPage-module__aliasChart___XbONn{width:100%;min-height:120px}.AuthFilesPage-module__cardExtraButtons___P-fL4{display:flex;gap:8px;align-items:center}.AuthFilesPage-module__viewModeSwitch___CxLpP{display:inline-flex;align-items:center;gap:4px;padding:2px;border-radius:8px;background:var(--bg-secondary);border:1px solid var(--border-color)}.AuthFilesPage-module__mappingRow___b1MBs{display:grid;grid-template-columns:1fr auto 1fr auto auto;align-items:center;gap:8px}@media(max-width:768px){.AuthFilesPage-module__mappingRow___b1MBs{grid-template-columns:1fr}}.AuthFilesPage-module__mappingSeparator___Wx18F{color:var(--text-secondary);text-align:center}@media(max-width:768px){.AuthFilesPage-module__mappingSeparator___Wx18F{display:none}}.AuthFilesPage-module__mappingFork___nRhwu{display:flex;align-items:center}.AuthFilesPage-module__detailContent___K3wet{max-height:400px;overflow:auto}.AuthFilesPage-module__jsonContent___5lYBo{background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;font-family:monospace;font-size:12px;white-space:pre-wrap;word-break:break-all;color:var(--text-primary);margin:0}.AuthFilesPage-module__formGroup___1YGlp{display:flex;flex-direction:column;gap:4px;margin-top:16px}.AuthFilesPage-module__formGroup___1YGlp label{font-size:14px;font-weight:500;color:var(--text-primary)}.AuthFilesPage-module__textarea___IAg4a{width:100%;padding:8px 16px;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-primary);color:var(--text-primary);font-size:14px;font-family:monospace;resize:vertical}.AuthFilesPage-module__textarea___IAg4a:focus{outline:none;border-color:var(--primary-color)}.AuthFilesPage-module__textarea___IAg4a::placeholder{color:var(--text-tertiary)}.AuthFilesPage-module__hint___YExGS{font-size:12px;color:var(--text-tertiary);font-style:italic;text-align:center;padding:24px}.AuthFilesPage-module__modelsList___KKhRE{display:flex;flex-direction:column;gap:8px}.AuthFilesPage-module__modelItem___VMfPD{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);flex-wrap:wrap;cursor:pointer;transition:all .15s ease}.AuthFilesPage-module__modelItem___VMfPD:hover{background-color:var(--bg-hover);border-color:var(--primary-color)}.AuthFilesPage-module__modelItem___VMfPD:active{transform:scale(.98)}.AuthFilesPage-module__modelId___4wMUh{font-family:Consolas,Monaco,Courier New,monospace;font-size:13px;font-weight:600;color:var(--text-primary);word-break:break-all}.AuthFilesPage-module__modelDisplayName___znKrk{font-size:12px;color:var(--text-secondary);flex-shrink:0}.AuthFilesPage-module__modelType___B0C7D{font-size:11px;color:var(--text-tertiary);background-color:var(--bg-tertiary);padding:2px 8px;border-radius:10px;flex-shrink:0;margin-left:auto}.AuthFilesPage-module__modelItemExcluded___I5sBn{opacity:.6;background-color:var(--bg-tertiary);border-style:dashed}.AuthFilesPage-module__modelItemExcluded___I5sBn .AuthFilesPage-module__modelId___4wMUh{text-decoration:line-through;color:var(--text-tertiary)}.AuthFilesPage-module__modelItemExcluded___I5sBn:hover{border-color:var(--danger-color)}.AuthFilesPage-module__modelExcludedBadge___FyRdH{font-size:10px;color:var(--danger-color);background-color:#c657461a;padding:2px 6px;border-radius:8px;border:1px solid var(--danger-color);flex-shrink:0}.AuthFilesPage-module__excludedCheckList___8T3-H{display:flex;flex-direction:column;gap:4px;max-height:280px;overflow-y:auto;border:1px solid var(--border-color);border-radius:8px;padding:8px;background-color:var(--bg-secondary)}.AuthFilesPage-module__excludedCheckItem___2z42k{display:flex;align-items:center;gap:8px;padding:4px 8px;border-radius:4px;cursor:pointer;transition:background-color .15s ease}.AuthFilesPage-module__excludedCheckItem___2z42k:hover{background-color:var(--bg-hover)}.AuthFilesPage-module__excludedCheckItem___2z42k input[type=checkbox]{width:16px;height:16px;cursor:pointer;accent-color:var(--primary-color)}.AuthFilesPage-module__excludedCheckLabel___tg4BJ{display:flex;align-items:center;gap:8px;font-size:13px;font-family:Consolas,Monaco,Courier New,monospace;color:var(--text-primary);word-break:break-all}.AuthFilesPage-module__excludedCheckDisplayName___Cno8d{font-size:12px;color:var(--text-tertiary);font-family:inherit}.ModelMappingDiagram-module__scrollContainer___CVtMl{width:100%;overflow-x:auto;overscroll-behavior-x:contain;-webkit-overflow-scrolling:touch}.ModelMappingDiagram-module__tapHint___WVg9j{position:sticky;left:0;z-index:3;font-size:12px;color:var(--text-secondary);padding:0 4px;margin-bottom:8px}.ModelMappingDiagram-module__container___5GMeJ{display:inline-flex;position:relative;min-width:100%;min-height:300px;justify-content:space-between;padding:20px 0;user-select:none}@media(max-width:768px){.ModelMappingDiagram-module__container___5GMeJ{min-width:max(100%,960px);padding:12px 0}}.ModelMappingDiagram-module__connections___-pgzq{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:1;overflow:visible}.ModelMappingDiagram-module__connections___-pgzq path{fill:none;stroke-width:2}.ModelMappingDiagram-module__column___Guf-v{display:flex;flex-direction:column;gap:12px;z-index:2;flex:0 0 auto}.ModelMappingDiagram-module__column___Guf-v.ModelMappingDiagram-module__providers___n0NN6{align-items:flex-end;min-width:140px}.ModelMappingDiagram-module__column___Guf-v.ModelMappingDiagram-module__sources___N646E,.ModelMappingDiagram-module__column___Guf-v.ModelMappingDiagram-module__aliases___zg5ma{align-items:flex-start;min-width:200px}.ModelMappingDiagram-module__columnHeader___QAC6y{font-size:13px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;margin-bottom:8px;padding:0 4px}.ModelMappingDiagram-module__item___KBTKp{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:10px 14px;font-size:13px;color:var(--text-primary);display:flex;align-items:center;justify-content:space-between;width:100%;max-width:280px;position:relative;transition:all .2s ease;box-shadow:0 1px 2px #0000000d}.ModelMappingDiagram-module__item___KBTKp:hover{border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 6px #0000000d;z-index:10}.ModelMappingDiagram-module__item___KBTKp.ModelMappingDiagram-module__dropTarget___dAYPB{background-color:var(--bg-secondary);border-color:var(--primary-color);border-width:2px}.ModelMappingDiagram-module__item___KBTKp.ModelMappingDiagram-module__selected___r3Gyz{border-color:var(--primary-color);background-color:var(--bg-secondary);box-shadow:0 0 0 2px #8b86802e}.ModelMappingDiagram-module__providerItem___4PZQM{border-left:3px solid transparent;padding-left:8px;display:flex;align-items:center;gap:8px}.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__providerLabel___E2vNu{font-weight:600;font-size:13px;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__collapseBtn___RXanB{flex-shrink:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border:none;background:var(--bg-secondary);border-radius:4px;cursor:pointer;color:var(--text-secondary);transition:background-color .15s,color .15s}.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__collapseBtn___RXanB:hover{background:var(--border-color);color:var(--text-primary)}.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__chevronDown___AP7zK,.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__chevronRight___bbMVy{display:inline-block;width:0;height:0;border-style:solid}.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__chevronDown___AP7zK{border-width:5px 4px 0 4px;border-color:currentColor transparent transparent transparent}.ModelMappingDiagram-module__providerItem___4PZQM .ModelMappingDiagram-module__chevronRight___bbMVy{border-width:4px 0 4px 5px;border-color:transparent transparent transparent currentColor}.ModelMappingDiagram-module__providerGroup___5JNQu{display:flex;align-items:center;justify-content:flex-end;width:100%}.ModelMappingDiagram-module__sourceItem___TjDG6,.ModelMappingDiagram-module__aliasItem___h6w7D{cursor:grab}.ModelMappingDiagram-module__sourceItem___TjDG6:active,.ModelMappingDiagram-module__aliasItem___h6w7D:active{cursor:grabbing}.ModelMappingDiagram-module__sourceItem___TjDG6.ModelMappingDiagram-module__dragging___lhx9y,.ModelMappingDiagram-module__aliasItem___h6w7D.ModelMappingDiagram-module__dragging___lhx9y{opacity:.5;border-style:dashed}.ModelMappingDiagram-module__dot___AOWIN{width:6px;height:6px;border-radius:50%;position:absolute;top:50%;margin-top:-3px;flex-shrink:0}.ModelMappingDiagram-module__dot___AOWIN.ModelMappingDiagram-module__dotLeft___BKXAm{left:-3px;background:var(--text-tertiary)}.ModelMappingDiagram-module__sourceItem___TjDG6 .ModelMappingDiagram-module__dot___AOWIN{right:-3px}.ModelMappingDiagram-module__providerBadge___cRzux{font-size:11px;padding:2px 6px;border-radius:4px;background:var(--bg-secondary);color:var(--text-secondary);margin-right:8px;font-weight:500}.ModelMappingDiagram-module__itemName___MjfSv{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ModelMappingDiagram-module__itemCount___B-gtl{font-size:11px;color:var(--text-tertiary);margin-left:8px;background:var(--bg-secondary);padding:1px 6px;border-radius:10px}.ModelMappingDiagram-module__contextMenu___VHX-s{position:fixed;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000026;z-index:9999;min-width:120px;overflow:hidden;padding:4px 0}.ModelMappingDiagram-module__contextMenu___VHX-s .ModelMappingDiagram-module__menuItem___e-LvI{padding:8px 12px;font-size:13px;color:var(--text-primary);cursor:pointer;transition:background-color .1s;display:flex;align-items:center;gap:8px}.ModelMappingDiagram-module__contextMenu___VHX-s .ModelMappingDiagram-module__menuItem___e-LvI:hover{background-color:var(--bg-secondary)}.ModelMappingDiagram-module__contextMenu___VHX-s .ModelMappingDiagram-module__menuItem___e-LvI.ModelMappingDiagram-module__danger___klXxM{color:var(--error-color)}.ModelMappingDiagram-module__contextMenu___VHX-s .ModelMappingDiagram-module__menuItem___e-LvI.ModelMappingDiagram-module__danger___klXxM:hover{background-color:var(--bg-error-light)}.ModelMappingDiagram-module__contextMenu___VHX-s .ModelMappingDiagram-module__menuDivider___XtoCo{height:1px;margin:4px 0;background:var(--border-color);padding:0;cursor:default;pointer-events:none}.ModelMappingDiagram-module__settingsEmpty___N0gFF{color:var(--text-tertiary);font-size:13px;text-align:center;padding:24px 0}.ModelMappingDiagram-module__settingsList___ovuWo{display:flex;flex-direction:column;gap:8px}.ModelMappingDiagram-module__settingsRow___wH-TW{display:grid;grid-template-columns:minmax(200px,1fr) auto;gap:16px;align-items:center;padding:8px 16px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary)}@media(max-width:768px){.ModelMappingDiagram-module__settingsRow___wH-TW{grid-template-columns:1fr;align-items:flex-start}}.ModelMappingDiagram-module__settingsNames___QDn9j{display:flex;align-items:center;gap:4px;font-size:13px;color:var(--text-primary);min-width:0}.ModelMappingDiagram-module__settingsSource___Hz9zo,.ModelMappingDiagram-module__settingsAlias___Ov9zt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}.ModelMappingDiagram-module__settingsArrow___SKvFd{color:var(--text-tertiary)}.ModelMappingDiagram-module__settingsActions___PYXMU{display:flex;align-items:center;gap:8px}.ModelMappingDiagram-module__settingsLabel___R--i-{font-size:12px;color:var(--text-secondary)}.ModelMappingDiagram-module__settingsDelete___PDG7z{border:0;background:transparent;color:var(--error-color);padding:6px;border-radius:6px;cursor:pointer}.ModelMappingDiagram-module__settingsDelete___PDG7z:hover{background:var(--bg-error-light)}.AuthFilesOAuthExcludedEditPage-module__pageContent___42nA2{width:100%;max-width:1000px;margin:0 auto;padding:0 24px 48px}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__pageContent___42nA2{padding-left:16px;padding-right:16px}}.AuthFilesOAuthExcludedEditPage-module__settingsCard___EE-1z{padding:0;overflow:visible}.AuthFilesOAuthExcludedEditPage-module__settingsHeader___Jm0RO{display:flex;flex-direction:column;gap:4px;padding:16px 24px;border-bottom:1px solid var(--border-color)}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__settingsHeader___Jm0RO{padding-left:16px;padding-right:16px}}.AuthFilesOAuthExcludedEditPage-module__settingsHeaderTitle___nOj9w{display:inline-flex;align-items:center;gap:4px;font-weight:700;color:var(--text-primary)}.AuthFilesOAuthExcludedEditPage-module__settingsHeaderHint___EzQSN{font-size:13px;color:var(--text-secondary)}.AuthFilesOAuthExcludedEditPage-module__settingsSection___ozndx{display:flex;flex-direction:column;gap:8px;padding:16px 24px 24px}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__settingsSection___ozndx{padding-left:16px;padding-right:16px}}.AuthFilesOAuthExcludedEditPage-module__settingsRow___z6QPQ{display:flex;align-items:flex-start;justify-content:space-between;gap:24px}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__settingsRow___z6QPQ{flex-direction:column;align-items:stretch;gap:8px}}.AuthFilesOAuthExcludedEditPage-module__settingsInfo___lRYwp{flex:1;min-width:0;display:flex;flex-direction:column;gap:4px}.AuthFilesOAuthExcludedEditPage-module__settingsLabel___KbPgc{font-size:14px;font-weight:600;color:var(--text-primary)}.AuthFilesOAuthExcludedEditPage-module__settingsDesc___6LSPN{font-size:13px;color:var(--text-secondary)}.AuthFilesOAuthExcludedEditPage-module__settingsControl___luVcd{flex:0 0 auto;width:min(360px,45%);min-width:220px}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__settingsControl___luVcd{width:100%;min-width:0}}.AuthFilesOAuthExcludedEditPage-module__tagList___Is0Fd{display:flex;flex-wrap:wrap;gap:4px}.AuthFilesOAuthExcludedEditPage-module__tag___fyrKv{display:inline-flex;align-items:center;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background-color:var(--bg-secondary);color:var(--text-secondary);font-size:12px;cursor:pointer;transition:all .15s ease}.AuthFilesOAuthExcludedEditPage-module__tag___fyrKv:hover{border-color:var(--primary-color);color:var(--text-primary);background-color:var(--bg-tertiary)}.AuthFilesOAuthExcludedEditPage-module__tag___fyrKv:disabled{opacity:.6;cursor:not-allowed}.AuthFilesOAuthExcludedEditPage-module__tagActive___EkiBG,.AuthFilesOAuthExcludedEditPage-module__tagActive___EkiBG:hover{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.AuthFilesOAuthExcludedEditPage-module__modelsHint___Rm6l4{display:flex;align-items:center;gap:4px;font-size:13px;color:var(--text-secondary)}.AuthFilesOAuthExcludedEditPage-module__loadingModels___-9Wy6{display:flex;align-items:center;justify-content:center;gap:8px;padding:32px 0;color:var(--text-secondary)}.AuthFilesOAuthExcludedEditPage-module__modelList___6ebAr{max-height:520px;overflow:auto;padding:8px 24px 24px}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__modelList___6ebAr{padding-left:16px;padding-right:16px}}.AuthFilesOAuthExcludedEditPage-module__modelItem___v0y1o{display:flex;align-items:center;gap:8px;padding:10px 0;border-bottom:1px solid var(--border-color)}.AuthFilesOAuthExcludedEditPage-module__modelItem___v0y1o:last-child{border-bottom:none}.AuthFilesOAuthExcludedEditPage-module__modelItem___v0y1o input{width:16px;height:16px}.AuthFilesOAuthExcludedEditPage-module__modelText___50mQC{display:flex;flex-direction:column;gap:2px;min-width:0}.AuthFilesOAuthExcludedEditPage-module__modelId___Z2Ylu{font-size:13px;font-weight:600;color:var(--text-primary);word-break:break-all}.AuthFilesOAuthExcludedEditPage-module__modelDisplayName___ATlA5{font-size:12px;color:var(--text-secondary);word-break:break-all}.AuthFilesOAuthExcludedEditPage-module__emptyModels___kAuwa{padding:32px 24px;color:var(--text-secondary);font-size:13px;text-align:center}@media(max-width:768px){.AuthFilesOAuthExcludedEditPage-module__emptyModels___kAuwa{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__pageContent___mxGSP{width:100%;max-width:1000px;margin:0 auto;padding:0 24px 48px}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__pageContent___mxGSP{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__settingsCard___4uMxA{padding:0;overflow:visible}.AuthFilesOAuthModelAliasEditPage-module__settingsHeader___h4vIs{display:flex;flex-direction:column;gap:4px;padding:16px 24px;border-bottom:1px solid var(--border-color)}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__settingsHeader___h4vIs{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__settingsHeaderTitle___GExPS{display:inline-flex;align-items:center;gap:4px;font-weight:700;color:var(--text-primary)}.AuthFilesOAuthModelAliasEditPage-module__settingsHeaderHint___C94bR{font-size:13px;color:var(--text-secondary)}.AuthFilesOAuthModelAliasEditPage-module__settingsSection___JQr18{display:flex;flex-direction:column;gap:8px;padding:16px 24px 24px}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__settingsSection___JQr18{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__settingsRow___qzQdL{display:flex;align-items:flex-start;justify-content:space-between;gap:24px}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__settingsRow___qzQdL{flex-direction:column;align-items:stretch;gap:8px}}.AuthFilesOAuthModelAliasEditPage-module__settingsInfo___Jt7Ub{flex:1;min-width:0;display:flex;flex-direction:column;gap:4px}.AuthFilesOAuthModelAliasEditPage-module__settingsLabel___v6dmL{font-size:14px;font-weight:600;color:var(--text-primary)}.AuthFilesOAuthModelAliasEditPage-module__settingsDesc___TgK3P{font-size:13px;color:var(--text-secondary)}.AuthFilesOAuthModelAliasEditPage-module__settingsControl___nSl-3{flex:0 0 auto;width:min(360px,45%);min-width:220px}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__settingsControl___nSl-3{width:100%;min-width:0}}.AuthFilesOAuthModelAliasEditPage-module__tagList___OxNTF{display:flex;flex-wrap:wrap;gap:4px}.AuthFilesOAuthModelAliasEditPage-module__tag___sULm6{display:inline-flex;align-items:center;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background-color:var(--bg-secondary);color:var(--text-secondary);font-size:12px;cursor:pointer;transition:all .15s ease}.AuthFilesOAuthModelAliasEditPage-module__tag___sULm6:hover{border-color:var(--primary-color);color:var(--text-primary);background-color:var(--bg-tertiary)}.AuthFilesOAuthModelAliasEditPage-module__tag___sULm6:disabled{opacity:.6;cursor:not-allowed}.AuthFilesOAuthModelAliasEditPage-module__tagActive___CcyFC,.AuthFilesOAuthModelAliasEditPage-module__tagActive___CcyFC:hover{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.AuthFilesOAuthModelAliasEditPage-module__mappingsHeader___wddAp{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:16px 24px;border-bottom:1px solid var(--border-color)}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__mappingsHeader___wddAp{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__mappingsTitle___QywAa{font-weight:700;color:var(--text-primary)}.AuthFilesOAuthModelAliasEditPage-module__modelsHint___nQAc7{display:flex;align-items:center;gap:4px;padding:8px 24px;font-size:13px;color:var(--text-secondary);border-bottom:1px solid var(--border-color)}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__modelsHint___nQAc7{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__mappingsBody___jOz-S{padding:8px 24px 24px}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__mappingsBody___jOz-S{padding-left:16px;padding-right:16px}}.AuthFilesOAuthModelAliasEditPage-module__mappingRow___NTr41{display:grid;grid-template-columns:1fr auto 1fr auto auto;align-items:center;gap:8px;padding:10px 0;border-bottom:1px solid var(--border-color)}.AuthFilesOAuthModelAliasEditPage-module__mappingRow___NTr41:last-child{border-bottom:none}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__mappingRow___NTr41{grid-template-columns:1fr;gap:8px}}.AuthFilesOAuthModelAliasEditPage-module__mappingSeparator___dN9rZ{color:var(--text-secondary);text-align:center}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__mappingSeparator___dN9rZ{display:none}}.AuthFilesOAuthModelAliasEditPage-module__mappingAliasInput___iG0V3{width:100%}.AuthFilesOAuthModelAliasEditPage-module__mappingFork___4pAg3{display:flex;align-items:center}@media(max-width:768px){.AuthFilesOAuthModelAliasEditPage-module__mappingFork___4pAg3{justify-content:flex-start}}.OAuthPage-module__container___LCCdH{width:100%}.OAuthPage-module__cardTitle___yFaP0{display:flex;align-items:center;gap:8px}.OAuthPage-module__cardTitleIcon___eAnql{width:24px;height:24px}.OAuthPage-module__pageTitle___BQQ2z{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 32px}.OAuthPage-module__content___Phg9V{display:flex;flex-direction:column;gap:32px}.OAuthPage-module__cardContent___1sXLA{display:flex;flex-direction:column;gap:16px}.OAuthPage-module__cardContent___1sXLA .form-group{margin-bottom:0}.OAuthPage-module__cardContent___1sXLA .status-badge{margin-bottom:0;align-self:flex-start}.OAuthPage-module__cardHint___ttOpd{margin:0;font-size:13px;line-height:1.6;color:var(--text-secondary)}.OAuthPage-module__cardHintSecondary___tWM17{margin:0;font-size:12px;line-height:1.5;color:var(--text-tertiary)}.OAuthPage-module__oauthSection___1olLq{display:flex;flex-direction:column;gap:24px}.OAuthPage-module__oauthGrid___wjAyh{display:grid;gap:24px;grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}@media(max-width:768px){.OAuthPage-module__oauthGrid___wjAyh{grid-template-columns:1fr}}.OAuthPage-module__oauthCard___CYTnC{display:flex;flex-direction:column;gap:16px}.OAuthPage-module__oauthStatus___h7bbL{padding:16px;border-radius:8px;font-size:14px}.OAuthPage-module__oauthStatus___h7bbL.OAuthPage-module__success___UHta0{background-color:#22c55e1a;color:#16a34a}.OAuthPage-module__oauthStatus___h7bbL.OAuthPage-module__error___057CD{background-color:#c657461f;color:#c65746}.OAuthPage-module__oauthStatus___h7bbL.OAuthPage-module__waiting___CbNSk{background-color:#8b86801f;color:var(--primary-color)}.OAuthPage-module__callbackSection___8kA31{margin-top:0;display:flex;flex-direction:column;gap:8px}.OAuthPage-module__callbackActions___wtkMI{display:flex;gap:16px}.OAuthPage-module__authUrlBox___Iu1d4{background:var(--bg-secondary);border:1px dashed var(--border-color);border-radius:8px;padding:16px;display:flex;flex-direction:column;gap:4px}.OAuthPage-module__authUrlLabel___mYFJB{color:var(--text-secondary);font-size:14px}.OAuthPage-module__authUrlValue___axvUJ{font-weight:700;color:var(--text-primary);word-break:break-all;overflow-wrap:anywhere;line-height:1.5;max-width:100%}.OAuthPage-module__authUrlActions___venPj{display:flex;flex-wrap:wrap;align-items:center;gap:8px;margin-top:8px}.OAuthPage-module__geminiProjectField___g456A .form-group{margin-top:0;margin-bottom:0;gap:8px}.OAuthPage-module__geminiProjectField___g456A .input:disabled{background-color:var(--bg-tertiary);border-color:var(--border-color);color:var(--text-tertiary);cursor:not-allowed}.OAuthPage-module__formItem___Bgt9S{display:flex;flex-direction:column;gap:4px}.OAuthPage-module__formItemLabel___QZFrG{margin:0;font-weight:600;color:var(--text-primary)}.OAuthPage-module__filePicker___NmFjy{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.OAuthPage-module__fileName___9ZbQI{flex:1;min-width:220px;padding:10px 12px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);color:var(--text-primary);font-size:14px}.OAuthPage-module__fileNamePlaceholder___WHjj4{color:var(--text-secondary)}.OAuthPage-module__connectionBox___Gwo4r{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;display:flex;flex-direction:column;gap:8px}.OAuthPage-module__connectionLabel___cJMrf{margin:0;font-size:14px;font-weight:600;color:var(--text-primary)}.OAuthPage-module__keyValueList___lEOY0{display:flex;flex-direction:column;gap:6px}.OAuthPage-module__keyValueItem___XOwWB{display:grid;grid-template-columns:140px 1fr;gap:10px;align-items:start}@media(max-width:768px){.OAuthPage-module__keyValueItem___XOwWB{grid-template-columns:1fr;gap:2px}}.OAuthPage-module__keyValueKey___WF-VN{color:var(--text-secondary);font-size:13px}.OAuthPage-module__keyValueValue___m2I-C{color:var(--text-primary);word-break:break-all;overflow-wrap:anywhere}.UsagePage-module__container___nCAFc{width:100%;min-height:100%;display:flex;flex-direction:column;gap:20px;position:relative}.UsagePage-module__header___HxnC8{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.UsagePage-module__headerActions___3cXLO{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.UsagePage-module__lastRefreshed___cqlrd{font-size:11px;color:var(--text-tertiary);white-space:nowrap}.UsagePage-module__timeRangeGroup___hI2kH{display:inline-flex;align-items:center;gap:8px;flex-wrap:wrap}.UsagePage-module__timeRangeLabel___2VsOz{font-size:12px;color:var(--text-secondary);font-weight:600}.UsagePage-module__timeRangeSelectControl___6vBeH{min-width:164px}.UsagePage-module__pageTitle___70rs5{font-size:28px;font-weight:700;color:var(--text-primary);margin:0}.UsagePage-module__errorBox___gB8Rj{padding:10px;background-color:#c657461a;border:1px solid var(--error-color);border-radius:4px;color:var(--error-color);font-size:12px}.UsagePage-module__hint___pUQ06{color:var(--text-secondary);font-size:12px;text-align:center;padding:16px}.UsagePage-module__loadingOverlay___BuX9V{position:absolute;inset:0;z-index:20;display:flex;align-items:center;justify-content:center;background:color-mix(in srgb,var(--bg-secondary) 78%,transparent);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px)}.UsagePage-module__loadingOverlayContent___3vf0S{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:12px;border:1px solid var(--border-color);background:var(--bg-primary);box-shadow:var(--shadow-lg)}.UsagePage-module__loadingOverlaySpinner___MvMZD{border-color:#8b868040;border-top-color:var(--primary-color);box-shadow:0 0 10px #8b868040}.UsagePage-module__loadingOverlayText___64YIy{font-size:13px;font-weight:600;color:var(--text-secondary)}.UsagePage-module__statsGrid___Q0sW-{display:grid;gap:14px;grid-template-columns:repeat(12,minmax(0,1fr))}@media(max-width:768px){.UsagePage-module__statsGrid___Q0sW-{grid-template-columns:1fr}}.UsagePage-module__statCard___iCndn{--accent: var(--primary-color);--accent-soft: rgba($primary-color, .18);--accent-border: rgba($primary-color, .35);grid-column:span 4;position:relative;padding:18px;background:radial-gradient(120% 140% at 12% 0%,var(--accent-soft) 0%,rgba(0,0,0,0) 62%),linear-gradient(180deg,#ffffff0f,#fff0),var(--bg-primary);border-radius:12px;border:1px solid var(--border-color);display:flex;flex-direction:column;gap:10px;min-height:176px;box-shadow:var(--shadow-lg);transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease;overflow:hidden}.UsagePage-module__statCard___iCndn:before{content:"";position:absolute;top:0;left:0;height:3px;width:100%;background:linear-gradient(90deg,var(--accent),rgba(0,0,0,0));opacity:.95}.UsagePage-module__statCard___iCndn:hover{transform:translateY(-2px);border-color:var(--accent-border);box-shadow:0 16px 40px #00000038}@media(min-width:769px)and (max-width:1024px){.UsagePage-module__statCard___iCndn{grid-column:span 6}}@media(max-width:768px){.UsagePage-module__statCard___iCndn{grid-column:auto;min-height:168px}}.UsagePage-module__statCard___iCndn:nth-child(-n+2){grid-column:span 6}.UsagePage-module__statCard___iCndn:nth-child(-n+2) .UsagePage-module__statValue___duHNu{font-size:32px}@media(max-width:768px){.UsagePage-module__statCard___iCndn:nth-child(-n+2){grid-column:auto}.UsagePage-module__statCard___iCndn:nth-child(-n+2) .UsagePage-module__statValue___duHNu{font-size:28px}}.UsagePage-module__statCardHeader___IbBKW{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}.UsagePage-module__statLabelGroup___SMxKl{display:flex;flex-direction:column;gap:1px}.UsagePage-module__statIconBadge___bPCTx{width:34px;height:34px;border-radius:8px;display:grid;place-items:center;color:#fff;font-size:13px;background:var(--accent);border:1px solid rgba(255,255,255,.08);box-shadow:0 10px 22px #00000040;flex-shrink:0}.UsagePage-module__statIconBadge___bPCTx svg{display:block}.UsagePage-module__statHeader___ieXhA{display:flex;align-items:center;gap:8px}.UsagePage-module__statIcon___hRQIn{font-size:18px}.UsagePage-module__statLabel___V2mir{font-size:12px;color:var(--text-tertiary);font-weight:700;letter-spacing:.02em}.UsagePage-module__statValue___duHNu{font-size:28px;font-weight:800;color:var(--text-primary);line-height:1.2;font-variant-numeric:tabular-nums}.UsagePage-module__statValueRow___rjMSd{display:flex;gap:24px}.UsagePage-module__statValueSmall___QsRKt{display:flex;flex-direction:column;gap:2px}.UsagePage-module__statValueLabel___78BAI{font-size:12px;color:var(--text-secondary)}.UsagePage-module__statValueNum___ve85a{font-size:20px;font-weight:700;color:var(--text-primary)}.UsagePage-module__statMeta___X-Pkf{display:flex;flex-direction:column;gap:4px;font-size:12px}.UsagePage-module__statSuccess___AmaqC{color:var(--success-color)}.UsagePage-module__statFailure___jWtUQ{color:var(--danger-color)}.UsagePage-module__statNeutral___IhwNw{color:var(--text-secondary)}.UsagePage-module__statMetaRow___VB7gR{display:flex;flex-wrap:wrap;gap:8px 10px;font-size:12px;color:var(--text-secondary)}.UsagePage-module__statMetaItem___YIXw2{display:inline-flex;align-items:center;gap:4px}.UsagePage-module__statMetaDot___daNGF{width:7px;height:7px;border-radius:50%;background-color:var(--text-secondary)}.UsagePage-module__statSubtle___yXU7t{color:var(--text-tertiary)}.UsagePage-module__statTrend___ra06-{margin-top:auto;background:var(--bg-tertiary);border-radius:8px;padding:8px;height:58px;border:1px solid var(--border-color)}.UsagePage-module__statTrendPlaceholder___oRADx{width:100%;height:100%;background:var(--bg-secondary);border-radius:8px}.UsagePage-module__sparkline___1tqGF{width:100%;height:100%!important}.UsagePage-module__statHint___HpsGj{color:var(--text-tertiary);font-style:italic}.UsagePage-module__apiSortBar___MpyiE{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}.UsagePage-module__apiSortBtn___AkzG0{padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-secondary);font-size:11px;font-weight:500;cursor:pointer;transition:background-color .15s ease,border-color .15s ease,color .15s ease}.UsagePage-module__apiSortBtn___AkzG0:hover{background:var(--bg-tertiary);color:var(--text-primary)}.UsagePage-module__apiSortBtn___AkzG0:focus-visible{outline:2px solid var(--primary-color);outline-offset:1px}.UsagePage-module__apiSortBtnActive___-PugQ{border-color:#8b868080;background:#8b86801a;color:var(--text-primary);font-weight:600}.UsagePage-module__apiList___2kChf{display:flex;flex-direction:column;gap:6px}.UsagePage-module__apiItem___cyn0u{background-color:var(--bg-secondary);border-radius:4px;border:1px solid var(--border-color);overflow:hidden}.UsagePage-module__apiHeader___tT8FK{width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px;border:0;background:transparent;color:inherit;font:inherit;text-align:left;cursor:pointer;transition:background-color .15s ease}.UsagePage-module__apiHeader___tT8FK:hover{background-color:var(--bg-tertiary)}.UsagePage-module__apiHeader___tT8FK:focus-visible{outline:2px solid var(--primary-color);outline-offset:-2px}.UsagePage-module__apiInfo___OFEK-{display:flex;flex-direction:column;gap:3px;min-width:0;flex:1}.UsagePage-module__apiEndpoint___J38DV{font-weight:600;color:var(--text-primary);font-size:13px;word-break:break-all}.UsagePage-module__apiStats___blw7G{display:flex;flex-wrap:wrap;gap:3px}.UsagePage-module__apiBadge___OAqI7{font-size:11px;color:var(--text-secondary);background-color:var(--bg-primary);border:1px solid var(--border-color);padding:2px 8px;border-radius:9999px}.UsagePage-module__expandIcon___5FU6h{color:var(--text-secondary);font-size:12px;margin-left:6px}.UsagePage-module__apiModels___eZNUp{padding:10px;display:flex;flex-direction:column;gap:3px;border-top:1px solid var(--border-color);margin-top:0}.UsagePage-module__modelRow___ZKhXO{display:grid;grid-template-columns:1fr auto auto;gap:10px;padding:8px 10px;background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;font-size:12px}@media(max-width:768px){.UsagePage-module__modelRow___ZKhXO{grid-template-columns:1fr;gap:3px}}.UsagePage-module__modelName___mlOFW{color:var(--text-primary);font-weight:500;word-break:break-all}.UsagePage-module__modelStat___9behg{color:var(--text-secondary);text-align:right}@media(max-width:768px){.UsagePage-module__modelStat___9behg{text-align:left}}.UsagePage-module__detailsFixedCard___5TOHu{display:flex;flex-direction:column;height:520px;overflow:hidden}@media(max-width:768px){.UsagePage-module__detailsFixedCard___5TOHu{height:420px}}.UsagePage-module__detailsScroll___FxWDO{flex:1 1 auto;min-height:0;overflow:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.UsagePage-module__tableWrapper___Sax8l{overflow-x:auto}.UsagePage-module__table___-sWaI{width:100%;border-collapse:collapse;font-size:12px}.UsagePage-module__table___-sWaI th,.UsagePage-module__table___-sWaI td{padding:10px 12px;text-align:left;border-bottom:1px solid var(--border-color)}.UsagePage-module__table___-sWaI th{font-weight:600;color:var(--text-tertiary);background-color:var(--bg-secondary);white-space:nowrap}.UsagePage-module__table___-sWaI th.UsagePage-module__sortableHeader___khBCr{user-select:none;transition:color .15s ease}.UsagePage-module__table___-sWaI th.UsagePage-module__sortableHeader___khBCr:hover,.UsagePage-module__table___-sWaI td{color:var(--text-primary)}.UsagePage-module__table___-sWaI tbody tr:hover{background-color:var(--bg-tertiary)}.UsagePage-module__sortHeaderButton___T3KIB{display:inline-flex;align-items:center;width:100%;border:0;padding:0;background:transparent;color:inherit;font:inherit;text-align:left;cursor:pointer}.UsagePage-module__sortHeaderButton___T3KIB:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px;border-radius:4px}.UsagePage-module__modelCell___0d7fk{font-weight:500;max-width:240px;word-break:break-all}.UsagePage-module__credentialType___FoGup{display:inline-block;margin-left:6px;padding:1px 6px;border-radius:9999px;font-size:10px;font-weight:600;color:var(--text-secondary);background:var(--bg-tertiary);border:1px solid var(--border-color);vertical-align:middle}.UsagePage-module__requestCountCell___17o3C{display:inline-flex;align-items:baseline;gap:6px;font-variant-numeric:tabular-nums}.UsagePage-module__requestBreakdown___VDvhm{color:var(--text-secondary);white-space:nowrap}.UsagePage-module__pricingSection___jk8kk{display:flex;flex-direction:column;gap:16px}.UsagePage-module__priceForm___OJwRe{padding:10px;background-color:var(--bg-secondary);border-radius:4px;border:1px solid var(--border-color)}.UsagePage-module__formRow___sHXY2{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap}@media(max-width:768px){.UsagePage-module__formRow___sHXY2{flex-direction:column;align-items:stretch}}.UsagePage-module__formField___Vf4b-{display:flex;flex-direction:column;gap:3px;flex:1;min-width:120px}.UsagePage-module__formField___Vf4b- label{font-size:10px;color:var(--text-secondary);font-weight:500}.UsagePage-module__formField___Vf4b- .form-group{margin:0}.UsagePage-module__formField___Vf4b- .form-group>label{display:none}.UsagePage-module__formField___Vf4b- .input{height:40px;box-sizing:border-box}.UsagePage-module__pricesList___ys67C{display:flex;flex-direction:column;gap:10px}.UsagePage-module__pricesTitle___CJRmb{font-size:12px;font-weight:600;color:var(--text-primary);margin:0}.UsagePage-module__pricesGrid___rCyGv{display:flex;flex-direction:column;gap:6px}.UsagePage-module__priceItem___I0JbD{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:var(--bg-secondary);border-radius:4px;border:1px solid var(--border-color);gap:10px}@media(max-width:768px){.UsagePage-module__priceItem___I0JbD{flex-direction:column;align-items:flex-start}}.UsagePage-module__priceInfo___TteL5{display:flex;flex-direction:column;gap:3px;min-width:0;flex:1}.UsagePage-module__priceModel___GvFG8{font-weight:600;color:var(--text-primary);font-size:11px;word-break:break-all}.UsagePage-module__priceMeta___V2rEi{display:flex;gap:10px;font-size:10px;color:var(--text-secondary)}@media(max-width:768px){.UsagePage-module__priceMeta___V2rEi{flex-direction:column;gap:3px}}.UsagePage-module__priceActions___2BFSQ{display:flex;gap:3px;flex-shrink:0}.UsagePage-module__editModalBody___z4n58{display:flex;flex-direction:column;gap:12px}.UsagePage-module__chartSection___Jugrm{display:flex;flex-direction:column;gap:10px}.UsagePage-module__chartControls___Be-or{display:flex;justify-content:space-between;align-items:center;gap:10px}@media(max-width:768px){.UsagePage-module__chartControls___Be-or{flex-direction:column;align-items:stretch}}.UsagePage-module__chartWrapper___lAIqa{padding:14px;background-color:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color);display:flex;flex-direction:column;gap:12px}.UsagePage-module__chartLegend___OA6vI{display:flex;flex-wrap:wrap;gap:6px 12px;align-items:center;min-width:0}@media(max-width:768px){.UsagePage-module__chartLegend___OA6vI{flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;padding-bottom:4px}}.UsagePage-module__legendItem___g2pb0{display:inline-flex;align-items:center;gap:6px;min-width:0;max-width:240px;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background:var(--bg-primary);font-size:12px;color:var(--text-secondary)}@media(max-width:768px){.UsagePage-module__legendItem___g2pb0{max-width:180px}}.UsagePage-module__legendDot___Ehp8J{width:10px;height:10px;border-radius:999px;flex-shrink:0}.UsagePage-module__legendLabel___pjtGV{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.UsagePage-module__chartArea___ZykTT{height:280px}@media(max-width:768px){.UsagePage-module__chartArea___ZykTT{height:320px}}.UsagePage-module__chartScroller___AtIi0{width:100%;height:100%;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.UsagePage-module__chartScroller___AtIi0 canvas{touch-action:pan-x pan-y!important}.UsagePage-module__chartCanvas___NYz9z{position:relative;height:100%;width:100%}.UsagePage-module__periodButtons___MD8jm{display:flex;gap:6px}.UsagePage-module__chartsGrid___k56wO{display:grid;gap:20px;grid-template-columns:minmax(0,1fr)}.UsagePage-module__chartsGrid___k56wO>*{min-width:0}@media(min-width:1025px){.UsagePage-module__chartsGrid___k56wO{grid-template-columns:repeat(2,minmax(0,1fr))}}.UsagePage-module__detailsGrid___zSOOI{display:grid;gap:20px;grid-template-columns:minmax(0,1fr)}.UsagePage-module__detailsGrid___zSOOI>*{min-width:0}@media(min-width:1025px){.UsagePage-module__detailsGrid___zSOOI{grid-template-columns:repeat(2,minmax(0,1fr))}}.UsagePage-module__requestEventsActions___cJzSl{display:inline-flex;align-items:center;gap:4px;flex-wrap:wrap}.UsagePage-module__requestEventsToolbar___xx5kv{display:flex;gap:8px;flex-wrap:wrap;align-items:flex-end;margin-bottom:8px}.UsagePage-module__requestEventsFilterItem___5vPqu{display:flex;flex-direction:column;gap:4px;min-width:180px}.UsagePage-module__requestEventsFilterLabel___UeBCu{font-size:12px;color:var(--text-secondary);font-weight:600}.UsagePage-module__requestEventsSelect___GDYz1{min-width:180px}.UsagePage-module__requestEventsMeta___jhpNH{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:4px;font-size:12px;color:var(--text-secondary);flex-wrap:wrap}.UsagePage-module__requestEventsLimitHint___vP-TA{color:var(--text-tertiary)}.UsagePage-module__requestEventsTableWrapper___QQY-f{overflow:auto;max-height:460px;border:1px solid var(--border-color);border-radius:8px}.UsagePage-module__requestEventsTimestamp___I6vM1{white-space:nowrap;min-width:160px}.UsagePage-module__requestEventsSourceCell___y8Who,.UsagePage-module__requestEventsAuthIndex___DAZfi{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:11px;max-width:180px;word-break:break-all}.UsagePage-module__requestEventsResultSuccess___Ovwcs{color:var(--success-badge-text, #065f46);background:var(--success-badge-bg, #d1fae5);border:1px solid var(--success-badge-border, #6ee7b7)}.UsagePage-module__requestEventsResultFailed___sUYiy{color:var(--failure-badge-text);background:var(--failure-badge-bg);border:1px solid var(--failure-badge-border)}.UsagePage-module__requestEventsResultSuccess___Ovwcs,.UsagePage-module__requestEventsResultFailed___sUYiy{display:inline-flex;align-items:center;padding:2px 8px;border-radius:9999px;font-size:11px;font-weight:600;white-space:nowrap}.UsagePage-module__chartLineHeader___xPk4F{display:inline-flex;align-items:center;gap:10px}.UsagePage-module__chartLineList___Le-PV{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}@media(max-width:768px){.UsagePage-module__chartLineList___Le-PV{grid-template-columns:1fr}}.UsagePage-module__chartLineItem___p7NYT{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px;padding:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}@media(max-width:768px){.UsagePage-module__chartLineItem___p7NYT{grid-template-columns:1fr;align-items:stretch;gap:8px}}.UsagePage-module__chartLineLabel___jA5Ww{font-size:12px;color:var(--text-secondary);font-weight:600;min-width:64px}.UsagePage-module__chartLineCount___yVkE2{font-size:12px;color:var(--text-secondary);font-weight:500}.UsagePage-module__chartLineHint___v7FGv{font-size:12px;color:var(--text-tertiary);margin:10px 0 0}.UsagePage-module__healthCard___FpTJ7{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;padding:18px;display:flex;flex-direction:column;gap:14px;box-shadow:var(--shadow-lg)}.UsagePage-module__healthHeader___uxdUE{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}.UsagePage-module__healthTitle___G-5Ux{font-size:18px;font-weight:700;color:var(--text-primary);margin:0}.UsagePage-module__healthMeta___DeEqL{display:flex;align-items:center;gap:10px}.UsagePage-module__healthWindow___T1kJo{font-size:11px;color:var(--text-tertiary)}.UsagePage-module__healthRate___EKiz8{display:flex;align-items:center;font-size:12px;font-weight:600;white-space:nowrap;padding:4px 8px;border-radius:6px;background:var(--bg-tertiary)}.UsagePage-module__healthRateHigh___iGuwG{color:var(--success-badge-text, #065f46);background:var(--success-badge-bg, #d1fae5)}.UsagePage-module__healthRateMedium___E67ug{color:var(--warning-text, #92400e);background:var(--warning-bg, #fef3c7)}.UsagePage-module__healthRateLow___RqYIj{color:var(--failure-badge-text);background:var(--failure-badge-bg)}.UsagePage-module__healthGridScroller___g50pg{overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.UsagePage-module__healthGrid___QWLzl{display:grid;gap:3px;grid-auto-flow:column;grid-template-rows:repeat(7,10px);width:fit-content;margin:0 auto}.UsagePage-module__healthBlockWrapper___1Q1f5{position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent;width:10px;height:10px}.UsagePage-module__healthBlock___7ZNns{width:100%;height:100%;border-radius:2px;transition:transform .15s ease,opacity .15s ease}.UsagePage-module__healthBlockWrapper___1Q1f5:hover .UsagePage-module__healthBlock___7ZNns,.UsagePage-module__healthBlockWrapper___1Q1f5.UsagePage-module__healthBlockActive___vtccW .UsagePage-module__healthBlock___7ZNns{transform:scaleY(1.6);opacity:.85}.UsagePage-module__healthBlockIdle___qnkeV{background-color:var(--border-secondary, #e5e7eb)}.UsagePage-module__healthTooltip___Ah2TY{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translate(-50%);background:var(--bg-primary, #fff);border:1px solid var(--border-secondary, #e5e7eb);border-radius:6px;padding:6px 10px;font-size:11px;line-height:1.5;white-space:nowrap;box-shadow:0 4px 12px #0000001f;z-index:1000;pointer-events:none;color:var(--text-primary)}.UsagePage-module__healthTooltip___Ah2TY:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:var(--bg-primary, #fff)}.UsagePage-module__healthTooltip___Ah2TY:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:6px solid transparent;border-top-color:var(--border-secondary, #e5e7eb)}.UsagePage-module__healthTooltipBelow___IwlME{bottom:auto;top:calc(100% + 8px)}.UsagePage-module__healthTooltipBelow___IwlME:after{top:auto;bottom:100%;border-top-color:transparent;border-bottom-color:var(--bg-primary, #fff)}.UsagePage-module__healthTooltipBelow___IwlME:before{top:auto;bottom:100%;border-top-color:transparent;border-bottom-color:var(--border-secondary, #e5e7eb)}.UsagePage-module__healthTooltipLeft___bxqyd{left:0;transform:translate(0)}.UsagePage-module__healthTooltipLeft___bxqyd:after,.UsagePage-module__healthTooltipLeft___bxqyd:before{left:8px;transform:none}.UsagePage-module__healthTooltipRight___snBMi{left:auto;right:0;transform:translate(0)}.UsagePage-module__healthTooltipRight___snBMi:after,.UsagePage-module__healthTooltipRight___snBMi:before{left:auto;right:8px;transform:none}.UsagePage-module__healthTooltipTime___aOKYR{color:var(--text-secondary);display:block;margin-bottom:2px}.UsagePage-module__healthTooltipStats___EqRXO{display:flex;align-items:center;gap:8px}.UsagePage-module__healthTooltipSuccess___Qc947{color:var(--success-color, #22c55e)}.UsagePage-module__healthTooltipFailure___4fKGK{color:var(--danger-color, #ef4444)}.UsagePage-module__healthTooltipRate___rg7Rm{color:var(--text-secondary);margin-left:2px}.UsagePage-module__healthLegend___lLmsq{display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap}.UsagePage-module__healthLegendLabel___muJul{font-size:10px;color:var(--text-tertiary)}.UsagePage-module__healthLegendColors___HbDI-{display:flex;gap:3px}.UsagePage-module__healthLegendBlock___r3rdr{width:10px;height:10px;border-radius:2px}@media(max-width:768px){.UsagePage-module__healthCard___FpTJ7{padding:14px;gap:10px}.UsagePage-module__healthGrid___QWLzl{grid-template-rows:repeat(7,6px);gap:2px;margin:0}.UsagePage-module__healthBlockWrapper___1Q1f5{width:6px;height:6px}.UsagePage-module__healthTooltip___Ah2TY{font-size:10px;padding:4px 8px}.UsagePage-module__healthLegendBlock___r3rdr{width:8px;height:8px}}.VisualConfigEditor-module__payloadRuleModelRow___VKBv1{display:grid;grid-template-columns:1fr 160px auto;gap:8px;align-items:center}.VisualConfigEditor-module__payloadRuleModelRowProtocolFirst___OaJ2F{grid-template-columns:160px 1fr auto}.VisualConfigEditor-module__payloadRuleParamRow___KZJW-{display:grid;grid-template-columns:1fr 140px 1fr auto;gap:8px;align-items:center}.VisualConfigEditor-module__payloadFilterModelRow___MeP9-{display:grid;grid-template-columns:1fr 160px auto;gap:8px;align-items:center}@media(max-width:900px){.VisualConfigEditor-module__payloadRuleModelRow___VKBv1,.VisualConfigEditor-module__payloadRuleModelRowProtocolFirst___OaJ2F,.VisualConfigEditor-module__payloadRuleParamRow___KZJW-,.VisualConfigEditor-module__payloadFilterModelRow___MeP9-{grid-template-columns:minmax(0,1fr)}.VisualConfigEditor-module__payloadRowActionButton___8Fdka{width:100%}}.DiffModal-module__diffModal___v1LSh .modal-body{padding:16px 24px;max-height:none;overflow:hidden}.DiffModal-module__content___CqXvC{display:flex;flex-direction:column;height:70vh;min-height:420px}.DiffModal-module__emptyState___gS4Kg{flex:1;border:1px dashed var(--border-color);border-radius:8px;background:var(--bg-secondary);color:var(--text-secondary);font-size:14px;display:grid;place-items:center}.DiffModal-module__diffList___T2FFf{flex:1;min-height:0;display:flex;flex-direction:column;gap:8px;overflow:auto;padding-right:2px}.DiffModal-module__diffCard___SkBPu{border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary);overflow:hidden}.DiffModal-module__diffCardHeader___xm6MH{padding:8px 10px;border-bottom:1px dashed var(--border-color);font-size:12px;font-weight:600;color:var(--text-secondary);background:color-mix(in srgb,var(--bg-primary) 92%,transparent)}.DiffModal-module__diffColumns___Lr6D6{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:8px}.DiffModal-module__diffColumn___jyz4S{min-width:0;border:1px solid var(--border-color);border-radius:4px;overflow:hidden;background:var(--bg-primary)}.DiffModal-module__diffColumnHeader___2XCh5{display:flex;align-items:baseline;justify-content:space-between;gap:8px;padding:8px 10px;border-bottom:1px solid var(--border-color);font-size:12px;font-weight:600;color:var(--text-secondary);background:var(--bg-secondary)}.DiffModal-module__lineMeta___3iZ46{display:inline-flex;align-items:center;gap:8px}.DiffModal-module__lineRange___oZ6Hy{font-size:11px;color:var(--text-secondary);font-family:Consolas,Monaco,Menlo,monospace}.DiffModal-module__contextRange___f-3xU{font-size:11px;color:var(--text-tertiary);font-family:Consolas,Monaco,Menlo,monospace}.DiffModal-module__codeList___WFY2T{overflow:auto;max-height:280px;font-family:Consolas,Monaco,Menlo,monospace}.DiffModal-module__codeLine___Zf8YM{display:grid;grid-template-columns:52px minmax(0,1fr);align-items:start;border-top:1px solid color-mix(in srgb,var(--border-color) 55%,transparent)}.DiffModal-module__codeLine___Zf8YM:first-child{border-top:none}.DiffModal-module__codeLineChanged___KTzsk{background:color-mix(in srgb,var(--primary-color) 8%,transparent)}.DiffModal-module__codeLineNumber___kpo3-{padding:7px 10px 7px 8px;text-align:right;font-size:11px;color:var(--text-tertiary);border-right:1px solid color-mix(in srgb,var(--border-color) 55%,transparent);background:color-mix(in srgb,var(--bg-secondary) 90%,transparent);font-variant-numeric:tabular-nums;user-select:none;box-sizing:border-box}.DiffModal-module__codeLineText___Duodl{padding:7px 10px;font-size:12px;line-height:1.45;color:var(--text-primary);white-space:pre-wrap;word-break:break-word;display:block;box-sizing:border-box}@media(max-width:768px){.DiffModal-module__content___CqXvC{height:65vh;min-height:360px}.DiffModal-module__diffColumns___Lr6D6{grid-template-columns:1fr}.DiffModal-module__lineMeta___3iZ46{flex-direction:column;align-items:flex-end;gap:1px}.DiffModal-module__codeLine___Zf8YM{grid-template-columns:44px minmax(0,1fr)}.DiffModal-module__codeLineNumber___kpo3-{padding:6px 6px 6px 4px;font-size:10px}.DiffModal-module__codeLineText___Duodl{padding:6px 8px;font-size:11px;line-height:1.4}}.ConfigPage-module__container___5kN-Y{width:100%;min-height:100%;display:flex;flex-direction:column;overflow-y:auto;padding-bottom:calc(var(--config-action-bar-height, 0px) + 16px + env(safe-area-inset-bottom) + 16px)}.ConfigPage-module__pageTitle___BoVLE{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 16px}.ConfigPage-module__description___qruwQ{font-size:14px;color:var(--text-secondary);margin:0 0 32px}.ConfigPage-module__tabBar___PelpE{display:flex;align-items:center;gap:4px;padding:4px;margin-bottom:24px;border:1px solid var(--border-color);background:var(--bg-secondary);border-radius:9999px;width:fit-content;max-width:100%;overflow-x:auto;scrollbar-width:none}.ConfigPage-module__tabBar___PelpE::-webkit-scrollbar{display:none}@media(max-width:768px){.ConfigPage-module__tabBar___PelpE{width:100%}.ConfigPage-module__tabBar___PelpE .ConfigPage-module__tabItem___Uj1rU{flex:1}}.ConfigPage-module__tabItem___Uj1rU{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.ConfigPage-module__tabItem___Uj1rU:focus{outline:2px solid #8b8680;outline-offset:2px}.ConfigPage-module__tabItem___Uj1rU{padding:10px 16px;font-size:14px;font-weight:600;color:var(--text-secondary);background:transparent;border:1px solid transparent;border-radius:9999px;cursor:pointer;transition:background-color .15s ease,color .15s ease,border-color .15s ease,box-shadow .15s ease}.ConfigPage-module__tabItem___Uj1rU:hover:not(:disabled){color:var(--text-primary);background:var(--bg-tertiary)}.ConfigPage-module__tabItem___Uj1rU:disabled{opacity:.6;cursor:not-allowed}.ConfigPage-module__tabItem___Uj1rU:focus{outline:none}.ConfigPage-module__tabItem___Uj1rU:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}.ConfigPage-module__tabActive___sZLh-{color:var(--text-primary);background:var(--bg-primary);border-color:var(--border-color);box-shadow:var(--shadow)}.ConfigPage-module__content___PgFbt{display:flex;flex-direction:column;gap:24px;flex:1;min-height:0}.ConfigPage-module__searchInputWrapper___-GeEQ{flex:1;position:relative;display:flex;align-items:center}.ConfigPage-module__searchInputWrapper___-GeEQ .form-group{margin-bottom:0}.ConfigPage-module__searchInput___ock8o{flex:1;border-radius:9999px!important;padding-right:132px!important}.ConfigPage-module__searchCount___AIry7{font-size:12px;color:var(--text-secondary);background:var(--bg-secondary);padding:2px 8px;border-radius:9999px;pointer-events:none;white-space:nowrap}.ConfigPage-module__searchRight___pwWBV{display:inline-flex;align-items:center;gap:8px}.ConfigPage-module__searchButton___GRbfi{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.ConfigPage-module__searchButton___GRbfi:focus{outline:2px solid #8b8680;outline-offset:2px}.ConfigPage-module__searchButton___GRbfi{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:9999px;background:var(--primary-color);border:1px solid var(--primary-color);color:#fff;transition:background-color .15s ease,border-color .15s ease,opacity .15s ease}.ConfigPage-module__searchButton___GRbfi:hover:not(:disabled){background:var(--primary-hover);border-color:var(--primary-hover)}.ConfigPage-module__searchButton___GRbfi:disabled{opacity:.5;cursor:not-allowed}.ConfigPage-module__searchActions___ZGITa{display:flex;gap:4px;flex-shrink:0}.ConfigPage-module__searchActions___ZGITa button{min-width:32px;width:32px;height:32px;padding:0!important;border-radius:9999px}.ConfigPage-module__controls___OTpD4{display:flex;justify-content:space-between;align-items:center;gap:16px}@media(max-width:768px){.ConfigPage-module__controls___OTpD4{flex-direction:column;align-items:stretch}}.ConfigPage-module__status___QYXYr{font-size:14px;color:var(--text-secondary)}.ConfigPage-module__status___QYXYr.ConfigPage-module__modified___4mzgT{color:var(--warning-color)}.ConfigPage-module__status___QYXYr.ConfigPage-module__saved___zmZx2{color:var(--success-color)}.ConfigPage-module__status___QYXYr.ConfigPage-module__error___qlpX1{color:var(--danger-color)}.ConfigPage-module__editorWrapper___yBudn{width:100%;flex:0 0 auto;height:clamp(360px,60vh,920px);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;position:relative;--floating-controls-height: 0px}@supports (height: 100dvh){.ConfigPage-module__editorWrapper___yBudn{height:clamp(360px,60dvh,920px)}}.ConfigPage-module__editorWrapper___yBudn .ConfigPage-module__floatingControls___RqBnu{position:absolute;top:12px;left:12px;right:12px;z-index:10;display:flex;align-items:center;gap:8px;flex-wrap:wrap;pointer-events:auto}.ConfigPage-module__editorWrapper___yBudn .cm-editor{height:100%;font-size:14px;font-family:Consolas,Monaco,Menlo,monospace}.ConfigPage-module__editorWrapper___yBudn .cm-scroller{overflow:auto;padding-top:calc(var(--floating-controls-height, 0px) + 16px);-webkit-overflow-scrolling:touch;touch-action:pan-x pan-y;overscroll-behavior:contain}.ConfigPage-module__editorWrapper___yBudn .cm-gutters{border-right:1px solid var(--border-color);background:var(--bg-secondary)}.ConfigPage-module__editorWrapper___yBudn .cm-lineNumbers .cm-gutterElement{padding:0 8px 0 12px;min-width:40px;color:var(--text-muted)}.ConfigPage-module__editorWrapper___yBudn .cm-activeLine,.ConfigPage-module__editorWrapper___yBudn .cm-activeLineGutter{background:var(--bg-hover)}.ConfigPage-module__editorWrapper___yBudn .cm-selectionMatch{background:#ffc1074d}.ConfigPage-module__editorWrapper___yBudn .cm-searchMatch{background:#ffc10766;outline:1px solid rgba(255,193,7,.6)}.ConfigPage-module__editorWrapper___yBudn .cm-searchMatch-selected{background:#ff980080}[data-theme=dark] .ConfigPage-module__editorWrapper___yBudn .cm-gutters{background:var(--bg-tertiary)}[data-theme=dark] .ConfigPage-module__editorWrapper___yBudn .cm-selectionMatch{background:#ffc10733}.ConfigPage-module__configCard___DdVq0{display:flex;flex-direction:column;flex:1;min-height:0;overflow:visible}.ConfigPage-module__actions___4RDYM{display:flex;gap:8px;justify-content:flex-end}@media(max-width:768px){.ConfigPage-module__actions___4RDYM{justify-content:stretch}.ConfigPage-module__actions___4RDYM button{flex:1}}.ConfigPage-module__floatingActionContainer___3ZQ-z{position:fixed;left:var(--content-center-x, 50%);bottom:calc(16px + env(safe-area-inset-bottom));transform:translate(-50%);z-index:50;pointer-events:auto;width:fit-content;max-width:calc(100vw - 24px)}.ConfigPage-module__floatingActionList___ky8bV{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;background:color-mix(in srgb,var(--bg-primary) 82%,transparent);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid color-mix(in srgb,var(--border-color) 60%,transparent);border-radius:999px;box-shadow:var(--shadow-lg);max-width:inherit;overflow-x:auto;scrollbar-width:none}.ConfigPage-module__floatingActionList___ky8bV::-webkit-scrollbar{display:none}.ConfigPage-module__floatingStatus___u8zOi{font-size:11px;font-weight:600;padding:5px 8px;border-radius:999px;background:color-mix(in srgb,var(--text-primary) 6%,transparent);text-align:center;max-width:min(280px,46vw);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ConfigPage-module__floatingActionButton___Htxmz{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.ConfigPage-module__floatingActionButton___Htxmz:focus{outline:2px solid #8b8680;outline-offset:2px}.ConfigPage-module__floatingActionButton___Htxmz{position:relative;display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:999px;cursor:pointer;color:var(--text-primary);transition:background-color .2s ease,transform .15s ease}.ConfigPage-module__floatingActionButton___Htxmz:hover:not(:disabled){background:color-mix(in srgb,var(--text-primary) 10%,transparent);transform:scale(1.08)}.ConfigPage-module__floatingActionButton___Htxmz:active:not(:disabled){transform:scale(.95)}.ConfigPage-module__floatingActionButton___Htxmz:disabled{opacity:.5;cursor:not-allowed;transform:none}.ConfigPage-module__dirtyDot___zXEnD{position:absolute;top:8px;right:8px;width:7px;height:7px;border-radius:999px;background:var(--warning-color);box-shadow:0 0 0 2px #c6574640}@media(max-width:1200px){.ConfigPage-module__floatingActionContainer___3ZQ-z{bottom:calc(12px + env(safe-area-inset-bottom));max-width:calc(100vw - 16px)}.ConfigPage-module__floatingActionList___ky8bV{gap:6px;padding:8px 10px}.ConfigPage-module__floatingStatus___u8zOi{display:none}.ConfigPage-module__floatingActionButton___Htxmz{width:38px;height:38px;flex:0 0 auto}}@media(max-height:820px){.ConfigPage-module__pageTitle___BoVLE{font-size:24px;margin-bottom:8px}.ConfigPage-module__description___qruwQ{margin-bottom:24px}.ConfigPage-module__content___PgFbt{gap:16px}.ConfigPage-module__configCard___DdVq0{padding:16px}}.LogsPage-module__container___aQ0JL{width:100%;flex:1;display:flex;flex-direction:column;min-height:0}@media(max-width:768px){.LogsPage-module__container___aQ0JL{min-height:auto;overflow:visible}}.LogsPage-module__pageTitle___vZY55{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 24px}.LogsPage-module__tabBar___bI3hW{display:flex;gap:4px;margin-bottom:24px;border-bottom:1px solid var(--border-color)}.LogsPage-module__tabItem___5tb4J{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.LogsPage-module__tabItem___5tb4J:focus{outline:2px solid #8b8680;outline-offset:2px}.LogsPage-module__tabItem___5tb4J{padding:12px 20px;font-size:14px;font-weight:500;color:var(--text-secondary);background:transparent;border-bottom:2px solid transparent;margin-bottom:-1px;cursor:pointer;transition:color .15s ease,border-color .15s ease}.LogsPage-module__tabItem___5tb4J:hover{color:var(--text-primary)}.LogsPage-module__tabItem___5tb4J:focus,.LogsPage-module__tabItem___5tb4J:focus-visible{outline:none;box-shadow:none}.LogsPage-module__tabActive___JjbWX{color:var(--primary-color);border-bottom-color:var(--primary-color)}.LogsPage-module__content___hGaGn{display:flex;flex-direction:column;gap:24px;flex:1;min-height:0}@media(max-width:768px){.LogsPage-module__content___hGaGn{gap:16px;min-height:auto}}.LogsPage-module__logCard___KG4Jd{display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden}@media(max-width:768px){.LogsPage-module__logCard___KG4Jd{flex:0 0 auto;min-height:auto;overflow:visible}}.LogsPage-module__toolbar___9dY5F{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-left:auto}@media(max-width:768px){.LogsPage-module__toolbar___9dY5F{align-items:flex-start;margin-left:0;width:100%}}.LogsPage-module__filters___nUahU{display:flex;align-items:center;gap:16px;flex-wrap:wrap;margin-bottom:16px}.LogsPage-module__filters___nUahU .form-group{margin:0}@media(max-width:768px){.LogsPage-module__filters___nUahU{gap:8px;margin-bottom:8px}}.LogsPage-module__searchWrapper___mrEmr{flex:1;min-width:220px;max-width:420px}.LogsPage-module__structuredFilters___fW4v7{display:flex;flex-direction:column;gap:8px;flex:1 1 100%;padding:8px 10px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.LogsPage-module__filterChipGroup___bbPoy{display:flex;align-items:flex-start;gap:8px;flex-wrap:wrap}.LogsPage-module__filterChipLabel___jy0D3{font-size:12px;color:var(--text-secondary);font-weight:700;line-height:28px;min-width:68px}.LogsPage-module__filterChipList___hHeOY{display:flex;align-items:center;gap:6px;flex-wrap:wrap;flex:1}.LogsPage-module__filterChip___Efqh7{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.LogsPage-module__filterChip___Efqh7:focus{outline:2px solid #8b8680;outline-offset:2px}.LogsPage-module__filterChip___Efqh7{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-secondary);font-size:12px;line-height:1.3;cursor:pointer;max-width:280px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:border-color .15s ease,color .15s ease,background-color .15s ease}.LogsPage-module__filterChip___Efqh7:hover:not(:disabled){color:var(--text-primary);border-color:var(--primary-color)}.LogsPage-module__filterChip___Efqh7:disabled{opacity:.55;cursor:not-allowed}.LogsPage-module__filterChipActive___8S8ki{color:var(--primary-color);border-color:#8b868073;background:#8b868024}.LogsPage-module__filterChipHint___shcVo{font-size:12px;color:var(--text-tertiary)}@media(max-width:768px){.LogsPage-module__filterChipGroup___bbPoy{flex-direction:column;gap:6px}.LogsPage-module__filterChipLabel___jy0D3{min-width:0;line-height:1.2}}.LogsPage-module__searchInput___eoPij{padding-right:44px!important}.LogsPage-module__searchIcon___73cvF{color:var(--text-tertiary);pointer-events:none}.LogsPage-module__searchClear___yTM1y{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.LogsPage-module__searchClear___yTM1y:focus{outline:2px solid #8b8680;outline-offset:2px}.LogsPage-module__searchClear___yTM1y{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:9999px;color:var(--text-secondary)}.LogsPage-module__searchClear___yTM1y:hover{background:var(--bg-secondary)}.LogsPage-module__filterStats___IaTXF{margin-left:auto;display:inline-flex;align-items:center;gap:10px;font-size:12px;color:var(--text-secondary);white-space:nowrap}.LogsPage-module__removedCount___bNgxC{color:var(--text-tertiary)}.LogsPage-module__actionButton___aYJPR{white-space:nowrap}.LogsPage-module__buttonContent___qjHrB{display:inline-flex;align-items:center;gap:6px}.LogsPage-module__buttonContent___qjHrB svg{flex:0 0 auto}.LogsPage-module__switchLabel___EfB3d{display:inline-flex;align-items:center;gap:6px}.LogsPage-module__switchLabel___EfB3d svg{flex:0 0 auto}.LogsPage-module__logPanel___2wjiP{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;flex:1 1 auto;min-height:280px;max-height:calc(100vh - 320px);overflow:auto;position:relative;-webkit-overflow-scrolling:touch;touch-action:pan-y;overscroll-behavior:contain}@media(min-width:769px)and (max-width:1024px){.LogsPage-module__logPanel___2wjiP{min-height:240px;max-height:calc(100vh - 300px)}}@media(max-width:768px){.LogsPage-module__logPanel___2wjiP{min-height:360px;max-height:480px;flex:0 0 auto;overflow:auto}}.LogsPage-module__errorPanel___0w-se{height:480px;overflow:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.LogsPage-module__loadMoreBanner___BUD0t{position:sticky;top:0;z-index:1;display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;border-bottom:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-secondary);font-size:12px}@media(max-width:768px){.LogsPage-module__loadMoreBanner___BUD0t{flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:4px}.LogsPage-module__loadMoreBanner___BUD0t>span{width:100%}}.LogsPage-module__loadMoreCount___UsdBd{color:var(--text-tertiary);white-space:nowrap}.LogsPage-module__loadMoreStats___e9bVk{display:flex;align-items:center;gap:16px}@media(max-width:768px){.LogsPage-module__loadMoreStats___e9bVk{width:100%;flex-wrap:wrap;gap:8px}.LogsPage-module__loadMoreStats___e9bVk>span{white-space:nowrap}}.LogsPage-module__logList___lFt6f{display:flex;flex-direction:column}.LogsPage-module__rawLog___F5YBd{margin:0;padding:10px 12px;cursor:text;user-select:text;white-space:pre;color:var(--text-primary);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:12.5px;line-height:1.45}@media(min-width:769px)and (max-width:1024px){.LogsPage-module__rawLog___F5YBd{padding:8px 10px;font-size:12px}}@media(max-width:768px){.LogsPage-module__rawLog___F5YBd{padding:8px 10px;font-size:11.5px}}.LogsPage-module__logRow___rxZS5{display:grid;grid-template-columns:170px 1fr;gap:16px;padding:10px 12px;border-bottom:1px solid var(--border-color);border-left:3px solid transparent;cursor:copy;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:12.5px;line-height:1.45;color:var(--text-primary)}.LogsPage-module__logRow___rxZS5:hover{background:#8b86800f}@media(min-width:769px)and (max-width:1024px){.LogsPage-module__logRow___rxZS5{grid-template-columns:140px 1fr;gap:8px;padding:8px 10px;font-size:12px}}@media(max-width:768px){.LogsPage-module__logRow___rxZS5{grid-template-columns:1fr;gap:4px;padding:8px 10px;font-size:11.5px}}.LogsPage-module__rowWarn___Lhg4M{border-left-color:var(--warning-color)}.LogsPage-module__rowError___XQ3Qi{border-left-color:var(--error-color)}.LogsPage-module__timestamp___TZvLq{color:var(--text-tertiary);white-space:nowrap;padding-top:2px}@media(max-width:768px){.LogsPage-module__timestamp___TZvLq{white-space:normal}}.LogsPage-module__rowMain___f--We{display:flex;flex-wrap:wrap;align-items:baseline;gap:6px;min-width:0}.LogsPage-module__badge___tR566{display:inline-flex;align-items:center;padding:2px 8px;border-radius:9999px;font-size:12px;font-weight:800;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-secondary);white-space:nowrap}.LogsPage-module__pill___vGA2z{display:inline-flex;align-items:center;padding:2px 8px;border-radius:9999px;font-size:12px;font-weight:600;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-secondary);white-space:nowrap}.LogsPage-module__source___nv7Zu{color:var(--text-secondary);max-width:240px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media(max-width:768px){.LogsPage-module__source___nv7Zu{max-width:100%}}.LogsPage-module__requestIdBadge___yPO1b{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:11px;color:#0891b2;background:#0891b21a;border-color:#0891b240}.LogsPage-module__statusBadge___hj08j{font-variant-numeric:tabular-nums}.LogsPage-module__statusSuccess___3llcn{color:var(--success-badge-text);background:var(--success-badge-bg);border-color:var(--success-badge-border)}.LogsPage-module__statusInfo___B6DaE{color:var(--info-color);background:#8b86801f;border-color:#8b868040}.LogsPage-module__statusWarn___1Dwki{color:var(--warning-text);background:var(--warning-bg);border-color:var(--warning-border)}.LogsPage-module__statusError___xxTDc{color:var(--failure-badge-text);background:var(--failure-badge-bg);border-color:var(--failure-badge-border)}.LogsPage-module__levelInfo___oZMOp{color:var(--info-color);background:#8b86801f;border-color:#8b868040}.LogsPage-module__levelWarn___DsCD0{color:var(--warning-text);background:var(--warning-bg);border-color:var(--warning-border)}.LogsPage-module__levelError___8VjWc{color:var(--error-color);background:#c657461f;border-color:#c6574640}.LogsPage-module__levelDebug___l-5yk,.LogsPage-module__levelTrace___XvRLF{color:var(--text-secondary);background:#6b72801f;border-color:#6b728040}.LogsPage-module__methodBadge___Cf9jC{color:var(--text-primary);background:#8b868014;border-color:#8b868038}.LogsPage-module__path___frHAs{color:var(--text-primary);font-weight:700;max-width:520px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media(max-width:768px){.LogsPage-module__path___frHAs{max-width:100%;flex-basis:100%}}.LogsPage-module__message___bNHRw{color:var(--text-secondary);word-break:break-word}@media(max-width:768px){.LogsPage-module__message___bNHRw{flex-basis:100%}}.LogsPage-module__traceButton___TpMAt{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;outline:none}.LogsPage-module__traceButton___TpMAt:focus{outline:2px solid #8b8680;outline-offset:2px}.LogsPage-module__traceButton___TpMAt{display:inline-flex;align-items:center;padding:2px 8px;border-radius:9999px;border:1px solid rgba(139,134,128,.3);background:#8b86801a;color:var(--primary-color);font-size:11px;font-weight:600;line-height:1.2;cursor:pointer;transition:background-color .15s ease,border-color .15s ease}.LogsPage-module__traceButton___TpMAt:hover{background:#8b868029;border-color:#8b868073}.LogsPage-module__tracePanel___qLlvU{display:flex;flex-direction:column;gap:8px}.LogsPage-module__traceNotice___brNFz{padding:8px 10px;border-radius:8px;border:1px solid var(--warning-border);background:var(--warning-bg);color:var(--warning-text);font-size:12px}.LogsPage-module__traceSectionTitle___oZ-a0{margin:4px 0 0;font-size:13px;font-weight:700;color:var(--text-primary)}.LogsPage-module__traceCandidatesHeader___b8sav{display:flex;align-items:center;justify-content:space-between;gap:10px}.LogsPage-module__traceInfoGrid___7bY40{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}@media(max-width:768px){.LogsPage-module__traceInfoGrid___7bY40{grid-template-columns:1fr}}.LogsPage-module__traceInfoItem___ydd7g{display:flex;flex-direction:column;gap:4px;min-width:0;padding:8px 10px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary)}.LogsPage-module__traceInfoItemWide___pmNic{grid-column:1/-1}.LogsPage-module__traceInfoLabel___zidDI{font-size:11px;color:var(--text-secondary);font-weight:700}.LogsPage-module__traceInfoValue___3AiSj{font-size:12px;color:var(--text-primary);word-break:break-word}.LogsPage-module__traceSourceType___4TLzV{display:inline-flex;align-items:center;margin-left:6px;padding:0 6px;border-radius:9999px;border:1px solid var(--border-color);font-size:11px;color:var(--text-secondary);background:var(--bg-primary)}.LogsPage-module__traceCandidates___TbNAE{display:flex;flex-direction:column;gap:10px;max-height:320px;overflow:auto}.LogsPage-module__traceCandidate___jBw7W{border:1px solid var(--border-color);border-radius:8px;padding:10px;background:var(--bg-secondary);display:flex;flex-direction:column;gap:8px}.LogsPage-module__traceCandidateHeader___daeEH{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.LogsPage-module__traceConfidenceBadge___N4bwS{display:inline-flex;align-items:center;padding:2px 8px;border-radius:9999px;border:1px solid var(--border-color);font-size:11px;font-weight:700}.LogsPage-module__traceConfidenceHigh___3jA6L{color:var(--success-badge-text, #065f46);background:var(--success-badge-bg, #d1fae5);border-color:var(--success-badge-border, #6ee7b7)}.LogsPage-module__traceConfidenceMedium___wVoxs{color:var(--warning-text);background:var(--warning-bg);border-color:var(--warning-border)}.LogsPage-module__traceConfidenceLow___YGaSl{color:var(--text-secondary);background:var(--bg-primary)}.LogsPage-module__traceScore___SRa4N,.LogsPage-module__traceDelta___gfgPb{font-size:11px;color:var(--text-secondary)}.LogsPage-module__traceCandidateGrid___qPwow{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}@media(max-width:768px){.LogsPage-module__traceCandidateGrid___qPwow{grid-template-columns:1fr}}@media(max-height:820px){.LogsPage-module__pageTitle___vZY55{font-size:24px;margin-bottom:16px}.LogsPage-module__tabBar___bI3hW{margin-bottom:16px}.LogsPage-module__tabItem___5tb4J{padding:10px 16px}.LogsPage-module__content___hGaGn{gap:16px}.LogsPage-module__logCard___KG4Jd{padding:16px}.LogsPage-module__logPanel___2wjiP{min-height:200px;max-height:calc(100vh - 280px)}.LogsPage-module__logRow___rxZS5{padding:8px 10px;font-size:12px}.LogsPage-module__errorPanel___0w-se{height:360px}}@media(max-height:600px){.LogsPage-module__pageTitle___vZY55{font-size:20px;margin-bottom:8px}.LogsPage-module__tabBar___bI3hW{margin-bottom:8px}.LogsPage-module__tabItem___5tb4J{padding:8px 12px;font-size:13px}.LogsPage-module__content___hGaGn{gap:8px}.LogsPage-module__filters___nUahU{margin-bottom:8px;gap:8px}.LogsPage-module__logCard___KG4Jd{padding:8px}.LogsPage-module__logPanel___2wjiP{min-height:160px;max-height:calc(100vh - 220px)}.LogsPage-module__logRow___rxZS5{padding:6px 8px;font-size:11px;grid-template-columns:130px 1fr;gap:4px}.LogsPage-module__loadMoreBanner___BUD0t{padding:6px 10px}.LogsPage-module__errorPanel___0w-se{height:280px}}.SystemPage-module__container___KAydo{width:100%}.SystemPage-module__pageTitle___DiF5E{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 32px}.SystemPage-module__content___SauLn{display:flex;flex-direction:column;gap:32px}.SystemPage-module__aboutCard___v2-ui{overflow:hidden}.SystemPage-module__aboutHeader___hT4-J{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;gap:16px;padding:24px 0 32px}.SystemPage-module__aboutLogo___KXoLr{width:108px;height:108px;border-radius:26px;object-fit:cover;box-shadow:0 12px 32px #00000029}.SystemPage-module__aboutTitle___BTLGy{width:min(100%,920px);font-size:clamp(28px,4.2vw,44px);font-weight:800;line-height:1.12;color:var(--text-primary);letter-spacing:-.02em;text-align:center;text-wrap:balance;white-space:normal;overflow-wrap:anywhere}.SystemPage-module__aboutInfoGrid___b7AR0{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}@media(max-width:900px){.SystemPage-module__aboutInfoGrid___b7AR0{grid-template-columns:1fr}}.SystemPage-module__infoTile___6AuIY{display:flex;flex-direction:column;gap:6px;min-height:120px;padding:16px 24px;border-radius:12px;border:1px solid var(--border-color);background:color-mix(in srgb,var(--bg-secondary) 82%,transparent);text-align:left}.SystemPage-module__tapTile___-9SaX{border:1px solid var(--border-color);background:color-mix(in srgb,var(--bg-secondary) 82%,transparent);color:inherit;padding:16px 24px;cursor:pointer;transition:transform .18s ease,border-color .2s ease,box-shadow .2s ease}.SystemPage-module__tapTile___-9SaX:hover{transform:translateY(-1px);border-color:var(--primary-color);box-shadow:0 8px 18px #8b86802e}.SystemPage-module__tapTile___-9SaX:active{transform:translateY(0)}.SystemPage-module__tileLabel___eMn4v{font-size:13px;font-weight:600;color:var(--text-secondary)}.SystemPage-module__tileValue___Up02X{font-size:22px;font-weight:700;color:var(--text-primary);line-height:1.25;word-break:break-word}.SystemPage-module__tileSub___ysVDj{font-size:12px;color:var(--text-tertiary);line-height:1.4}.SystemPage-module__aboutActions___AicFv{display:flex;justify-content:flex-end;margin-top:24px}.SystemPage-module__section___Q6rCw{display:flex;flex-direction:column;gap:16px}.SystemPage-module__sectionTitle___GOXpQ{font-size:20px;font-weight:600;color:var(--text-primary);margin:0 0 16px}.SystemPage-module__sectionDescription___nI7Jo{font-size:14px;color:var(--text-secondary);margin:0 0 16px}.SystemPage-module__clearLoginActions___4ek-m{display:flex;justify-content:flex-end;align-items:center}.SystemPage-module__infoGrid___NNFgo{display:grid;gap:8px}.SystemPage-module__infoGrid___NNFgo .SystemPage-module__infoRow___E8Q0J{display:flex;justify-content:space-between;padding:8px 16px;background-color:var(--bg-secondary);border-radius:8px}.SystemPage-module__infoGrid___NNFgo .SystemPage-module__infoRow___E8Q0J .SystemPage-module__label___Xw4tZ{font-weight:500;color:var(--text-secondary)}.SystemPage-module__infoGrid___NNFgo .SystemPage-module__infoRow___E8Q0J .SystemPage-module__value___pii6g{color:var(--text-primary);font-family:Consolas,Monaco,Courier New,monospace}.SystemPage-module__modelsList___id54Q{display:flex;flex-direction:column;gap:8px;max-height:400px;overflow-y:auto}.SystemPage-module__modelItem___ZTm4G{padding:8px 16px;background-color:var(--bg-secondary);border-radius:8px;font-family:Consolas,Monaco,Courier New,monospace;font-size:13px}.SystemPage-module__modelItem___ZTm4G:hover{background-color:var(--bg-hover)}.SystemPage-module__modelTags___M0sci{display:flex;flex-wrap:wrap;flex:0 0 100%;gap:8px}.SystemPage-module__groupTitle___bTqIN{display:flex;align-items:center;gap:8px}.SystemPage-module__groupIcon___-XXrb{width:18px;height:18px;flex-shrink:0}.SystemPage-module__modelTag___5Ar53{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:9999px;border:1px solid var(--border-color);background-color:var(--bg-secondary);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.SystemPage-module__modelName___LKdAK{color:var(--text-primary);font-weight:600}.SystemPage-module__modelAlias___zioM-{color:var(--text-secondary);font-size:12px}.SystemPage-module__versionCheck___V09h4{display:flex;flex-direction:column;gap:16px}.SystemPage-module__versionInfo___cmujE{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.SystemPage-module__versionInfo___cmujE .SystemPage-module__versionItem___NmHd7{padding:16px;background-color:var(--bg-secondary);border-radius:8px}.SystemPage-module__versionInfo___cmujE .SystemPage-module__versionItem___NmHd7 .SystemPage-module__label___Xw4tZ{font-size:12px;color:var(--text-secondary);margin-bottom:4px}.SystemPage-module__versionInfo___cmujE .SystemPage-module__versionItem___NmHd7 .SystemPage-module__version___XoIFT{font-size:16px;font-weight:600;color:var(--text-primary);font-family:Consolas,Monaco,Courier New,monospace}.SystemPage-module__quickLinks___QTmT3{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.SystemPage-module__linkCard___iSrVF{display:flex;align-items:center;gap:16px;padding:16px 24px;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;text-decoration:none;color:inherit;transition:all .2s ease}.SystemPage-module__linkCard___iSrVF:hover{background-color:var(--bg-hover);border-color:var(--primary-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.SystemPage-module__linkCard___iSrVF:active{transform:translateY(0)}.SystemPage-module__linkIcon___gNqz2{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:8px;background-color:var(--primary-color);color:#fff;flex-shrink:0}.SystemPage-module__linkIcon___gNqz2.SystemPage-module__github___V8I3m{background-color:#24292f}.SystemPage-module__linkIcon___gNqz2.SystemPage-module__docs___cA-rG{background-color:#10b981}.SystemPage-module__linkContent___Rfh7h{flex:1;min-width:0}.SystemPage-module__linkTitle___Zpr4Q{display:flex;align-items:center;gap:4px;font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:2px}.SystemPage-module__linkTitle___Zpr4Q svg{opacity:.5;flex-shrink:0}.SystemPage-module__linkDesc___KKavC{font-size:13px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media(max-width:768px){.SystemPage-module__aboutLogo___KXoLr{width:92px;height:92px;border-radius:22px}.SystemPage-module__aboutTitle___BTLGy{width:min(100%,24ch);font-size:clamp(22px,6.6vw,34px);font-weight:700;line-height:1.18;letter-spacing:-.012em}}@media(max-width:520px){.SystemPage-module__aboutTitle___BTLGy{width:min(100%,19ch);font-size:clamp(20px,7.2vw,28px);font-weight:600;line-height:1.22;letter-spacing:-.006em}}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
